function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"2yxt":function(t,e,n){"use strict";n.r(e),n.d(e,"ChatModule",(function(){return Ft}));var o,r,s,i,a=n("ofXK"),c=n("tyNb"),p=n("fXoL"),u=n("3Pt+"),g=((o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=p.Kb({type:o,selectors:[["app-show-chatrooms"]],decls:192,vars:0,consts:[[1,"chatrooms-list"],[1,"create-post"],[1,"img"],["src","assets/img/item-4.png","alt",""],[1,"select"],["name","","id",""],["value",""],[1,"input"],["placeholder","Title","type","text"],[1,"add-photo"],["type","file"],[1,"material-icons"],[1,"btn"],[1,"post"],[1,"categories"],[1,"active"],[1,"search"],["placeholder","Search","type","text"],[1,"chatrooms-items"],[1,"item"],[1,"posted"],[1,"info"],[1,"left-wrap"],[1,"voting-container"],[1,"vote-up-btn","active"],[1,"vote-count"],[1,"vote-down-btn"],[1,"right-wrap"],["src","assets/img/jp-valeryunsplash.png","alt",""],[1,"post-menu"],[1,"menu"],["href",""],[1,"dotes"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"div",1),p.Wb(2,"div",2),p.Rb(3,"img",3),p.Wb(4,"span"),p.Kc(5,"Create Post"),p.Vb(),p.Vb(),p.Wb(6,"div",4),p.Wb(7,"select",5),p.Wb(8,"option",6),p.Kc(9,"Choose community"),p.Vb(),p.Wb(10,"option",6),p.Kc(11,"option"),p.Vb(),p.Vb(),p.Vb(),p.Wb(12,"div",7),p.Rb(13,"input",8),p.Vb(),p.Wb(14,"label",9),p.Rb(15,"input",10),p.Wb(16,"span",11),p.Kc(17,"image"),p.Vb(),p.Kc(18," Add Photo or Video "),p.Vb(),p.Wb(19,"div",12),p.Wb(20,"button",13),p.Kc(21,"Post"),p.Vb(),p.Vb(),p.Vb(),p.Wb(22,"ul",14),p.Wb(23,"li"),p.Wb(24,"a",15),p.Wb(25,"span",11),p.Kc(26,"whatshot"),p.Vb(),p.Kc(27,"Hot"),p.Vb(),p.Vb(),p.Wb(28,"li"),p.Wb(29,"a"),p.Wb(30,"span",11),p.Kc(31,"new_releases"),p.Vb(),p.Kc(32,"New"),p.Vb(),p.Vb(),p.Wb(33,"li"),p.Wb(34,"a"),p.Wb(35,"span",11),p.Kc(36,"trending_up"),p.Vb(),p.Kc(37,"Top"),p.Vb(),p.Vb(),p.Wb(38,"li"),p.Wb(39,"a"),p.Wb(40,"span",11),p.Kc(41,"new_releases"),p.Vb(),p.Kc(42,"Best of the week"),p.Vb(),p.Vb(),p.Vb(),p.Wb(43,"div",16),p.Rb(44,"input",17),p.Wb(45,"span",11),p.Kc(46,"search"),p.Vb(),p.Vb(),p.Wb(47,"div",18),p.Wb(48,"div",19),p.Wb(49,"div",20),p.Wb(50,"p"),p.Kc(51,"Posted by"),p.Wb(52,"span"),p.Kc(53,"u/alotasalad"),p.Vb(),p.Vb(),p.Wb(54,"p"),p.Kc(55,"4 minutes ago"),p.Vb(),p.Vb(),p.Wb(56,"div",21),p.Wb(57,"div",22),p.Wb(58,"div",23),p.Wb(59,"button",24),p.Wb(60,"span",11),p.Kc(61,"forward"),p.Vb(),p.Vb(),p.Wb(62,"div",25),p.Kc(63,"50k"),p.Vb(),p.Wb(64,"button",26),p.Wb(65,"span",11),p.Kc(66,"forward"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(67,"div",27),p.Wb(68,"p"),p.Kc(69,"This is my friends loss but to make matters even worse he borrowed the money from his Nigerian boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the account right now is also his bosses money \ud83d\udcb0"),p.Vb(),p.Rb(70,"img",28),p.Wb(71,"div",29),p.Wb(72,"div",30),p.Wb(73,"a",31),p.Wb(74,"span",11),p.Kc(75,"chat_bubble"),p.Vb(),p.Kc(76,"Comments"),p.Vb(),p.Wb(77,"a",31),p.Wb(78,"span",11),p.Kc(79,"share"),p.Vb(),p.Kc(80,"Share"),p.Vb(),p.Vb(),p.Wb(81,"div",32),p.Wb(82,"span",11),p.Kc(83,"more_vert"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(84,"div",19),p.Wb(85,"div",20),p.Wb(86,"p"),p.Kc(87,"Posted by"),p.Wb(88,"span"),p.Kc(89,"u/alotasalad"),p.Vb(),p.Vb(),p.Wb(90,"p"),p.Kc(91,"4 minutes ago"),p.Vb(),p.Vb(),p.Wb(92,"div",21),p.Wb(93,"div",22),p.Wb(94,"div",23),p.Wb(95,"button",24),p.Wb(96,"span",11),p.Kc(97,"forward"),p.Vb(),p.Vb(),p.Wb(98,"div",25),p.Kc(99,"50k"),p.Vb(),p.Wb(100,"button",26),p.Wb(101,"span",11),p.Kc(102,"forward"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(103,"div",27),p.Wb(104,"p"),p.Kc(105,"This is my friends loss but to make matters even worse he borrowed the money from his Nigerian boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the account right now is also his bosses money \ud83d\udcb0"),p.Vb(),p.Rb(106,"img",28),p.Wb(107,"div",29),p.Wb(108,"div",30),p.Wb(109,"a",31),p.Wb(110,"span",11),p.Kc(111,"chat_bubble"),p.Vb(),p.Kc(112,"Comments"),p.Vb(),p.Wb(113,"a",31),p.Wb(114,"span",11),p.Kc(115,"share"),p.Vb(),p.Kc(116,"Share"),p.Vb(),p.Vb(),p.Wb(117,"div",32),p.Wb(118,"span",11),p.Kc(119,"more_vert"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(120,"div",19),p.Wb(121,"div",20),p.Wb(122,"p"),p.Kc(123,"Posted by"),p.Wb(124,"span"),p.Kc(125,"u/alotasalad"),p.Vb(),p.Vb(),p.Wb(126,"p"),p.Kc(127,"4 minutes ago"),p.Vb(),p.Vb(),p.Wb(128,"div",21),p.Wb(129,"div",22),p.Wb(130,"div",23),p.Wb(131,"button",24),p.Wb(132,"span",11),p.Kc(133,"forward"),p.Vb(),p.Vb(),p.Wb(134,"div",25),p.Kc(135,"50k"),p.Vb(),p.Wb(136,"button",26),p.Wb(137,"span",11),p.Kc(138,"forward"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(139,"div",27),p.Wb(140,"p"),p.Kc(141,"This is my friends loss but to make matters even worse he borrowed the money from his Nigerian boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the account right now is also his bosses money \ud83d\udcb0"),p.Vb(),p.Rb(142,"img",28),p.Wb(143,"div",29),p.Wb(144,"div",30),p.Wb(145,"a",31),p.Wb(146,"span",11),p.Kc(147,"chat_bubble"),p.Vb(),p.Kc(148,"Comments"),p.Vb(),p.Wb(149,"a",31),p.Wb(150,"span",11),p.Kc(151,"share"),p.Vb(),p.Kc(152,"Share"),p.Vb(),p.Vb(),p.Wb(153,"div",32),p.Wb(154,"span",11),p.Kc(155,"more_vert"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(156,"div",19),p.Wb(157,"div",20),p.Wb(158,"p"),p.Kc(159,"Posted by"),p.Wb(160,"span"),p.Kc(161,"u/alotasalad"),p.Vb(),p.Vb(),p.Wb(162,"p"),p.Kc(163,"4 minutes ago"),p.Vb(),p.Vb(),p.Wb(164,"div",21),p.Wb(165,"div",22),p.Wb(166,"div",23),p.Wb(167,"button",24),p.Wb(168,"span",11),p.Kc(169,"forward"),p.Vb(),p.Vb(),p.Wb(170,"div",25),p.Kc(171,"50k"),p.Vb(),p.Wb(172,"button",26),p.Wb(173,"span",11),p.Kc(174,"forward"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(175,"div",27),p.Wb(176,"p"),p.Kc(177,"This is my friends loss but to make matters even worse he borrowed the money from his Nigerian boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the account right now is also his bosses money \ud83d\udcb0"),p.Vb(),p.Rb(178,"img",28),p.Wb(179,"div",29),p.Wb(180,"div",30),p.Wb(181,"a",31),p.Wb(182,"span",11),p.Kc(183,"chat_bubble"),p.Vb(),p.Kc(184,"Comments"),p.Vb(),p.Wb(185,"a",31),p.Wb(186,"span",11),p.Kc(187,"share"),p.Vb(),p.Kc(188,"Share"),p.Vb(),p.Vb(),p.Wb(189,"div",32),p.Wb(190,"span",11),p.Kc(191,"more_vert"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb())},directives:[u.t,u.y],styles:[".categories[_ngcontent-%COMP%]{display:flex;padding-bottom:10px;flex-wrap:wrap;border-bottom:.5px solid #e2e2e2;margin-bottom:24px}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:2px;margin-bottom:8px;width:-webkit-max-content;width:-moz-max-content;width:max-content}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f53c6f;color:#fff!important;cursor:pointer}.chatrooms-list[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#18b587;font-weight:700}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]{margin:32px 0;padding:16px 24px 24px;background:#f5f5f5}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{display:flex;align-items:center}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;-o-object-fit:cover;object-fit:cover}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:16px;font-size:16px;font-weight:700;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{margin-top:12px}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:240px;padding:8px 12px;border:0;color:#545454;outline:none}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-top:12px}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 14px;border:0;color:#545454;outline:none}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;width:100%;display:flex;align-items:center;color:#c9c9c9;font-size:16px;font-weight:700;transition:all .1s ease;cursor:pointer}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]:hover{color:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:12px;padding:0;cursor:auto}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 24px;background:#c9c9c9;color:#fff}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:relative;margin-bottom:24px}.chatrooms-list[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:0;background:hsla(0,0%,50.6%,.13)}.chatrooms-list[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:14px;top:50%;transform:translateY(-50%);color:#545454;cursor:pointer}.chatrooms-list[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{margin-bottom:16px;padding:0;border:0}.chatrooms-list[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.chatrooms-list[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;margin-right:8px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-bottom:32px;padding:12px;background:#f5f5f5}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .posted[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .posted[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .posted[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:12px;color:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;margin-top:16px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;background:transparent;color:#c9c9c9}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button.vote-up-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:rotate(-90deg)}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button.vote-down-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:rotate(90deg)}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{margin:8px 0;text-align:center;font-size:12px;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]{flex:1;padding:0 36px 4px 12px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-cover[_ngcontent-%COMP%]{width:100%;margin-top:16px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:16px;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:40px;display:flex;text-decoration:none;color:#545454;transition:all .1s ease}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:12px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .dotes[_ngcontent-%COMP%]{display:flex;cursor:pointer}"]}),o),b=n("m6dw"),l=n("il7l"),m=n("Rnal"),d=n("WHgu"),h=n("iing"),f=n("yUsM"),C=n("wDcp"),M=n("kktJ"),_=n("Y9zH"),v=n("TU8p"),O=n("ezxE"),P=n("bTqV"),w=n("NFeN"),x=((r=function(){function t(e,n){_classCallCheck(this,t),this.fb=e,this.groupsMessagesStore=n,this.showGroupChatForm=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.groupForm=this.fb.group({creator_id:[this.authUser.id],name:["",u.x.required],username:[this.authUser.username]})}},{key:"addGroup",value:function(){this.groupForm.valid&&(this.groupsMessagesStore.setAddGroupFormValue(this.groupForm.value),this.groupForm.patchValue({name:""}))}},{key:"toggleForm",value:function(t){this.showGroupChatForm=t}}]),t}()).\u0275fac=function(t){return new(t||r)(p.Qb(u.e),p.Qb(f.a))},r.\u0275cmp=p.Kb({type:r,selectors:[["app-group-form"]],inputs:{authUser:"authUser"},decls:11,vars:3,consts:[["id","group-form",3,"formGroup","hidden"],["formControlName","name","placeholder","Group name"],["mat-icon-button","",3,"click"],[1,"create-group-chat",3,"hidden","click"],["src","assets/img/noun_create.png","alt","show-group-form-btn"]],template:function(t,e){1&t&&(p.Wb(0,"form",0),p.Rb(1,"input",1),p.Wb(2,"button",2),p.ec("click",(function(){return e.addGroup()})),p.Wb(3,"mat-icon"),p.Kc(4,"done"),p.Vb(),p.Vb(),p.Wb(5,"button",2),p.ec("click",(function(){return e.toggleForm(!1)})),p.Wb(6,"mat-icon"),p.Kc(7,"close"),p.Vb(),p.Vb(),p.Vb(),p.Wb(8,"button",3),p.ec("click",(function(){return e.toggleForm(!0)})),p.Rb(9,"img",4),p.Kc(10," Create new group\n"),p.Vb()),2&t&&(p.pc("formGroup",e.groupForm)("hidden",!e.showGroupChatForm),p.Cb(8),p.pc("hidden",e.showGroupChatForm))},directives:[u.z,u.q,u.i,u.c,u.p,u.h,P.a,w.a],styles:["#group-form[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}#group-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px;margin-left:25px}#group-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{font-size:14px;color:#c9c9c9;font-family:Muli-Light}#group-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:14px;color:#c9c9c9;font-family:Muli-Light}.create-group-chat[_ngcontent-%COMP%]{padding:0 15px;margin:4px 0 16px;background:transparent;color:#18b587;font-size:16px;font-family:Muli-Bold}.create-group-chat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:2px}"]}),r),y=n("scx8"),V=((s=function(){function t(e){_classCallCheck(this,t),this.mobileHelper=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||s)(p.Qb(b.a))},s.\u0275cmp=p.Kb({type:s,selectors:[["app-group-chat-left-side-holder"]],inputs:{authUser:"authUser"},features:[p.Bb([{provide:b.a,useClass:b.a}])],decls:4,vars:4,consts:[[1,"people-groups-container"],["id","group-form-container"],[3,"authUser"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"div",1),p.Rb(2,"app-group-form",2),p.Vb(),p.Rb(3,"app-groups-list",2),p.Vb()),2&t&&(p.Gb("responsive-list",e.mobileHelper.isChatUsersListSize()),p.Cb(2),p.pc("authUser",e.authUser),p.Cb(1),p.pc("authUser",e.authUser))},directives:[x,y.a],styles:[".responsive-list[_ngcontent-%COMP%]{flex:0 0 100%!important}.responsive-list[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]{display:block}"]}),s),W=n("kSHC"),k=n("KaMB"),G=n("fZdh"),S=["avatarInput"],K=((i=function(){function t(e,n){_classCallCheck(this,t),this.chatService=e,this.groupsMessagesStore=n,this.subscriptions=[],this.removeAvatarShown=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.groupsMessagesStore.groupsMessages$.subscribe((function(t){}))}},{key:"changeAvatar",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=null==e?void 0:e.target.files[0],o=new FormData;o.append("avatar",(null==n?void 0:n.name)||""),o.append("group_id",this.selectedGroup.id),o.append("member_id",this.authUser.id),n?o.append("group_avatar_file",n):this.avatarInput.nativeElement.value="",this.subscriptions.push(this.chatService.changeGroupAvatar(o).subscribe((function(e){t.groupsMessagesStore.setGroupsMessages(e),t.selectedGroup=e.find((function(e){return t.selectedGroup.id===e.id}))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||i)(p.Qb(l.a),p.Qb(f.a))},i.\u0275cmp=p.Kb({type:i,selectors:[["app-group-avatar-handler"]],viewQuery:function(t,e){var n;1&t&&p.Pc(S,!0),2&t&&p.wc(n=p.fc())&&(e.avatarInput=n.first)},inputs:{authUser:"authUser",selectedGroup:"selectedGroup"},decls:11,vars:7,consts:[[1,"left"],[1,"group-avatar-wrap",3,"mouseenter","mouseleave"],["for","group-avatar-input"],[1,"img","group-avatar",3,"src"],["id","remove-group-avatar",3,"hidden","click"],["id","group-avatar-input","type","file",3,"hidden","change"],["avatarInput",""],[1,"group-name"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"div",1),p.ec("mouseenter",(function(){return e.removeAvatarShown=!0}))("mouseleave",(function(){return e.removeAvatarShown=!1})),p.Wb(2,"label",2),p.Rb(3,"img",3),p.jc(4,"getImgPath"),p.Vb(),p.Wb(5,"mat-icon",4),p.ec("click",(function(){return e.changeAvatar()})),p.Kc(6,"cancel "),p.Vb(),p.Vb(),p.Wb(7,"input",5,6),p.ec("change",(function(t){return e.changeAvatar(t)})),p.Vb(),p.Wb(9,"div",7),p.Kc(10),p.Vb(),p.Vb()),2&t&&(p.Cb(3),p.pc("src",p.lc(4,4,null==e.selectedGroup?null:e.selectedGroup.avatar,"group_avatars"),p.Dc),p.Cb(2),p.pc("hidden",!e.removeAvatarShown||!(null!=e.selectedGroup&&e.selectedGroup.avatar)),p.Cb(2),p.pc("hidden",!0),p.Cb(3),p.Lc(null==e.selectedGroup?null:e.selectedGroup.name))},directives:[w.a],pipes:[G.a],styles:[".left[_ngcontent-%COMP%]{display:flex;align-items:center}.left[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-right:16px}.left[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#18b587;font-size:16px;font-weight:500;text-transform:capitalize;cursor:pointer}.group-avatar-wrap[_ngcontent-%COMP%]{position:relative;width:42px!important;height:42px;border-radius:10px;margin-right:16px!important}.group-avatar-wrap[_ngcontent-%COMP%]   #remove-group-avatar[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);margin-left:auto;margin-right:auto;cursor:pointer}.group-avatar-wrap[_ngcontent-%COMP%]   .group-avatar[_ngcontent-%COMP%]{width:100%!important;height:42px;border-radius:10px;-o-object-fit:cover;object-fit:cover}.group-avatar-wrap[_ngcontent-%COMP%]   label[for=group-avatar-input][_ngcontent-%COMP%]{width:100%;margin-bottom:0!important}.group-avatar-wrap[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.5)}.group-avatar-wrap[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}.group-avatar-wrap[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.5}"]}),i),U=n("dJ++"),I=n("0IaG"),F=n("STbY");function R(t,e){if(1&t){var n=p.Xb();p.Wb(0,"button",4),p.ec("click",(function(){return p.Bc(n),p.ic().toggleMembersForm()})),p.Rb(1,"i",5),p.Vb()}2&t&&p.pc("disableRipple",!0)}function Q(t,e){if(1&t){var n=p.Xb();p.Wb(0,"div",6),p.ec("click",(function(){return p.Bc(n),p.ic().removeGroup()})),p.Wb(1,"a"),p.Rb(2,"i",7),p.Vb(),p.Vb()}}function T(t,e){if(1&t){var n=p.Xb();p.Wb(0,"div",8),p.Wb(1,"button",9),p.Rb(2,"i",10),p.Vb(),p.Wb(3,"mat-menu",null,11),p.Wb(5,"button",12),p.ec("click",(function(){return p.Bc(n),p.ic().leaveGroup()})),p.Kc(6," Leave group "),p.Vb(),p.Vb(),p.Vb()}if(2&t){var o=p.xc(4);p.Cb(1),p.pc("matMenuTriggerFor",o)("disableRipple",!0)}}var z,B=((z=function(){function t(e,n,o,r){_classCallCheck(this,t),this.chatService=e,this.socketService=n,this.groupsMessagesStore=o,this.dialog=r,this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"toggleMembersForm",value:function(){this.groupsMessagesStore.showMembersForm=!this.groupsMessagesStore.showMembersForm}},{key:"removeGroup",value:function(){var t=this;this.subscriptions.push(this.dialog.open(U.a).afterClosed().subscribe((function(e){e&&t.chatService.removeGroup({group_id:t.selectedGroup.id}).subscribe((function(e){console.log(e),t.socketService.removeGroup({group:t.selectedGroup,initiator:t.authUser}),t.groupsMessagesStore.setGroupsMessages(e),t.selectedGroup=null}))})))}},{key:"leaveGroup",value:function(){var t=this;this.subscriptions.push(this.dialog.open(U.a).afterClosed().subscribe((function(e){e&&t.selectedGroup&&t.chatService.leaveGroup({member_id:t.authUser.id,group_id:t.selectedGroup.id}).subscribe((function(e){console.log("leave group",e,t.selectedGroup),t.groupsMessagesStore.setGroupsMessages(e),t.socketService.leaveChatGroup({group:t.selectedGroup,from_user:t.authUser,group_type:"chat",msg:"<strong>".concat(t.authUser.first_name+" "+t.authUser.last_name,"</strong> has left the <strong>").concat(t.selectedGroup.name,"</strong> group")}),t.selectedGroup=null}))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||z)(p.Qb(l.a),p.Qb(d.a),p.Qb(f.a),p.Qb(I.b))},z.\u0275cmp=p.Kb({type:z,selectors:[["app-group-chat-actions"]],inputs:{authUser:"authUser",selectedGroup:"selectedGroup"},decls:4,vars:3,consts:[[1,"right"],["mat-icon-button","",3,"disableRipple","click",4,"ngIf"],["class","remove",3,"click",4,"ngIf"],["class","more-actions",4,"ngIf"],["mat-icon-button","",3,"disableRipple","click"],[1,"fas","fa-user-plus"],[1,"remove",3,"click"],[1,"fas","fa-trash"],[1,"more-actions"],["mat-icon-button","",1,"dotes",3,"matMenuTriggerFor","disableRipple"],[1,"fas","fa-ellipsis-v"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Ic(1,R,2,1,"button",1),p.Ic(2,Q,3,0,"div",2),p.Ic(3,T,7,2,"div",3),p.Vb()),2&t&&(p.Cb(1),p.pc("ngIf",e.authUser.id===(null==e.selectedGroup?null:e.selectedGroup.creator_id)),p.Cb(1),p.pc("ngIf",e.authUser.id===(null==e.selectedGroup?null:e.selectedGroup.creator_id)),p.Cb(1),p.pc("ngIf",e.authUser.id!==(null==e.selectedGroup?null:e.selectedGroup.creator_id)))},directives:[a.m,P.a,F.c,F.d,F.a],styles:[".right[_ngcontent-%COMP%]{display:flex;align-items:center}@media only screen and (min-width:374px) and (max-width:767px){.right[_ngcontent-%COMP%]{position:absolute;top:24px;right:0}}.right[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f53c6f}.right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:16px}"]}),z);function j(t,e){if(1&t){var n=p.Xb();p.Wb(0,"li",6),p.Wb(1,"a",7),p.ec("click",(function(){p.Bc(n);var t=e.$implicit;return p.ic().changeActiveTab(t)})),p.Kc(2),p.Vb(),p.Vb()}if(2&t){var o=e.$implicit,r=p.ic();p.Cb(1),p.Gb("active",o===r.activeTab),p.rc("id","",o,"-tab"),p.Cb(1),p.Lc(o)}}function A(t,e){if(1&t&&(p.Wb(0,"li"),p.Wb(1,"div",8),p.Rb(2,"img",9),p.jc(3,"getImgPath"),p.Wb(4,"span"),p.Kc(5),p.Vb(),p.Vb(),p.Wb(6,"div",10),p.Wb(7,"button",11),p.Rb(8,"i",12),p.Vb(),p.Wb(9,"mat-menu",null,13),p.Wb(11,"button",14),p.Rb(12,"i",15),p.Wb(13,"span"),p.Kc(14,"View profile"),p.Vb(),p.Vb(),p.Wb(15,"button",16),p.Rb(16,"i",15),p.Wb(17,"span"),p.Kc(18,"Make admin"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb()),2&t){var n=e.$implicit,o=p.xc(10);p.Cb(2),p.pc("src",p.lc(3,3,n.avatar,"user_avatars"),p.Dc),p.Cb(3),p.Lc(n.first_name+" "+n.last_name),p.Cb(2),p.pc("matMenuTriggerFor",o)}}var D,L=function(){return["All members","Admins"]},H=((D=function(){function t(e,n){_classCallCheck(this,t),this.groupsMessagesStore=e,this.getAuthUser=n,this.activeTab="All members"}return _createClass(t,[{key:"ngOnInit",value:function(){this.authUser=this.getAuthUser.transform(),this.getGroupMembers()}},{key:"getGroupMembers",value:function(){this.selectedGroup=this.groupsMessagesStore.selectedGroupMessages}},{key:"getOnlyJoinedMembers",value:function(){return this.selectedGroup.chat_group_members.filter((function(t){return t.chat_groups_members.confirmed}))}},{key:"changeActiveTab",value:function(t){this.activeTab=t}}]),t}()).\u0275fac=function(t){return new(t||D)(p.Qb(f.a),p.Qb(m.a))},D.\u0275cmp=p.Kb({type:D,selectors:[["app-show-chat-group-members"]],decls:10,vars:4,consts:[[1,"group-members-wrap"],[1,"group-name"],["id","member-tabs-list","role","tablist",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],[1,"members"],[4,"ngFor","ngForOf"],[1,"nav-item"],["data-toggle","tab","role","tab","aria-controls","pWatch","aria-selected","true",1,"nav-link",3,"id","click"],[1,"details"],[1,"avatar",3,"src"],[1,"actions"],[1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"fas","fa-ellipsis-h"],["menu","matMenu"],["mat-menu-item","","id","view-profile"],[1,"fas","fa-times-circle"],["mat-menu-item","","id","make-admin"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"h1"),p.Wb(2,"span",1),p.Kc(3),p.Vb(),p.Kc(4," members "),p.Vb(),p.Wb(5,"ul",2),p.Ic(6,j,3,4,"li",3),p.Vb(),p.Wb(7,"div",4),p.Wb(8,"ul"),p.Ic(9,A,19,6,"li",5),p.Vb(),p.Vb(),p.Vb()),2&t&&(p.Cb(3),p.Lc(e.selectedGroup.name),p.Cb(3),p.pc("ngForOf",p.sc(3,L)),p.Cb(3),p.pc("ngForOf",e.getOnlyJoinedMembers()))},directives:[a.l,F.c,F.d,F.a],pipes:[G.a],styles:["#group-tabs[_ngcontent-%COMP%], .stocks-watchlist[_ngcontent-%COMP%]{margin-top:40px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:0;display:flex;flex-wrap:wrap;padding-left:0;list-style:none}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{color:#fff!important;width:156px;font-size:12px;box-shadow:0 0 6px rgba(0,0,0,.06);font-family:Muli-Bold;margin-bottom:25px}.nav-link[_ngcontent-%COMP%]{padding:5px;height:31px;background:#fff;color:#545454!important;display:flex;justify-content:center;align-items:center}.nav-link[_ngcontent-%COMP%]:hover{border:0}.nav-link.active[_ngcontent-%COMP%]{background:#f53c6f!important;color:#fff!important}.dropdown[_ngcontent-%COMP%]{cursor:pointer}.dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:0 12px;color:#777;font-size:14px}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{color:#777;font-size:14px;font-family:Muli-Light}.watchlist-search[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;height:31px;background:#fff 0 0 no-repeat padding-box;margin-right:3px}.watchlist-search.bordered[_ngcontent-%COMP%]{box-shadow:0 0 6px rgba(0,0,0,.06)}.watchlist-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;color:#6a6a6a;right:11px;top:10px}.watchlist-search[_ngcontent-%COMP%]   .watchlist-input[_ngcontent-%COMP%]{font-family:Muli-Light;background:#fff;color:#545454;font-size:16px;padding-left:10px}.group-members-wrap[_ngcontent-%COMP%]{text-align:center}.group-members-wrap[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{text-transform:capitalize;color:#18b587}.group-members-wrap[_ngcontent-%COMP%]   .members-form[_ngcontent-%COMP%]{display:flex;margin:20px;padding:0 20px}.group-members-wrap[_ngcontent-%COMP%]   .members[_ngcontent-%COMP%]{width:90%;padding:10px;margin:20px auto}app-members-add-form[_ngcontent-%COMP%]{max-width:380px;width:100%}#member-tabs-list[_ngcontent-%COMP%]{justify-content:center;margin-top:20px}.members[_ngcontent-%COMP%]{height:300px}.members[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{max-width:492px;justify-content:space-between;margin-bottom:20px}.members[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .members[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center}.members[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-family:Muli-Bold,sans-serif}.members[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.more-actions-btn[_ngcontent-%COMP%]{background-color:transparent}"]}),D),N=n("224n"),E=n("Qu3c");function $(t,e){if(1&t){var n=p.Xb();p.Wb(0,"mat-icon",10),p.ec("click",(function(){p.Bc(n);var t=p.ic().$implicit;return p.ic(2).removeSavedMember(t)})),p.Kc(1,"cancel"),p.Vb()}}function J(t,e){if(1&t){var n=p.Xb();p.Wb(0,"i",14),p.ec("click",(function(){p.Bc(n);var t=p.ic(2).$implicit;return p.ic(2).removeSavedMember(t)})),p.Vb()}}function X(t,e){if(1&t&&(p.Ub(0),p.Wb(1,"div",11),p.Wb(2,"span"),p.Kc(3),p.Vb(),p.Vb(),p.Wb(4,"div",12),p.Ic(5,J,1,0,"i",13),p.Vb(),p.Tb()),2&t){var n=p.ic().$implicit,o=p.ic(2);p.Cb(3),p.Lc(n.first_name+" "+n.last_name),p.Cb(2),p.pc("ngIf",n.id!==(null==o.selectedGroup?null:o.selectedGroup.creator_id))}}function q(t,e){if(1&t&&(p.Wb(0,"li",4),p.Wb(1,"div",5),p.Rb(2,"img",6),p.jc(3,"getImgPath"),p.Ic(4,$,2,0,"mat-icon",7),p.Rb(5,"div",8),p.Vb(),p.Ic(6,X,6,2,"ng-container",9),p.Vb()),2&t){var n=e.$implicit,o=p.ic(2);p.Gb("modal-mode",o.modalMode)("pending",!n.chat_groups_members.accepted),p.Cb(2),p.pc("matTooltip",n.first_name+" "+n.last_name)("src",p.lc(3,9,n.avatar,"user_avatars"),p.Dc),p.Cb(2),p.pc("ngIf",o.ifRemoveMemberShown(n)),p.Cb(1),p.pc("ngClass",o.getUserCurrentStatus(n)?"online":"offline"),p.Cb(1),p.pc("ngIf",o.modalMode)}}function Y(t,e){if(1&t){var n=p.Xb();p.Wb(0,"button",15),p.ec("click",(function(){return p.Bc(n),p.ic(2).openAllMembersModal()})),p.Rb(1,"i",16),p.Vb()}if(2&t){var o=p.ic(2);p.pc("name",o.selectedGroup.name)}}function Z(t,e){if(1&t&&(p.Wb(0,"div",1),p.Wb(1,"ul"),p.Ic(2,q,7,12,"li",2),p.jc(3,"slice"),p.Vb(),p.Ic(4,Y,2,1,"button",3),p.Vb()),2&t){var n=p.ic();p.Cb(2),p.pc("ngForOf",p.mc(3,2,n.selectedGroup.chat_group_members,0,n.getMembersCountDelimiter())),p.Cb(2),p.pc("ngIf",!n.modalMode)}}var tt,et=((tt=function(){function t(e,n,o,r,s,i){_classCallCheck(this,t),this.dialog=e,this.chatService=n,this.socketService=o,this.groupsMessagesStore=r,this.notificationsStore=s,this.isEmptyObj=i,this.modalMode=!1,this.onlineMembers=[],this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.trackGroupChanges(),this.getOnlineMembers(),this.getAcceptedJoinGroup(),this.getDeclinedJoinChatGroup(),this.getRemovedSavedMember(),this.getLeftGroup(),this.getMembersCountDelimiter(),this.onLogout()}},{key:"trackGroupChanges",value:function(){var t=this;this.subscriptions.push(this.groupsMessagesStore.selectedGroupsMessages$.subscribe((function(e){t.selectedGroup=e,t.getOnlineMembers()})))}},{key:"getMembersCountDelimiter",value:function(){return this.modalMode?this.selectedGroup.chat_group_members.length:5}},{key:"removeSavedMember",value:function(t){var e=this;this.subscriptions.push(this.dialog.open(U.a).afterClosed().subscribe((function(n){n&&e.chatService.removeGroupMember({group_id:e.selectedGroup.id,member_id:t.id}).subscribe((function(n){e.selectedGroup=n,e.groupsMessagesStore.changeGroup(e.selectedGroup),e.socketService.removeFromChatGroup({member:t,from_user:e.authUser,group:e.selectedGroup,msg:"<strong>".concat(e.authUser.first_name+" "+e.authUser.last_name,"</strong> removed  <strong>").concat(t.first_name+" "+t.last_name,"</strong>\n                       from <strong>").concat(e.selectedGroup.name,"</strong> group")})}))})))}},{key:"getRemovedSavedMember",value:function(){var t=this;this.subscriptions.push(this.socketService.removeFromChatGroupNotify().subscribe((function(e){var n=e.group,o=e.member,r=e.leftGroups;o.id===t.authUser.id?(t.groupsMessagesStore.setGroupsMessages(r),t.groupsMessagesStore.selectGroup({})):t.groupsMessagesStore.changeGroup(n)})))}},{key:"getOnlineMembers",value:function(){var t=this;this.socketService.getConnectedGroupMembers({group_name:this.selectedGroup.name,username:this.authUser.username}),this.subscriptions.push(this.socketService.membersOnlineFeedback().subscribe((function(e){var n=e.group,o=e.members;n===t.selectedGroup.name&&(t.onlineMembers=o)})))}},{key:"getAcceptedJoinGroup",value:function(){var t=this;this.subscriptions.push(this.socketService.getAcceptedJoinChatGroup().subscribe((function(e){var n=e.notification,o=e.rest;console.log("accepted in members list",e),n.from_user.id!==t.authUser.id&&t.notificationsStore.updateNotifications(n),t.groupsMessagesStore.changeGroup(o.group)})))}},{key:"getDeclinedJoinChatGroup",value:function(){var t=this;this.subscriptions.push(this.socketService.getDeclinedJoinChatGroup().subscribe((function(e){var n=e.group,o=e.notification;console.log("declined",e),e.from_user.id===t.authUser.id?t.groupsMessagesStore.selectGroup({}):(t.notificationsStore.updateNotifications(o),t.groupsMessagesStore.changeGroup(n))})))}},{key:"getLeftGroup",value:function(){var t=this;this.subscriptions.push(this.socketService.leaveChatGroupNotify().subscribe((function(e){var n=e.group;console.log(e),e.from_user.id===t.authUser.id?t.groupsMessagesStore.selectGroup({}):(t.notificationsStore.updateNotifications(e),t.groupsMessagesStore.changeGroup(n))})))}},{key:"onLogout",value:function(){var t=this;this.socketService.onLogout().subscribe((function(e){t.onlineMembers=t.onlineMembers.filter((function(t){return t!==e.username}))}))}},{key:"getUserCurrentStatus",value:function(t){var e,n,o=null===(e=this.groupsMessagesStore.groupsMessages.find((function(e){var n;return e.id===(null===(n=null==t?void 0:t.chat_groups_members)||void 0===n?void 0:n.group_id)})))||void 0===e?void 0:e.name;return!(!this.onlineMembers||o!==(null===(n=this.selectedGroup)||void 0===n?void 0:n.name)||!this.onlineMembers.find((function(e){return t.username===e})))}},{key:"openAllMembersModal",value:function(){this.subscriptions.push(this.dialog.open(H,{width:"500px",height:"600px"}).afterClosed().subscribe((function(t){})))}},{key:"ifRemoveMemberShown",value:function(t){var e,n;return this.authUser.id===(null===(e=this.selectedGroup)||void 0===e?void 0:e.creator_id)&&t.id!==(null===(n=this.selectedGroup)||void 0===n?void 0:n.creator_id)&&!this.modalMode}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||tt)(p.Qb(I.b),p.Qb(l.a),p.Qb(d.a),p.Qb(f.a),p.Qb(N.a),p.Qb(k.a))},tt.\u0275cmp=p.Kb({type:tt,selectors:[["app-members-list"]],inputs:{selectedGroup:"selectedGroup",authUser:"authUser",modalMode:"modalMode"},decls:1,vars:1,consts:[["class","members-list",4,"ngIf"],[1,"members-list"],["class","group-member",3,"modal-mode","pending",4,"ngFor","ngForOf"],["id","show-more-members",3,"name","click",4,"ngIf"],[1,"group-member"],[1,"avatar-status-wrap"],[1,"avatar",3,"matTooltip","src"],[3,"click",4,"ngIf"],[1,"status",3,"ngClass"],[4,"ngIf"],[3,"click"],[1,"member-name"],[1,"actions"],["class","fa fa-ban",3,"click",4,"ngIf"],[1,"fa","fa-ban",3,"click"],["id","show-more-members",3,"name","click"],[1,"fas","fa-ellipsis-h"]],template:function(t,e){1&t&&p.Ic(0,Z,5,6,"div",0),2&t&&p.pc("ngIf",(null==e.selectedGroup.chat_group_members?null:e.selectedGroup.chat_group_members.length)>0)},directives:[a.m,a.l,E.a,a.k,w.a],pipes:[a.u,G.a],styles:[".members-list[_ngcontent-%COMP%]{display:flex;align-items:center}@media only screen and (max-width:374px){.members-list[_ngcontent-%COMP%]{display:block}}.members-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media only screen and (max-width:374px){.members-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:10px!important}}.members-list[_ngcontent-%COMP%]   #show-more-members[_ngcontent-%COMP%]{width:20px;margin-left:20px;background-color:transparent}.group-member[_ngcontent-%COMP%]{position:relative;border-radius:42px;margin-left:5px}.group-member[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{position:absolute;width:14px;height:14px;border-radius:14px;top:28px;right:0;padding:0;line-height:0}.group-member[_ngcontent-%COMP%]   .status.offline[_ngcontent-%COMP%]{background-color:grey}.group-member[_ngcontent-%COMP%]   .status.online[_ngcontent-%COMP%]{background-color:#18b587}.group-member.pending[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);height:42px}.group-member.pending[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}.group-member[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);margin-left:auto;margin-right:auto;display:none;cursor:pointer}.group-member[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.5)}.group-member[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}.group-member[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.5}.group-member[_ngcontent-%COMP%]:not(.modal-mode){width:42px}.group-member.modal-mode[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #c3c3c3;padding:5px}.group-member.modal-mode[_ngcontent-%COMP%]   .avatar-status-wrap[_ngcontent-%COMP%]{pointer-events:none}.group-member.modal-mode[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#545454;margin-left:15px}.group-member.modal-mode[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-left:10px}.group-member.modal-mode[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f53c6f;cursor:pointer}.group-member.modal-mode.pending[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2)}.group-member.modal-mode[_ngcontent-%COMP%]:hover{background-color:#18b587}.group-member.modal-mode[_ngcontent-%COMP%]:hover   .member-name[_ngcontent-%COMP%]{color:#fff}.group-member.modal-mode[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}.avatar-status-wrap[_ngcontent-%COMP%]{position:relative;width:42px}"]}),tt),nt=n("FtGj"),ot=n("tVj7"),rt=n("kmnG"),st=n("A5z7"),it=n("qFsG"),at=n("/1cH"),ct=n("FKr1"),pt=["chipsInput"];function ut(t,e){if(1&t){var n=p.Xb();p.Wb(0,"mat-chip",12),p.ec("removed",(function(){p.Bc(n);var t=e.$implicit;return p.ic().removeInputMember(t)})),p.Kc(1),p.Wb(2,"mat-icon",13),p.Kc(3,"cancel"),p.Vb(),p.Vb()}if(2&t){var o=e.$implicit;p.Cb(1),p.Mc(" ",o.first_name+" "+o.last_name," ")}}function gt(t,e){if(1&t&&(p.Wb(0,"mat-option",14),p.Kc(1),p.Vb()),2&t){var n=e.$implicit;p.pc("value",n),p.Cb(1),p.Mc(" ",n.first_name+" "+n.last_name," ")}}var bt,lt,mt=((lt=function(){function t(e,n,o,r,s,i){_classCallCheck(this,t),this.dialog=e,this.chatService=n,this.usersService=o,this.socketService=r,this.groupsMessagesStore=s,this.fb=i,this.userContacts=[],this.filteredContacts=[],this.inputGroupMembers=[],this.groupMembers=[],this.subscriptions=[],this.memberCtrl=new u.f,this.separatorKeysCodes=[nt.g,nt.c],this.modalMode=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.initForm(),this.getUserContacts(),this.getGroupMembers(),this.getContactsFilteredBySearch()}},{key:"initForm",value:function(){this.groupChatDetailsForm=this.fb.group({group_id:[this.selectedGroup.id],member_ids:["",u.x.required],accepted:[0]})}},{key:"getGroupMembers",value:function(){var t=this;console.log(this.selectedGroup),this.groupMembers=this.selectedGroup.chat_group_members,this.groupsMessagesStore.selectedGroupsMessages$.subscribe((function(e){t.selectedGroup=e,t.selectedGroup&&(t.groupMembers=t.selectedGroup.chat_group_members,t.groupChatDetailsForm.patchValue({group_id:t.selectedGroup.id}))}))}},{key:"getUserContacts",value:function(){var t=this;this.subscriptions.push(this.usersService.getUserContacts({user_id:this.authUser.id,blocked:0}).subscribe((function(e){t.userContacts=e})))}},{key:"getContactsFilteredBySearch",value:function(){var t=this;this.subscriptions.push(this.memberCtrl.valueChanges.subscribe((function(e){e&&(console.log(t.userContacts,t.groupMembers),t.filteredContacts=t.userContacts.filter((function(n){var o=(n.first_name+" "+n.last_name).toLowerCase();return!!o.includes(e)&&!t.groupMembers.find((function(t){return(t.first_name+" "+t.last_name).toLowerCase()===o}))})))})))}},{key:"autoCompleteMemberSelected",value:function(t){var e=t.option.value;this.inputGroupMembers.find((function(t){return t.id===e}))||(this.inputGroupMembers.push(t.option.value),this.groupChatDetailsForm.patchValue({member_ids:this.inputGroupMembers.map((function(t){return t.id}))})),this.chipsInput.nativeElement.value="",this.memberCtrl.setValue("")}},{key:"inviteMembers",value:function(){var t=this;this.chipsInput.nativeElement.value="",this.memberCtrl.setValue(""),this.subscriptions.push(this.chatService.inviteMembers(this.groupChatDetailsForm.value).subscribe((function(e){t.groupMembers=null==e?void 0:e.chat_group_members,t.selectedGroup=e,t.socketService.inviteToNewChatGroup({invited_members:t.inputGroupMembers,from_user:t.authUser,group:t.selectedGroup,group_type:"chat",msg:"<strong>".concat(t.authUser.first_name+" "+t.authUser.last_name,"</strong> has sent an invitation to join the <strong>").concat(t.selectedGroup.name,"</strong> group")}),t.groupsMessagesStore.changeGroup(t.selectedGroup),console.log(t.groupsMessagesStore.groupsMessages),console.log(t.groupsMessagesStore.selectedGroupMessages),t.groupsMessagesStore.showMembersForm=!1,t.inputGroupMembers=[]})))}},{key:"removeInputMember",value:function(t){var e=this.inputGroupMembers.indexOf(t);e>=0&&(this.inputGroupMembers.splice(e,1),this.groupChatDetailsForm.patchValue({member_ids:this.inputGroupMembers.map((function(t){return t.id}))}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||lt)(p.Qb(I.b),p.Qb(l.a),p.Qb(ot.a),p.Qb(d.a),p.Qb(f.a),p.Qb(u.e))},lt.\u0275cmp=p.Kb({type:lt,selectors:[["app-members-add-form"]],viewQuery:function(t,e){var n;1&t&&p.Pc(pt,!0),2&t&&p.wc(n=p.fc())&&(e.chipsInput=n.first)},inputs:{selectedGroup:"selectedGroup",authUser:"authUser",modalMode:"modalMode"},decls:15,vars:9,consts:[[3,"formGroup"],[1,"member-add"],["aria-label","Fruit selection","formControlName","member_ids"],["tagList",""],[3,"removed",4,"ngFor","ngForOf"],["type","text","placeholder","Member name from your contacts","matInput","","maxlength","10",3,"formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matAutocomplete"],["chipsInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[3,"click"],[3,"removed"],["matChipRemove",""],[3,"value"]],template:function(t,e){if(1&t&&(p.Wb(0,"form",0),p.Wb(1,"div",1),p.Wb(2,"mat-form-field"),p.Wb(3,"mat-chip-list",2,3),p.Ic(5,ut,4,1,"mat-chip",4),p.Rb(6,"input",5,6),p.Vb(),p.Wb(8,"mat-autocomplete",7,8),p.ec("optionSelected",(function(t){return e.autoCompleteMemberSelected(t)})),p.Ic(10,gt,2,2,"mat-option",9),p.Vb(),p.Wb(11,"mat-hint",10),p.Kc(12,"Please press 'Enter' after the name"),p.Vb(),p.Vb(),p.Wb(13,"button",11),p.ec("click",(function(){return e.inviteMembers()})),p.Kc(14,"Add"),p.Vb(),p.Vb(),p.Vb()),2&t){var n=p.xc(4),o=p.xc(9);p.Gb("modal-mode",e.modalMode),p.pc("formGroup",e.groupChatDetailsForm),p.Cb(5),p.pc("ngForOf",e.inputGroupMembers),p.Cb(1),p.pc("formControl",e.memberCtrl)("matChipInputFor",n)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matAutocomplete",o),p.Cb(4),p.pc("ngForOf",e.filteredContacts)}},directives:[u.z,u.q,u.i,rt.c,st.c,u.p,u.h,a.l,it.b,u.c,st.b,at.c,u.l,u.g,at.a,rt.f,st.a,w.a,st.d,ct.n],styles:[".member-add[_ngcontent-%COMP%]{width:100%;justify-content:space-around}.member-add[_ngcontent-%COMP%], .member-add[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.member-add[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Light;justify-content:center;transition:.3s ease-in-out;background:#18b587;width:50px}.member-add[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:210px;width:100%}.modal-mode[_ngcontent-%COMP%]   .member-add[_ngcontent-%COMP%]{padding:20px}"]}),lt),dt=((bt=function(){function t(e){_classCallCheck(this,t),this.groupChatMessagesStore=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||bt)(p.Qb(f.a))},bt.\u0275cmp=p.Kb({type:bt,selectors:[["app-group-chat-members"]],inputs:{authUser:"authUser",selectedGroup:"selectedGroup"},decls:2,vars:6,consts:[[3,"selectedGroup","authUser","hidden"]],template:function(t,e){1&t&&(p.Rb(0,"app-members-list",0),p.Rb(1,"app-members-add-form",0)),2&t&&(p.pc("selectedGroup",e.selectedGroup)("authUser",e.authUser)("hidden",e.groupChatMessagesStore.showMembersForm),p.Cb(1),p.pc("selectedGroup",e.selectedGroup)("authUser",e.authUser)("hidden",!e.groupChatMessagesStore.showMembersForm))},directives:[et,mt],styles:[""]}),bt);function ht(t,e){if(1&t){var n=p.Xb();p.Wb(0,"button",6),p.ec("click",(function(){return p.Bc(n),p.ic(2).backToUsers()})),p.Wb(1,"mat-icon"),p.Kc(2,"arrow_back"),p.Vb(),p.Vb()}}function ft(t,e){if(1&t&&p.Rb(0,"app-group-chat-members",4),2&t){var n=p.ic(2);p.pc("selectedGroup",n.selectedGroup)("authUser",n.authUser)}}function Ct(t,e){if(1&t&&(p.Wb(0,"div",2),p.Ic(1,ht,3,0,"button",3),p.Rb(2,"app-group-avatar-handler",4),p.Ic(3,ft,1,2,"app-group-chat-members",5),p.Rb(4,"app-group-chat-actions",4),p.Vb()),2&t){var n=p.ic();p.Cb(1),p.pc("ngIf",n.mobileHelper.isChatUsersListSize()),p.Cb(1),p.pc("selectedGroup",n.selectedGroup)("authUser",n.authUser),p.Cb(1),p.pc("ngIf",n.authUser),p.Cb(1),p.pc("selectedGroup",n.selectedGroup)("authUser",n.authUser)}}var Mt,_t,vt=((Mt=function(){function t(e,n,o,r,s){_classCallCheck(this,t),this.chatService=e,this.socketService=n,this.groupMessagesStore=o,this.isEmptyObj=r,this.mobileHelper=s,this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"isChatTopShown",value:function(){return this.isEmptyObj.transform(this.selectedGroup)}},{key:"backToUsers",value:function(){this.groupMessagesStore.showResponsiveChatBox=!1}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||Mt)(p.Qb(l.a),p.Qb(d.a),p.Qb(f.a),p.Qb(k.a),p.Qb(b.a))},Mt.\u0275cmp=p.Kb({type:Mt,selectors:[["app-group-chat-top"]],inputs:{authUser:"authUser",selectedGroup:"selectedGroup"},features:[p.Bb([{provide:b.a,useClass:b.a}])],decls:2,vars:2,consts:[[1,"chat-top",3,"hidden"],["class","chat-about",4,"ngIf"],[1,"chat-about"],["mat-icon-button","",3,"click",4,"ngIf"],[3,"selectedGroup","authUser"],[3,"selectedGroup","authUser",4,"ngIf"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Ic(1,Ct,5,6,"div",1),p.Vb()),2&t&&(p.pc("hidden",e.isChatTopShown()),p.Cb(1),p.pc("ngIf",e.selectedGroup))},directives:[a.m,K,B,P.a,w.a,dt],styles:[".chat-top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#f5f5f5}.chat-top[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.chat-about[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#f5f5f5;padding:12px 16px;width:100%}@media only screen and (max-width:767px){.chat-about[_ngcontent-%COMP%]{display:block;position:relative}}app-group-chat-members[_ngcontent-%COMP%]{max-width:310px;width:100%}"]}),Mt),Ot=n("R6me"),Pt=((_t=function(){function t(e){_classCallCheck(this,t),this.groupsMessagesStore=e,this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.getSelectedGroup()}},{key:"getSelectedGroup",value:function(){var t=this;this.subscriptions.push(this.groupsMessagesStore.selectedGroupsMessages$.subscribe((function(e){t.selectedGroupMessages=e})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||_t)(p.Qb(f.a))},_t.\u0275cmp=p.Kb({type:_t,selectors:[["app-group-chat-right-side-holder"]],inputs:{authUser:"authUser"},decls:3,vars:4,consts:[[1,"chat-wrap",3,"hidden"],[3,"selectedGroup","authUser"],[3,"authUser","selectedGroupMessages"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Rb(1,"app-group-chat-top",1),p.Rb(2,"app-group-chat-messages",2),p.Vb()),2&t&&(p.Cb(1),p.pc("selectedGroup",e.selectedGroupMessages)("authUser",e.authUser),p.Cb(1),p.pc("authUser",e.authUser)("selectedGroupMessages",e.selectedGroupMessages))},directives:[vt,Ot.a],styles:["app-groups-list[_ngcontent-%COMP%]{width:26%}app-group-chat-top[_ngcontent-%COMP%]{width:74%}"]}),_t);function wt(t,e){if(1&t&&p.Rb(0,"app-users-list",9),2&t){var n=p.ic(2);p.pc("authUser",n.authUser)}}function xt(t,e){if(1&t&&p.Rb(0,"app-group-chat-left-side-holder",9),2&t){var n=p.ic(2);p.pc("authUser",n.authUser)}}function yt(t,e){if(1&t&&p.Rb(0,"app-direct-chat-messages",9),2&t){var n=p.ic(2);p.pc("authUser",n.authUser)}}function Vt(t,e){if(1&t&&p.Rb(0,"app-group-chat-right-side-holder",9),2&t){var n=p.ic(2);p.pc("authUser",n.authUser)}}function Wt(t,e){if(1&t){var n=p.Xb();p.Ub(0),p.Rb(1,"app-user-tags"),p.Wb(2,"div",1),p.Wb(3,"div",2),p.Wb(4,"div",3),p.Wb(5,"button",4),p.ec("click",(function(){return p.Bc(n),p.ic().changeTab("direct")})),p.Kc(6,"Chat "),p.Vb(),p.Wb(7,"button",5),p.ec("click",(function(){return p.Bc(n),p.ic().changeTab("group")})),p.Kc(8,"Group Chat "),p.Vb(),p.Vb(),p.Wb(9,"div",6),p.Ic(10,wt,1,1,"app-users-list",7),p.Ic(11,xt,1,1,"app-group-chat-left-side-holder",7),p.Vb(),p.Vb(),p.Wb(12,"div",8),p.Ic(13,yt,1,1,"app-direct-chat-messages",7),p.Ic(14,Vt,1,1,"app-group-chat-right-side-holder",7),p.Vb(),p.Vb(),p.Tb()}if(2&t){var o=p.ic();p.Cb(2),p.Gb("responsive-chat-wrap",o.mobileHelper.isChatUsersListSize()),p.Cb(1),p.pc("hidden",o.mobileHelper.isChatUsersListSize()&&!o.isRightWrapHidden()),p.Cb(2),p.Gb("active","direct"==o.activeTab),p.pc("matBadge",o.newMessagesCountInDirect.toString())("matBadgeHidden","direct"===o.activeTab||0===o.newMessagesCountInDirect),p.Cb(2),p.Gb("active","group"===o.activeTab),p.pc("matBadge",o.newMessagesCountInGroups.toString())("matBadgeHidden","group"===o.activeTab||0===o.newMessagesCountInGroups),p.Cb(3),p.pc("ngIf","direct"===o.activeTab),p.Cb(1),p.pc("ngIf","group"==o.activeTab),p.Cb(1),p.pc("hidden",o.isRightWrapHidden()),p.Cb(1),p.pc("ngIf","direct"===o.activeTab),p.Cb(1),p.pc("ngIf","group"==o.activeTab)}}var kt,Gt,St,Kt=[{path:"rooms",component:g,data:{title:"Chat rooms"}},{path:"messages",component:(kt=function(){function t(e,n,o,r,s,i,a,c,p){_classCallCheck(this,t),this.chatService=e,this.getAuthUser=n,this.socketService=o,this.usersMessagesStore=r,this.groupsMessagesStore=s,this.subject=i,this.datePipe=a,this.groupBy=c,this.mobileHelper=p,this.activeTab="direct",this.groupsMessages=[],this.groupsLoaded=!1,this.subscriptions=[],this.newMessagesCountInGroups=0,this.newMessagesCountInDirect=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.authUser=this.getAuthUser.transform()}},{key:"changeTab",value:function(t){this.activeTab=t}},{key:"getGroupsMessages",value:function(){var t=this;this.subscriptions.push(this.chatService.getGroupsMessages({user_id:this.authUser.id,blocked:0}).subscribe((function(e){t.groupsMessages=e,t.groupsLoaded=!0;var n=e.filter((function(t){return t.new_messages_count>0}));t.newMessagesCountInGroups=n.length,t.subject.setNewMessagesSourceData({source:n,type:"group"})})))}},{key:"isRightWrapHidden",value:function(){return!!this.mobileHelper.isChatUsersListSize()&&!this.usersMessagesStore.showResponsiveChatBox&&!this.groupsMessagesStore.showResponsiveChatBox}}]),t}(),kt.\u0275fac=function(t){return new(t||kt)(p.Qb(l.a),p.Qb(m.a),p.Qb(d.a),p.Qb(h.a),p.Qb(f.a),p.Qb(C.a),p.Qb(a.f),p.Qb(M.a),p.Qb(b.a))},kt.\u0275cmp=p.Kb({type:kt,selectors:[["app-show-messages"]],features:[p.Bb([{provide:b.a,useClass:b.a}])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-wrap"],[1,"left-wrap",3,"hidden"],[1,"tab-wrap"],["matBadgePosition","before",1,"tab","direct-tab",3,"matBadge","matBadgeHidden","click"],[1,"tab","group-tab",3,"matBadge","matBadgeHidden","click"],[1,"list-wrap"],[3,"authUser",4,"ngIf"],[1,"right-wrap",3,"hidden"],[3,"authUser"]],template:function(t,e){1&t&&p.Ic(0,Wt,15,16,"ng-container",0),2&t&&p.pc("ngIf",e.authUser)},directives:[a.m,_.a,v.a,O.a,V,W.a,Pt],styles:[".categories[_ngcontent-%COMP%]{display:flex;padding-bottom:10px;flex-wrap:wrap;border-bottom:.5px solid #e2e2e2;margin-bottom:24px}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:2px;margin-bottom:8px;width:-webkit-max-content;width:-moz-max-content;width:max-content}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f53c6f;color:#fff!important;cursor:pointer}.categories.border-none[_ngcontent-%COMP%]{border:0;margin:0}.direct-tab[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{z-index:300;left:0}.page-wrap[_ngcontent-%COMP%]{display:flex;width:100%}.left-wrap[_ngcontent-%COMP%]{height:100vh}.left-wrap[_ngcontent-%COMP%], .left-wrap[_ngcontent-%COMP%]   .tab-wrap[_ngcontent-%COMP%]{width:100%;max-width:317px;background-color:#f5f5f5}.left-wrap[_ngcontent-%COMP%]   .tab-wrap[_ngcontent-%COMP%]{display:flex;padding-bottom:16px}.left-wrap[_ngcontent-%COMP%]   .tab-wrap[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex:1;padding:6px 16px;font-size:16px;font-weight:500;background:#c9c9c9;color:#fff;text-align:left;transition:all .3s ease;font-family:Roboto,sans-serif}.left-wrap[_ngcontent-%COMP%]   .tab-wrap[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#f53c6f}.left-wrap[_ngcontent-%COMP%]   .tab-wrap[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{background:#18b587;color:#fff}@media (max-width:1111px){.left-wrap[_ngcontent-%COMP%]   .tab-wrap[_ngcontent-%COMP%]{max-width:100%;padding-bottom:0}}.right-wrap[_ngcontent-%COMP%]{width:80%}.responsive-chat-wrap[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]{max-width:451px}"]}),kt),data:{title:"Chat"}}],Ut=((Gt=function t(){_classCallCheck(this,t)}).\u0275mod=p.Ob({type:Gt}),Gt.\u0275inj=p.Nb({factory:function(t){return new(t||Gt)},imports:[[c.i.forChild(Kt)],c.i]}),Gt),It=n("PCNd"),Ft=((St=function t(){_classCallCheck(this,t)}).\u0275mod=p.Ob({type:St}),St.\u0275inj=p.Nb({factory:function(t){return new(t||St)},providers:[],imports:[[a.c,Ut,It.a]]}),St)}}]);
//# sourceMappingURL=chat-chat-module-es5.76407bc4c045553ff2e0.js.map