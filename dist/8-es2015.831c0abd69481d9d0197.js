(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Yj9t:function(t,n,e){"use strict";e.r(n),e.d(n,"AuthModule",(function(){return bt}));var o=e("ofXK"),i=e("tyNb"),r=e("mrSG"),s=e("3Pt+"),a=e("Esjb"),c=e("cLpZ"),g=e("EjJx"),l=e("fXoL"),d=e("7dP1"),p=e("NUQi"),b=e("0IaG"),f=e("wDcp");function u(t,n){1&t&&(l.Xb(0,"span",15),l.Rc(1," E-mail is "),l.Xb(2,"strong"),l.Rc(3,"required"),l.Wb(),l.Wb())}function m(t,n){1&t&&(l.Xb(0,"span",15),l.Rc(1," E-mail is "),l.Xb(2,"strong"),l.Rc(3,"invalid"),l.Wb(),l.Wb())}function h(t,n){1&t&&(l.Xb(0,"span",15),l.Rc(1," Password is "),l.Xb(2,"strong"),l.Rc(3,"required"),l.Wb(),l.Wb())}let x=(()=>{class t{constructor(t,n,e,o,i,r){this.router=t,this.fb=n,this.auth=e,this.authGuard=o,this.dialog=i,this.subject=r,this.subscriptions=[],this.isSubmitted=!1,this.loginForm=this.fb.group({email:["",[s.x.required,Object(a.a)(c.a)]],password:["",s.x.required]})}ngOnInit(){}login(){this.isSubmitted=!0,this.loginForm.valid&&this.subscriptions.push(this.auth.login(this.loginForm.value).subscribe(t=>Object(r.a)(this,void 0,void 0,(function*(){localStorage.setItem("token",(null==t?void 0:t.token)||""),this.subject.changeAuthUser(Object(g.a)((null==t?void 0:t.token)||"")),yield this.router.navigateByUrl(this.authGuard.redirectUrl||"/")}))))}get email(){return this.loginForm.get("email")}get pass(){return this.loginForm.get("password")}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(l.Rb(i.d),l.Rb(s.e),l.Rb(d.a),l.Rb(p.a),l.Rb(b.b),l.Rb(f.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"login-content"],[1,"login-content-left"],["src","assets/img/metltvlogo.svg",1,"login-logo",3,"click"],[1,"login-abs"],[1,"login-btn","bg-white"],[1,"register-btn",3,"click"],[1,"login-content-right"],[1,"login-block"],[1,"login-title"],[3,"formGroup"],["placeholder","Email","formControlName","email",1,"login-input"],["class","error",4,"ngIf"],["placeholder","Password","type","password","formControlName","password",1,"login-input"],[1,"forgot-password",3,"click"],[1,"login-submit",3,"click"],[1,"error"]],template:function(t,n){1&t&&(l.Xb(0,"section",0),l.Xb(1,"div",1),l.Xb(2,"img",2),l.jc("click",(function(){return n.router.navigate(["/"])})),l.Wb(),l.Xb(3,"div",3),l.Xb(4,"a",4),l.Rc(5,"Login"),l.Wb(),l.Xb(6,"a",5),l.jc("click",(function(){return n.router.navigate(["auth/register"])})),l.Rc(7,"Sign Up"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div",6),l.Xb(9,"div",7),l.Xb(10,"p",8),l.Rc(11,"Login"),l.Wb(),l.Xb(12,"form",9),l.Sb(13,"input",10),l.Pc(14,u,4,0,"span",11),l.Pc(15,m,4,0,"span",11),l.Sb(16,"input",12),l.Pc(17,h,4,0,"span",11),l.Xb(18,"p",13),l.jc("click",(function(){return n.router.navigate(["auth/forgot-password"])})),l.Rc(19,"Forgot password?"),l.Wb(),l.Xb(20,"a",14),l.jc("click",(function(){return n.login()})),l.Rc(21,"Login"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Cb(12),l.uc("formGroup",n.loginForm),l.Cb(2),l.uc("ngIf",n.email.hasError("required")&&n.isSubmitted),l.Cb(1),l.uc("ngIf",n.email.hasError("patternInvalid")),l.Cb(2),l.uc("ngIf",n.pass.hasError("required")&&n.isSubmitted))},directives:[s.z,s.q,s.i,s.c,s.p,s.h,o.n],styles:[".login-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100vh}.login-logo[_ngcontent-%COMP%]{cursor:pointer}.login-content-right[_ngcontent-%COMP%]{background:#fff;width:57%}.login-content-left[_ngcontent-%COMP%]{width:43%;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;background:url(back-login.53f102952f1c83155d3a.png)}.login-abs[_ngcontent-%COMP%]{position:absolute;right:0}.login-btn[_ngcontent-%COMP%]{background:#fff;color:#18b587!important}.login-btn[_ngcontent-%COMP%], .register-btn[_ngcontent-%COMP%]{border-radius:28px 0 0 28px;width:128px;height:57px;display:flex;justify-content:center;align-items:center;font-size:20px;font-family:Muli-Bold;transition:.3s ease-in-out}.register-btn[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer}.register-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#18b587!important}.login-content-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding-left:150px}.login-title[_ngcontent-%COMP%]{color:#545454;font-size:32px;font-family:Muli-Bold;margin-bottom:32px}.login-input[_ngcontent-%COMP%]{width:100%;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#8c8888;font-size:16px;font-family:Muli-Regular}.login-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px #18b587}.forgot-password[_ngcontent-%COMP%]{text-align:right;color:#545454;font-size:16px;font-family:Muli-Regular;cursor:pointer;transition:.3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover{color:#f53c6f}.login-block[_ngcontent-%COMP%]{width:430px}.login-submit[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f;padding:15px 32px;margin-bottom:32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;margin-top:47px;transition:.3s ease-in-out;cursor:pointer}.login-submit[_ngcontent-%COMP%]:hover{background:#c52551}.register-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.register-select[_ngcontent-%COMP%]{width:200px;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular;outline:none;border:0}.register-select[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px rgba(245,60,111,.14);border:.5px solid #f53c6f}.register-day[_ngcontent-%COMP%]{width:100px;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular;outline:none;border:0}.register-day[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px rgba(245,60,111,.14);border:.5px solid #f53c6f}@media (max-width:1400px){.login-logo[_ngcontent-%COMP%]{width:250px;margin-left:100px}.login-content-left[_ngcontent-%COMP%]{align-items:start}}@media (max-width:1200px){.login-logo[_ngcontent-%COMP%]{margin-left:40px}.login-content-right[_ngcontent-%COMP%]{padding-left:80px}}@media (max-width:991px){.login-content-left[_ngcontent-%COMP%]{align-items:start;height:400px;width:100%}.login-content-right[_ngcontent-%COMP%]{padding-left:0;width:100%;align-items:center;margin-top:60px}.login-content[_ngcontent-%COMP%]{height:auto;flex-direction:column}}@media (max-width:480px){.register-block[_ngcontent-%COMP%]{flex-direction:column}.register-day[_ngcontent-%COMP%], .register-select[_ngcontent-%COMP%]{width:100%}.login-block[_ngcontent-%COMP%]{width:90%}.login-title[_ngcontent-%COMP%]{font-size:27px}.forgot-password[_ngcontent-%COMP%], .login-title[_ngcontent-%COMP%]{text-align:center}.login-btn[_ngcontent-%COMP%]{width:128px;margin-right:0}.login-btn[_ngcontent-%COMP%], .register-btn[_ngcontent-%COMP%]{height:45px;font-size:16px}.login-logo[_ngcontent-%COMP%]{width:150px}}"]}),t})();function P(t,n){return e=>{const o=e.controls[t],i=e.controls[n];if(o.value&&i.value)return i.setErrors(o.value!==i.value?{notMatch:!0}:null)}}var C=e("lwos"),M=e("Xa2L");function O(t,n){1&t&&(l.Xb(0,"p",14),l.Rc(1," Please provide the code that was sent to your email "),l.Wb())}function _(t,n){1&t&&(l.Xb(0,"p",14),l.Rc(1," Please write exactly 4 digits only "),l.Wb())}function w(t,n){1&t&&(l.Xb(0,"div",5),l.Sb(1,"mat-spinner",6),l.Wb()),2&t&&(l.Cb(1),l.uc("diameter",25))}function v(t,n){1&t&&(l.Xb(0,"p"),l.Rc(1,"Code is resent"),l.Wb())}function y(t,n){1&t&&(l.Xb(0,"p",15),l.Rc(1," The code is wrong "),l.Wb())}function R(t,n){if(1&t){const t=l.Yb();l.Xb(0,"button",16),l.jc("click",(function(){return l.Ic(t),l.nc(2).verifyCode()})),l.Rc(1,"Submit"),l.Wb()}}function k(t,n){if(1&t){const t=l.Yb();l.Vb(0),l.Xb(1,"h1"),l.Rc(2,"Sign up"),l.Wb(),l.Xb(3,"h3"),l.Rc(4,"Enter verification code"),l.Wb(),l.Xb(5,"p"),l.Rc(6),l.Wb(),l.Xb(7,"form",7),l.Sb(8,"input",8),l.Pc(9,O,2,0,"p",9),l.Pc(10,_,2,0,"p",9),l.Xb(11,"p",10),l.jc("click",(function(){return l.Ic(t),l.nc().resendCode()})),l.Rc(12,"Resend code"),l.Wb(),l.Pc(13,w,2,1,"div",11),l.Pc(14,v,2,0,"p",1),l.Pc(15,y,2,0,"p",12),l.Pc(16,R,2,0,"button",13),l.Wb(),l.Ub()}if(2&t){const t=l.nc();l.Cb(6),l.Tc("We've sent a 4 digit code to ",t.email,". Confirm it belongs to you to keep your account secure"),l.Cb(1),l.uc("formGroup",t.verifyCodeForm),l.Cb(2),l.uc("ngIf",t.verifyCodeForm.get("code").hasError("required")&&t.isSubmitted),l.Cb(1),l.uc("ngIf",t.verifyCodeForm.get("code").hasError("patternInvalid")&&t.isSubmitted),l.Cb(3),l.uc("ngIf",t.loader.formProcessing),l.Cb(1),l.uc("ngIf",t.codeResent),l.Cb(1),l.uc("ngIf",!t.emailCtrl.hasError("required")&&t.codeWrong),l.Cb(1),l.uc("ngIf",!t.verifyingCode)}}let W=(()=>{class t{constructor(t,n,e,o,i,r){this.data=t,this.matDialogRef=n,this.fb=e,this.auth=o,this.loader=i,this.router=r,this.email="",this.codeChecked=!1,this.verifyingCode=!1,this.codeWrong=!1,this.codeResent=!1,this.codeResending=!1,this.isSubmitted=!1,this.sentCode=t.code,this.email=t.email,this.verifyCodeForm=this.fb.group({email:[this.email,s.x.required],code:[null,[s.x.required,Object(a.a)(c.e),Object(a.a)(c.b)]]})}ngOnInit(){}verifyCode(){this.isSubmitted=!0,this.verifyCodeForm.valid&&(this.loader.formProcessing=!0,this.auth.checkVerificationCode(this.verifyCodeForm.value).subscribe(t=>Object(r.a)(this,void 0,void 0,(function*(){this.codeChecked=!0,this.verifyingCode=!1,this.loader.formProcessing=!1,setTimeout(()=>{this.matDialogRef.close(t)},4e3)}))))}resendCode(){this.codeResending=!0,this.codeWrong=!1,this.auth.resendEmailVerificationCode({email:this.email,resend:1}).subscribe(t=>{this.sentCode=t,this.codeResending=!1,this.codeResent=!0})}get emailCtrl(){return this.verifyCodeForm.get("email")}get codeCtrl(){return this.verifyCodeForm.get("code")}}return t.\u0275fac=function(n){return new(n||t)(l.Rb(b.a),l.Rb(b.d),l.Rb(s.e),l.Rb(d.a),l.Rb(C.a),l.Rb(i.d))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-verify-email"]],decls:8,vars:3,consts:[["id","verify-email"],[4,"ngIf"],["id","thanks",3,"hidden"],["src","assets/img/checked.svg"],[1,"thanks-for-verification"],[1,"loader-holder"],[3,"diameter"],[3,"formGroup"],["placeholder","Enter code","formControlName","code"],["class","error",4,"ngIf"],["id","resend-code",3,"click"],["class","loader-holder",4,"ngIf"],["class","error wrong-code",4,"ngIf"],[3,"click",4,"ngIf"],[1,"error"],[1,"error","wrong-code"],[3,"click"]],template:function(t,n){1&t&&(l.Xb(0,"div",0),l.Pc(1,k,17,8,"ng-container",1),l.Xb(2,"div",2),l.Sb(3,"img",3),l.Xb(4,"p",4),l.Rc(5," Thanks for verifying your e-mail address. "),l.Wb(),l.Xb(6,"div",5),l.Sb(7,"mat-spinner",6),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Cb(1),l.uc("ngIf",!n.codeChecked),l.Cb(1),l.uc("hidden",!n.codeChecked),l.Cb(5),l.uc("diameter",25))},directives:[o.n,M.b,s.z,s.q,s.i,s.c,s.p,s.h],styles:["#verify-email[_ngcontent-%COMP%]{color:#545454;font-family:Muli-Regular}#verify-email[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin-top:40px;font-weight:700}#verify-email[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin-top:16px;font-weight:700}#verify-email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px}#verify-email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:51px;box-shadow:0 0 6px rgba(245,60,111,.14);border:.5px solid #f53c6f;padding-left:32px}#verify-email[_ngcontent-%COMP%]   #resend-code[_ngcontent-%COMP%]{font:normal normal normal 16px/20px Muli;color:#18b587;margin-top:16px;margin-bottom:0;font-family:Muli-Regular;cursor:pointer}#verify-email[_ngcontent-%COMP%]   .thanks-for-verification[_ngcontent-%COMP%]{margin-bottom:100px}#verify-email[_ngcontent-%COMP%]   .wrong-code[_ngcontent-%COMP%]{text-align:center}#verify-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f 0 0 no-repeat padding-box;box-shadow:0 0 6px rgba(0,109,204,.18);color:#fff;margin-top:21px}#verify-email[_ngcontent-%COMP%]   #thanks[_ngcontent-%COMP%]{text-align:center;padding-top:116px}"]}),t})();var X=e("9xOu"),I=e("hzby");function j(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1,"First name is required"),l.Wb())}function S(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1," First name should contain only alphabetical characters "),l.Wb())}function E(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1,"Last name is required"),l.Wb())}function F(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1," Last name should contain only alphabetical characters "),l.Wb())}function q(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1,"User name is required"),l.Wb())}function z(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1," Please write alphabetical characters before numbers for username "),l.Wb())}function N(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1,"E-mail is required"),l.Wb())}function L(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1," E-mail is "),l.Xb(2,"strong"),l.Rc(3,"invalid"),l.Wb(),l.Wb())}function D(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1,"Password is required"),l.Wb())}function G(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1," Password should not contain spaces "),l.Wb())}function U(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1," Password should be between 6-15 characters "),l.Wb())}function B(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1,"Passwords don't match"),l.Wb())}function Y(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1,"Please confirm the password"),l.Wb())}function T(t,n){1&t&&(l.Xb(0,"span",22),l.Rc(1,"Birth day is required"),l.Wb())}function V(t,n){1&t&&l.Sb(0,"mat-spinner",23),2&t&&l.uc("diameter",15)}const A=function(t){return{maxDate:t,showWeekNumbers:!1}};let H=(()=>{class t{constructor(t,n,e,o,i,r,s){this.router=t,this.fb=n,this.auth=e,this.datePipe=o,this.dialog=i,this.loader=r,this.subject=s,this.subscriptions=[],this.isSubmitted=!1,this.currentDate=new Date,this.maxDate=new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()-18))}ngOnInit(){this.initForm()}initForm(){this.registerForm=this.fb.group({first_name:["",[s.x.required,Object(a.a)(c.g)]],last_name:["",[s.x.required,Object(a.a)(c.g)]],username:["",[s.x.required,Object(a.a)(c.f)]],email:["",[s.x.required,Object(a.a)(c.a)]],password:["",[s.x.required,Object(a.a)(c.d),s.x.minLength(X.m),s.x.maxLength(X.l)]],confirm_password:["",s.x.required],birthday:["",s.x.required]},{validator:P("password","confirm_password")})}register(){this.registerForm.valid&&(this.loader.formProcessing=!0,this.subscriptions.push(this.auth.register(this.registerForm.value).subscribe(t=>Object(r.a)(this,void 0,void 0,(function*(){this.loader.formProcessing=!1,localStorage.setItem("token",t.hasOwnProperty("token")?t.token:""),this.subject.changeAuthUser(t.hasOwnProperty("token")?t.token:""),yield this.router.navigate(["/"])})))))}dateChanged(t){}openModal(){this.isSubmitted=!0,this.registerForm.valid&&(this.loader.formProcessing=!0,this.subscriptions.push(this.auth.sendEmailVerificationCode(this.registerForm.value).subscribe(t=>{this.loader.formProcessing=!1,this.dialog.open(W,{height:"548px",width:"548px",data:this.registerForm.value}).afterClosed().subscribe(t=>Object(r.a)(this,void 0,void 0,(function*(){localStorage.setItem("token",(null==t?void 0:t.hasOwnProperty("token"))?t.token:""),yield this.router.navigate(["/"])})))})))}get firstName(){return this.registerForm.get("first_name")}get lastName(){return this.registerForm.get("last_name")}get email(){return this.registerForm.get("email")}get pass(){return this.registerForm.get("password")}get username(){return this.registerForm.get("username")}get confirmPass(){return this.registerForm.get("confirm_password")}get birthday(){return this.registerForm.get("birthday")}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(l.Rb(i.d),l.Rb(s.e),l.Rb(d.a),l.Rb(o.f),l.Rb(b.b),l.Rb(C.a),l.Rb(f.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-register"]],decls:39,vars:20,consts:[[1,"login-content"],[1,"login-content-left"],["src","assets/img/metltvlogo.svg",1,"login-logo",3,"click"],[1,"login-abs"],[1,"register-btn",3,"click"],[1,"login-btn","bg-white"],[1,"login-content-right"],[1,"login-block"],[1,"login-title"],[3,"formGroup"],["placeholder","First Name","formControlName","first_name",1,"login-input"],["class","error",4,"ngIf"],["placeholder","Last Name","formControlName","last_name",1,"login-input"],["placeholder","User name","formControlName","username",1,"login-input"],[1,"register-block","birthday-block"],["type","text","formControlName","birthday","placeholder","Birthday","bsDatepicker","",1,"login-input",3,"bsConfig","maxDate","bsValueChange"],["placeholder","Email","formControlName","email",1,"login-input"],["placeholder","Password","type","password","formControlName","password",1,"login-input"],["placeholder","Reenter Password","type","password","formControlName","confirm_password",1,"login-input"],[1,"actions"],[1,"register-submit",3,"click"],[3,"diameter",4,"ngIf"],[1,"error"],[3,"diameter"]],template:function(t,n){1&t&&(l.Xb(0,"section",0),l.Xb(1,"div",1),l.Xb(2,"img",2),l.jc("click",(function(){return n.router.navigate(["/"])})),l.Wb(),l.Xb(3,"div",3),l.Xb(4,"a",4),l.jc("click",(function(){return n.router.navigate(["auth/login"])})),l.Rc(5,"Login"),l.Wb(),l.Xb(6,"a",5),l.Rc(7,"Sign Up"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div",6),l.Xb(9,"div",7),l.Xb(10,"p",8),l.Rc(11,"Sign Up"),l.Wb(),l.Xb(12,"form",9),l.Sb(13,"input",10),l.Pc(14,j,2,0,"span",11),l.Pc(15,S,2,0,"span",11),l.Sb(16,"input",12),l.Pc(17,E,2,0,"span",11),l.Pc(18,F,2,0,"span",11),l.Sb(19,"input",13),l.Pc(20,q,2,0,"span",11),l.Pc(21,z,2,0,"span",11),l.Xb(22,"div",14),l.Xb(23,"input",15),l.jc("bsValueChange",(function(t){return n.dateChanged(t)})),l.Wb(),l.Wb(),l.Sb(24,"input",16),l.Pc(25,N,2,0,"span",11),l.Pc(26,L,4,0,"span",11),l.Sb(27,"input",17),l.Pc(28,D,2,0,"span",11),l.Pc(29,G,2,0,"span",11),l.Pc(30,U,2,0,"span",11),l.Sb(31,"input",18),l.Pc(32,B,2,0,"span",11),l.Pc(33,Y,2,0,"span",11),l.Pc(34,T,2,0,"span",11),l.Xb(35,"div",19),l.Xb(36,"a",20),l.jc("click",(function(){return n.openModal()})),l.Rc(37,"Sign Up"),l.Wb(),l.Pc(38,V,1,1,"mat-spinner",21),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Cb(12),l.uc("formGroup",n.registerForm),l.Cb(2),l.uc("ngIf",n.isSubmitted&&n.firstName.hasError("required")),l.Cb(1),l.uc("ngIf",n.isSubmitted&&n.firstName.hasError("patternInvalid")),l.Cb(2),l.uc("ngIf",n.isSubmitted&&n.lastName.hasError("required")),l.Cb(1),l.uc("ngIf",n.isSubmitted&&n.lastName.hasError("patternInvalid")),l.Cb(2),l.uc("ngIf",n.isSubmitted&&n.username.hasError("required")),l.Cb(1),l.uc("ngIf",n.isSubmitted&&n.username.hasError("patternInvalid")),l.Cb(2),l.uc("bsConfig",l.yc(18,A,n.maxDate))("maxDate",n.maxDate),l.Cb(2),l.uc("ngIf",n.isSubmitted&&n.email.hasError("required")),l.Cb(1),l.uc("ngIf",n.isSubmitted&&n.email.hasError("patternInvalid")),l.Cb(2),l.uc("ngIf",n.isSubmitted&&n.pass.hasError("required")),l.Cb(1),l.uc("ngIf",n.pass.hasError("patternInvalid")),l.Cb(1),l.uc("ngIf",n.pass.hasError("maxlength")||n.pass.hasError("minlength")),l.Cb(2),l.uc("ngIf",n.confirmPass.hasError("notMatch")),l.Cb(1),l.uc("ngIf",n.isSubmitted&&n.confirmPass.hasError("required")),l.Cb(1),l.uc("ngIf",n.isSubmitted&&n.birthday.hasError("required")),l.Cb(4),l.uc("ngIf",n.loader.formProcessing))},directives:[s.z,s.q,s.i,s.c,s.p,s.h,o.n,I.b,I.a,M.b],styles:[".login-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100vh}.login-logo[_ngcontent-%COMP%]{cursor:pointer}.login-content-right[_ngcontent-%COMP%]{background:#fff;width:57%}.login-content-left[_ngcontent-%COMP%]{width:43%;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;background:url(back-login.53f102952f1c83155d3a.png)}.login-abs[_ngcontent-%COMP%]{position:absolute;right:0}.login-btn[_ngcontent-%COMP%]{background:#fff;color:#18b587!important}.login-btn[_ngcontent-%COMP%], .register-btn[_ngcontent-%COMP%]{border-radius:28px 0 0 28px;width:128px;height:57px;display:flex;justify-content:center;align-items:center;font-size:20px;font-family:Muli-Bold;transition:.3s ease-in-out}.register-btn[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer}.register-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#18b587!important}.login-content-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding-left:150px}.login-title[_ngcontent-%COMP%]{color:#545454;font-size:32px;font-family:Muli-Bold;margin-bottom:32px}.login-input[_ngcontent-%COMP%]{width:100%;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#8c8888;font-size:16px;font-family:Muli-Regular}.login-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px #18b587}.forgot-password[_ngcontent-%COMP%]{text-align:right;color:#545454;font-size:16px;font-family:Muli-Regular;cursor:pointer;transition:.3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover{color:#f53c6f}.login-block[_ngcontent-%COMP%]{width:430px}.login-submit[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f;padding:15px 32px;margin-bottom:32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;margin-top:47px;transition:.3s ease-in-out;cursor:pointer}.login-submit[_ngcontent-%COMP%]:hover{background:#c52551}.register-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.register-select[_ngcontent-%COMP%]{width:200px;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular;outline:none;border:0}.register-select[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px rgba(245,60,111,.14);border:.5px solid #f53c6f}.register-day[_ngcontent-%COMP%]{width:100px;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular;outline:none;border:0}.register-day[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px rgba(245,60,111,.14);border:.5px solid #f53c6f}@media (max-width:1400px){.login-logo[_ngcontent-%COMP%]{width:250px;margin-left:100px}.login-content-left[_ngcontent-%COMP%]{align-items:start}}@media (max-width:1200px){.login-logo[_ngcontent-%COMP%]{margin-left:40px}.login-content-right[_ngcontent-%COMP%]{padding-left:80px}}@media (max-width:991px){.login-content-left[_ngcontent-%COMP%]{align-items:start;height:400px;width:100%}.login-content-right[_ngcontent-%COMP%]{padding-left:0;width:100%;align-items:center;margin-top:60px}.login-content[_ngcontent-%COMP%]{height:auto;flex-direction:column}}@media (max-width:480px){.register-block[_ngcontent-%COMP%]{flex-direction:column}.register-day[_ngcontent-%COMP%], .register-select[_ngcontent-%COMP%]{width:100%}.login-block[_ngcontent-%COMP%]{width:90%}.login-title[_ngcontent-%COMP%]{font-size:27px}.forgot-password[_ngcontent-%COMP%], .login-title[_ngcontent-%COMP%]{text-align:center}.login-btn[_ngcontent-%COMP%]{width:128px;margin-right:0}.login-btn[_ngcontent-%COMP%], .register-btn[_ngcontent-%COMP%]{height:45px;font-size:16px}.login-logo[_ngcontent-%COMP%]{width:150px}}.birthday-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:32px;margin-top:47px}.actions[_ngcontent-%COMP%]   .register-submit[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;cursor:pointer}.actions[_ngcontent-%COMP%]   .register-submit[_ngcontent-%COMP%]:hover{background:#c52551}.actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-left:20px}"]}),t})();var J=e("5eHb");function K(t,n){1&t&&(l.Xb(0,"span",10),l.Rc(1," Please write your email"),l.Wb())}function Q(t,n){1&t&&(l.Xb(0,"span",10),l.Rc(1," E-mail is invalid "),l.Wb())}function Z(t,n){1&t&&l.Sb(0,"mat-spinner",11),2&t&&l.uc("diameter",15)}let $=(()=>{class t{constructor(t,n,e,o,i){this.fb=t,this.router=n,this.auth=e,this.toastr=o,this.loader=i,this.isSubmitted=!1,this.forgotPassForm=this.fb.group({email:["",[s.x.required,Object(a.a)(c.a)]]})}ngOnInit(){}sendEmail(){this.isSubmitted=!0,this.forgotPassForm.valid&&(this.loader.formProcessing=!0,this.auth.sendForgotPassEmail(this.forgotPassForm.value).subscribe(t=>{this.loader.formProcessing=!1,this.toastr.success("Reset password request has been sent to your e-mail")}))}}return t.\u0275fac=function(n){return new(n||t)(l.Rb(s.e),l.Rb(i.d),l.Rb(d.a),l.Rb(J.b),l.Rb(C.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-forgot-password"]],decls:16,vars:4,consts:[[1,"page-container"],[1,"metltv-background"],["src","assets/img/metltvlogo.svg",1,"login-logo",3,"click"],["id","forgot-pass-form-container"],[3,"formGroup"],["placeholder","Enter email","formControlName","email"],["class","error",4,"ngIf"],[1,"actions"],[3,"click"],[3,"diameter",4,"ngIf"],[1,"error"],[3,"diameter"]],template:function(t,n){1&t&&(l.Xb(0,"div",0),l.Xb(1,"div",1),l.Xb(2,"img",2),l.jc("click",(function(){return n.router.navigate(["/"])})),l.Wb(),l.Wb(),l.Xb(3,"div",3),l.Xb(4,"form",4),l.Xb(5,"h3"),l.Rc(6,"Forgot Password"),l.Wb(),l.Xb(7,"h4"),l.Rc(8,"Enter your email"),l.Wb(),l.Sb(9,"input",5),l.Pc(10,K,2,0,"span",6),l.Pc(11,Q,2,0,"span",6),l.Xb(12,"div",7),l.Xb(13,"button",8),l.jc("click",(function(){return n.sendEmail()})),l.Rc(14,"Submit"),l.Wb(),l.Pc(15,Z,1,1,"mat-spinner",9),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Cb(4),l.uc("formGroup",n.forgotPassForm),l.Cb(6),l.uc("ngIf",n.forgotPassForm.get("email").hasError("required")&&n.isSubmitted),l.Cb(1),l.uc("ngIf",n.forgotPassForm.get("email").hasError("patternInvalid")&&n.isSubmitted),l.Cb(4),l.uc("ngIf",n.loader.formProcessing))},directives:[s.z,s.q,s.i,s.c,s.p,s.h,o.n,M.b],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100vh}.metltv-background[_ngcontent-%COMP%]{width:43%;align-items:center;position:relative;background:url(back-login.53f102952f1c83155d3a.png)}#forgot-pass-form-container[_ngcontent-%COMP%], .metltv-background[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#forgot-pass-form-container[_ngcontent-%COMP%]{width:57%;padding-left:150px;background:#fff}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:430px}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#545454;font-size:32px;font-family:Muli-Bold;margin-bottom:16px}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#545454;font-size:24px;font-family:Muli-Bold;margin-bottom:20px}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:32px;margin-top:47px}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-left:20px}"]}),t})();var tt=e("Nm8O");function nt(t,n){1&t&&(l.Xb(0,"span",13),l.Rc(1," Please write the new password"),l.Wb())}function et(t,n){1&t&&(l.Xb(0,"span",13),l.Rc(1," Password should not contain spaces "),l.Wb())}function ot(t,n){1&t&&(l.Xb(0,"span",13),l.Rc(1," Password should be between 6-15 characters "),l.Wb())}function it(t,n){1&t&&(l.Xb(0,"span",13),l.Rc(1,"Passwords don't match"),l.Wb())}function rt(t,n){1&t&&(l.Xb(0,"span",13),l.Rc(1," Please re-type the new password"),l.Wb())}function st(t,n){1&t&&l.Sb(0,"mat-spinner",14),2&t&&l.uc("diameter",15)}function at(t,n){if(1&t){const t=l.Yb();l.Xb(0,"form",6),l.Xb(1,"h3"),l.Rc(2,"Reset Password"),l.Wb(),l.Sb(3,"input",7),l.Pc(4,nt,2,0,"span",8),l.Pc(5,et,2,0,"span",8),l.Pc(6,ot,2,0,"span",8),l.Sb(7,"input",9),l.Pc(8,it,2,0,"span",8),l.Pc(9,rt,2,0,"span",8),l.Xb(10,"div",10),l.Xb(11,"button",11),l.jc("click",(function(){return l.Ic(t),l.nc().changePassword()})),l.Rc(12,"Submit"),l.Wb(),l.Pc(13,st,1,1,"mat-spinner",12),l.Wb(),l.Wb()}if(2&t){const t=l.nc();l.uc("formGroup",t.resetPassForm),l.Cb(4),l.uc("ngIf",t.pass.hasError("required")&&t.isSubmitted),l.Cb(1),l.uc("ngIf",t.pass.hasError("patternInvalid")),l.Cb(1),l.uc("ngIf",t.pass.hasError("maxlength")||t.pass.hasError("minlength")),l.Cb(2),l.uc("ngIf",t.confirmPass.hasError("notMatch")),l.Cb(1),l.uc("ngIf",t.confirmPass.hasError("required")&&t.isSubmitted),l.Cb(4),l.uc("ngIf",t.loader.formProcessing)}}function ct(t,n){1&t&&l.Sb(0,"mat-spinner",14),2&t&&l.uc("diameter",15)}function gt(t,n){if(1&t){const t=l.Yb();l.Xb(0,"div",15),l.Sb(1,"img",16),l.Xb(2,"h3"),l.Rc(3,"Session expired."),l.Wb(),l.Xb(4,"p"),l.Rc(5,"The link is not valid anymore."),l.Wb(),l.Xb(6,"button",11),l.jc("click",(function(){return l.Ic(t),l.nc().resendEmail()})),l.Rc(7,"Resend email"),l.Wb(),l.Pc(8,ct,1,1,"mat-spinner",12),l.Wb()}if(2&t){const t=l.nc();l.Cb(8),l.uc("ngIf",t.loader.formProcessing)}}const lt=[{path:"login",component:x,data:{title:"Login"}},{path:"register",component:H,data:{title:"Register"}},{path:"forgot-password",component:$,data:{title:"Forgot Password"}},{path:"reset-password",component:(()=>{class t{constructor(t,n,e,o,i,r,g,l){var d,p,b,f;this.fb=t,this.router=n,this.auth=e,this.route=o,this.jwtHelper=i,this.toastr=r,this.loader=g,this.subject=l,this.isSubmitted=!1,this.emailPassed=!1,this.tokenExpired=!1,this.email=null===(p=null===(d=this.route.snapshot)||void 0===d?void 0:d.queryParams)||void 0===p?void 0:p.email;const u=null===(f=null===(b=this.route.snapshot)||void 0===b?void 0:b.queryParams)||void 0===f?void 0:f.token;this.tokenExpired=this.jwtHelper.isTokenExpired(u),this.emailPassed=!!this.email,this.resetPassForm=this.fb.group({email:[this.email,[s.x.required,Object(a.a)(c.a)]],password:["",[s.x.required,Object(a.a)(c.d),s.x.minLength(X.m),s.x.maxLength(X.l)]],confirm_password:["",[s.x.required]]},{validator:P("password","confirm_password")})}ngOnInit(){}changePassword(){this.isSubmitted=!0,this.resetPassForm.valid&&this.auth.resetPass(this.resetPassForm.value).subscribe(t=>{localStorage.setItem("token",(null==t?void 0:t.hasOwnProperty("token"))?t.token:""),this.subject.changeAuthUser(t.hasOwnProperty("token")?t.token:""),this.router.navigate(["/"])})}resendEmail(){this.auth.sendForgotPassEmail({email:this.email}).subscribe(t=>{this.toastr.success("Reset password request has been resent to your e-mail")})}get pass(){return this.resetPassForm.get("password")}get confirmPass(){return this.resetPassForm.get("confirm_password")}}return t.\u0275fac=function(n){return new(n||t)(l.Rb(s.e),l.Rb(i.d),l.Rb(d.a),l.Rb(i.a),l.Rb(tt.a),l.Rb(J.b),l.Rb(C.a),l.Rb(f.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-reset-password"]],decls:6,vars:2,consts:[[1,"page-container"],[1,"metltv-background"],["src","assets/img/metltvlogo.svg",1,"login-logo",3,"click"],["id","forgot-pass-form-container"],[3,"formGroup",4,"ngIf"],["id","token-expired-container",4,"ngIf"],[3,"formGroup"],["type","password","placeholder","Password","formControlName","password"],["class","error",4,"ngIf"],["type","password","placeholder","Reenter Password","formControlName","confirm_password"],[1,"actions"],[3,"click"],[3,"diameter",4,"ngIf"],[1,"error"],[3,"diameter"],["id","token-expired-container"],["src","assets/img/undraw_calendar_dutt.svg"]],template:function(t,n){1&t&&(l.Xb(0,"div",0),l.Xb(1,"div",1),l.Xb(2,"img",2),l.jc("click",(function(){return n.router.navigate(["/"])})),l.Wb(),l.Wb(),l.Xb(3,"div",3),l.Pc(4,at,14,7,"form",4),l.Pc(5,gt,9,1,"div",5),l.Wb(),l.Wb()),2&t&&(l.Cb(4),l.uc("ngIf",n.emailPassed&&!n.tokenExpired),l.Cb(1),l.uc("ngIf",n.tokenExpired))},directives:[o.n,s.z,s.q,s.i,s.c,s.p,s.h,M.b],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100vh}.metltv-background[_ngcontent-%COMP%]{width:43%;align-items:center;position:relative;background:url(back-login.53f102952f1c83155d3a.png)}#forgot-pass-form-container[_ngcontent-%COMP%], .metltv-background[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#forgot-pass-form-container[_ngcontent-%COMP%]{width:57%;padding-left:150px;background:#fff}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:430px}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#545454;font-size:32px;font-family:Muli-Bold;margin-bottom:16px}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#545454;font-size:24px;font-family:Muli-Bold;margin-bottom:20px}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:32px;margin-top:47px}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out}#forgot-pass-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-left:20px}#token-expired-container[_ngcontent-%COMP%]{text-align:center;width:100%;max-width:500px}#token-expired-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}#token-expired-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:48px;font-size:32px;color:#545454;font-weight:700}#token-expired-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:24px 0 0;color:#545454;font-size:16px}#token-expired-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;margin:40px auto 0;max-width:430px}"]}),t})(),data:{title:"Reset Password"}}];let dt=(()=>{class t{}return t.\u0275mod=l.Pb({type:t}),t.\u0275inj=l.Ob({factory:function(n){return new(n||t)},imports:[[i.f.forChild(lt)],i.f]}),t})();var pt=e("gNIp");let bt=(()=>{class t{}return t.\u0275mod=l.Pb({type:t}),t.\u0275inj=l.Ob({factory:function(n){return new(n||t)},providers:[],imports:[[o.c,dt,s.u,I.c.forRoot(),pt.a]]}),t})()}}]);