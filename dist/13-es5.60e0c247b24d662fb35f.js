function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"55j5":function(n,t,e){"use strict";e.r(t),e.d(t,"ChannelsModule",(function(){return zn}));var i,c=e("ofXK"),a=e("tyNb"),s=e("mrSG"),o=e("9xOu"),r=e("3Pt+"),l=e("fXoL"),b=e("FFj9"),u=e("wDcp"),h=e("ZP/m"),g=((i=function(){function n(t,e,i,c){_classCallCheck(this,n),this.videoService=t,this.subjectService=e,this.router=i,this.getExactParams=c,this.apiUrl=o.b,this.subscriptions=[],this.showFilters=!1}return _createClass(n,[{key:"ngOnInit",value:function(){this.search=localStorage.getItem("search")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(n){return n.unsubscribe()}))}}]),n}()).\u0275fac=function(n){return new(n||i)(l.Rb(b.a),l.Rb(u.a),l.Rb(a.d),l.Rb(h.a))},i.\u0275cmp=l.Lb({type:i,selectors:[["app-watchlist-tab"]],decls:0,vars:0,template:function(n,t){},styles:[""]}),i),d=e("SAI1"),f=e("86ia");function p(n,t){if(1&n){var e=l.Yb();l.Xb(0,"app-video-filters",2),l.jc("filter",(function(n){return l.Ic(e),l.nc().getFilteredVideos(n)})),l.Wb()}}var v,C=((v=function(){function n(t,e,i,c){_classCallCheck(this,n),this.router=t,this.videoService=e,this.subjectService=i,this.getExactParams=c,this.owlOptions=o.e,this.apiUrl=o.b,this.showFilters=!1,this.search="",this.filters=null,this.userVideos=[],this.videosLoaded=!1}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.subjectService.getToggleFiltersData().subscribe((function(t){n.showFilters=t}))}},{key:"getUserVideos",value:function(n){var t=this;(n=this.getExactParams.transform(n)).user_id=this.channelUser.id,this.videoService.getUserVideos(n).subscribe((function(n){t.videosLoaded=!0,t.channelUser.videos=null==n?void 0:n.videos}))}},{key:"getSearchResults",value:function(n){this.search=n,this.getUserVideos({search:this.search,filters:this.filters})}},{key:"getFilteredVideos",value:function(n){this.filters=n,this.getUserVideos({search:this.search,filters:this.filters})}}]),n}()).\u0275fac=function(n){return new(n||v)(l.Rb(a.d),l.Rb(b.a),l.Rb(u.a),l.Rb(h.a))},v.\u0275cmp=l.Lb({type:v,selectors:[["app-videos-tab"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:2,vars:5,consts:[[3,"filter",4,"ngIf"],[3,"videos","title","detailsSource","removable"],[3,"filter"]],template:function(n,t){1&n&&(l.Pc(0,p,1,0,"app-video-filters",0),l.Sb(1,"app-video-carousel-holder",1)),2&n&&(l.uc("ngIf",t.showFilters),l.Cb(1),l.uc("videos",t.channelUser.videos)("title","Recent videos")("detailsSource",t.channelUser)("removable",t.authUser.username===t.channelUser.username))},directives:[c.m,d.a,f.a],styles:[""]}),v),m=e("0IaG"),P=e("CPAS");function _(n,t){1&n&&(l.Xb(0,"span",11),l.Rc(1,"Playlist name is required"),l.Wb())}function M(n,t){1&n&&(l.Xb(0,"span",11),l.Rc(1,"Playlist description is required"),l.Wb())}function y(n,t){1&n&&(l.Xb(0,"span",11),l.Rc(1,"Playlist privacy is required"),l.Wb())}var O,k=((O=function(){function n(t,e,i,c){_classCallCheck(this,n),this.data=t,this.modal=e,this.fb=i,this.playlistService=c,this.isSubmitted=!1,console.log(t),this.addPlaylistForm=this.fb.group({channel_id:t.channel_id,name:["",r.w.required],description:["",r.w.required],privacy:["",r.w.required]})}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"createPlaylist",value:function(){var n=this;this.isSubmitted=!0,this.addPlaylistForm.valid&&this.playlistService.addPlaylist(this.addPlaylistForm.value).subscribe((function(t){n.modal.close()}))}},{key:"cancel",value:function(){this.modal.close()}},{key:"nameCtrl",get:function(){return this.addPlaylistForm.get("name")}},{key:"privacyCtrl",get:function(){return this.addPlaylistForm.get("privacy")}},{key:"descCtrl",get:function(){return this.addPlaylistForm.get("description")}}]),n}()).\u0275fac=function(n){return new(n||O)(l.Rb(m.a),l.Rb(m.d),l.Rb(r.e),l.Rb(P.a))},O.\u0275cmp=l.Lb({type:O,selectors:[["app-add-playlist-dialog"]],decls:20,vars:7,consts:[[1,"add-playlist-modal"],[3,"formGroup"],["type","text","placeholder","Playlist Name","formControlName","name"],["class","error",4,"ngIf"],["id","playlist-description","cols","30","rows","10","formControlName","description","placeholder","Playlist Description"],[1,"select"],["id","visibility","formControlName","privacy"],[3,"value"],[1,"btn-wrap"],[1,"btn","cancel",3,"click"],[1,"btn","create",3,"click"],[1,"error"]],template:function(n,t){1&n&&(l.Xb(0,"div",0),l.Xb(1,"form",1),l.Sb(2,"input",2),l.Pc(3,_,2,0,"span",3),l.Sb(4,"textarea",4),l.Pc(5,M,2,0,"span",3),l.Xb(6,"div",5),l.Xb(7,"select",6),l.Xb(8,"option",7),l.Rc(9,"Visibility"),l.Wb(),l.Xb(10,"option",7),l.Rc(11,"Public"),l.Wb(),l.Xb(12,"option",7),l.Rc(13,"Private"),l.Wb(),l.Wb(),l.Wb(),l.Pc(14,y,2,0,"span",3),l.Xb(15,"div",8),l.Xb(16,"button",9),l.jc("click",(function(){return t.cancel()})),l.Rc(17,"Cancel"),l.Wb(),l.Xb(18,"button",10),l.jc("click",(function(){return t.createPlaylist()})),l.Rc(19,"Create"),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&n&&(l.Cb(1),l.uc("formGroup",t.addPlaylistForm),l.Cb(2),l.uc("ngIf",t.nameCtrl.hasError("required")&&t.isSubmitted),l.Cb(2),l.uc("ngIf",t.descCtrl.hasError("required")&&t.isSubmitted),l.Cb(3),l.uc("value",""),l.Cb(2),l.uc("value",0),l.Cb(2),l.uc("value",1),l.Cb(2),l.uc("ngIf",t.privacyCtrl.hasError("required")&&t.isSubmitted))},directives:[r.y,r.p,r.i,r.c,r.o,r.h,c.m,r.v,r.s,r.x],styles:[".add-playlist-modal[_ngcontent-%COMP%]{overflow:auto;max-height:100%;padding:32px;width:100%;max-width:890px;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);position:absolute;background:#fff;z-index:1001}.add-playlist-modal[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .add-playlist-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-playlist-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 24px;background:#f4f4f4;color:#545454;margin-bottom:32px;border:0;outline:none}.add-playlist-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:162px;min-height:96px;max-height:280px;resize:none}.add-playlist-modal[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:auto;min-width:284px}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;font-size:16px;border-radius:0;padding:8px 24px;line-height:normal}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background:#c9c9c9}"]}),O),I=e("dJ++"),U=e("NFeN"),x=e("fZdh");function W(n,t){if(1&n){var e=l.Yb();l.Xb(0,"app-video-filters",4),l.jc("filter",(function(n){return l.Ic(e),l.nc().getFilteredPlaylists(n)})),l.Wb()}}function w(n,t){1&n&&(l.Vb(0),l.Xb(1,"mat-icon"),l.Rc(2,"visibility_off"),l.Wb(),l.Xb(3,"span"),l.Rc(4,"Private"),l.Wb(),l.Ub())}function X(n,t){1&n&&(l.Vb(0),l.Xb(1,"mat-icon"),l.Rc(2,"visibility_on"),l.Wb(),l.Xb(3,"span"),l.Rc(4,"Public"),l.Wb(),l.Ub())}function S(n,t){if(1&n){var e=l.Yb();l.Xb(0,"tr"),l.Xb(1,"td"),l.Xb(2,"div",9),l.Xb(3,"img",10),l.jc("click",(function(){l.Ic(e);var n=t.$implicit;return l.nc(3).goToEditPage(n)})),l.oc(4,"getImgPath"),l.Wb(),l.Xb(5,"div",11),l.Xb(6,"h3"),l.Rc(7),l.Wb(),l.Xb(8,"p"),l.Rc(9),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(10,"td"),l.Pc(11,w,5,0,"ng-container",2),l.Pc(12,X,5,0,"ng-container",2),l.Wb(),l.Xb(13,"td"),l.Xb(14,"span"),l.Rc(15),l.oc(16,"date"),l.Wb(),l.Wb(),l.Xb(17,"td"),l.Xb(18,"span"),l.Rc(19),l.oc(20,"date"),l.Wb(),l.Wb(),l.Xb(21,"td"),l.Xb(22,"span"),l.Rc(23),l.Wb(),l.Wb(),l.Xb(24,"td"),l.Xb(25,"span",12),l.jc("click",(function(){l.Ic(e);var n=t.$implicit;return l.nc(3).goToEditPage(n)})),l.Rc(26,"create"),l.Wb(),l.Xb(27,"mat-icon",13),l.jc("click",(function(){l.Ic(e);var n=t.$implicit,i=l.nc(3);return i.removePlaylist(n.id,i.channelUser.id)})),l.Rc(28,"delete"),l.Wb(),l.Wb(),l.Wb()}if(2&n){var i=t.$implicit;l.Cb(3),l.uc("src",l.pc(4,8,i.thumbnail),l.Kc),l.Cb(4),l.Sc(i.name),l.Cb(2),l.Sc(i.description),l.Cb(2),l.uc("ngIf",i.privacy),l.Cb(1),l.uc("ngIf",!i.privacy),l.Cb(3),l.Sc(l.qc(16,10,i.created_at,"d MMM, yyyy")),l.Cb(4),l.Sc(l.qc(20,13,i.updated_at,"d MMM, yyyy")),l.Cb(4),l.Sc(i.videos.length)}}function R(n,t){if(1&n&&(l.Xb(0,"table",7),l.Xb(1,"tr"),l.Xb(2,"th"),l.Rc(3,"Playlist"),l.Wb(),l.Xb(4,"th"),l.Rc(5,"Visibility"),l.Wb(),l.Xb(6,"th"),l.Rc(7,"Created at"),l.Wb(),l.Xb(8,"th"),l.Rc(9,"Last updated"),l.Wb(),l.Xb(10,"th"),l.Rc(11,"Video count"),l.Wb(),l.Sb(12,"th"),l.Wb(),l.Pc(13,S,29,16,"tr",8),l.Wb()),2&n){var e=l.nc(2);l.Cb(13),l.uc("ngForOf",e.playlists)}}function F(n,t){if(1&n){var e=l.Yb();l.Vb(0),l.Xb(1,"button",5),l.jc("click",(function(){return l.Ic(e),l.nc().openAddPlaylistModal()})),l.Rc(2,"Add New Playlist"),l.Wb(),l.Pc(3,R,14,1,"table",6),l.Ub()}if(2&n){var i=l.nc();l.Cb(3),l.uc("ngIf",i.playlists.length>0)}}function T(n,t){if(1&n){var e=l.Yb();l.Xb(0,"div",16),l.Xb(1,"div",17),l.jc("click",(function(){l.Ic(e);var n=l.nc().$implicit;return l.nc(2).openPlaylistPage(n,null==n.videos[0]?null:n.videos[0].id)})),l.Sb(2,"img",18),l.oc(3,"getImgPath"),l.Xb(4,"div",19),l.Xb(5,"p",20),l.Xb(6,"span",21),l.Rc(7,"playlist_play"),l.Wb(),l.Wb(),l.Xb(8,"p"),l.Rc(9),l.Wb(),l.Xb(10,"p",22),l.Rc(11),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div",11),l.Xb(13,"h2"),l.Rc(14),l.Wb(),l.Xb(15,"p"),l.Rc(16),l.Wb(),l.Wb(),l.Wb()}if(2&n){var i=l.nc().$implicit;l.Cb(2),l.uc("src",l.pc(3,5,i.thumbnail),l.Kc),l.Cb(7),l.Sc(i.name),l.Cb(2),l.Sc(i.videos.length+(1===i.videos.length?" video":" videos")),l.Cb(3),l.Sc(i.name),l.Cb(2),l.Sc(i.description)}}function j(n,t){if(1&n&&(l.Vb(0),l.Pc(1,T,17,7,"div",15),l.Ub()),2&n){var e=t.$implicit;l.Cb(1),l.uc("ngIf",(null==e||null==e.videos?null:e.videos.length)>0)}}function V(n,t){if(1&n&&(l.Vb(0),l.Xb(1,"div",14),l.Pc(2,j,2,1,"ng-container",8),l.Wb(),l.Ub()),2&n){var e=l.nc();l.Cb(2),l.uc("ngForOf",e.playlists)}}function E(n,t){1&n&&(l.Xb(0,"span"),l.Rc(1,"No playlists found for this channel"),l.Wb())}var q,A=((q=function(){function n(t,e,i,c,a){_classCallCheck(this,n),this.router=t,this.playlistsService=e,this.subjectService=i,this.dialog=c,this.getExactParams=a,this.playlists=[],this.apiUrl=o.b,this.showFilters=!1,this.search="",this.filters=null,this.subscriptions=[]}return _createClass(n,[{key:"ngOnInit",value:function(){this.search=localStorage.getItem("search"),this.getPlaylists({search:this.search,filters:this.filters}),this.getFiltersToggleState()}},{key:"getFiltersToggleState",value:function(){var n=this;this.subscriptions.push(this.subjectService.getToggleFiltersData().subscribe((function(t){n.showFilters=t})))}},{key:"getPlaylists",value:function(n){var t=this;n=this.getExactParams.transform(n),this.playlistsService.get(Object.assign({channel_id:this.channelUser.channel.id,user_id:this.authUser.id},n)).subscribe((function(n){t.playlists=n}))}},{key:"openAddPlaylistModal",value:function(){var n=this;this.dialog.open(k,{data:{channel_id:this.channelUser.channel.id}}).afterClosed().subscribe((function(t){n.getPlaylists({search:n.search,filters:n.filters})}))}},{key:"openPlaylistPage",value:function(n,t){this.router.navigate(["videos/play"],{queryParams:{id:t,playlist_id:n.id}})}},{key:"getSearchResults",value:function(n){this.search=n,this.getPlaylists({search:n,filters:this.filters})}},{key:"getFilteredPlaylists",value:function(n){this.filters=n,this.getPlaylists({search:this.search,filters:n})}},{key:"goToEditPage",value:function(n){this.router.navigate(["playlists/single/"+n.id])}},{key:"removePlaylist",value:function(n,t){var e=this;this.dialog.open(I.a).afterClosed().subscribe((function(i){i&&e.playlistsService.removePlaylist({id:n,channel_id:t}).subscribe((function(n){e.getPlaylists({search:e.search,filters:e.filters})}))}))}}]),n}()).\u0275fac=function(n){return new(n||q)(l.Rb(a.d),l.Rb(P.a),l.Rb(u.a),l.Rb(m.b),l.Rb(h.a))},q.\u0275cmp=l.Lb({type:q,selectors:[["app-playlists-tab"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:6,vars:4,consts:[[3,"filter",4,"ngIf"],[1,"playlist-tab"],[4,"ngIf"],["id","no-playlists-found"],[3,"filter"],[1,"btn","new-playlist",3,"click"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[1,"img-info"],[1,"thumbnail",3,"src","click"],[1,"info"],[1,"material-icons",3,"click"],[3,"click"],[1,"playlists-items"],["class","item",4,"ngIf"],[1,"item"],[1,"top-wrap",3,"click"],[1,"thumbnail",3,"src"],[1,"overlay-info"],[1,"icon"],[1,"material-icons"],[1,"video-count"]],template:function(n,t){1&n&&(l.Pc(0,W,1,0,"app-video-filters",0),l.Xb(1,"div",1),l.Pc(2,F,4,1,"ng-container",2),l.Pc(3,V,3,1,"ng-container",2),l.Xb(4,"div",3),l.Pc(5,E,2,0,"span",2),l.Wb(),l.Wb()),2&n&&(l.uc("ngIf",t.showFilters),l.Cb(2),l.uc("ngIf",t.authUser.username===t.channelUser.username),l.Cb(1),l.uc("ngIf",t.authUser.username!==t.channelUser.username),l.Cb(2),l.uc("ngIf",0===t.playlists.length))},directives:[c.m,f.a,c.l,U.a],pipes:[x.a,c.e],styles:[".playlist-tab[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]{background:#18b587;border-radius:0;color:#fff;padding:8px 24px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:table;margin:24px 0;width:100%}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-row}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border-bottom:0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:right}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]{transition:.3s}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]:hover{color:#18b587}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;color:#545454;font-family:Muli-Bold,sans-serif;white-space:nowrap;font-size:16px;padding:12px 0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]{margin:0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:12px!important;vertical-align:middle;cursor:pointer}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:144px;cursor:pointer}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-left:24px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{max-width:240px;font-size:16px;font-family:Muli-Bold;-webkit-line-clamp:1;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:240px;font-size:12px;font-weight:400;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}@media screen and (max-width:991px){.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto}}.playlists-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(33.3% - 21px);margin-right:32px;margin-bottom:32px;cursor:pointer}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3n+3){margin-right:0}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]{position:relative;height:216px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   .overlay-info[_ngcontent-%COMP%]{padding:16px;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.38)}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   .overlay-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:700;margin-bottom:8px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:24px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#545454;font-size:16px;font-weight:700}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0;color:#545454;font-size:15px;font-weight:500}@media screen and (max-width:991px){.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(50% - 21px)}}@media screen and (max-width:767px){.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 100%}}"]}),q),Y=e("Rnal"),D=e("tVj7"),z=e("1m4N"),L=e("HHsJ"),N=e("7dP1"),$=e("Y9zH"),G=e("lwos"),B=e("kUS0"),K=e("bTqV"),H=e("kmnG"),J=e("qFsG"),Z=e("Xa2L");function Q(n,t){if(1&n){var e=l.Yb();l.Xb(0,"div",19),l.Xb(1,"input",20),l.jc("change",(function(n){return l.Ic(e),l.nc().coverChangeEvent(n)})),l.Wb(),l.Sb(2,"input",21),l.Xb(3,"ngx-photo-editor",22),l.jc("imageCropped",(function(n){return l.Ic(e),l.nc().coverCropped(n)})),l.Wb(),l.Wb()}if(2&n){var i=l.nc();l.uc("hidden",!0),l.Cb(3),l.uc("imageChanedEvent",i.coverChangedEvent)("autoCrop",!1)("viewMode",3)}}function nn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"button",23),l.jc("click",(function(){return l.Ic(e),l.nc().removeCover()})),l.Xb(1,"mat-icon"),l.Rc(2,"clear"),l.Wb(),l.Wb()}}function tn(n,t){1&n&&(l.Xb(0,"mat-icon",24),l.Rc(1,"add"),l.Wb())}function en(n,t){if(1&n){var e=l.Yb();l.Xb(0,"mat-icon",25),l.jc("click",(function(){return l.Ic(e),l.nc().removeAvatar()})),l.Rc(1,"clear "),l.Wb()}}function cn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"div",19),l.Xb(1,"input",26),l.jc("change",(function(n){return l.Ic(e),l.nc().profileChangeEvent(n)})),l.Wb(),l.Sb(2,"input",27),l.Xb(3,"ngx-photo-editor",28),l.jc("imageCropped",(function(n){return l.Ic(e),l.nc().profileCropped(n)})),l.Wb(),l.Wb()}if(2&n){var i=l.nc();l.uc("hidden",!0),l.Cb(3),l.uc("imageChanedEvent",i.profileChangedEvent)("aspectRatio",4/3)("viewMode",1)("resizeToWidth",500)}}function an(n,t){if(1&n&&(l.Xb(0,"p",29),l.Rc(1),l.Wb()),2&n){var e=l.nc();l.Cb(1),l.Sc(e.channelUser.channel.name)}}function sn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"mat-form-field"),l.Xb(1,"input",30),l.jc("keyup.enter",(function(n){return l.Ic(e),n.preventDefault()})),l.Wb(),l.Wb()}}function on(n,t){1&n&&(l.Xb(0,"div",31),l.Sb(1,"mat-spinner",32),l.Wb()),2&n&&(l.Cb(1),l.uc("diameter",50))}function rn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"a",35),l.jc("click",(function(){l.Ic(e);var n=l.nc(2);return n.subscribeToChannel(n.channelUser.channel)})),l.Rc(1,"Subscribe"),l.Wb()}}function ln(n,t){if(1&n){var e=l.Yb();l.Xb(0,"a",36),l.jc("click",(function(){l.Ic(e);var n=l.nc(2);return n.subscribeToChannel(n.channelUser.channel)})),l.Rc(1,"Subscribed"),l.Wb()}}function bn(n,t){if(1&n&&(l.Xb(0,"div",8),l.Pc(1,rn,2,0,"a",33),l.Pc(2,ln,2,0,"a",34),l.Wb()),2&n){var e=l.nc();l.Cb(1),l.uc("ngIf",!e.subscribedToChannel),l.Cb(1),l.uc("ngIf",e.subscribedToChannel)}}function un(n,t){if(1&n){var e=l.Yb();l.Xb(0,"button",39),l.jc("click",(function(){return l.Ic(e),l.nc(2).enableEditMode()})),l.Xb(1,"mat-icon"),l.Rc(2,"edit"),l.Wb(),l.Rc(3," Edit channel "),l.Wb()}}function hn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"button",40),l.jc("click",(function(){return l.Ic(e),l.nc(2).saveChanges()})),l.Xb(1,"mat-icon"),l.Rc(2,"save"),l.Wb(),l.Rc(3," Save changes "),l.Wb()}}function gn(n,t){if(1&n&&(l.Xb(0,"div",8),l.Pc(1,un,4,0,"button",37),l.Pc(2,hn,4,0,"button",38),l.Wb()),2&n){var e=l.nc();l.Cb(1),l.uc("ngIf",!e.editMode),l.Cb(1),l.uc("ngIf",e.editMode)}}var dn,fn=function(n){return{opacity:n}},pn=((dn=function(){function n(t,e,i,c,a,s,l){_classCallCheck(this,n),this.usersService=t,this.base64ToFile=e,this.getAuthUser=i,this.channelService=c,this.subject=a,this.loader=s,this.fb=l,this.apiUrl=o.b,this.subscribedToChannel=!1,this.subscribersCount=0,this.changingImage=!1,this.editMode=!1,this.channelForm=this.fb.group({id:[""],avatar:[""],cover:[""],name:["",r.w.required],username:[""]})}return _createClass(n,[{key:"ngOnInit",value:function(){this.channelUser&&(this.checkChannelSubscription(),this.channelForm.patchValue({name:this.channelUser.channel.name,id:this.channelUser.channel.id,username:this.channelUser.username,avatar:this.channelUser.channel.avatar,cover:this.channelUser.channel.cover}))}},{key:"coverChangeEvent",value:function(n){this.coverChangedEvent=n}},{key:"profileChangeEvent",value:function(n){this.profileChangedEvent=n}},{key:"detectImageChange",value:function(){(this.profileChangedEvent||this.coverChangedEvent)&&(this.loader.dataLoading=!1,this.changingImage=!1,console.log("Avatar changed"),console.log(this.changingImage))}},{key:"profileCropped",value:function(n){var t=this;this.changingImage=!0,this.profileBase64=n.base64;var e="avatar_".concat(Date.now(),".jpg"),i=new FormData;this.channelForm.patchValue({avatar:e}),i.append("avatar_file",this.base64ToFile.transform(n.base64),e),i.append("avatar",e),i.append("id",this.authUser.id),this.usersService.changeProfileImage(i).subscribe((function(n){t.changeAuthUserInfo(n)}))}},{key:"coverCropped",value:function(n){var t=this;this.coverBase64=n.base64,this.changingImage=!0;var e=new FormData,i="cover_".concat(Date.now(),".jpg");this.channelForm.patchValue({cover:i}),e.append("cover_file",this.base64ToFile.transform(n.base64),i),e.append("cover",i),e.append("id",this.authUser.id),this.loader.dataLoading=!0,this.usersService.changeCoverImage(e).subscribe((function(n){t.changeAuthUserInfo(n)}))}},{key:"removeCover",value:function(){this.channelUser.channel.cover="",this.channelForm.patchValue({cover:this.channelUser.channel.cover})}},{key:"removeAvatar",value:function(){this.channelUser.channel.avatar="",this.channelForm.patchValue({avatar:this.channelUser.channel.avatar})}},{key:"subscribeToChannel",value:function(n){var t=this;this.channelService.subscribeToChannel({user_id:this.authUser.id,channel_id:n.id}).subscribe((function(n){t.subscribedToChannel="Subscribed"===n.status,t.subscribersCount=n.subscribers_count,t.channelService.getUserChannelSubscriptions({user_id:t.authUser.id}).subscribe((function(n){t.subject.setUserSubscriptions(n)}))}))}},{key:"checkChannelSubscription",value:function(){var n=this;this.channelService.checkChannelSubscription({user_id:this.authUser.id,channel_id:this.channelUser.channel.id}).subscribe((function(t){n.subscribedToChannel="Subscribed"===t.status,n.subscribersCount=t.subscribers_count}))}},{key:"changeAuthUserInfo",value:function(n){localStorage.setItem("token",n.token),this.authUser=this.getAuthUser.transform(),this.channelUser=this.authUser,this.changingImage=!1}},{key:"enableEditMode",value:function(){this.editMode=!this.editMode}},{key:"saveChanges",value:function(){var n=this;console.log("save changes!!!"),console.log(this.channelForm.value),console.log("save changes!!!"),this.channelForm.valid&&this.channelService.changeChannelDetails(this.channelForm.value).subscribe((function(t){n.editMode=!1,n.changeAuthUserInfo(t)}))}}]),n}()).\u0275fac=function(n){return new(n||dn)(l.Rb(D.a),l.Rb(z.a),l.Rb(Y.a),l.Rb(L.a),l.Rb(u.a),l.Rb(G.a),l.Rb(r.e))},dn.\u0275cmp=l.Lb({type:dn,selectors:[["app-channel-profile"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:25,vars:23,consts:[[3,"formGroup"],[1,"profile-block"],[3,"hidden",4,"ngIf"],[1,"cover-image-container"],["for","cover-image-input"],["id","cover-image",3,"src","load"],["mat-icon-button","","type","button","class","remove-cover-btn",3,"click",4,"ngIf"],[1,"sub-block"],[1,"d-flex","align-items-center"],[1,"avatar-container"],["for","profile-image-input"],["id","profile-image",1,"avatar",3,"ngStyle","src","load"],["id","add-photo-btn",4,"ngIf"],["class","remove-avatar-btn",3,"click",4,"ngIf"],["class","main-text-1","id","channel-name",4,"ngIf"],[4,"ngIf"],[1,"main-text-4"],["class","loader",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],[3,"hidden"],["type","file","id","cover-image-input",3,"change"],["type","hidden","formControlName","cover"],[3,"imageChanedEvent","autoCrop","viewMode","imageCropped"],["mat-icon-button","","type","button",1,"remove-cover-btn",3,"click"],["id","add-photo-btn"],[1,"remove-avatar-btn",3,"click"],["type","file","id","profile-image-input",3,"change"],["type","hidden","formControlName","avatar"],[3,"imageChanedEvent","aspectRatio","viewMode","resizeToWidth","imageCropped"],["id","channel-name",1,"main-text-1"],["matInput","","formControlName","name","id","channel-name-input",3,"keyup.enter"],[1,"loader"],[3,"diameter"],["class","subscribe-btn",3,"click",4,"ngIf"],["class","subscribe-btn subscribed",3,"click",4,"ngIf"],[1,"subscribe-btn",3,"click"],[1,"subscribe-btn","subscribed",3,"click"],["class","btn","type","button","id","edit-channel",3,"click",4,"ngIf"],["class","btn","type","button","id","save-channel-details",3,"click",4,"ngIf"],["type","button","id","edit-channel",1,"btn",3,"click"],["type","button","id","save-channel-details",1,"btn",3,"click"]],template:function(n,t){1&n&&(l.Xb(0,"form",0),l.Xb(1,"div",1),l.Pc(2,Q,4,4,"div",2),l.Xb(3,"div",3),l.Xb(4,"label",4),l.Xb(5,"img",5),l.jc("load",(function(){return t.detectImageChange()})),l.oc(6,"getImgPath"),l.Wb(),l.Wb(),l.Pc(7,nn,3,0,"button",6),l.Wb(),l.Wb(),l.Xb(8,"div",7),l.Xb(9,"div",8),l.Xb(10,"div",9),l.Xb(11,"label",10),l.Xb(12,"img",11),l.jc("load",(function(){return t.detectImageChange()})),l.oc(13,"getImgPath"),l.Wb(),l.Pc(14,tn,2,0,"mat-icon",12),l.Wb(),l.Pc(15,en,2,0,"mat-icon",13),l.Wb(),l.Pc(16,cn,4,5,"div",2),l.Xb(17,"div"),l.Pc(18,an,2,1,"p",14),l.Pc(19,sn,2,0,"mat-form-field",15),l.Xb(20,"p",16),l.Rc(21),l.Wb(),l.Wb(),l.Wb(),l.Pc(22,on,2,1,"div",17),l.Pc(23,bn,3,2,"div",18),l.Pc(24,gn,3,2,"div",18),l.Wb(),l.Wb()),2&n&&(l.uc("formGroup",t.channelForm),l.Cb(2),l.uc("ngIf",t.channelUser.username===t.authUser.username),l.Cb(3),l.uc("src",l.qc(6,15,null==t.channelUser.channel?null:t.channelUser.channel.cover,"covers"),l.Kc),l.Cb(2),l.uc("ngIf",t.editMode&&t.channelUser.channel.cover),l.Cb(5),l.uc("ngStyle",l.yc(21,fn,t.editMode?.5:1))("src",l.qc(13,18,t.channelUser.channel.avatar,"avatars"),l.Kc),l.Cb(2),l.uc("ngIf",t.editMode&&!t.channelUser.channel.avatar),l.Cb(1),l.uc("ngIf",t.editMode&&t.channelUser.channel.avatar),l.Cb(1),l.uc("ngIf",t.channelUser.username===t.authUser.username),l.Cb(2),l.uc("ngIf",!t.editMode),l.Cb(1),l.uc("ngIf",t.editMode),l.Cb(2),l.Tc("",t.subscribersCount+" subscriber"+(1===t.subscribersCount?"":"s")," "),l.Cb(1),l.uc("ngIf",t.changingImage),l.Cb(1),l.uc("ngIf",t.channelUser.username!==t.authUser.username),l.Cb(1),l.uc("ngIf",t.channelUser.username===t.authUser.username))},directives:[r.y,r.p,r.i,c.m,c.n,r.c,r.o,r.h,B.a,K.a,U.a,H.c,J.b,Z.b],pipes:[x.a],styles:[".loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:52px;margin-left:10px;margin-top:-17px}#add-photo-btn[_ngcontent-%COMP%]{position:absolute;left:9px;top:10px;cursor:pointer}.cover-image-container[_ngcontent-%COMP%]{position:relative}.cover-image-container[_ngcontent-%COMP%]   .remove-cover-btn[_ngcontent-%COMP%]{position:absolute;right:0}.cover-image-container[_ngcontent-%COMP%]   .remove-cover-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{background-color:#000;color:#fff;border-radius:20px;font-size:16px}label[for=cover-image-input][_ngcontent-%COMP%]{width:100%}#edit-channel[_ngcontent-%COMP%], #save-channel-details[_ngcontent-%COMP%]{background:#18b587;border-radius:0;color:#fff;padding:8px 24px;display:flex;align-items:center}.avatar-container[_ngcontent-%COMP%]{position:relative}.avatar-container[_ngcontent-%COMP%]   .remove-avatar-btn[_ngcontent-%COMP%]{position:absolute;right:20px;top:13px;color:#000;font-size:16px;cursor:pointer}.subscribed[_ngcontent-%COMP%]{background-color:#d6d6d6!important}"]}),dn);function vn(n,t){1&n&&(l.Xb(0,"h2"),l.Rc(1,"Description"),l.Wb())}function Cn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"button",7),l.jc("click",(function(){return l.Ic(e),l.nc().editModeOn()})),l.Rc(1,"Edit"),l.Wb()}}function mn(n,t){if(1&n&&(l.Xb(0,"div",8),l.Xb(1,"p"),l.Rc(2),l.Wb(),l.Wb()),2&n){var e=l.nc();l.Cb(2),l.Sc(e.channelUser.channel.description)}}function Pn(n,t){if(1&n){var e=l.Yb();l.Vb(0),l.Sb(1,"textarea",9),l.Xb(2,"button",10),l.jc("click",(function(){return l.Ic(e),l.nc().saveChannelDescription()})),l.Rc(3,"Save"),l.Wb(),l.Ub()}}var _n,Mn=((_n=function(){function n(t,e){_classCallCheck(this,n),this.fb=t,this.channelService=e,this.editMode=!1}return _createClass(n,[{key:"ngOnInit",value:function(){this.aboutForm=this.fb.group({description:["",r.w.required],id:["",r.w.required],username:["",r.w.required]}),this.aboutForm.patchValue(Object.assign({username:this.channelUser.username},this.channelUser.channel))}},{key:"editModeOn",value:function(){this.editMode=!0}},{key:"saveChannelDescription",value:function(){var n=this;console.log(this.editMode),this.channelService.saveDescription(this.aboutForm.value).subscribe((function(t){n.channelUser=t,n.editMode=!1}))}}]),n}()).\u0275fac=function(n){return new(n||_n)(l.Rb(r.e),l.Rb(L.a))},_n.\u0275cmp=l.Lb({type:_n,selectors:[["app-about-tab"]],inputs:{channelUser:"channelUser"},decls:11,vars:9,consts:[[1,"about-tab"],["id","channel-about-form",3,"formGroup"],[1,"info"],[4,"ngIf"],[1,"date"],["class","btn",3,"click",4,"ngIf"],["class","description",4,"ngIf"],[1,"btn",3,"click"],[1,"description"],["formControlName","description"],[1,"save",3,"click"]],template:function(n,t){1&n&&(l.Xb(0,"div",0),l.Xb(1,"form",1),l.Xb(2,"div",2),l.Pc(3,vn,2,0,"h2",3),l.Xb(4,"div",4),l.Xb(5,"span"),l.Rc(6),l.oc(7,"date"),l.Wb(),l.Pc(8,Cn,2,0,"button",5),l.Wb(),l.Wb(),l.Pc(9,mn,3,1,"div",6),l.Pc(10,Pn,4,0,"ng-container",3),l.Wb(),l.Wb()),2&n&&(l.Cb(1),l.uc("formGroup",t.aboutForm),l.Cb(2),l.uc("ngIf",null==t.channelUser.channel?null:t.channelUser.channel.description),l.Cb(3),l.Tc("Joined ",l.qc(7,6,t.channelUser.channel.created_at,"d MMM, yyyy"),""),l.Cb(2),l.uc("ngIf",!t.editMode),l.Cb(1),l.uc("ngIf",!t.editMode&&(null==t.channelUser?null:t.channelUser.channel.description)),l.Cb(1),l.uc("ngIf",t.editMode))},directives:[r.y,r.p,r.i,c.m,r.c,r.o,r.h],pipes:[c.e],styles:[".about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#18b587;font-family:Muli-Bold}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:0;display:flex;align-items:center}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#545454;font-family:Muli-Bold}@media screen and (max-width:400px){.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;padding:4px 18px;border-radius:0}.about-tab[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:24px;padding:24px;background:#f4f4f4;color:#545454;font-size:16px}.about-tab[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:120px}.about-tab[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{margin-top:24px;background:#c9c9c9;color:#545454;padding:4px 18px;border-radius:0}.about-tab[_ngcontent-%COMP%]   .save.active[_ngcontent-%COMP%]{background:#18b587;color:#fff}"]}),_n);function yn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"app-user-tags",4),l.jc("tagSelected",(function(n){return l.Ic(e),l.nc().getVideosByTag(n)})),l.Wb()}}function On(n,t){if(1&n){var e=l.Yb();l.Xb(0,"li",16),l.Xb(1,"a",17),l.jc("click",(function(){l.Ic(e);var n=t.$implicit;return l.nc(2).changeActiveTab(n)})),l.Rc(2),l.Wb(),l.Wb()}if(2&n){var i=t.$implicit,c=l.nc(2);l.Cb(1),l.Hb("active",i===c.activeTab),l.wc("id","",i.link,"-tab"),l.uc("href","#"+i.link,l.Kc),l.Cb(1),l.Sc(i.name)}}function kn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"button",18),l.jc("click",(function(){return l.Ic(e),l.nc(2).toggleFilters()})),l.Xb(1,"mat-icon"),l.Rc(2,"tune"),l.Wb(),l.Wb()}if(2&n){var i=l.nc(2);l.Hb("filters-active",i.showFilters)}}function In(n,t){if(1&n){var e=l.Yb();l.Xb(0,"div",19),l.Xb(1,"input",20),l.jc("keyup.enter",(function(){return l.Ic(e),l.nc(2).searchVideos()})),l.Wb(),l.Sb(2,"i",21),l.Wb()}}function Un(n,t){1&n&&l.Sb(0,"app-watchlist-tab")}function xn(n,t){if(1&n&&l.Sb(0,"app-videos-tab",5),2&n){var e=l.nc(2);l.uc("channelUser",e.channelUser)("authUser",e.authUser)}}function Wn(n,t){if(1&n&&l.Sb(0,"app-playlists-tab",5),2&n){var e=l.nc(2);l.uc("channelUser",e.channelUser)("authUser",e.authUser)}}function wn(n,t){if(1&n&&l.Sb(0,"app-about-tab",22),2&n){var e=l.nc(2);l.uc("channelUser",e.channelUser)}}function Xn(n,t){if(1&n&&(l.Vb(0),l.Sb(1,"app-channel-profile",5),l.Xb(2,"div",6),l.Xb(3,"div",7),l.Xb(4,"ul",8),l.Pc(5,On,3,5,"li",9),l.Wb(),l.Xb(6,"form",10),l.Xb(7,"div",11),l.Pc(8,kn,3,2,"button",12),l.Wb(),l.Pc(9,In,3,0,"div",13),l.Wb(),l.Wb(),l.Pc(10,Un,1,0,"app-watchlist-tab",2),l.Pc(11,xn,1,2,"app-videos-tab",14),l.Pc(12,Wn,1,2,"app-playlists-tab",14),l.Pc(13,wn,1,1,"app-about-tab",15),l.Wb(),l.Ub()),2&n){var e=l.nc();l.Cb(1),l.uc("channelUser",e.channelUser)("authUser",e.authUser),l.Cb(4),l.uc("ngForOf",e.allTabs),l.Cb(1),l.uc("formGroup",e.searchVideosForm),l.Cb(2),l.uc("ngIf","About"!==e.activeTab.name),l.Cb(1),l.uc("ngIf","About"!==e.activeTab.name),l.Cb(1),l.uc("ngIf","Watchlist"===e.activeTab.name),l.Cb(1),l.uc("ngIf","Videos"===e.activeTab.name),l.Cb(1),l.uc("ngIf","Playlists"===e.activeTab.name),l.Cb(1),l.uc("ngIf","About"===e.activeTab.name)}}function Sn(n,t){1&n&&(l.Xb(0,"div",23),l.Xb(1,"p"),l.Rc(2,"Channel with such name is not found"),l.Wb(),l.Wb())}function Rn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"button",11),l.jc("click",(function(){l.Ic(e);var n=l.nc().$implicit;return l.nc(2).subscribeToChannel(n)})),l.Rc(1),l.Wb()}if(2&n){var i=l.nc().$implicit,c=l.nc(2);l.Hb("subscribed",c.checkIfSubscribed(i)),l.Cb(1),l.Tc("",c.checkIfSubscribed(i)?"Subscribed":"Subscribe"," ")}}function Fn(n,t){if(1&n){var e=l.Yb();l.Xb(0,"li",3),l.Xb(1,"div",4),l.Sb(2,"img",5),l.oc(3,"getImgPath"),l.Wb(),l.Xb(4,"div",6),l.Xb(5,"p",7),l.jc("click",(function(){l.Ic(e);var n=t.$implicit;return l.nc(2).openChannelPage(n,null==n||null==n.user?null:n.user.username)})),l.Rc(6),l.Wb(),l.Xb(7,"div",8),l.Xb(8,"p",9),l.Rc(9),l.Wb(),l.Wb(),l.Pc(10,Rn,2,3,"button",10),l.Xb(11,"p"),l.Rc(12),l.Wb(),l.Wb(),l.Wb()}if(2&n){var i=t.$implicit,c=l.nc(2);l.Cb(2),l.uc("src",l.qc(3,5,i.avatar,"avatars"),l.Kc),l.Cb(4),l.Sc(i.name),l.Cb(3),l.Sc(i.videos.length+(1===i.videos.length?" video":" videos")),l.Cb(1),l.uc("ngIf",(null==i||null==i.user?null:i.user.username)!==(null==c.authUser?null:c.authUser.username)),l.Cb(2),l.Sc(i.description)}}function Tn(n,t){if(1&n&&(l.Xb(0,"ul"),l.Pc(1,Fn,13,8,"li",2),l.Wb()),2&n){var e=l.nc();l.Cb(1),l.uc("ngForOf",e.userChannels.subscriptions)}}var jn,Vn,En,qn,An=[{path:"show",component:(Vn=function(){function n(t,e,i,c,a,s,l,b,u,h,g,d,f){_classCallCheck(this,n),this.videoService=t,this.getAuthUser=e,this.router=i,this.usersService=c,this.base64ToFile=a,this.route=s,this.fb=l,this.subjectService=b,this.channelService=u,this.playlistsService=h,this.subject=g,this.auth=d,this.dialog=f,this.owlOptions=o.e,this.watchlistVideos=[],this.allTabs=o.h,this.apiUrl=o.b,this.playlists=[],this.editMode=!1,this.showFilters=!1,this.filters=null,this.authUser=this.getAuthUser.transform(),this.passedUsername=this.route.snapshot.queryParams.username,this.passedTab=this.route.snapshot.queryParams.tab,this.searchVideosForm=this.fb.group({search:["",r.w.required]})}return _createClass(n,[{key:"ngOnInit",value:function(){var n,t=this;localStorage.setItem("search",""),this.activeTab=(null===(n=o.h.filter((function(n){return n.name.toLowerCase()===t.passedTab})))||void 0===n?void 0:n[0])||o.h[0],this.getUserInfo()}},{key:"toggleFilters",value:function(){this.showFilters=!this.showFilters,this.subject.setToggleFiltersData(this.showFilters)}},{key:"getUserInfo",value:function(){var n=this;this.passedUsername&&this.usersService.getUserInfo({username:this.passedUsername}).subscribe((function(t){t&&(n.channelUser=t)}))}},{key:"changeActiveTab",value:function(n){this.activeTab=n,this.searchVideos(),this.showFilters=!1,this.subject.setToggleFiltersData(this.showFilters),"Videos"===this.activeTab.name&&this.getUserInfo()}},{key:"searchVideos",value:function(){var n=this.searchVideosForm.value;localStorage.setItem("search",n.search),this.showFilters=!1,this.subject.setToggleFiltersData(this.showFilters),"Watchlist"===this.activeTab.name?this.searchInVideosByAuthor(n.search):"Videos"===this.activeTab.name?this.searchInUserVideos(n.search):"Playlists"===this.activeTab.name&&this.searchInPlaylists(n.search)}},{key:"searchInVideosByAuthor",value:function(n){}},{key:"searchInUserVideos",value:function(n){this.videosTab&&this.videosTab.getSearchResults(n)}},{key:"searchInPlaylists",value:function(n){this.playlistsTab&&this.playlistsTab.getSearchResults(n)}},{key:"getVideosByTag",value:function(n){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.router.navigate(["videos"],{queryParams:{tag:n}});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnDestroy",value:function(){}}]),n}(),Vn.\u0275fac=function(n){return new(n||Vn)(l.Rb(b.a),l.Rb(Y.a),l.Rb(a.d),l.Rb(D.a),l.Rb(z.a),l.Rb(a.a),l.Rb(r.e),l.Rb(u.a),l.Rb(L.a),l.Rb(P.a),l.Rb(u.a),l.Rb(N.a),l.Rb(m.b))},Vn.\u0275cmp=l.Lb({type:Vn,selectors:[["app-show-channel"]],viewQuery:function(n,t){var e;1&n&&(l.Wc(g,!0),l.Wc(C,!0),l.Wc(A,!0)),2&n&&(l.Dc(e=l.kc())&&(t.watchListTab=e.first),l.Dc(e=l.kc())&&(t.videosTab=e.first),l.Dc(e=l.kc())&&(t.playlistsTab=e.first))},decls:4,vars:3,consts:[[1,"profile-list"],[3,"tagSelected",4,"ngIf"],[4,"ngIf"],["class","channel-not-found",4,"ngIf"],[3,"tagSelected"],[3,"channelUser","authUser"],[1,"watchlist","pWatchlist"],[1,"profile-list","user-profile-block"],["id","profileList","role","tablist",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],["id","search-videos-form",3,"formGroup"],[1,"toggle-filters-btn"],["class","filter-toggle-btn","type","button",3,"filters-active","click",4,"ngIf"],["class","watchlist-search",4,"ngIf"],[3,"channelUser","authUser",4,"ngIf"],[3,"channelUser",4,"ngIf"],[1,"nav-item"],["data-toggle","tab","role","tab","aria-controls","pWatch","aria-selected","true",1,"nav-link",3,"id","href","click"],["type","button",1,"filter-toggle-btn",3,"click"],[1,"watchlist-search"],["placeholder","Search","formControlName","search",1,"watchlist-input",3,"keyup.enter"],[1,"fas","fa-search"],[3,"channelUser"],[1,"channel-not-found"]],template:function(n,t){1&n&&(l.Xb(0,"div",0),l.Pc(1,yn,1,0,"app-user-tags",1),l.Pc(2,Xn,14,10,"ng-container",2),l.Pc(3,Sn,3,0,"div",3),l.Wb()),2&n&&(l.Cb(1),l.uc("ngIf",t.auth.loggedIn()),l.Cb(1),l.uc("ngIf",t.channelUser),l.Cb(1),l.uc("ngIf",!t.channelUser))},directives:[c.m,$.a,pn,c.l,r.y,r.p,r.i,U.a,r.c,r.o,r.h,g,C,A,Mn],styles:[".profile-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}#search-videos-form[_ngcontent-%COMP%]{display:flex}#search-videos-form[_ngcontent-%COMP%]   .toggle-filters-btn[_ngcontent-%COMP%]{display:flex;margin-right:20px;padding-top:4px}#search-videos-form[_ngcontent-%COMP%]   .toggle-filters-btn[_ngcontent-%COMP%]   .filter-toggle-btn[_ngcontent-%COMP%]{background-color:unset;height:23px}#search-videos-form[_ngcontent-%COMP%]   .filters-active[_ngcontent-%COMP%]{background-color:#18b587!important;color:#fff}"]}),Vn)},{path:"subscriptions",component:(jn=function(){function n(t,e,i,c,a){_classCallCheck(this,n),this.channelsService=t,this.getAuthUser=e,this.auth=i,this.router=c,this.subject=a,this.apiUrl=o.b,this.authUser=this.getAuthUser.transform()}return _createClass(n,[{key:"ngOnInit",value:function(){this.getUserChannelSubscriptions()}},{key:"openChannelPage",value:function(n,t){this.router.navigate(["channels/show"],{queryParams:{username:t}})}},{key:"getUserChannelSubscriptions",value:function(){var n=this;this.channelsService.getSubscriptions({user_id:this.authUser.id}).subscribe((function(t){n.userChannels=t}))}},{key:"checkIfSubscribed",value:function(n){var t;return n.channel_subscribers.subscriber_id===(null===(t=this.authUser)||void 0===t?void 0:t.id)}},{key:"subscribeToChannel",value:function(n){var t=this;this.channelsService.subscribeToChannel({user_id:this.authUser.id,channel_id:n.id}).subscribe((function(n){t.channelsService.getUserChannelSubscriptions({user_id:t.authUser.id}).subscribe((function(n){t.subject.setUserSubscriptions(n),t.getUserChannelSubscriptions()}))}))}}]),n}(),jn.\u0275fac=function(n){return new(n||jn)(l.Rb(L.a),l.Rb(Y.a),l.Rb(N.a),l.Rb(a.d),l.Rb(u.a))},jn.\u0275cmp=l.Lb({type:jn,selectors:[["app-show-subscriptions"]],decls:3,vars:1,consts:[["id","my-subscriptions"],[4,"ngIf"],["class","channel-item",4,"ngFor","ngForOf"],[1,"channel-item"],[1,"thumbnail"],[1,"avatar",3,"src"],[1,"info"],[1,"name",3,"click"],[1,"shortened-details"],[1,"video-count"],["class","btn subscribe-to-channel-btn",3,"subscribed","click",4,"ngIf"],[1,"btn","subscribe-to-channel-btn",3,"click"]],template:function(n,t){1&n&&(l.Xb(0,"h1",0),l.Rc(1,"My Subscriptions"),l.Wb(),l.Pc(2,Tn,2,1,"ul",1)),2&n&&(l.Cb(2),l.uc("ngIf",t.userChannels))},directives:[c.m,c.l],pipes:[x.a],styles:["#my-subscriptions[_ngcontent-%COMP%]{text-align:center;color:#18b587}.subscribe-to-channel-btn[_ngcontent-%COMP%]{padding:12px 28px;font-size:16px;color:#fff;background:#f53c6f;border-radius:0;box-shadow:0 0 6px rgba(0,109,204,.18)}.subscribe-to-channel-btn.subscribed[_ngcontent-%COMP%]{background-color:#d6d6d6!important}.channel-item[_ngcontent-%COMP%]{display:flex;margin-bottom:32px;flex-wrap:wrap}.channel-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:240px!important;height:240px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:4px;min-width:250px;max-width:350px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#545454;font-size:24px;font-family:Muli-Bold;cursor:pointer}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{margin-left:26px;margin-top:-3px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-family:Muli-Light}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .videos-count[_ngcontent-%COMP%], .channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .watchers-count[_ngcontent-%COMP%]{font-size:14px;color:#818181}"]}),jn)}],Yn=((En=function n(){_classCallCheck(this,n)}).\u0275mod=l.Pb({type:En}),En.\u0275inj=l.Ob({factory:function(n){return new(n||En)},imports:[[a.f.forChild(An)],a.f]}),En),Dn=e("PCNd"),zn=((qn=function n(){_classCallCheck(this,n)}).\u0275mod=l.Pb({type:qn}),qn.\u0275inj=l.Ob({factory:function(n){return new(n||qn)},imports:[[c.c,Yn,Dn.a,B.b]]}),qn)}}]);