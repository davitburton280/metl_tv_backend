function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"55j5":function(e,n,i){"use strict";i.r(n),i.d(n,"ChannelsModule",(function(){return B}));var a,t=i("ofXK"),c=i("tyNb"),s=i("9xOu"),r=i("fXoL"),o=i("FFj9"),b=i("Rnal"),l=i("tk/3"),u=((a=function(){function e(n){_classCallCheck(this,e),this.httpClient=n}return _createClass(e,[{key:"changeProfileImage",value:function(e){return this.httpClient.post(s.b+"users/change-profile-image",e)}},{key:"changeCoverImage",value:function(e){return this.httpClient.post(s.b+"users/change-cover-image",e)}},{key:"getUserInfo",value:function(e){return this.httpClient.get(s.b+"users/get-user-info",{params:e})}}]),e}()).\u0275fac=function(e){return new(e||a)(r.fc(l.b))},a.\u0275prov=r.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),f=i("1m4N"),h=i("hKYS"),p=i("kUS0"),g=i("bhfF");function v(e,n){if(1&e){var i=r.Yb();r.Xb(0,"div",22),r.Xb(1,"input",23),r.jc("change",(function(e){return r.Gc(i),r.nc(2).coverChangeEvent(e)})),r.Wb(),r.Xb(2,"ngx-photo-editor",24),r.jc("imageCropped",(function(e){return r.Gc(i),r.nc(2).coverCropped(e)})),r.Wb(),r.Wb()}if(2&e){var a=r.nc(2);r.sc("hidden",!0),r.Cb(2),r.sc("imageChanedEvent",a.coverChangedEvent)("autoCrop",!1)("viewMode",3)}}function m(e,n){if(1&e&&r.Sb(0,"img",25),2&e){var i=r.nc(2);r.sc("src",i.apiUrl+"uploads/avatars/"+i.channelUser.avatar,r.Ic)}}function d(e,n){1&e&&r.Sb(0,"img",26),2&e&&r.sc("src","assets/img/default-user.png",r.Ic)}function C(e,n){if(1&e){var i=r.Yb();r.Xb(0,"div",22),r.Xb(1,"input",27),r.jc("change",(function(e){return r.Gc(i),r.nc(2).profileChangeEvent(e)})),r.Wb(),r.Xb(2,"ngx-photo-editor",28),r.jc("imageCropped",(function(e){return r.Gc(i),r.nc(2).profileCropped(e)})),r.Wb(),r.Wb()}if(2&e){var a=r.nc(2);r.sc("hidden",!0),r.Cb(2),r.sc("imageChanedEvent",a.profileChangedEvent)("aspectRatio",4/3)("viewMode",1)("resizeToWidth",500)}}function U(e,n){1&e&&(r.Xb(0,"div",8),r.Sb(1,"i",29),r.Xb(2,"a",30),r.Pc(3,"Subscribe"),r.Wb(),r.Wb())}function I(e,n){if(1&e){var i=r.Yb();r.Xb(0,"li",31),r.Xb(1,"a",32),r.jc("click",(function(){r.Gc(i);var e=n.$implicit;return r.nc(2).changeActiveTab(e)})),r.Pc(2),r.Wb(),r.Wb()}if(2&e){var a=n.$implicit,t=r.nc(2);r.Cb(1),r.Hb("active",a===t.activeTab),r.uc("id","",a.link,"-tab"),r.uc("href","#",a.link,"",r.Ic),r.Cb(1),r.Qc(a.name)}}function W(e,n){if(1&e&&r.Sb(0,"img",44),2&e){var i=r.nc(2).$implicit,a=r.nc(5);r.sc("src",a.apiUrl+"uploads/thumbnails/"+i.thumbnail,r.Ic)}}function X(e,n){1&e&&r.Sb(0,"img",44),2&e&&r.sc("src","assets/img/video-thumbnail-default.png",r.Ic)}function w(e,n){1&e&&(r.Xb(0,"span",45),r.Pc(1,"Live now"),r.Wb())}function k(e,n){if(1&e&&r.Sb(0,"img",46),2&e){var i=r.nc(4).$implicit,a=r.nc(3);r.sc("src",a.apiUrl+"uploads/avatars/"+i.avatar,r.Ic)}}function P(e,n){1&e&&r.Sb(0,"img",46),2&e&&r.sc("src","assets/img/default-user.png",r.Ic)}function y(e,n){if(1&e){var i=r.Yb();r.Xb(0,"div",37),r.jc("click",(function(){r.Gc(i);var e=r.nc().$implicit,n=r.nc(2).$implicit;return r.nc(3).openVideoPage(e,n.username)})),r.Nc(1,W,1,1,"img",38),r.Nc(2,X,1,1,"img",38),r.Nc(3,w,2,0,"span",39),r.Xb(4,"div",40),r.Nc(5,k,1,1,"img",41),r.Nc(6,P,1,1,"img",41),r.Xb(7,"div"),r.Xb(8,"p",12),r.Pc(9),r.Wb(),r.Xb(10,"p",42),r.Pc(11),r.Wb(),r.Xb(12,"p",43),r.Pc(13,"17k watching"),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&e){var a=r.nc().$implicit,t=r.nc(2).$implicit;r.Cb(1),r.sc("ngIf",a.thumbnail),r.Cb(1),r.sc("ngIf",!a.thumbnail),r.Cb(1),r.sc("ngIf","live"===a.status),r.Cb(2),r.sc("ngIf",t.avatar),r.Cb(1),r.sc("ngIf",!t.avatar),r.Cb(3),r.Qc(a.name),r.Cb(2),r.Qc(t.full_name)}}function N(e,n){1&e&&(r.Vb(0),r.Nc(1,y,14,7,"ng-template",36),r.Ub())}function S(e,n){if(1&e&&(r.Vb(0),r.Xb(1,"p",34),r.Pc(2),r.Wb(),r.Xb(3,"owl-carousel-o",35),r.Nc(4,N,2,0,"ng-container",33),r.Wb(),r.Ub()),2&e){var i=r.nc().$implicit,a=r.nc(3);r.Cb(2),r.Qc(i.full_name),r.Cb(1),r.sc("options",a.owlOptions),r.Cb(1),r.sc("ngForOf",i.videos)}}function _(e,n){if(1&e&&(r.Vb(0),r.Nc(1,S,5,3,"ng-container",1),r.Ub()),2&e){var i=n.$implicit;r.Cb(1),r.sc("ngIf",i.videos.length>0)}}function V(e,n){if(1&e&&(r.Vb(0),r.Nc(1,_,2,1,"ng-container",33),r.Ub()),2&e){var i=r.nc(2);r.Cb(1),r.sc("ngForOf",i.watchlistVideos)}}function F(e,n){1&e&&r.Sb(0,"img",48)}function T(e,n){if(1&e&&r.Sb(0,"img",44),2&e){var i=r.nc(2).$implicit,a=r.nc(3);r.tc("src",a.apiUrl+"uploads/thumbnails/"+i.thumbnail,r.Ic)}}function O(e,n){if(1&e&&r.Sb(0,"img",46),2&e){var i=r.nc(5);r.sc("src",i.apiUrl+"uploads/avatars/"+i.authUser.avatar,r.Ic)}}function j(e,n){1&e&&r.Sb(0,"img",46),2&e&&r.sc("src","assets/img/default-user.png",r.Ic)}function E(e,n){if(1&e){var i=r.Yb();r.Xb(0,"div",37),r.jc("click",(function(){r.Gc(i);var e=r.nc().$implicit,n=r.nc(3);return n.openVideoPage(e,n.authUser.username)})),r.Nc(1,F,1,0,"img",47),r.Nc(2,T,1,1,"img",38),r.Xb(3,"div",40),r.Nc(4,O,1,1,"img",41),r.Nc(5,j,1,1,"img",41),r.Xb(6,"div"),r.Xb(7,"p",12),r.Pc(8),r.Wb(),r.Xb(9,"p",42),r.Pc(10),r.Wb(),r.Xb(11,"p",43),r.Pc(12,"17k watching"),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&e){var a=r.nc().$implicit,t=r.nc(3);r.Cb(1),r.sc("ngIf",!a.thumbnail||"undefined"===a.thumbnail),r.Cb(1),r.sc("ngIf",a.thumbnail&&"undefined"!==a.thumbnail),r.Cb(2),r.sc("ngIf",t.authUser.avatar),r.Cb(1),r.sc("ngIf",!t.authUser.avatar),r.Cb(3),r.Qc(a.name),r.Cb(2),r.Qc(t.authUser.full_name)}}function $(e,n){1&e&&(r.Vb(0),r.Nc(1,E,13,6,"ng-template",36),r.Ub())}function x(e,n){if(1&e&&(r.Vb(0),r.Xb(1,"p",34),r.Pc(2,"Recent videos"),r.Wb(),r.Xb(3,"owl-carousel-o"),r.Nc(4,$,2,0,"ng-container",33),r.Wb(),r.Ub()),2&e){var i=r.nc(2);r.Cb(4),r.sc("ngForOf",i.currentUser.videos)}}function A(e,n){if(1&e&&(r.Vb(0),r.Xb(1,"div",3),r.Nc(2,v,3,4,"div",4),r.Xb(3,"label",5),r.Sb(4,"img",6),r.Wb(),r.Wb(),r.Xb(5,"div",7),r.Xb(6,"div",8),r.Xb(7,"label",9),r.Nc(8,m,1,1,"img",10),r.Nc(9,d,1,1,"img",11),r.Wb(),r.Nc(10,C,3,5,"div",4),r.Xb(11,"div"),r.Xb(12,"p",12),r.Pc(13),r.Wb(),r.Xb(14,"p",13),r.Pc(15,"83,7 subscribers"),r.Wb(),r.Wb(),r.Wb(),r.Nc(16,U,4,0,"div",14),r.Wb(),r.Xb(17,"div",15),r.Xb(18,"div",16),r.Xb(19,"ul",17),r.Nc(20,I,3,5,"li",18),r.Wb(),r.Xb(21,"div",19),r.Sb(22,"input",20),r.Sb(23,"i",21),r.Wb(),r.Wb(),r.Nc(24,V,2,1,"ng-container",1),r.Nc(25,x,5,1,"ng-container",1),r.Wb(),r.Ub()),2&e){var i=r.nc();r.Cb(2),r.sc("ngIf",i.channelUser.username===i.authUser.username),r.Cb(2),r.sc("src",i.channelUser.cover?i.apiUrl+"uploads/covers/"+i.channelUser.cover:"assets/img/default-thumbnail.png",r.Ic),r.Cb(4),r.sc("ngIf",i.channelUser.avatar),r.Cb(1),r.sc("ngIf",!i.channelUser.avatar),r.Cb(1),r.sc("ngIf",i.channelUser.username===i.authUser.username),r.Cb(3),r.Qc(i.channelUser.channel.name),r.Cb(3),r.sc("ngIf",i.channelUser.username!==i.authUser.username),r.Cb(4),r.sc("ngForOf",i.allTabs),r.Cb(4),r.sc("ngIf","Watchlist"===i.activeTab.name),r.Cb(1),r.sc("ngIf","Videos"===i.activeTab.name)}}function R(e,n){1&e&&(r.Xb(0,"div",49),r.Xb(1,"p"),r.Pc(2,"Channel with such name is not found"),r.Wb(),r.Wb())}var G,M,Q,L=[{path:"show",component:(G=function(){function e(n,i,a,t,c,r){_classCallCheck(this,e),this.videoService=n,this.getAuthUser=i,this.router=a,this.usersService=t,this.base64ToFile=c,this.route=r,this.owlOptions=s.d,this.owlTextsArray=[{name:"David Blaine Ascension"},{name:"All Videos"},{name:"Lorem ipsum"},{name:"Lorem ipsum"}],this.watchlistVideos=[],this.activeTab=s.e[0],this.allTabs=s.e,this.apiUrl=s.b,this.authUser=this.getAuthUser.transform(),this.passedUsername=this.route.snapshot.queryParams.username}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.passedUsername&&this.usersService.getUserInfo({username:this.passedUsername}).subscribe((function(n){e.channelUser=n,console.log(e.channelUser.username,e.authUser.username)})),this.videoService.getUserVideos({user_id:this.authUser.id}).subscribe((function(n){e.currentUser=n})),this.videoService.getVideosByAuthor({}).subscribe((function(n){e.watchlistVideos=n}))}},{key:"changeActiveTab",value:function(e){this.activeTab=e}},{key:"openVideoPage",value:function(e,n){var i,a;console.log(n),"live"===e.status?(i="user/video/watch",a={session:e.session_name,publisher:n}):(i="videos/play",a={id:e.id}),this.router.navigate([i],{queryParams:a})}},{key:"coverChangeEvent",value:function(e){this.coverChangedEvent=e}},{key:"profileChangeEvent",value:function(e){this.profileChangedEvent=e}},{key:"profileCropped",value:function(e){var n=this;this.profileBase64=e.base64;var i="profile_".concat(Date.now(),".jpg"),a=new FormData;a.append("avatar_file",this.base64ToFile.transform(e.base64),i),a.append("avatar",i),a.append("id",this.authUser.id),this.usersService.changeProfileImage(a).subscribe((function(e){localStorage.setItem("token",e.token),n.authUser=n.getAuthUser.transform(),n.channelUser=n.authUser}))}},{key:"coverCropped",value:function(e){var n=this;this.coverBase64=e.base64;var i=new FormData,a="cover_".concat(Date.now(),".jpg");i.append("cover_file",this.base64ToFile.transform(e.base64),a),i.append("cover",a),i.append("id",this.authUser.id),this.usersService.changeCoverImage(i).subscribe((function(e){localStorage.setItem("token",e.token),n.authUser=n.getAuthUser.transform(),n.channelUser=n.authUser}))}}]),e}(),G.\u0275fac=function(e){return new(e||G)(r.Rb(o.a),r.Rb(b.a),r.Rb(c.c),r.Rb(u),r.Rb(f.a),r.Rb(c.a))},G.\u0275cmp=r.Lb({type:G,selectors:[["app-show-channel"]],decls:4,vars:2,consts:[[1,"profile-list"],[4,"ngIf"],["class","channel-not-found",4,"ngIf"],[1,"profile-block"],[3,"hidden",4,"ngIf"],["for","cover-image-input"],["id","cover-image",3,"src"],[1,"sub-block"],[1,"d-flex","align-items-center"],["for","profile-image-input"],["class","avatar list-img",3,"src",4,"ngIf"],["class","avatar","id","profile-image",3,"src",4,"ngIf"],[1,"main-text-1"],[1,"main-text-4"],["class","d-flex align-items-center",4,"ngIf"],[1,"watchlist","pWatchlist"],[1,"profile-list","user-profile-block"],["id","profileList","role","tablist",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],[1,"watchlist-search"],["placeholder","Search",1,"watchlist-input"],[1,"fas","fa-search"],[3,"hidden"],["type","file","id","cover-image-input",3,"change"],[3,"imageChanedEvent","autoCrop","viewMode","imageCropped"],[1,"avatar","list-img",3,"src"],["id","profile-image",1,"avatar",3,"src"],["type","file","id","profile-image-input",3,"change"],[3,"imageChanedEvent","aspectRatio","viewMode","resizeToWidth","imageCropped"],[1,"sub-bell","fas","fa-bell"],[1,"subscribe-btn"],[1,"nav-item"],["data-toggle","tab","role","tab","aria-controls","pWatch","aria-selected","true",1,"nav-link",3,"id","href","click"],[4,"ngFor","ngForOf"],[1,"trending-text"],[3,"options"],["carouselSlide",""],[1,"item","main-carousel-item",3,"click"],["class","main-item-img",3,"src",4,"ngIf"],["class","live-now",4,"ngIf"],[1,"main-item-block"],["class","avatar",3,"src",4,"ngIf"],[1,"main-text-2"],[1,"main-text-3"],[1,"main-item-img",3,"src"],[1,"live-now"],[1,"avatar",3,"src"],["class","main-item-img","src","assets/img/video-thumbnail-default.png",4,"ngIf"],["src","assets/img/video-thumbnail-default.png",1,"main-item-img"],[1,"channel-not-found"]],template:function(e,n){1&e&&(r.Xb(0,"div",0),r.Sb(1,"app-categories"),r.Nc(2,A,26,10,"ng-container",1),r.Nc(3,R,3,0,"div",2),r.Wb()),2&e&&(r.Cb(2),r.sc("ngIf",n.channelUser),r.Cb(1),r.sc("ngIf",!n.channelUser))},directives:[h.a,t.m,t.l,p.a,g.a,g.c],styles:[".profile-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}"]}),G)}],Y=((M=function e(){_classCallCheck(this,e)}).\u0275mod=r.Pb({type:M}),M.\u0275inj=r.Ob({factory:function(e){return new(e||M)},imports:[[c.d.forChild(L)],c.d]}),M),D=i("PCNd"),B=((Q=function e(){_classCallCheck(this,e)}).\u0275mod=r.Pb({type:Q}),Q.\u0275inj=r.Ob({factory:function(e){return new(e||Q)},imports:[[t.c,Y,D.a,p.b]]}),Q)}}]);