function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{zOVB:function(t,e,n){"use strict";n.r(e),n.d(e,"GroupsModule",(function(){return gt}));var o,r,i=n("ofXK"),s=n("tyNb"),c=n("mrSG"),a=n("0IaG"),u=n("3Pt+"),p=n("fXoL"),l=n("4J+n"),g=n("WHgu"),b=n("NzlK"),d=n("eqEZ"),f=n("fZdh"),m=((o=function(){function t(e,n,o,r,i,s,c){_classCallCheck(this,t),this.authUser=e,this.fb=n,this.dialog=o,this.groupsService=r,this.socketService=i,this.groupsStore=s,this.lowerCaseRemoveSpaces=c,this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.groupForm=this.fb.group({name:["",u.x.required],custom_name:["",u.x.required],privacy:["0"],creator_id:this.authUser.id,username:this.authUser.username})}},{key:"submitForm",value:function(){var t=this;this.groupForm.patchValue({custom_name:this.lowerCaseRemoveSpaces.transform(this.groupForm.value.name)});var e=this.groupForm.value;this.groupForm.valid&&this.subscriptions.push(this.groupsService.addGroup(e).subscribe((function(n){return Object(c.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=n.find((function(t){return e.name===t.name})),this.groupsStore.setGroups(n),this.groupsStore.selectGroup(o),this.dialog.close(this.groupForm.value);case 2:case"end":return t.stop()}}),t,this)})))})))}},{key:"closeDialog",value:function(){this.dialog.close(null)}}]),t}()).\u0275fac=function(t){return new(t||o)(p.Qb(a.a),p.Qb(u.e),p.Qb(a.d),p.Qb(l.a),p.Qb(g.a),p.Qb(b.a),p.Qb(d.a))},o.\u0275cmp=p.Kb({type:o,selectors:[["app-create-new-group-dialog"]],decls:27,vars:6,consts:[[1,"dialog-container"],[1,"close-btn-wrap"],["src","assets/img/x.svg","alt","close-dialog",1,"close-box",3,"click"],[1,"dialog-header"],["id","admin-info"],[1,"avatar",3,"src"],[3,"formGroup"],[1,"field-row"],["for","group-name-input"],["id","group-name-input","formControlName","name"],["for","privacy-types"],["id","privacy-types","formControlName","privacy"],["value","0"],["value","1"],[1,"button-wrap"],[3,"click"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"div",1),p.Wb(2,"img",2),p.ec("click",(function(){return e.closeDialog()})),p.Vb(),p.Vb(),p.Wb(3,"div",3),p.Wb(4,"h3"),p.Kc(5,"Create a new group"),p.Vb(),p.Vb(),p.Wb(6,"div",4),p.Rb(7,"img",5),p.jc(8,"getImgPath"),p.Wb(9,"strong"),p.Kc(10),p.Vb(),p.Vb(),p.Wb(11,"form",6),p.Wb(12,"div",7),p.Wb(13,"label",8),p.Kc(14,"Group name"),p.Vb(),p.Rb(15,"input",9),p.Vb(),p.Wb(16,"div",7),p.Wb(17,"label",10),p.Kc(18,"Choose privacy"),p.Vb(),p.Wb(19,"select",11),p.Wb(20,"option",12),p.Kc(21,"Public"),p.Vb(),p.Wb(22,"option",13),p.Kc(23,"Private"),p.Vb(),p.Vb(),p.Vb(),p.Wb(24,"div",14),p.Wb(25,"button",15),p.ec("click",(function(){return e.submitForm()})),p.Kc(26,"Create"),p.Vb(),p.Vb(),p.Vb(),p.Vb()),2&t&&(p.Cb(7),p.pc("src",p.lc(8,3,e.authUser.avatar,"user_avatars"),p.Dc),p.Cb(3),p.Lc(e.authUser.first_name+" "+e.authUser.last_name),p.Cb(1),p.pc("formGroup",e.groupForm))},directives:[u.z,u.q,u.i,u.c,u.p,u.h,u.w,u.t,u.y],pipes:[f.a],styles:[".dialog-container[_ngcontent-%COMP%]{position:relative;padding:40px}.dialog-container[_ngcontent-%COMP%]   #admin-info[_ngcontent-%COMP%]{margin-top:20px;display:flex;align-items:center}.dialog-container[_ngcontent-%COMP%]   .close-btn-wrap[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px}.dialog-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Muli-Regular,sans-serif}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]{margin-top:20px}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-family:Muli-Bold,sans-serif;margin-bottom:10px}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #group-name-input[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #privacy-types[_ngcontent-%COMP%]{height:40px;border:1px solid #c3c3c3;width:100%}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-wrap[_ngcontent-%COMP%]{margin-top:30px}.dialog-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;background:#18b587;width:100%}"]}),o),h=n("il7l"),v=n("PPbg"),C=n("Gc2z"),_=((r=function(){function t(e){_classCallCheck(this,t),this.lowerCaseRemoveSpaces=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getUrl",value:function(){var t="/groups/"+this.group.name.replace(" /g","_")+"/about";return this.lowerCaseRemoveSpaces.transform(t)}}]),t}()).\u0275fac=function(t){return new(t||r)(p.Qb(d.a))},r.\u0275cmp=p.Kb({type:r,selectors:[["app-group-item"]],inputs:{group:"group"},decls:7,vars:6,consts:[["appNavigateToFixedGroupUrl","",3,"name"],[1,"img-wrap"],[3,"src"],[1,"group-name-wrap"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"div",1),p.Rb(2,"img",2),p.jc(3,"getImgPath"),p.Vb(),p.Wb(4,"div",3),p.Wb(5,"strong"),p.Kc(6),p.Vb(),p.Vb(),p.Vb()),2&t&&(p.pc("name",e.group.name),p.Cb(2),p.pc("src",p.lc(3,3,e.group.avatar,"group_avatars"),p.Dc),p.Cb(4),p.Lc(e.group.name))},directives:[C.a],pipes:[f.a],styles:[""]}),r);function O(t,e){if(1&t&&(p.Wb(0,"li",4),p.Rb(1,"app-group-item",5),p.Vb()),2&t){var n=e.$implicit;p.Cb(1),p.pc("group",n)}}function M(t,e){if(1&t&&(p.Wb(0,"li",4),p.Rb(1,"app-group-item",5),p.Vb()),2&t){var n=e.$implicit;p.Cb(1),p.pc("group",n)}}var P,y,w=((P=function(){function t(e,n,o,r,i,s){_classCallCheck(this,t),this.groupsStore=e,this.chatService=n,this.userStore=o,this.socketService=r,this.router=i,this.dialog=s,this.groups=[],this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAuthUser(),this.trackGroups()}},{key:"trackGroups",value:function(){var t=this;this.subscriptions.push(this.groupsStore.groups$.subscribe((function(e){t.groups=e})))}},{key:"getAuthUser",value:function(){var t=this;this.userStore.authUser$.subscribe((function(e){t.authUser=e}))}},{key:"filterGroups",value:function(t){var e=this;return this.groups.filter((function(n){return"managed"===t?n.creator_id===e.authUser.id:n.creator_id!==e.authUser.id}))}},{key:"openModal",value:function(){var t=this;this.dialog.open(m,{width:"500px",height:"450px",data:this.authUser}).afterClosed().subscribe((function(e){return Object(c.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,!t.t0){t.next=4;break}return t.next=4,this.router.navigateByUrl("/groups/"+e.custom_name+"/people");case 4:case"end":return t.stop()}}),t,this)})))}))}}]),t}()).\u0275fac=function(t){return new(t||P)(p.Qb(b.a),p.Qb(h.a),p.Qb(v.a),p.Qb(g.a),p.Qb(s.d),p.Qb(a.b))},P.\u0275cmp=p.Kb({type:P,selectors:[["app-show-groups"]],decls:11,vars:2,consts:[[1,"row"],["id","create-group-btn",3,"click"],[1,"groups-type-title"],["class","group-item-wrap",4,"ngFor","ngForOf"],[1,"group-item-wrap"],[3,"group"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"button",1),p.ec("click",(function(){return e.openModal()})),p.Kc(2,"Create new group"),p.Vb(),p.Vb(),p.Wb(3,"h3",2),p.Kc(4,"Groups you manage"),p.Vb(),p.Wb(5,"ul"),p.Ic(6,O,2,1,"li",3),p.Vb(),p.Wb(7,"h3",2),p.Kc(8,"Groups you've joined"),p.Vb(),p.Wb(9,"ul"),p.Ic(10,M,2,1,"li",3),p.Vb()),2&t&&(p.Cb(6),p.pc("ngForOf",e.filterGroups("managed")),p.Cb(4),p.pc("ngForOf",e.filterGroups("joined")))},directives:[i.l,_],styles:[".row[_ngcontent-%COMP%]:first-of-type{display:flex;justify-content:flex-end}.row[_ngcontent-%COMP%]:first-of-type   #create-group-btn[_ngcontent-%COMP%]{width:119px;height:36px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;background:#18b587;padding:0;width:150px}.groups-type-title[_ngcontent-%COMP%]{border-bottom:1px solid #b3b3b3;margin:20px}ul[_ngcontent-%COMP%]{display:flex;width:100%;height:300px;overflow-y:auto;flex-wrap:wrap}ul[_ngcontent-%COMP%]   .group-item-wrap[_ngcontent-%COMP%]{text-align:center;text-transform:capitalize;cursor:pointer}ul[_ngcontent-%COMP%]   .group-item-wrap[_ngcontent-%COMP%]:hover{color:#18b587}ul[_ngcontent-%COMP%]   .group-item-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}"]}),P),G=n("9xOu"),x=n("iing"),k=n("tVj7"),V=n("h9lT"),W=((y=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"disableControl",set:function(t){var e=t.condition,n=t.control;null==n||n[e?"disable":"enable"]()}}]),t}()).\u0275fac=function(t){return new(t||y)},y.\u0275dir=p.Lb({type:y,selectors:[["","disableControl",""]],inputs:{disableControl:"disableControl"}}),y);function S(t,e){if(1&t&&(p.Wb(0,"p",26),p.Kc(1),p.Vb()),2&t){var n=p.ic().$implicit;p.Cb(1),p.Lc(n.value.status)}}var I=function(t,e){return{condition:t,control:e}};function U(t,e){if(1&t){var n=p.Xb();p.Wb(0,"li",15),p.Wb(1,"div",16),p.Wb(2,"label",17),p.Wb(3,"div",18),p.Rb(4,"img",19),p.jc(5,"getImgPath"),p.Vb(),p.Wb(6,"div"),p.Wb(7,"p",20),p.Kc(8),p.Vb(),p.Ic(9,S,2,1,"p",21),p.Vb(),p.Vb(),p.Vb(),p.Wb(10,"div",22),p.Wb(11,"label"),p.Rb(12,"input",23),p.Rb(13,"input",24),p.Wb(14,"input",25),p.ec("change",(function(t){p.Bc(n);var o=e.$implicit;return p.ic().selectContact(t,o)})),p.Vb(),p.Rb(15,"span"),p.Vb(),p.Vb(),p.Vb()}if(2&t){var o=e.$implicit,r=e.index,i=p.ic();p.Gb("processed-contact",i.isProcessedContact(o.value.status)),p.pc("formGroupName",r),p.Cb(2),p.pc("for","contact_"+o.value.i),p.Cb(2),p.pc("src",p.lc(5,9,o.value.avatar,"user_avatars"),p.Dc),p.Cb(4),p.Lc(o.value.first_name+" "+o.value.last_name),p.Cb(1),p.pc("ngIf","not joined"!==o.value.status),p.Cb(5),p.pc("id","contact_"+o.value.id)("disableControl",p.uc(12,I,i.isProcessedContact(o.value.status),i.getCheckBoxControl(o)))}}function j(t,e){if(1&t){var n=p.Xb();p.Wb(0,"li",15),p.Wb(1,"div",16),p.Wb(2,"label",17),p.Rb(3,"img",19),p.jc(4,"getImgPath"),p.Wb(5,"span"),p.Kc(6),p.Vb(),p.Vb(),p.Vb(),p.Wb(7,"div",22),p.Wb(8,"button",27),p.Wb(9,"i",28),p.ec("click",(function(){p.Bc(n);var t=e.$implicit;return p.ic().removeContactFromSelected(t)})),p.Vb(),p.Vb(),p.Vb(),p.Vb()}if(2&t){var o=e.$implicit,r=e.index;p.pc("formGroupName",r),p.Cb(2),p.pc("for",o.value.id+"_"+r),p.Cb(1),p.pc("src",p.lc(4,4,o.value.avatar,"user_avatars"),p.Dc),p.Cb(3),p.Lc(o.value.first_name+" "+o.value.last_name)}}var K,F=((K=function(){function t(e,n,o,r,i,s,c,a,u){_classCallCheck(this,t),this.authUser=e,this.groupsStore=n,this.usersMessagesStore=o,this.usersService=r,this.socketService=i,this.groupsService=s,this.dialog=c,this.getArraysDifference=a,this.fb=u,this.userContacts=[],this.selectedContacts=[],this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.selectedGroup=this.groupsStore.selectedGroup,console.log(this.selectedGroup),this.initForm()}},{key:"initForm",value:function(){this.contactsInviteForm=this.fb.group({contacts:this.fb.array(this.getContactsFormGroup())})}},{key:"getContactsFormGroup",value:function(){var t=this,e=[];return this.usersMessagesStore.usersMessages.map((function(n,o){var r=t.selectedContacts.find((function(t){return t.id===n.id})),i=t.selectedGroup.group_members.find((function(t){return t.id===n.id})),s="not joined";if(i){var c=i.groups_members;i&&(s=c.confirmed?"joined":"invited",c.accepted&&!c.confirmed&&(s="accepted"))}e.push(t.fb.group(Object.assign({name:"contact_"+o,checked:!!r,status:s},n)))})),e}},{key:"selectContact",value:function(t,e){t.target.checked?this.selectedContacts.push(e.value):this.selectedContacts=this.selectedContacts.filter((function(t){return t.id!==e.value.id}))}},{key:"removeContactFromSelected",value:function(t){this.contactCtrls.controls.find((function(e){return e.value.id===t.value.id})).patchValue({checked:!1})}},{key:"sendInvitationsToContacts",value:function(){var t=this;this.subscriptions.push(this.groupsService.addGroupMembers({group_id:this.selectedGroup.id,member_ids:this.selectedContacts.map((function(t){return t.id}))}).subscribe((function(e){t.socketService.inviteToNewPageGroup({invited_members:t.selectedContacts,from_user:t.authUser,group:t.selectedGroup,msg:"<strong>".concat(t.authUser.first_name+" "+t.authUser.last_name,"</strong>\n                    has sent an invitation to join the <strong>").concat(t.selectedGroup.name,"</strong> group")}),t.groupsStore.changeGroup(e),t.closeDialog()})))}},{key:"isProcessedContact",value:function(t){return-1!==["invited","joined","accepted"].indexOf(t)}},{key:"getCheckBoxControl",value:function(t){return t.controls.checked}},{key:"closeDialog",value:function(){this.dialog.close()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}},{key:"contactCtrls",get:function(){return this.contactsInviteForm.controls.contacts}},{key:"checkedContactCtrls",get:function(){return this.contactCtrls.controls.filter((function(t){return t.value.checked}))}}]),t}()).\u0275fac=function(t){return new(t||K)(p.Qb(a.a),p.Qb(b.a),p.Qb(x.a),p.Qb(k.a),p.Qb(g.a),p.Qb(l.a),p.Qb(a.d),p.Qb(V.a),p.Qb(u.e))},K.\u0275cmp=p.Kb({type:K,selectors:[["app-group-members-invitation-dialog"]],decls:21,vars:3,consts:[["id","dialog-header"],["src","assets/img/x.svg","alt","close-dialog",1,"close-box",3,"click"],[3,"formGroup"],["id","group-members-wrap"],["id","suggested-contacts"],["id","contact-search-wrap"],["placeholder","Find a contact"],[1,"fas","fa-search"],["formArrayName","contacts"],[3,"formGroupName","processed-contact",4,"ngFor","ngForOf"],["id","selected-contacts"],[3,"formGroupName",4,"ngFor","ngForOf"],["id","dialog-actions"],["id","close-dialog",3,"click"],["id","send-invites",3,"click"],[3,"formGroupName"],[1,"details"],[3,"for"],[1,"avatar-wrap"],[1,"avatar",3,"src"],[1,"contact-full-name"],["class","contact-status",4,"ngIf"],[1,"state"],["type","hidden","formControlName","id"],["type","hidden","formControlName","name"],["type","checkbox","formControlName","checked",3,"id","disableControl","change"],[1,"contact-status"],["id","remove-from-selected-contacts-btn"],[1,"fas","fa-times",3,"click"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"h3"),p.Kc(2,"Invite contacts to this group"),p.Vb(),p.Wb(3,"div"),p.Wb(4,"img",1),p.ec("click",(function(){return e.closeDialog()})),p.Vb(),p.Vb(),p.Vb(),p.Wb(5,"form",2),p.Wb(6,"div",3),p.Wb(7,"div",4),p.Wb(8,"div",5),p.Rb(9,"input",6),p.Rb(10,"i",7),p.Vb(),p.Wb(11,"ul",8),p.Ic(12,U,16,15,"li",9),p.Vb(),p.Vb(),p.Wb(13,"div",10),p.Wb(14,"ul",8),p.Ic(15,j,10,7,"li",11),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(16,"div",12),p.Wb(17,"button",13),p.ec("click",(function(){return e.closeDialog()})),p.Kc(18,"Cancel"),p.Vb(),p.Wb(19,"button",14),p.ec("click",(function(){return e.sendInvitationsToContacts()})),p.Kc(20,"Send invites"),p.Vb(),p.Vb()),2&t&&(p.Cb(5),p.pc("formGroup",e.contactsInviteForm),p.Cb(7),p.pc("ngForOf",e.contactCtrls.controls),p.Cb(3),p.pc("ngForOf",e.checkedContactCtrls))},directives:[u.z,u.q,u.i,u.d,i.l,u.j,i.m,u.c,u.p,u.h,u.a,W],pipes:[f.a],styles:['@charset "UTF-8";#dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:30px 20px}#dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Muli-Bold,sans-serif}#dialog-header[_ngcontent-%COMP%]   .close-box[_ngcontent-%COMP%]{cursor:pointer}input[type=checkbox][_ngcontent-%COMP%]{width:15px;height:15px}#group-members-wrap[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px;padding:0 25px}#group-members-wrap[_ngcontent-%COMP%]   #suggested-contacts[_ngcontent-%COMP%]{border-top:1px solid #efefef;border-bottom:1px solid #efefef;flex:60%}#group-members-wrap[_ngcontent-%COMP%]   #suggested-contacts[_ngcontent-%COMP%]   #contact-search-wrap[_ngcontent-%COMP%]{position:relative;width:93%;margin-top:15px}#group-members-wrap[_ngcontent-%COMP%]   #suggested-contacts[_ngcontent-%COMP%]   #contact-search-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;padding:8px 32px 8px 16px!important;font-family:Muli-Light,sans-serif;background:#efefef;color:#545454;font-size:16px}#group-members-wrap[_ngcontent-%COMP%]   #suggested-contacts[_ngcontent-%COMP%]   #contact-search-wrap[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;color:#6a6a6a;right:11px;top:10px;z-index:333;cursor:pointer}#group-members-wrap[_ngcontent-%COMP%]   #suggested-contacts[_ngcontent-%COMP%]   .joined-contact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:#18b587}#group-members-wrap[_ngcontent-%COMP%]   #suggested-contacts[_ngcontent-%COMP%]   .invited-contact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#a7a3a3}#group-members-wrap[_ngcontent-%COMP%]   #selected-contacts[_ngcontent-%COMP%]{background-color:hsla(0,0%,78.4%,.45);flex:40%}#group-members-wrap[_ngcontent-%COMP%]   #selected-contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:20px;width:95%}#group-members-wrap[_ngcontent-%COMP%]   #selected-contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}#group-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:500px;overflow:auto}#group-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:20px;height:400px}#group-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;max-width:492px;width:100%;align-items:center;justify-content:space-between;margin-bottom:20px}#group-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-family:Muli-Bold,sans-serif}#group-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%], #group-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}#dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:25px}#dialog-actions[_ngcontent-%COMP%]   #send-invites[_ngcontent-%COMP%]{width:119px;height:36px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;background:#18b587;padding:0;margin-right:10px}#dialog-actions[_ngcontent-%COMP%]   #close-dialog[_ngcontent-%COMP%]{background-color:transparent;padding:0 20px;font-size:16px;font-family:Muli-Light,sans-serif}.state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{visibility:hidden;display:block;height:0;width:0;overflow:hidden}.state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:20px;width:20px;border:1px solid grey;display:inline-block;position:relative;background-color:transparent}.state[_ngcontent-%COMP%]   [type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{content:"\u2714";position:absolute;top:-2px;left:3px;color:#18b587}#remove-from-selected-contacts-btn[_ngcontent-%COMP%]{cursor:pointer}.avatar-wrap[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);width:42px!important;height:42px;border-radius:50%;margin-right:16px!important}.processed-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#bdbdbd}.processed-contact[_ngcontent-%COMP%]   .contact-status[_ngcontent-%COMP%]{font-size:.8125rem;margin-top:2px}.processed-contact[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.7}.processed-contact[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border:1px solid #ddd}']}),K),Q=n("dJ++"),L=n("KaMB"),R=n("Y9zH"),J=n("NFeN"),z=n("STbY");function N(t,e){if(1&t){var n=p.Xb();p.Wb(0,"button",24),p.ec("click",(function(){return p.Bc(n),p.ic(3).joinGroup()})),p.Kc(1," Join "),p.Vb()}}function B(t,e){if(1&t&&(p.Wb(0,"button",25),p.Wb(1,"span"),p.Kc(2,"Joined"),p.Vb(),p.Wb(3,"mat-icon"),p.Kc(4,"arrow_drop_down"),p.Vb(),p.Vb()),2&t){p.ic();var n=p.xc(5);p.pc("matMenuTriggerFor",n)}}function q(t,e){1&t&&(p.Wb(0,"button",26),p.Wb(1,"mat-icon"),p.Kc(2,"check"),p.Vb(),p.Wb(3,"span"),p.Kc(4,"Waiting for confirmation"),p.Vb(),p.Vb())}function $(t,e){if(1&t){var n=p.Xb();p.Ub(0),p.Ic(1,N,2,0,"button",16),p.Ic(2,B,5,1,"button",17),p.Ic(3,q,5,0,"button",18),p.Wb(4,"mat-menu",null,19),p.Wb(6,"button",20),p.Rb(7,"i",21),p.Wb(8,"span"),p.Kc(9,"Unfollow group"),p.Vb(),p.Vb(),p.Wb(10,"button",22),p.ec("click",(function(){return p.Bc(n),p.ic(2).leaveGroup()})),p.Rb(11,"i",23),p.Wb(12,"span"),p.Kc(13,"Leave group"),p.Vb(),p.Vb(),p.Vb(),p.Tb()}if(2&t){var o=p.ic(2);p.Cb(1),p.pc("ngIf","not connected"===o.userGroupConnStatus),p.Cb(1),p.pc("ngIf","confirmed"===o.userGroupConnStatus),p.Cb(1),p.pc("ngIf","unconfirmed"===o.userGroupConnStatus)}}function D(t,e){if(1&t&&(p.Wb(0,"li",27),p.Wb(1,"a",28),p.Kc(2),p.Vb(),p.Vb()),2&t){var n=e.$implicit,o=p.ic(2);p.Cb(1),p.pc("routerLink","/groups/"+o.passedGroupName+"/"+n.link),p.Cb(1),p.Lc(n.name)}}function T(t,e){if(1&t){var n=p.Xb();p.Wb(0,"div",29),p.Wb(1,"router-outlet",30),p.ec("activate",(function(t){return p.Bc(n),p.ic(2).onOutletLoaded(t)})),p.Vb(),p.Vb()}}function A(t,e){if(1&t){var n=p.Xb();p.Ub(0),p.Rb(1,"app-user-tags"),p.Wb(2,"div",1),p.Wb(3,"div",2),p.Rb(4,"img",3),p.jc(5,"getImgPath"),p.Vb(),p.Wb(6,"div",4),p.Wb(7,"div",5),p.Wb(8,"div",6),p.Wb(9,"strong",7),p.Kc(10),p.Vb(),p.Vb(),p.Wb(11,"div",6),p.Wb(12,"div",8),p.Wb(13,"mat-icon"),p.Kc(14),p.Vb(),p.Wb(15,"span"),p.Kc(16),p.Vb(),p.Vb(),p.Wb(17,"div",9),p.Wb(18,"strong"),p.Wb(19,"span"),p.Kc(20),p.Vb(),p.Kc(21," members "),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(22,"div",10),p.Ic(23,$,14,3,"ng-container",0),p.Wb(24,"button",11),p.ec("click",(function(){return p.Bc(n),p.ic().openMembersModal()})),p.Wb(25,"mat-icon"),p.Kc(26,"add"),p.Vb(),p.Kc(27," Invite "),p.Vb(),p.Vb(),p.Vb(),p.Wb(28,"div",4),p.Wb(29,"div",12),p.Wb(30,"ul",13),p.Ic(31,D,3,2,"li",14),p.Vb(),p.Vb(),p.Vb(),p.Ic(32,T,2,0,"div",15),p.Vb(),p.Tb()}if(2&t){var o=p.ic();p.Cb(4),p.pc("src",p.lc(5,8,null==o.selectedGroup?null:o.selectedGroup.cover,"group_covers"),p.Dc),p.Cb(6),p.Lc(null==o.selectedGroup?null:o.selectedGroup.name),p.Cb(4),p.Lc("public"===o.groupPrivacy?o.groupPrivacy:"lock"),p.Cb(2),p.Lc(o.groupPrivacy),p.Cb(4),p.Lc(o.getConfirmedMembersCount()),p.Cb(3),p.pc("ngIf",o.showJoinBtn()),p.Cb(8),p.pc("ngForOf",o.groupTabs),p.Cb(1),p.pc("ngIf",o.selectedGroup)}}function X(t,e){1&t&&(p.Wb(0,"span"),p.Kc(1,"The group is not found"),p.Vb())}function E(t,e){if(1&t&&(p.Wb(0,"li"),p.Rb(1,"img",7),p.jc(2,"getImgPath"),p.Wb(3,"strong"),p.Kc(4),p.Vb(),p.Vb()),2&t){var n=e.$implicit;p.Cb(1),p.pc("src",p.lc(2,2,n.avatar,"user_avatars"),p.Dc),p.Cb(3),p.Lc(n.first_name+" "+n.last_name)}}function H(t,e){if(1&t&&(p.Wb(0,"div",6),p.Wb(1,"strong"),p.Kc(2,"Admins"),p.Vb(),p.Wb(3,"ul"),p.Ic(4,E,5,5,"li",4),p.Vb(),p.Vb()),2&t){var n=p.ic();p.Cb(3),p.Gb("bordered",!n.isOwnGroup),p.Cb(1),p.pc("ngForOf",n.admins)}}function Y(t,e){if(1&t){var n=p.Xb();p.Wb(0,"button",10),p.Wb(1,"i",11),p.ec("click",(function(){p.Bc(n);var t=p.ic().$implicit;return p.ic().removeMember(t)})),p.Vb(),p.Vb()}}function Z(t,e){if(1&t&&(p.Wb(0,"li"),p.Wb(1,"div",8),p.Rb(2,"img",7),p.jc(3,"getImgPath"),p.Wb(4,"strong"),p.Kc(5),p.Vb(),p.Vb(),p.Wb(6,"div"),p.Ic(7,Y,2,0,"button",9),p.Vb(),p.Vb()),2&t){var n=e.$implicit,o=p.ic();p.Cb(2),p.pc("src",p.lc(3,3,n.avatar,"user_avatars"),p.Dc),p.Cb(3),p.Lc(n.first_name+" "+n.last_name),p.Cb(2),p.pc("ngIf",o.isOwnGroup)}}function tt(t,e){if(1&t){var n=p.Xb();p.Wb(0,"li",14),p.Rb(1,"img",7),p.jc(2,"getImgPath"),p.Wb(3,"strong"),p.Kc(4),p.Vb(),p.Wb(5,"button",15),p.ec("click",(function(){p.Bc(n);var t=e.$implicit;return p.ic(2).confirmJoinGroup(t)})),p.Kc(6,"Confirm"),p.Vb(),p.Wb(7,"button",16),p.ec("click",(function(){p.Bc(n);var t=e.$implicit;return p.ic(2).ignoreJoinGroup(t)})),p.Kc(8,"Ignore"),p.Vb(),p.Vb()}if(2&t){var o=e.$implicit;p.Cb(1),p.pc("src",p.lc(2,2,o.avatar,"user_avatars"),p.Dc),p.Cb(3),p.Lc(o.first_name+" "+o.last_name)}}function et(t,e){if(1&t&&(p.Wb(0,"div",12),p.Wb(1,"strong"),p.Kc(2,"Requests"),p.Vb(),p.Wb(3,"ul"),p.Ic(4,tt,9,5,"li",13),p.Vb(),p.Vb()),2&t){var n=p.ic();p.Cb(4),p.pc("ngForOf",n.requestedMembers)}}var nt,ot,rt,it,st,ct,at,ut=[{path:"",component:w,data:{title:"Groups"}},{path:":name",component:(st=function(){function t(e,n,o,r,i,s,c,a){_classCallCheck(this,t),this.groupsStore=e,this.groupsService=n,this.route=o,this.userStore=r,this.dialog=i,this.lowerCaseRemoveSpaces=s,this.isEmptyObj=c,this.socketService=a,this.subscriptions=[],this.isOwnGroup=!1,this.groupTabs=G.i,this.groupPrivacy="public",this.userGroupConnStatus="not connected"}return _createClass(t,[{key:"ngOnInit",value:function(){this.trackSelectedGroup(),this.getAuthUser(),this.getSelectedGroup(),this.getAcceptedJoinPageGroup(),this.getConfirmedJoinGroup(),this.getIgnoredJoinGroup(),this.getJoinGroup(),this.getRemovedSavedMember(),this.getLeftGroup()}},{key:"getAuthUser",value:function(){var t=this;this.subscriptions.push(this.userStore.authUser$.subscribe((function(e){t.authUser=e})))}},{key:"trackSelectedGroup",value:function(){var t=this;this.subscriptions.push(this.groupsStore.selectedGroup$.subscribe((function(e){t.selectedGroup=e,t.groupPrivacy=1===e.privacy?"private":"public",!t.isEmptyObj.transform(e)&&t.authUser&&t.getUserGroupConnStatus()})))}},{key:"getSelectedGroup",value:function(){var t=this;this.route.params.subscribe((function(e){t.passedGroupName=e.name,t.getGroupFromStore()||t.getGroupFromServer()}))}},{key:"getGroupFromStore",value:function(){var t=this;return this.selectedGroup=this.groupsStore.groups.find((function(e){return t.lowerCaseRemoveSpaces.transform(e.name)===t.passedGroupName})),this.selectedGroup&&(this.isOwnGroup=this.selectedGroup.creator_id===this.authUser.id,this.groupsStore.selectGroup(this.selectedGroup)),!!this.selectedGroup}},{key:"getGroupFromServer",value:function(){var t=this;this.groupsService.getGroupByCustomName({custom_name:this.passedGroupName}).subscribe((function(e){t.selectedGroup=e,t.isOwnGroup=t.selectedGroup.creator_id===t.authUser.id,t.groupsStore.selectGroup(t.selectedGroup)}))}},{key:"joinGroup",value:function(){var t=this;console.log(this.selectedGroup),this.groupsService.joinGroup({member_ids:[this.authUser.id],group_id:this.selectedGroup.id,accepted:1}).subscribe((function(e){t.userGroupConnStatus="unconfirmed",t.socketService.joinGroup({group:t.selectedGroup,from_user:t.authUser,msg:"<strong>".concat(t.authUser.first_name+" "+t.authUser.last_name,"</strong> wants to to join the <strong>").concat(t.selectedGroup.name,"</strong> group"),link:"/channels/show?username="+t.authUser.username}),t.groupsStore.changeGroup(e)}))}},{key:"getJoinGroup",value:function(){var t=this;this.subscriptions.push(this.socketService.getJoinGroup().subscribe((function(e){var n=e.rest;console.log("get joined",n.group),t.groupsStore.changeGroup(n.group)})))}},{key:"leaveGroup",value:function(){var t=this;this.subscriptions.push(this.dialog.open(Q.a).afterClosed().subscribe((function(e){e&&t.groupsService.leaveGroup({member_id:t.authUser.id,group_id:t.selectedGroup.id}).subscribe((function(e){t.groupsStore.setGroups(e),t.socketService.leavePageGroup({group:t.selectedGroup,from_user:t.authUser,group_type:"page",msg:"<strong>".concat(t.authUser.first_name+" "+t.authUser.last_name,"</strong> has left the <strong>").concat(t.selectedGroup.name,"</strong> group")})}))})))}},{key:"getLeftGroup",value:function(){var t=this;this.subscriptions.push(this.socketService.leavePageGroupNotify().subscribe((function(e){var n=e.group;e.from_user.id===t.authUser.id&&(t.userGroupConnStatus="not connected"),t.groupsStore.changeGroup(n)})))}},{key:"getConfirmedMembersCount",value:function(){var t,e;return(null===(e=null===(t=this.selectedGroup)||void 0===t?void 0:t.group_members)||void 0===e?void 0:e.filter((function(t){return!!t.groups_members.confirmed})).length)||0}},{key:"getAcceptedJoinPageGroup",value:function(){this.subscriptions.push(this.socketService.getAcceptedJoinPageGroup().subscribe((function(t){var e=t.rest;console.log("accepted",e.group)})))}},{key:"getConfirmedJoinGroup",value:function(){var t=this;this.subscriptions.push(this.socketService.getConfirmedJoinGroup().subscribe((function(e){var n=e.rest;console.log("confirmed in group page",e),t.userGroupConnStatus="confirmed",t.groupsStore.changeGroup(n.group)})))}},{key:"getIgnoredJoinGroup",value:function(){var t=this;this.subscriptions.push(this.socketService.getIgnoredJoinGroup().subscribe((function(e){var n=e.rest;console.log("ignored in group page",n),n.member.id===t.authUser.id&&(t.groupsStore.setGroups(n.leftGroups),t.groupsStore.selectGroup(n.group),t.userGroupConnStatus="not connected"),console.log(t.groupsStore.groups)})))}},{key:"getRemovedSavedMember",value:function(){var t=this;this.subscriptions.push(this.socketService.removeFromPageGroupNotify().subscribe((function(e){var n=e.member;console.log("removed from group in group page",e),t.groupsStore.changeGroup(e.group),n.id===t.authUser.id&&(t.userGroupConnStatus="not connected")})))}},{key:"getUserGroupConnStatus",value:function(){var t,e=this;null===(t=this.selectedGroup.group_members)||void 0===t||t.map((function(t){t.id===e.authUser.id&&(e.userGroupConnStatus=1===t.groups_members.confirmed?"confirmed":1===t.groups_members.accepted?"unconfirmed":"not connected")}))}},{key:"showJoinBtn",value:function(){return!this.isOwnGroup}},{key:"onOutletLoaded",value:function(t){this.selectedGroup&&(t.selectedGroup=this.selectedGroup,t.isOwnGroup=this.isOwnGroup,t.authUser=this.authUser)}},{key:"openMembersModal",value:function(){this.subscriptions.push(this.dialog.open(F,{height:"690px",width:"950px",data:this.authUser}).afterClosed().subscribe((function(t){})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}(),st.\u0275fac=function(t){return new(t||st)(p.Qb(b.a),p.Qb(l.a),p.Qb(s.a),p.Qb(v.a),p.Qb(a.b),p.Qb(d.a),p.Qb(L.a),p.Qb(g.a))},st.\u0275cmp=p.Kb({type:st,selectors:[["app-single-group"]],decls:2,vars:2,consts:[[4,"ngIf"],["id","group-wrap"],["id","group-cover-image"],[3,"src"],[1,"row"],["id","group-details"],[1,"details-row"],["id","group-name"],["id","privacy-type"],["id","members-count"],["id","group-actions"],["id","invite-to-group-btn",3,"click"],["id","group-tabs"],[1,"nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],["class","tab-content",4,"ngIf"],["id","join-group-btn",3,"click",4,"ngIf"],["id","joined-group-btn",3,"matMenuTriggerFor",4,"ngIf"],["id","waiting-for-confirmation-btn",4,"ngIf"],["menu","matMenu"],["mat-menu-item","","id","unfollow-group"],[1,"fas","fa-times-circle"],["mat-menu-item","","id","leave-group",3,"click"],[1,"fa","fa-times"],["id","join-group-btn",3,"click"],["id","joined-group-btn",3,"matMenuTriggerFor"],["id","waiting-for-confirmation-btn"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"tab-content"],[3,"activate"]],template:function(t,e){1&t&&(p.Ic(0,A,33,11,"ng-container",0),p.Ic(1,X,2,0,"span",0)),2&t&&(p.pc("ngIf",e.selectedGroup),p.Cb(1),p.pc("ngIf",!e.selectedGroup))},directives:[i.m,R.a,J.a,i.l,z.d,z.a,z.c,s.g,s.f,s.i],pipes:[f.a],styles:["#group-tabs[_ngcontent-%COMP%], .stocks-watchlist[_ngcontent-%COMP%]{margin-top:40px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:0;display:flex;flex-wrap:wrap;padding-left:0;list-style:none}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{color:#fff!important;width:156px;font-size:12px;box-shadow:0 0 6px rgba(0,0,0,.06);font-family:Muli-Bold;margin-bottom:25px}.nav-link[_ngcontent-%COMP%]{padding:5px;height:31px;background:#fff;color:#545454!important;display:flex;justify-content:center;align-items:center}.nav-link[_ngcontent-%COMP%]:hover{border:0}.nav-link.active[_ngcontent-%COMP%]{background:#f53c6f!important;color:#fff!important}.dropdown[_ngcontent-%COMP%]{cursor:pointer}.dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:0 12px;color:#777;font-size:14px}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{color:#777;font-size:14px;font-family:Muli-Light}.watchlist-search[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;height:31px;background:#fff 0 0 no-repeat padding-box;margin-right:3px}.watchlist-search.bordered[_ngcontent-%COMP%]{box-shadow:0 0 6px rgba(0,0,0,.06)}.watchlist-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;color:#6a6a6a;right:11px;top:10px}.watchlist-search[_ngcontent-%COMP%]   .watchlist-input[_ngcontent-%COMP%]{font-family:Muli-Light;background:#fff;color:#545454;font-size:16px;padding-left:10px}#group-cover-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px;width:100%;-o-object-fit:cover;object-fit:cover}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.details-row[_ngcontent-%COMP%]{display:flex;align-items:center}.details-row[_ngcontent-%COMP%]:first-of-type{margin-top:20px}.details-row[_ngcontent-%COMP%]:first-of-type   #group-name[_ngcontent-%COMP%]{font-size:16px;font-family:Muli-Bold,sans-serif;text-transform:capitalize;margin-bottom:4px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.details-row[_ngcontent-%COMP%]:last-of-type{margin-top:2px}.details-row[_ngcontent-%COMP%]:last-of-type   #privacy-type[_ngcontent-%COMP%]{display:flex;align-items:center;color:#545454;font-size:14px;font-family:Muli-Light,sans-serif}.details-row[_ngcontent-%COMP%]:last-of-type   #privacy-type[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px;text-transform:capitalize}.details-row[_ngcontent-%COMP%]:last-of-type   #members-count[_ngcontent-%COMP%]{margin-left:20px}.details-row[_ngcontent-%COMP%]:last-of-type   #members-count[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px}#group-actions[_ngcontent-%COMP%]{display:flex;padding-top:20px}#group-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;background:#18b587}#group-actions[_ngcontent-%COMP%]   #joined-group-btn[_ngcontent-%COMP%]{background-color:#b3b3b3;justify-content:space-between}#group-actions[_ngcontent-%COMP%]   #invite-to-group-btn[_ngcontent-%COMP%]{margin-left:25px}#group-actions[_ngcontent-%COMP%]   #waiting-for-confirmation-btn[_ngcontent-%COMP%]{width:119px;height:36px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;background:#18b587;width:210px;background-color:#b3b3b3;padding:0;margin-right:16px}#leave-group[_ngcontent-%COMP%], #unfollow-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}"]}),st),children:[{path:"people",component:(it=function(){function t(e,n,o,r,i,s){_classCallCheck(this,t),this.groupsService=e,this.groupsStore=n,this.socketService=o,this.chatService=r,this.dialog=i,this.isEmptyObj=s,this.admins=[],this.members=[],this.requestedMembers=[],this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.trackGroups(),this.getAcceptedJoinPageGroup()}},{key:"trackGroups",value:function(){var t=this;this.subscriptions.push(this.groupsStore.selectedGroup$.subscribe((function(e){t.selectedGroup=e,t.admins=[],t.members=[],t.requestedMembers=[],t.isEmptyObj.transform(t.selectedGroup)||t.filterMembers()})))}},{key:"getAcceptedJoinPageGroup",value:function(){this.subscriptions.push(this.socketService.getAcceptedJoinPageGroup().subscribe((function(t){var e=t.rest;console.log("accepted",e.group)})))}},{key:"filterMembers",value:function(){var t,e,n=this;null===(e=null===(t=this.selectedGroup)||void 0===t?void 0:t.group_members)||void 0===e||e.map((function(t){n.selectedGroup.creator_id===t.id?n.admins.push(t):t.groups_members.confirmed?n.members.push(t):t.groups_members.accepted&&n.requestedMembers.push(t)}))}},{key:"confirmJoinGroup",value:function(t){var e=this;this.subscriptions.push(this.groupsService.confirmGroupJoin({member_id:t.id,group_id:this.selectedGroup.id}).subscribe((function(n){var o=n.find((function(t){return t.id===e.selectedGroup.id}));e.groupsStore.changeGroup(o),e.socketService.confirmJoinGroup({group:o,from_user:e.authUser,member:t,msg:"<strong>".concat(e.authUser.first_name+" "+e.authUser.last_name,"</strong>\n                has confirmed  <strong>").concat(t.first_name+" "+t.last_name,"</strong> to join the <strong>").concat(o.name,"</strong> group"),link:"/channels/show?username="+e.authUser.username})})))}},{key:"ignoreJoinGroup",value:function(t){var e=this;console.log(t),this.subscriptions.push(this.groupsService.ignoreGroupJoin({member_id:t.id,group_id:this.selectedGroup.id}).subscribe((function(n){var o=n.find((function(t){return t.id===e.selectedGroup.id}));e.groupsStore.changeGroup(o),e.socketService.ignoreJoinGroup({group:o,from_user:e.authUser,member:t,msg:"<strong>".concat(e.authUser.first_name+" "+e.authUser.last_name,"</strong>\n                has declined  <strong>").concat(t.first_name,"</strong> <strong>").concat(t.last_name,"</strong> to join the <strong>").concat(o.name,"</strong> group"),link:"/channels/show?username="+e.authUser.username})})))}},{key:"removeMember",value:function(t){var e=this;this.subscriptions.push(this.dialog.open(Q.a).afterClosed().subscribe((function(n){n&&e.groupsService.removeGroupMember({group_id:e.selectedGroup.id,member_id:t.id}).subscribe((function(n){e.selectedGroup=n,e.groupsStore.changeGroup(e.selectedGroup),e.socketService.removeFromPageGroup({member:t,from_user:e.authUser,group:e.selectedGroup,group_type:"page",msg:"<strong>".concat(e.authUser.first_name+" "+e.authUser.last_name,"</strong> removed  <strong>").concat(t.first_name+" "+t.last_name,"</strong>\n                       from <strong>").concat(e.selectedGroup.name,"</strong> group")})}))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}(),it.\u0275fac=function(t){return new(t||it)(p.Qb(l.a),p.Qb(b.a),p.Qb(g.a),p.Qb(h.a),p.Qb(a.b),p.Qb(L.a))},it.\u0275cmp=p.Kb({type:it,selectors:[["app-people-tab"]],inputs:{selectedGroup:"selectedGroup",isOwnGroup:"isOwnGroup",authUser:"authUser"},decls:9,vars:5,consts:[[1,"tab-container"],["id","all-members-wrap"],["id","admins",4,"ngIf"],["id","members"],[4,"ngFor","ngForOf"],["id","member-requests",4,"ngIf"],["id","admins"],[1,"avatar",3,"src"],[1,"details"],["class","remove-member-btn",4,"ngIf"],[1,"remove-member-btn"],[1,"fas","fa-times",3,"click"],["id","member-requests"],["class","group-member pending",4,"ngFor","ngForOf"],[1,"group-member","pending"],[1,"confirm-request",3,"click"],[1,"ignore-request",3,"click"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"div",1),p.Ic(2,H,5,3,"div",2),p.Wb(3,"div",3),p.Wb(4,"strong"),p.Kc(5,"Members"),p.Vb(),p.Wb(6,"ul"),p.Ic(7,Z,8,6,"li",4),p.Vb(),p.Vb(),p.Ic(8,et,5,1,"div",5),p.Vb(),p.Vb()),2&t&&(p.Cb(2),p.pc("ngIf",!e.isOwnGroup),p.Cb(4),p.Gb("bordered",e.isOwnGroup),p.Cb(1),p.pc("ngForOf",e.members),p.Cb(1),p.pc("ngIf",e.isOwnGroup))},directives:[i.m,i.l],pipes:[f.a],styles:[".tab-container[_ngcontent-%COMP%]{padding-left:20px;font-family:Muli-Bold,sans-serif}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:50%;padding-left:20px}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:20px}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul.bordered[_ngcontent-%COMP%]{border-right:1px solid #b3b3b3}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%]   #members[_ngcontent-%COMP%]{padding-left:20px}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%]   #members[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%]   #members[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #d3d3d3;padding:5px;border-radius:35px}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%]   #members[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;align-items:center}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%]   #member-requests[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;background:#18b587}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%]   #member-requests[_ngcontent-%COMP%]   .ignore-request[_ngcontent-%COMP%]{background-color:#b3b3b3;margin-left:20px}.tab-container[_ngcontent-%COMP%]   #all-members-wrap[_ngcontent-%COMP%]   #member-requests[_ngcontent-%COMP%]   .confirm-request[_ngcontent-%COMP%]{margin-left:30px}.remove-member-btn[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer;color:#f53c6f}"]}),it),data:{title:"Group page | People tab"}},{path:"about",component:(rt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),rt.\u0275fac=function(t){return new(t||rt)},rt.\u0275cmp=p.Kb({type:rt,selectors:[["app-about-tab"]],inputs:{selectedGroup:"selectedGroup",isOwnGroup:"isOwnGroup"},decls:2,vars:0,template:function(t,e){1&t&&(p.Wb(0,"p"),p.Kc(1,"about-tab works!"),p.Vb())},styles:[""]}),rt),data:{title:"Group page | About tab"}},{path:"media",component:(ot=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),ot.\u0275fac=function(t){return new(t||ot)},ot.\u0275cmp=p.Kb({type:ot,selectors:[["app-media-tab"]],inputs:{selectedGroup:"selectedGroup",isOwnGroup:"isOwnGroup"},decls:2,vars:0,template:function(t,e){1&t&&(p.Wb(0,"p"),p.Kc(1,"media-tab works!"),p.Vb())},styles:[""]}),ot),data:{title:"Group page | Media tab"}},{path:"posts",component:(nt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),nt.\u0275fac=function(t){return new(t||nt)},nt.\u0275cmp=p.Kb({type:nt,selectors:[["app-posts-tab"]],inputs:{selectedGroup:"selectedGroup",isOwnGroup:"isOwnGroup"},decls:2,vars:0,template:function(t,e){1&t&&(p.Wb(0,"p"),p.Kc(1,"posts-tab works!"),p.Vb())},styles:[""]}),nt),data:{title:"Group page | Posts tab"}}]}],pt=((ct=function t(){_classCallCheck(this,t)}).\u0275mod=p.Ob({type:ct}),ct.\u0275inj=p.Nb({factory:function(t){return new(t||ct)},imports:[[s.h.forChild(ut)],s.h]}),ct),lt=n("PCNd"),gt=((at=function t(){_classCallCheck(this,t)}).\u0275mod=p.Ob({type:at}),at.\u0275inj=p.Nb({factory:function(t){return new(t||at)},imports:[[i.c,pt,lt.a]]}),at)}}]);
//# sourceMappingURL=groups-groups-module-es5.c05e4ea7040e8e7d03e2.js.map