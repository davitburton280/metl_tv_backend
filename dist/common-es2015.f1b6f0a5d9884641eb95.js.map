{"version":3,"sources":["webpack:///src/app/shared/components/video-filters/video-filters.component.ts","webpack:///src/app/shared/components/video-filters/video-filters.component.html","webpack:///src/app/core/services/playlists.service.ts","webpack:///src/app/shared/directives/fix-group-page-url.directive.ts"],"names":["VideoFiltersComponent","videoService","ifObjectEmpty","subjectService","filters","selectedFilters","subscriptions","trackByElement","filterAction","this","push","getToggleFiltersData","subscribe","dt","emit","name","value","group","PlaylistsService","httpClient","params","post","get","put","delete","FixGroupPageUrlDirective","lowerCaseRemoveSpaces","router","url","replace","navigate","transform"],"mappings":"6FAAA,8J,uCCUoB,mBAA8C,4HAE1C,mBAAU,gBAAK,OACnB,Q,uCANJ,eAEI,iBAAM,sHAAgD,QAAa,OACnE,yBAIJ,O,wDANI,iIACsD,qBAE9C,sI,yBAVxB,QAEI,gBACI,cAAuB,QAAqB,OAC5C,sBACA,aACI,qBASJ,OACJ,OACJ,Q,yBAd+B,2BAGK,iCDMjC,Y,MAAMA,EAQT,YACYC,EACAC,EACAC,GAFA,KAAAF,eACA,KAAAC,gBACA,KAAAC,iBAVZ,KAAAC,QAAU,IACV,KAAAC,gBAAkB,GAClB,KAAAC,cAAgC,GAChC,KAAAC,eAAiB,IAEC,KAAAC,aAAe,IAAI,IASrC,WACIC,KAAKH,cAAcI,KAAKD,KAAKN,eAAeQ,uBAAuBC,UAAUC,IACzEJ,KAAKJ,gBAAkB,GACvBI,KAAKD,aAAaM,KAAKL,KAAKJ,oBAIpC,aAAY,KAACU,EAAI,MAAEC,GAAQC,GACvBR,KAAKJ,gBAAgBY,GAAS,CAACF,OAAMC,SACrCP,KAAKD,aAAaM,KAAKL,KAAKJ,iBAGhC,gBAA4BY,UACjBR,KAAKJ,gBAAgBY,GAK5BR,KAAKD,aAAaM,KAAKL,KAAKJ,kB,6CAjCvBL,GAAqB,gC,uBAArBA,EAAqB,iaCblC,gBACI,+BAkBJ,Q,MAlBkB,kCAAsD,mC,67DDYjE,I,kCEZP,0EAMO,Y,MAAMkB,EAET,YACYC,GAAA,KAAAA,aAIZ,YAAYC,GACR,OAAOX,KAAKU,WAAWE,KAAa,IAAH,gBAA2BD,GAGhE,oBAAoBA,GAChB,OAAOX,KAAKU,WAAWE,KAAa,IAAH,uBAAkCD,GAGvE,yBAAyBA,GACrB,OAAOX,KAAKU,WAAWE,KAAa,IAAH,yCAAoDD,GAGzF,IAAIA,GACA,OAAOX,KAAKU,WAAWG,IAAY,IAAH,gBAA2B,CAACF,WAGhE,QAAQA,GACJ,OAAOX,KAAKU,WAAWG,IAAY,IAAH,sBAAiC,CAACF,WAGtE,gBAAgBA,GACZ,OAAOX,KAAKU,WAAWG,IAAY,IAAH,mBAA8B,CAACF,WAGnE,cAAcA,GACV,OAAOX,KAAKU,WAAWI,IAAY,IAAH,2BAAsCH,GAG1E,oBAAoBA,GAChB,OAAOX,KAAKU,WAAWI,IAAY,IAAH,kCAA6CH,GAGjF,mBAAmBA,GACf,OAAOX,KAAKU,WAAWI,IAAY,IAAH,iCAA4CH,GAGhF,wBAAwBA,GACpB,OAAOX,KAAKU,WAAWI,IAAY,IAAH,6BAAwCH,GAG5E,wBAAwBA,GACpB,OAAOX,KAAKU,WAAWK,OAAe,IAAH,yBAAoC,CAACJ,WAG5E,eAAeA,GACX,OAAOX,KAAKU,WAAWK,OAAe,IAAH,mBAA8B,CAACJ,Y,6CApD7DF,GAAgB,Y,yBAAhBA,EAAgB,QAAhBA,EAAgB,qBAFb,S,GAET,I,wHCAA,Y,MAAMO,EAIT,YACYC,EACAC,GADA,KAAAD,wBACA,KAAAC,SAKN,U,mDACF,MAAMC,EAAM,WAAanB,KAAKM,KAAKc,QAAQ,MAAO,KAAO,gBACnDpB,KAAKkB,OAAOG,SAAS,CAACrB,KAAKiB,sBAAsBK,UAAUH,S,6CAb5DH,GAAwB,sB,uBAAxBA,EAAwB,iF,iCAAxB,iB,0BAAN","file":"x","sourcesContent":["import {Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {VIDEO_FILTERS} from '@core/constants/global';\r\nimport {VideoService} from '@core/services/video.service';\r\nimport {CheckForEmptyObjectPipe} from '@shared/pipes/check-for-empty-object.pipe';\r\nimport {Subscription} from 'rxjs';\r\nimport {SubjectService} from '@core/services/subject.service';\r\nimport trackByElement from '@core/helpers/track-by-element';\r\n\r\n@Component({\r\n    selector: 'app-video-filters',\r\n    templateUrl: './video-filters.component.html',\r\n    styleUrls: ['./video-filters.component.scss']\r\n})\r\nexport class VideoFiltersComponent implements OnInit {\r\n    filters = VIDEO_FILTERS;\r\n    selectedFilters = {};\r\n    subscriptions: Subscription[] = [];\r\n    trackByElement = trackByElement;\r\n\r\n    @Output('filter') filterAction = new EventEmitter();\r\n\r\n    constructor(\r\n        private videoService: VideoService,\r\n        private ifObjectEmpty: CheckForEmptyObjectPipe,\r\n        private subjectService: SubjectService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.subscriptions.push(this.subjectService.getToggleFiltersData().subscribe(dt => {\r\n            this.selectedFilters = {};\r\n            this.filterAction.emit(this.selectedFilters);\r\n        }));\r\n    }\r\n\r\n    applyFilter({name, value}, group) {\r\n        this.selectedFilters[group] = {name, value};\r\n        this.filterAction.emit(this.selectedFilters);\r\n    }\r\n\r\n    removeFilter({name, value}, group) {\r\n        delete this.selectedFilters[group];\r\n        // if (this.ifObjectEmpty.transform(this.selectedFilters)) {\r\n        // this.selectedFilters = {};\r\n        // }\r\n\r\n        this.filterAction.emit(this.selectedFilters);\r\n    }\r\n\r\n}\r\n","<div class=\"filter-groups\">\r\n    <ng-container *ngFor=\"let filter of filters; trackBy:trackByElement\">\r\n\r\n        <div class=\"filter-group\">\r\n            <p class=\"filter-name\">{{filter.group.name}}</p>\r\n            <mat-divider></mat-divider>\r\n            <ul>\r\n                <li class=\"filter-item\" *ngFor=\"let item of filter.items\"\r\n                    [class.selected]=\"selectedFilters && item.name === selectedFilters[filter.group.value]?.name\">\r\n                    <span (click)=\"applyFilter(item, filter.group.value)\">{{item.name}}</span>\r\n                    <button mat-icon-button class=\"remove-filter\" (click)=\"removeFilter(item, filter.group.value)\"\r\n                            *ngIf=\"selectedFilters && item.name === selectedFilters[filter.group.value]?.name\">\r\n                        <mat-icon>clear</mat-icon>\r\n                    </button>\r\n                </li>\r\n\r\n            </ul>\r\n        </div>\r\n    </ng-container>\r\n</div>\r\n","import {Injectable} from '@angular/core';\r\nimport {API_URL} from '@core/constants/global';\r\nimport {HttpClient} from '@angular/common/http';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class PlaylistsService {\r\n\r\n    constructor(\r\n        private httpClient: HttpClient\r\n    ) {\r\n    }\r\n\r\n    addPlaylist(params) {\r\n        return this.httpClient.post<any>(`${API_URL}playlists/add`, params);\r\n    }\r\n\r\n    addVideosToPlaylist(params) {\r\n        return this.httpClient.post<any>(`${API_URL}playlists/add-videos`, params);\r\n    }\r\n\r\n    addVideoToOtherPlaylists(params) {\r\n        return this.httpClient.post<any>(`${API_URL}playlists/add-video-to-other-playlists`, params);\r\n    }\r\n\r\n    get(params) {\r\n        return this.httpClient.get<any>(`${API_URL}playlists/get`, {params});\r\n    }\r\n\r\n    getById(params) {\r\n        return this.httpClient.get<any>(`${API_URL}playlists/get-by-id`, {params});\r\n    }\r\n\r\n    searchPlaylists(params) {\r\n        return this.httpClient.get<any>(`${API_URL}playlists/search`, {params});\r\n    }\r\n\r\n    updatePrivacy(params) {\r\n        return this.httpClient.put<any>(`${API_URL}playlists/update-privacy`, params);\r\n    }\r\n\r\n    updateVideoPosition(params) {\r\n        return this.httpClient.put<any>(`${API_URL}playlists/update-video-position`, params);\r\n    }\r\n\r\n    updatePlaylistInfo(params) {\r\n        return this.httpClient.put<any>(`${API_URL}playlists/update-playlist-info`, params);\r\n    }\r\n\r\n    changePlaylistThumbnail(params) {\r\n        return this.httpClient.put<any>(`${API_URL}playlists/change-thumbnail`, params);\r\n    }\r\n\r\n    removeVideoFromPlaylist(params) {\r\n        return this.httpClient.delete<any>(`${API_URL}playlists/remove-video`, {params});\r\n    }\r\n\r\n    removePlaylist(params) {\r\n        return this.httpClient.delete<any>(`${API_URL}playlists/remove`, {params});\r\n    }\r\n}\r\n","import {Directive, HostListener, Input} from '@angular/core';\r\nimport {LowercaseRemoveSpacesPipe} from '@shared/pipes/lowercase-remove-spaces.pipe';\r\nimport {Router} from '@angular/router';\r\n\r\n@Directive({\r\n    selector: '[appNavigateToFixedGroupUrl]'\r\n})\r\nexport class FixGroupPageUrlDirective {\r\n\r\n    @Input() name;\r\n\r\n    constructor(\r\n        private lowerCaseRemoveSpaces: LowercaseRemoveSpacesPipe,\r\n        private router: Router\r\n    ) {\r\n    }\r\n\r\n    @HostListener('click', ['$event'])\r\n    async onClick() {\r\n        const url = '/groups/' + this.name.replace(' /g', '_') + '/people';\r\n        await this.router.navigate([this.lowerCaseRemoveSpaces.transform(url)]);\r\n    }\r\n\r\n}\r\n"]}