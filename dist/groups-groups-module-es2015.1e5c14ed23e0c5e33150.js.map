{"version":3,"sources":["webpack:///src/app/core/components/modals/create-new-group-dialog/invite-chanel/invite-channel.component.ts","webpack:///src/app/core/components/modals/create-new-group-dialog/invite-chanel/invite-channel.component.html","webpack:///src/app/core/components/modals/create-new-group-dialog/create-new-group-dialog.component.html","webpack:///src/app/core/components/modals/create-new-group-dialog/create-new-group-dialog.component.ts","webpack:///src/app/groups/dialogs/helper/remuveType.ts","webpack:///src/app/groups/dialogs/delete-group/delete-group.dialog.html","webpack:///src/app/groups/dialogs/delete-group/delete-group.dialog.ts","webpack:///src/app/shared/directives/fix-group-page-url.directive.ts","webpack:///src/app/groups/show-groups/group-item/group-item.component.html","webpack:///src/app/groups/show-groups/group-item/group-item.component.ts","webpack:///src/app/shared/components/loading/loading.component.ts","webpack:///src/app/shared/components/loading/loading.component.html","webpack:///src/app/groups/show-groups/show-groups.component.html","webpack:///src/app/groups/show-groups/show-groups.component.ts","webpack:///src/app/shared/directives/disable-control-properly.directive.ts","webpack:///src/app/core/components/modals/group-members-invitation-dialog/group-members-invitation-dialog.component.html","webpack:///src/app/core/components/modals/group-members-invitation-dialog/group-members-invitation-dialog.component.ts","webpack:///src/app/groups/single-group/single-group.component.html","webpack:///src/app/groups/single-group/single-group.component.ts","webpack:///src/app/groups/single-group/people-tab/group-members-actions-menu/group-members-actions-menu.component.html","webpack:///src/app/groups/single-group/people-tab/group-members-actions-menu/group-members-actions-menu.component.ts","webpack:///src/app/groups/single-group/people-tab/admins-list/admins-list.component.html","webpack:///src/app/groups/single-group/people-tab/admins-list/admins-list.component.ts","webpack:///src/app/groups/single-group/people-tab/group-members-list/group-members-list.component.html","webpack:///src/app/groups/single-group/people-tab/group-members-list/group-members-list.component.ts","webpack:///src/app/groups/single-group/people-tab/member-requests-list/member-requests-list.component.html","webpack:///src/app/groups/single-group/people-tab/member-requests-list/member-requests-list.component.ts","webpack:///src/app/groups/single-group/people-tab/people-tab.component.html","webpack:///src/app/groups/single-group/people-tab/people-tab.component.ts","webpack:///src/app/groups/single-group/about-tab/about-tab.component.ts","webpack:///src/app/groups/single-group/about-tab/about-tab.component.html","webpack:///src/app/groups/single-group/media-tab/media-tab.component.ts","webpack:///src/app/groups/single-group/media-tab/media-tab.component.html","webpack:///src/app/groups/single-group/posts-tab/posts-tab.component.html","webpack:///src/app/groups/single-group/posts-tab/posts-tab.component.ts","webpack:///src/app/groups/single-group/edit-group/edit-group.component.html","webpack:///src/app/groups/groups-routing.module.ts","webpack:///src/app/groups/single-group/edit-group/edit-group.component.ts","webpack:///src/app/groups/groups.module.ts"],"names":["InviteChannelComponent","_channelsService","_userInfoService","_unsubscribe$","Subject","_usersInviteData","this","_getAuthInfo","getSubscriptionUser","getUserChannelSubscriptions","user_id","authUser","id","pipe","takeUntil","subscribe","data","usersConnection","console","log","_userInfo","userData","includes","push","CreateNewGroupDialogComponent","fb","_dialog","dialog","groupsService","socketService","groupsStore","uploadFile","lowerCaseRemoveSpaces","dontWord","words","addDescriptionSectionShow","step","coverShowImg","avatarShowImg","discardORSave","subscriptions","_initForm","groupForm","group","name","required","custom_name","privacy","description","creator_id","username","event","shape","open","maxWidth","maxHeight","height","width","title","file","target","files","afterClosed","dt","imageCoverFile","blob","reader","FileReader","onload","e","coverImgSrc","result","toString","readAsDataURL","imageAvatarFile","avatarImgSrc","avatar","cover","fdCover","FormData","append","_imgCoverSuccess","path","fdAvatar","_imgAvatarSuccess","_wordCount","text","nativeElement","value","split","length","patchValue","transform","valid","formValue","addGroup","close","closeDialog","submitForm","RemuveType","irrevocably","removeMembers","DeleteGroupDialog","_fb","dialogRef","_groupsService","typeEnum","nextStep","textChangeType","_formBuilder","changeValueRadioButton","deleteGroupForm","deleteOption","invalid","remuveData","type","get","remuveGroupByTypeAndGroupId","valueChanges","FixGroupPageUrlDirective","router","url","navigate","GroupItemComponent","replace","openDeleteDialog","LoadingComponent","ShowGroupsComponent","chatService","userStore","groups","searchKeyValue","isPrivate","dataSource$","groupsState$","state$","trackGroups","_getGroupList","filterGroup","searchKey","radioButton","checkboxButton","checked","eventTarget","filterData","group_type","getGroupList","search","onlyMy","groups$","filter","g","selectedGroup","navigateByUrl","next","complete","openModal","myGroupFilter","handleChange","_filterSearchKey","DisableControlProperlyDirective","condition","control","GroupMembersInvitationDialogComponent","usersMessagesStore","usersService","getArraysDifference","userContacts","selectedContacts","initForm","contactsInviteForm","contacts","array","getContactsFormGroup","formArray","usersMessages","map","c","index","foundInSelected","find","sc","foundInGroup","group_members","m","connectionWithGroup","connectionContainer","groups_members","confirmed","accepted","status","foundControl","contactCtrls","controls","addGroupMembers","group_id","member_ids","inviteToNewPageGroup","invited_members","from_user","msg","first_name","last_name","changeGroup","indexOf","forEach","s","unsubscribe","sendInvitationsToContacts","SingleGroupComponent","route","isEmptyObj","loading","isOwnGroup","groupTabs","groupPrivacy","userGroupConnStatus","trackSelectedGroup","getSelectedGroup","getAcceptedJoinPageGroup","getConfirmedJoinGroup","getIgnoredJoinGroup","getJoinGroup","getRemovedSavedMember","getLeftGroup","selectedGroup$","getUserGroupConnStatus","params","passedGroupName","_getGroupById","getGroupFromServer","getGroupById","selectGroup","joinGroup","link","rest","leaveGroup","member_id","setGroups","leavePageGroup","leavePageGroupNotify","member","leftGroups","removeFromPageGroupNotify","component","GroupMembersActionsMenuComponent","notificationsStore","adminRequestSent","moderatorRequestSent","sendMakeAdminRequest","removeGroupMember","removeFromPageGroup","removeAdminPrivileges","removePageGroupAdminPrivileges","is_admin","is_moderator","removeMember","AdminsListComponent","admin","user","connection","admins","a","isGroupCreator","authUserGroupConnection","getUserGroupConnection","GroupMembersListComponent","getAcceptedPageGroupAdminRequest","getDeclinedPageGroupAdminRequest","notification","updateNotifications","MemberRequestsListComponent","confirmGroupJoin","d","confirmJoinGroup","ignoreGroupJoin","ignoreJoinGroup","PeopleTabComponent","members","requestedMembers","getRemovedPageGroupAdminPrivileges","filterMembers","AboutTabComponent","MediaTabComponent","PostsTabComponent","postsService","trackByElement","getGroupPosts","groupPosts$","routes","EditGroupComponent","_route","_patchInitialValueForm","editGroupForm","nameGroup","_groupId","Boolean","UPDATE_FORM_DATA_GROUP","updateGroup","createImage","addDescriptionHideShow","updateGGroupInfo","children","GroupsRoutingModule","forChild","GroupsModule"],"mappings":"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","file":"x","sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {ChanelInterface, CurrentUserData} from '@core/interfaces';\r\nimport {UserInfoService} from '@core/services/user-info.service';\r\nimport {ChannelsService} from '@core/services/channels.service';\r\nimport {Subject} from 'rxjs';\r\nimport {takeUntil} from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'app-invite-channel',\r\n    templateUrl: './invite-channel.component.html',\r\n    styleUrls: ['invite-channel.component.scss']\r\n})\r\n\r\nexport class InviteChannelComponent implements OnInit, OnDestroy {\r\n    private usersConnection: any;\r\n    private _unsubscribe$ = new Subject<void>();\r\n    private authUser: CurrentUserData;\r\n    private _usersInviteData = [];\r\n    public channelSubscriptionMembers: ChanelInterface[];\r\n\r\n\r\n    constructor(\r\n        private _channelsService: ChannelsService,\r\n        private _userInfoService: UserInfoService\r\n    ) {\r\n        this._getAuthInfo();\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.getSubscriptionUser();\r\n    }\r\n\r\n    private getSubscriptionUser() {\r\n        this._channelsService.getUserChannelSubscriptions({user_id: this.authUser.id})\r\n            .pipe(\r\n                takeUntil(this._unsubscribe$),\r\n            )\r\n            .subscribe((data: any) => {\r\n                this.usersConnection = data;\r\n                console.log(this.usersConnection);\r\n            });\r\n    }\r\n\r\n    private _getAuthInfo(): void {\r\n        this._userInfoService._userInfo\r\n            .pipe(\r\n                takeUntil(this._unsubscribe$),\r\n            )\r\n            .subscribe((data) => {\r\n                this.authUser = data;\r\n            });\r\n    }\r\n\r\n    public inviteUserInGroup(userData: any): void {\r\n        if (this._usersInviteData === [] || !this._usersInviteData.includes(userData)) {\r\n            this._usersInviteData.push(userData);\r\n            console.log('Concat Data ', this._usersInviteData);\r\n        } else {\r\n            console.log('Concat Data ', this._usersInviteData);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n    }\r\n}\r\n","<div class=\"invite-channel-members-wrapper\">\r\n    <mat-icon class=\"mat-icon-close\">\r\n        close\r\n    </mat-icon>\r\n    <div class=\"invite-channel-members-section-filter\">\r\n        <input type=\"text\" placeholder=\"Search\">\r\n        <mat-icon>\r\n            search\r\n        </mat-icon>\r\n    </div>\r\n    <div class=\"top-members-section\">\r\n        <div class=\"top-members-section-title\">\r\n            <h4>Top communities / channel or your Friends</h4>\r\n        </div>\r\n        <div class=\"members-block\">\r\n<!--            <div class=\"member\" *ngFor=\"let user of usersConnection\">-->\r\n<!--                <div class=\"images-members\">-->\r\n<!--                    <img [src]=\"user.avatar  | getImgPath:'images'\" alt=\"\">-->\r\n<!--                    <span class=\"member-name\">{{user.name}} </span>-->\r\n<!--                </div>-->\r\n<!--                <button class=\"invite-btn\" (click)=\"inviteUserInGroup(user)\">-->\r\n<!--                    <mat-icon>-->\r\n<!--                        {{'add'}}-->\r\n<!--                    </mat-icon>-->\r\n<!--                    <span>-->\r\n<!--                        Invite-->\r\n<!--                    </span>-->\r\n<!--                </button>-->\r\n<!--            </div>-->\r\n        </div>\r\n    </div>\r\n    <!--    <div class=\"other-channel-section\">-->\r\n    <!--        <div class=\"other-members-section-title\">-->\r\n    <!--            <h4>Other-channel</h4>-->\r\n    <!--        </div>-->\r\n    <!--        <div class=\"members-block\">-->\r\n    <!--            <div class=\"member\">-->\r\n    <!--                <div class=\"images-members\">-->\r\n    <!--                    <img src=\"assets/img/chatUser1.png\" alt=\"\">-->\r\n    <!--                    <span class=\"member-name\">Name Surname</span>-->\r\n    <!--                </div>-->\r\n    <!--                <button class=\"invite-btn\">-->\r\n    <!--                    <mat-icon>-->\r\n    <!--                        {{'add'}}-->\r\n    <!--                    </mat-icon>-->\r\n    <!--                    <span>-->\r\n    <!--                        Invite-->\r\n    <!--                    </span>-->\r\n    <!--                </button>-->\r\n    <!--            </div>-->\r\n    <!--        </div>-->\r\n    <!--    </div>-->\r\n    <div class=\"invite-btn\">\r\n        <button>Ok</button>\r\n    </div>\r\n</div>\r\n","<div class=\"dialog-container\">\r\n    <div class=\"close-btn-wrap\">\r\n        <img src=\"assets/img/x.svg\" alt=\"close-dialog\" class=\"close-box\" (click)=\"closeDialog()\">\r\n    </div>\r\n    <div class=\"dialog-header\">\r\n        <h3>Create a new group</h3>\r\n    </div>\r\n    <!--    <div id=\"admin-info\">-->\r\n    <!--        <img class=\"avatar\" [src]=\"authUser.avatar|getImgPath: 'user_avatars'\">-->\r\n    <!--        <strong>{{authUser.first_name + ' ' + authUser.last_name}}</strong>-->\r\n    <!--    </div>-->\r\n    <form [formGroup]=\"groupForm\">\r\n        <div class=\"step\" *ngIf=\"step === 1\">\r\n            <div class=\"field-row\">\r\n                <input\r\n                    id=\"group-name-input\"\r\n                    formControlName=\"name\"\r\n                    placeholder=\"Group name\">\r\n            </div>\r\n            <div class=\"add-description-action\" (click)=\"addDescriptionHideShow()\">\r\n                <mat-icon [ngClass]=\"{'grey': addDescriptionSectionShow}\">\r\n                    {{!addDescriptionSectionShow ? 'add' : 'close'}}\r\n                </mat-icon>\r\n                <span [ngClass]=\"{'grey': addDescriptionSectionShow}\">\r\n                    ADD DESCRIPTION\r\n                </span>\r\n            </div>\r\n            <div class=\"field-row\" *ngIf=\"addDescriptionSectionShow\">\r\n\r\n                <textarea\r\n                    #text\r\n                    (keydown)=\"_validatorDescription()\"\r\n                    formControlName=\"description\"\r\n                    placeholder=\"Type Text here...\"\r\n                    class=\"form-group-textarea\"></textarea>\r\n            </div>\r\n            <div class=\"border\"></div>\r\n            <div class=\"field-row\">\r\n                <label>Please choose Mode of Group</label>\r\n                <mat-radio-group\r\n                    aria-label=\"Select an option\"\r\n                    formControlName=\"privacy\">\r\n\r\n                    <mat-radio-button [value]=\"0\"\r\n                                      name=\"privacy\"\r\n                    >Public\r\n                    </mat-radio-button>\r\n                    <mat-radio-button [value]=\"1\"\r\n                                      name=\"privacy\"\r\n                    >Private\r\n                    </mat-radio-button>\r\n                </mat-radio-group>\r\n\r\n            </div>\r\n        </div>\r\n        <div class=\"add-cover-avatar\" *ngIf=\"step === 2\">\r\n            <div class=\"add-cover-avatar-title\">\r\n                <h2>Please choose cover images for your group</h2>\r\n            </div>\r\n            <div class=\"images-box\">\r\n                <div class=\"images-cover\">\r\n                    <img class=\"images-cover-create\" *ngIf=\"!coverShowImg\" [src]=\"coverImg|getImgPath:'images'\" alt=\"\">\r\n                    <img class=\"images-cover-create\" *ngIf=\"coverShowImg\" [src]=\"coverImgSrc\" alt=\"\">\r\n                    <input type=\"file\" #coverChangeImg hidden (change)=\"createImage($event, 'square')\">\r\n                    <button (click)=\"coverChangeImg.click()\" class=\"position-btn\">\r\n                        <mat-icon>\r\n                            create\r\n                        </mat-icon>\r\n                    </button>\r\n                </div>\r\n                <div class=\"images-avatar\">\r\n                    <img *ngIf=\"avatarImgSrc\" [src]=\"avatarImgSrc\" alt=\"\">\r\n                    <mat-icon *ngIf=\"!avatarImgSrc\">add_a_photo</mat-icon>\r\n                    <input type=\"file\" #avatarChangeImg hidden (change)=\"createImage($event, 'circle')\">\r\n                    <button (click)=\"avatarChangeImg.click()\" class=\"position-btn\">\r\n                        <mat-icon>\r\n                            create\r\n                        </mat-icon>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"images-save-btn-box\" *ngIf=\"(avatarImgSrc && discardORSave) || (coverImgSrc && discardORSave)\">\r\n                <button class=\"save-btn\" (click)=\"saveAvatarImage(avatarImgSrc,coverImgSrc)\">Save</button>\r\n                <button class=\"discard-btn\" (click)=\"remuveAvatarImage('','')\">DISCARD</button>\r\n            </div>\r\n<!--            <div class=\"invite-group\" [ngClass]=\"{'m-60':!avatarImgSrc}\">-->\r\n<!--                <div class=\"invite-group-section-title\">-->\r\n<!--                    <h3 style=\"font-size: 14px;\">Please invite members for your group</h3>-->\r\n<!--                </div>-->\r\n<!--                <div class=\"images-members_and-invite-members-action\">-->\r\n<!--                    <div class=\"images-members\">-->\r\n<!--                        <div class=\"images-members-img\">-->\r\n<!--                            <img src=\"assets/img/chatUser1.png\" alt=\"\">-->\r\n<!--                            <mat-icon>-->\r\n<!--                                add-->\r\n<!--                            </mat-icon>-->\r\n<!--                        </div>-->\r\n<!--                    </div>-->\r\n<!--                    <div class=\"invite-members-action\">-->\r\n<!--                        <button class=\"invite-members-btn\" (click)=\"inviteChanelMembersDialog()\">-->\r\n<!--                            <mat-icon>-->\r\n<!--                                plus-->\r\n<!--                            </mat-icon>-->\r\n<!--                            <span>-->\r\n<!--                                Invite-->\r\n<!--                            </span>-->\r\n<!--                        </button>-->\r\n<!--                    </div>-->\r\n<!--                </div>-->\r\n<!--            </div>-->\r\n        </div>\r\n        <div class=\"button-wrap\">\r\n            <button class=\"back\" (click)=\"backStep()\" *ngIf=\"step === 2\">Back</button>\r\n            <button class=\"submit\" (click)=\"submitForm()\">Create</button>\r\n        </div>\r\n    </form>\r\n</div>\r\n","import {Component, ElementRef, Inject, OnInit, ViewChild} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialog, MatDialogRef} from '@angular/material/dialog';\r\nimport {User} from '@shared/models/user';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\nimport {Subject, Subscription} from 'rxjs';\r\nimport {LowercaseRemoveSpacesPipe} from '@shared/pipes/lowercase-remove-spaces.pipe';\r\nimport {GroupsStoreService} from '@core/services/stores/groups-store.service';\r\nimport {GroupsService} from '@core/services/groups.service';\r\nimport {ImgEditCropperComponent} from '@core/components/modals/img-edit-cropper/img-edit-cropper.component';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {InviteChannelComponent} from '@core/components/modals/create-new-group-dialog/invite-chanel';\r\nimport {UserInfoService} from '@core/services/user-info.service';\r\nimport {VideoService} from '@core/services/video.service';\r\n\r\n@Component({\r\n    selector: 'app-create-new-group-dialog',\r\n    templateUrl: './create-new-group-dialog.component.html',\r\n    styleUrls: ['./create-new-group-dialog.component.scss']\r\n})\r\nexport class CreateNewGroupDialogComponent implements OnInit {\r\n    @ViewChild('text') text: ElementRef;\r\n    private dontWord = ['a', 'the', 'an', ''];\r\n    private _wordCount: any;\r\n    public words = 0;\r\n    public groupForm: FormGroup;\r\n    public addDescriptionSectionShow = false;\r\n    public step = 1;\r\n    public coverShowImg = false;\r\n    public avatarShowImg = false;\r\n    public discardORSave = false;\r\n    private word: string [];\r\n    public coverImgSrc;\r\n    public avatarImgSrc;\r\n    private imageCoverFile;\r\n    private imageAvatarFile;\r\n    private _unsubscribe$ = new Subject<void>();\r\n    private _imgCoverSuccess;\r\n    private _imgAvatarSuccess;\r\n    subscriptions: Subscription[] = [];\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public authUser: User,\r\n        private fb: FormBuilder,\r\n        private _dialog: MatDialog,\r\n        private _userInfoService: UserInfoService,\r\n        private dialog: MatDialogRef<CreateNewGroupDialogComponent>,\r\n        private groupsService: GroupsService,\r\n        private socketService: SocketIoService,\r\n        private groupsStore: GroupsStoreService,\r\n        private uploadFile: VideoService,\r\n        private lowerCaseRemoveSpaces: LowercaseRemoveSpacesPipe\r\n    ) {\r\n        // console.log(this.authUser,\"HRach\");\r\n    }\r\n\r\n    // tslint:disable-next-line:ban-types\r\n    get coverImg(): Boolean {\r\n        return false;\r\n    }\r\n\r\n    // tslint:disable-next-line:ban-types\r\n    get profileImg(): Boolean {\r\n        return false;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this._initForm();\r\n    }\r\n\r\n    private _initForm() {\r\n        this.groupForm = this.fb.group({\r\n            name: ['', Validators.required],\r\n            custom_name: ['', Validators.required],\r\n            privacy: [0, Validators.required],\r\n            description: ['', Validators.required],\r\n            creator_id: this.authUser.id,\r\n            username: this.authUser.username\r\n        });\r\n    }\r\n\r\n    public addDescriptionHideShow(): void {\r\n        this.addDescriptionSectionShow = !this.addDescriptionSectionShow;\r\n    }\r\n\r\n    public backStep(): void {\r\n        this.step = 1;\r\n    }\r\n\r\n    public createImage(event, shape) {\r\n        const file = event.target.files[0];\r\n        this._dialog.open(ImgEditCropperComponent, {\r\n            maxWidth: '60vw',\r\n            maxHeight: '70vh',\r\n            height: '100%',\r\n            width: '100%',\r\n            data: {\r\n                title: 'Profile Image Cropper',\r\n                shape,\r\n                file\r\n            }\r\n        }).afterClosed()\r\n            .pipe(\r\n                takeUntil(this._unsubscribe$),\r\n            )\r\n            .subscribe(dt => {\r\n                console.log(dt);\r\n                if (dt) {\r\n                    if (dt.shape === 'square') {\r\n                        this.imageCoverFile = dt.blob;\r\n                        this.coverShowImg = true;\r\n                        this.discardORSave = !this.discardORSave;\r\n                        const reader = new FileReader();\r\n                        reader.onload = (e) => {\r\n                            this.coverImgSrc = e.target.result.toString();\r\n                        };\r\n                        reader.readAsDataURL(this.imageCoverFile);\r\n                    }\r\n                    if (dt.shape === 'circle') {\r\n                        this.imageAvatarFile = dt.blob;\r\n                        this.avatarShowImg = true;\r\n                        this.discardORSave = !this.discardORSave;\r\n                        const reader = new FileReader();\r\n                        reader.onload = (e) => {\r\n                            this.avatarImgSrc = e.target.result.toString();\r\n                        };\r\n                        reader.readAsDataURL(this.imageAvatarFile);\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    public inviteChanelMembersDialog() {\r\n        this._dialog.open(InviteChannelComponent, {\r\n            height: '600px',\r\n            width: '400px',\r\n            // data: {\r\n            //     title: 'Profile Image Cropper',\r\n            //     shape,\r\n            //     file\r\n            // }\r\n        });\r\n    }\r\n\r\n    public saveAvatarImage(avatar: string, cover: string) {\r\n        this.avatarImgSrc = avatar;\r\n        this.coverImgSrc = cover;\r\n        this.discardORSave = false;\r\n        if (this.coverShowImg) {\r\n            const fdCover = new FormData();\r\n            fdCover.append('image', this.imageCoverFile);\r\n            fdCover.append('belonging', 'group_cover_img');\r\n            fdCover.append('duration', '');\r\n            this.uploadFile.uploadFile(fdCover, 'image').subscribe((data) => {\r\n                console.log(data);\r\n                this.coverShowImg = false;\r\n                this._imgCoverSuccess = data.path;\r\n                console.log(this._imgCoverSuccess);\r\n            });\r\n        }\r\n        if (this.avatarShowImg) {\r\n            const fdAvatar = new FormData();\r\n            fdAvatar.append('image', this.imageAvatarFile);\r\n            fdAvatar.append('belonging', 'group_avatar_img');\r\n            fdAvatar.append('duration', '');\r\n            this.uploadFile.uploadFile(fdAvatar, 'image').subscribe((data) => {\r\n                console.log(data);\r\n                this.coverShowImg = false;\r\n                this._imgAvatarSuccess = data.path;\r\n                console.log(this._imgAvatarSuccess);\r\n            });\r\n        }\r\n    }\r\n\r\n    public remuveAvatarImage(avatar: string, cover: string) {\r\n        this.avatarImgSrc = avatar;\r\n        this.coverImgSrc = cover;\r\n        this.discardORSave = false;\r\n    }\r\n\r\n    public _validatorDescription() {\r\n        this._wordCount = this.text ? this.text.nativeElement.value.split(/\\s+/) : 0;\r\n\r\n        switch (this._wordCount) {\r\n            case this._wordCount.includes('a'):\r\n                this.words = this._wordCount ? this._wordCount.length - 1 : 0;\r\n                break;\r\n            case this._wordCount.includes('the'):\r\n                this.words = this._wordCount ? this._wordCount.length - 1 : 0;\r\n                break;\r\n            case this._wordCount.includes('an'):\r\n                this.words = this._wordCount ? this._wordCount.length - 1 : 0;\r\n                break;\r\n            default:\r\n                this.words = this._wordCount ? this._wordCount.length : 0;\r\n            // code block\r\n        }\r\n\r\n        console.log(this.words);\r\n        this.words = 0;\r\n    }\r\n\r\n    public submitForm(): void {\r\n        this.step++;\r\n        this.groupForm.patchValue({custom_name: this.lowerCaseRemoveSpaces.transform(this.groupForm.value.name)});\r\n        if (this.groupForm.valid && this.step === 3) {\r\n            console.log(this._imgAvatarSuccess, this._imgCoverSuccess, 'Images');\r\n            const formValue = {\r\n                ...this.groupForm.value,\r\n                avatar: this._imgAvatarSuccess,\r\n                cover: this._imgCoverSuccess,\r\n            };\r\n            this.groupsService.addGroup(formValue);\r\n        // .subscribe(async (dt) => {\r\n        //         console.log(dt,\"hrach\");\r\n        //         const selectedGroup = dt.find(d => formValue.name === d.name);\r\n        //         this.groupsStore.setGroups(dt);\r\n        //         this.groupsStore.selectGroup(selectedGroup);\r\n        //         this.socketService.setNewPageGroup(formValue);\r\n        //\r\n        //\r\n        //     });\r\n            this.dialog.close(this.groupForm.value);\r\n            this.step = 1;\r\n        }\r\n    }\r\n\r\n    closeDialog() {\r\n        this.dialog.close(null);\r\n    }\r\n\r\n}\r\n","export enum RemuveType {\r\n    irrevocably = 'It will be deleted permanently',\r\n    removeMembers = 'Access to group members will be removed',\r\n}\r\n","<form class=\"delete-group_dialog\" [formGroup]='deleteGroupForm'>\r\n    <div class=\"delete-group_dialog-title\">\r\n        <img src=\"assets/img/question_mark.svg\" alt=\"\">\r\n    </div>\r\n\r\n    <mat-radio-group\r\n        *ngIf=\"!nextStep\"\r\n        aria-label=\"Select an option\"\r\n        formControlName=\"deleteOption\">\r\n        <mat-radio-button [value]=\"1\">\r\n            <span class=\"radio-btn_desc\">\r\n                 You are about to delete this group permanently.\r\n                You will not be able to get your group back after deletion.\r\n            </span>\r\n        </mat-radio-button>\r\n        <mat-radio-button [value]=\"2\">\r\n              <span class=\"radio-btn_desc\">\r\n                  Many people within the community are interacting with this group.\r\n                  Are you sure you want to delete?\r\n            </span>\r\n        </mat-radio-button>\r\n        <!--        <mat-radio-button [value]=\"3\" >-->\r\n        <!--              <span class=\"radio-btn_desc\">-->\r\n        <!--                  You are about to delete a group permanently.-->\r\n        <!--                  Would you like to let an admin take over the group instead?-->\r\n        <!--            </span>-->\r\n        <!--        </mat-radio-button>-->\r\n    </mat-radio-group>\r\n\r\n\r\n    <div class=\"btn-section\"\r\n         *ngIf=\"!nextStep\">\r\n\r\n        <button class=\"remuve-btn\" (click)=\"nextStepTrue()\">Remove</button>\r\n        <button class=\"cancel-btn\" (click)=\"closeDialog()\">Cancel</button>\r\n    </div>\r\n\r\n    <div class=\"submit_form\"  *ngIf=\"nextStep\">\r\n        <div class=\"submit_form-desc\">\r\n            <div class=\"submit_form-title\">\r\n                <span>Are you sure you want to delete this group?</span>\r\n            </div>\r\n            <div class=\"submit_form-subtitle\">\r\n               <span>{{textChangeType}}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"submit-button\">\r\n            <button class=\"no-btn\" (click)=\"prevStepFalse()\">NO</button>\r\n            <button class=\"yes-btn\" (click)=\"remuveGroupByType()\">YES</button>\r\n        </div>\r\n\r\n    </div>\r\n</form>\r\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {GroupsService} from '@core/services/groups.service';\r\nimport {MAT_DIALOG_DATA, MatDialog, MatDialogRef} from '@angular/material/dialog';\r\nimport {RemuveType} from '@app/groups/dialogs/helper/remuveType';\r\n\r\n@Component({\r\n    selector: 'app-delete-group-dialog',\r\n    templateUrl: 'delete-group.dialog.html',\r\n    styleUrls: ['delete-group.dialog.scss']\r\n})\r\n\r\nexport class DeleteGroupDialog implements OnInit, OnDestroy {\r\n    public deleteGroupForm: FormGroup;\r\n    private typeEnum = RemuveType;\r\n    public nextStep = false;\r\n    public textChangeType = this.typeEnum.irrevocably;\r\n\r\n    constructor(\r\n        private _fb: FormBuilder,\r\n        private dialogRef: MatDialogRef<any>,\r\n        private _groupsService: GroupsService,\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._formBuilder();\r\n        this.changeValueRadioButton();\r\n    }\r\n\r\n    private _formBuilder(): void {\r\n        this.deleteGroupForm = this._fb.group({\r\n            deleteOption: [1, Validators.required]\r\n        });\r\n    }\r\n\r\n    public nextStepTrue() {\r\n        this.nextStep = true;\r\n    }\r\n\r\n    public prevStepFalse() {\r\n        this.nextStep = false;\r\n    }\r\n\r\n    public closeDialog() {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n    public remuveGroupByType() {\r\n        if (this.deleteGroupForm.invalid) {\r\n            return;\r\n        }\r\n\r\n        const remuveData = {\r\n            type: this.deleteGroupForm.get('deleteOption').value,\r\n            id: this.data\r\n        };\r\n        this._groupsService.remuveGroupByTypeAndGroupId(remuveData);\r\n    }\r\n\r\n    public changeValueRadioButton() {\r\n        this.deleteGroupForm.get('deleteOption').valueChanges\r\n            .subscribe((data) => {\r\n                console.log(data, 1213);\r\n                if (data === 1) {\r\n                    this.textChangeType = this.typeEnum.irrevocably;\r\n                }\r\n                this.textChangeType = this.typeEnum.removeMembers;\r\n                console.log(this.textChangeType);\r\n            });\r\n\r\n    }\r\n\r\n    ngOnDestroy() {\r\n    }\r\n}\r\n","import {Directive, HostListener, Input} from '@angular/core';\r\nimport {LowercaseRemoveSpacesPipe} from '@shared/pipes/lowercase-remove-spaces.pipe';\r\nimport {Router} from '@angular/router';\r\n\r\n@Directive({\r\n    selector: '[appNavigateToFixedGroupUrl]'\r\n})\r\nexport class FixGroupPageUrlDirective {\r\n\r\n    @Input() name;\r\n\r\n    constructor(\r\n        private lowerCaseRemoveSpaces: LowercaseRemoveSpacesPipe,\r\n        private router: Router\r\n    ) {\r\n    }\r\n\r\n    @HostListener('click', ['$event'])\r\n    async onClick() {\r\n        const url = '/groups/' + this.name + '/people';\r\n        await this.router.navigate([this.lowerCaseRemoveSpaces.transform(url)]);\r\n    }\r\n\r\n}\r\n","<!-- Group list item start-->\r\n<div  class=\"groupMessageDiv\">\r\n    <!-- Group list item avatar start-->\r\n    <div class=\"img-wrap\">\r\n        <img class=\"groupMessageImg\" *ngIf=\"!group.avatar\" [src]=\"group.avatar|getImgPath:'group_avatars'\">\r\n        <img class=\"groupMessageImg\" *ngIf=\"group.avatar\" [src]=\"group.avatar|getImgPath:'images'\">\r\n\r\n        <!--Group action start-->\r\n        <div class=\"group-action\">\r\n            <mat-icon appNavigateToFixedGroupUrl [name]=\"group.id\" >remove_red_eye</mat-icon>\r\n            <mat-icon [routerLink]=\"'/groups/edit/'+group?.id\">edit</mat-icon>\r\n            <mat-icon (click)=\"openDeleteDialog()\">delete</mat-icon>\r\n        </div>\r\n        <!--Group action end-->\r\n    </div>\r\n    <!-- Group list item avatar end-->\r\n\r\n    <!-- Group list item name start-->\r\n    <div class=\"group-name-wrap\">\r\n\r\n        <!-- Group name start-->\r\n        <strong>{{group.name}}</strong>\r\n        <!-- Group name end-->\r\n\r\n        <!-- Group privacy start-->\r\n        <mat-icon *ngIf=\"group.privacy === 1\">enhanced_encryption</mat-icon>\r\n        <!-- Group privacy end-->\r\n    </div>\r\n    <!-- Group list item name end-->\r\n</div>\r\n<!-- Group list item end-->\r\n\r\n\r\n\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {LowercaseRemoveSpacesPipe} from '@shared/pipes/lowercase-remove-spaces.pipe';\r\nimport {DeleteGroupDialog} from '@app/groups/dialogs';\r\nimport {MatDialog} from '@angular/material/dialog';\r\n\r\n@Component({\r\n    selector: 'app-group-item',\r\n    templateUrl: './group-item.component.html',\r\n    styleUrls: ['./group-item.component.scss']\r\n})\r\nexport class GroupItemComponent implements OnInit {\r\n    @Input() group;\r\n\r\n    constructor(\r\n        private lowerCaseRemoveSpaces: LowercaseRemoveSpacesPipe,\r\n        private _dialog: MatDialog\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    public openDeleteDialog() {\r\n        this._dialog.open(DeleteGroupDialog, {\r\n            height: '400px',\r\n            width: 'auto',\r\n            data: this.group.id,\r\n        }).afterClosed().subscribe(dt => {\r\n\r\n        });\r\n    }\r\n\r\n    getUrl() {\r\n        const url = '/groups/' + this.group.id.replace(' /g', '_') + '/about';\r\n        return this.lowerCaseRemoveSpaces.transform(url);\r\n    }\r\n\r\n}\r\n","import {Component} from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-loading',\r\n    templateUrl: 'loading.component.html',\r\n    styleUrls: ['loading.component.scss']\r\n})\r\n\r\nexport class LoadingComponent {\r\n\r\n}\r\n","<figure>\r\n    <div></div><div></div>\r\n    <div></div><div></div>\r\n    <div></div><div></div>\r\n    <div></div><div></div>\r\n</figure>\r\n","<!--create group button start-->\r\n<div class=\"row\">\r\n    <button id=\"create-group-btn\" (click)=\"openModal()\">Create new group</button>\r\n</div>\r\n<!--create group button end-->\r\n<form [formGroup]=\"filterGroup\">\r\n    <!--radio button filter start-->\r\n    <div class=\"filter-groups-section\">\r\n\r\n        <div class=\"filter-groups-section-radio_button\">\r\n            <!--   Filter Radio  value  all start-->\r\n            <input\r\n                type=\"radio\"\r\n\r\n                formControlName=\"radioButton\"\r\n                (change)=\"myGroupFilter($event.target)\"\r\n                value=\"\"\r\n                id=\"all\">\r\n            <label for=\"all\">All</label>\r\n            <!--   Filter Radio  value  all start-->\r\n\r\n            <!--   Filter Radio  value  my_group start-->\r\n            <input\r\n                type=\"radio\"\r\n                (change)=\"myGroupFilter($event.target)\"\r\n                value=\"true\"\r\n\r\n                formControlName=\"radioButton\"\r\n                id=\"my_group\">\r\n            <label for=\"my_group\">My groups</label>\r\n            <!--   Filter Radio  value  my_group start-->\r\n\r\n            <!--   Filter checkbox  value  privat_group start-->\r\n            <input\r\n                type=\"checkbox\"\r\n                formControlName=\"checkboxButton\"\r\n                (change)=\"handleChange($event.target)\"\r\n                value=\"false\"\r\n                id=\"privat_groups\">\r\n            <label for=\"privat_groups\">{{!isPrivate ? 'Public' : 'Private'}} groups</label>\r\n            <!--   Filter checkbox  value  privat_group start-->\r\n        </div>\r\n\r\n\r\n    </div>\r\n    <!--radio button filter end-->\r\n\r\n    <!--Search filter start-->\r\n    <div class=\"filter-groups-section_search\">\r\n        <input type=\"text\"\r\n               placeholder=\"Search\"\r\n               (keyup)=\"_filterSearchKey($event.target)\"\r\n               formControlName=\"searchKey\">\r\n        <mat-icon>\r\n            search\r\n        </mat-icon>\r\n    </div>\r\n    <!--Search filter end-->\r\n</form>\r\n<!--Group List start-->\r\n<ng-container *ngIf=\"( dataSource$ | async) as state\">\r\n    <ul class=\"ulBorderBottom\" *ngIf=\"state.groups.length && !state.loading\">\r\n\r\n        <li class=\"group-item-wrap\" *ngFor=\"let group of state.groups\">\r\n            <app-group-item [group]=\"group\"></app-group-item>\r\n        </li>\r\n\r\n    </ul>\r\n    <div class=\"no_result\" *ngIf=\"state.groups.length == 0 && !state.loading\">\r\n        <div class=\"no_result-img\">\r\n            <img src=\"assets/img/Error-amico.svg\" alt=\"amico\">\r\n        </div>\r\n        <div class=\"no_result-title\">\r\n            <h2>No Result Found</h2>\r\n        </div>\r\n        <div class=\"no_result-desc\">\r\n            <span>\r\n                We can`t find any item matching\r\n            </span>\r\n            <span>\r\n                your search\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"( state.loading)\" style=\"height: 400px;position: relative;\">\r\n        <app-loading></app-loading>\r\n    </div>\r\n</ng-container>\r\n<!--Group List end-->\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {UserStoreService} from '@core/services/stores/user-store.service';\nimport {Observable, Subject} from 'rxjs';\nimport {CreateNewGroupDialogComponent} from '@core/components/modals/create-new-group-dialog/create-new-group-dialog.component';\nimport {MatDialog} from '@angular/material/dialog';\nimport {ChatService} from '@core/services/chat.service';\nimport {SocketIoService} from '@core/services/socket-io.service';\nimport {Router} from '@angular/router';\nimport {GroupsStoreService} from '@core/services/stores/groups-store.service';\nimport {CurrentUserData} from '@core/interfaces';\nimport {UserInfoService} from '@core/services/user-info.service';\nimport {takeUntil} from 'rxjs/operators';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {GroupsService} from '@core/services/groups.service';\nimport {GroupInitialStateInterface} from '@core/interfaces/group.interface';\n\n@Component({\n    selector: 'app-show-groups',\n    templateUrl: './show-groups.component.html',\n    styleUrls: ['./show-groups.component.scss']\n})\nexport class ShowGroupsComponent implements OnInit, OnDestroy {\n    public filterGroup: FormGroup | undefined;\n    public dataSource$: Observable<GroupInitialStateInterface>;\n    public authUser: CurrentUserData;\n    private _unsubscribe$ = new Subject<void>();\n    private groups = [];\n    private searchKeyValue = '';\n    public isPrivate = false;\n\n    constructor(\n        public groupsStore: GroupsStoreService,\n        private _groupsService: GroupsService,\n        private chatService: ChatService,\n        private userStore: UserStoreService,\n        private socketService: SocketIoService,\n        public router: Router,\n        private dialog: MatDialog,\n        private _fb: FormBuilder,\n        private _userInfoService: UserInfoService,\n    ) {\n        this._getAuthInfo();\n        this.dataSource$ = this._groupsService.groupsState$.state$;\n    }\n\n    ngOnInit(): void {\n        this.trackGroups();\n        this._formBuilder();\n        this._getGroupList(this.searchKeyValue, this.filterGroup.get('radioButton').value, this.isPrivate);\n    }\n\n    private _formBuilder(): void {\n        this.filterGroup = this._fb.group({\n            searchKey: [''],\n            radioButton: [''],\n            checkboxButton: [false],\n        });\n    }\n\n    public handleChange(e): void {\n        this.isPrivate = e.checked;\n        this._getGroupList(this.searchKeyValue, this.filterGroup.get('radioButton').value, this.isPrivate);\n    }\n\n    public myGroupFilter(e): void {\n        this._getGroupList(this.searchKeyValue, this.filterGroup.get('radioButton').value, this.isPrivate);\n    }\n\n    public _filterSearchKey(eventTarget): any {\n        this.searchKeyValue = eventTarget.value;\n        this._getGroupList(this.searchKeyValue, this.filterGroup.get('radioButton').value, this.isPrivate);\n    }\n\n    private _getGroupList(filterData, group_type, isPrivate): any {\n        const params = {\n            search: filterData,\n            onlyMy: group_type,\n            isPrivate: isPrivate ? 1 : 0\n        };\n        this._groupsService.getGroupList(params);\n    }\n\n    private trackGroups() {\n        this.groupsStore.groups$\n            .pipe(\n                takeUntil(this._unsubscribe$),\n            )\n            .subscribe(dt => {\n                this.groups = dt;\n            });\n    }\n\n    private _getAuthInfo() {\n        this._userInfoService._userInfo\n            .pipe(\n                takeUntil(this._unsubscribe$),\n            )\n            .subscribe((data) => {\n                this.authUser = data;\n            });\n    }\n\n    public filterGroups(type) {\n        return this.groups.filter(g => {\n            return type === 'managed' ?\n                g.creator_id === this.authUser?.id :\n                g.creator_id !== this.authUser?.id;\n        });\n    }\n\n    public openModal() {\n        this.dialog.open(CreateNewGroupDialogComponent, {\n            width: '700px',\n            height: 'auto',\n            data: this.authUser\n        }).afterClosed()\n            .pipe(\n                takeUntil(this._unsubscribe$),\n            )\n            .subscribe(async (selectedGroup) => {\n                if (selectedGroup) {\n                    await this.router.navigateByUrl('/groups');\n                }\n            });\n    }\n\n    ngOnDestroy(): void {\n        this._unsubscribe$.next();\n        this._unsubscribe$.complete();\n    }\n}\n","import {Directive, Injector, Input, Self} from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[disableControl]'\r\n})\r\nexport class DisableControlProperlyDirective {\r\n\r\n    @Input() set disableControl({condition, control}) {\r\n        const action = condition ? 'disable' : 'enable';\r\n        control?.[action]();\r\n    }\r\n\r\n\r\n}\r\n","<div id=\"dialog-header\">\r\n    <h3>Invite contacts to this group</h3>\r\n    <div>\r\n        <img src=\"assets/img/x.svg\" alt=\"close-dialog\" class=\"close-box\" (click)=\"closeDialog()\">\r\n    </div>\r\n</div>\r\n<form [formGroup]=\"contactsInviteForm\">\r\n    <div id=\"group-members-wrap\">\r\n        <div id=\"suggested-contacts\">\r\n            <div id=\"contact-search-wrap\">\r\n                <input placeholder=\"Find a contact\">\r\n                <i class=\"fas fa-search\"></i>\r\n            </div>\r\n\r\n            <ul formArrayName=\"contacts\">\r\n                <li *ngFor=\"let control of contactCtrls.controls;let i = index\" [formGroupName]=\"i\"\r\n                    [class.processed-contact]=\"isProcessedContact(control.value.status)\">\r\n                    <div class=\"details\">\r\n                        <label [for]=\"'contact_'+control.value.i\">\r\n                            <div class=\"avatar-wrap\">\r\n                                <img class=\"avatar\"\r\n                                     [src]=\"control.value.avatar|getImgPath: 'images'\">\r\n                            </div>\r\n                            <div>\r\n                                <p class=\"contact-full-name\">{{control.value.first_name + ' ' + control.value.last_name}}</p>\r\n                                <p class=\"contact-status\"\r\n                                   *ngIf=\"control.value.status !== 'not joined'\">{{control.value.status}}</p>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                    <div class=\"state\">\r\n                        <label>\r\n                            <input type=\"hidden\" formControlName=\"id\">\r\n                            <input type=\"hidden\" formControlName=\"name\">\r\n                            <input type=\"checkbox\" formControlName=\"checked\"\r\n                                   [id]=\"'contact_'+control.value.id\"\r\n                                   (change)=\"selectContact($event,control)\"\r\n                                   [disableControl]=\"{condition:isProcessedContact(control.value.status ),control: getCheckBoxControl(control)}\"\r\n                            >\r\n                            <span></span>\r\n                        </label>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div id=\"selected-contacts\">\r\n            <p id=\"selected-contacts-count\" *ngIf=\"selectedContacts.length as length\">\r\n                {{length + ' ' + (length === 1 ? 'contact' : 'contacts')}}  selected\r\n            </p>\r\n            <ul formArrayName=\"contacts\">\r\n                <li *ngFor=\"let control of checkedContactCtrls;let i = index\" [formGroupName]=\"i\">\r\n                    <div class=\"details\">\r\n                        <label [for]=\"control.value.id+'_'+i\">\r\n                            <img class=\"avatar\" [src]=\"control.value.avatar|getImgPath: 'images'\">\r\n                            <span>{{control.value.first_name + ' ' + control.value.last_name}}</span>\r\n                        </label>\r\n                    </div>\r\n                    <div class=\"state\">\r\n                        <button id=\"remove-from-selected-contacts-btn\">\r\n                            <i class=\"fas fa-times\" (click)=\"removeContactFromSelected(control)\"></i>\r\n                        </button>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</form>\r\n<div id=\"dialog-actions\">\r\n    <button id=\"close-dialog\" (click)=\"closeDialog()\">Cancel</button>\r\n    <button id=\"send-invites\" (click)=\"sendInvitationsToContacts()\">Send invites</button>\r\n</div>\r\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {User} from '@shared/models/user';\r\nimport {Subscription} from 'rxjs';\r\nimport {UsersService} from '@core/services/users.service';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\nimport {GetTwoArrayOfObjectsDifferencePipe} from '@shared/pipes/get-two-array-of-objects-difference.pipe';\r\nimport {UsersMessagesSubjectService} from '@core/services/stores/users-messages-subject.service';\r\nimport {AbstractControl, FormArray, FormBuilder, FormGroup} from '@angular/forms';\r\nimport {GroupsStoreService} from '@core/services/stores/groups-store.service';\r\nimport {GroupsService} from '@core/services/groups.service';\r\n\r\n@Component({\r\n    selector: 'app-group-members-invitation-dialog',\r\n    templateUrl: './group-members-invitation-dialog.component.html',\r\n    styleUrls: ['./group-members-invitation-dialog.component.scss']\r\n})\r\nexport class GroupMembersInvitationDialogComponent implements OnInit, OnDestroy {\r\n    selectedGroup;\r\n    userContacts: User[] = [];\r\n    selectedContacts: User[] = [];\r\n\r\n    subscriptions: Subscription[] = [];\r\n\r\n    contactsInviteForm: FormGroup;\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public authUser: User,\r\n        private groupsStore: GroupsStoreService,\r\n        private usersMessagesStore: UsersMessagesSubjectService,\r\n        private usersService: UsersService,\r\n        private socketService: SocketIoService,\r\n        private groupsService: GroupsService,\r\n        private dialog: MatDialogRef<GroupMembersInvitationDialogComponent>,\r\n        private getArraysDifference: GetTwoArrayOfObjectsDifferencePipe,\r\n        private fb: FormBuilder\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.selectedGroup = this.groupsStore.selectedGroup;\r\n        this.initForm();\r\n    }\r\n\r\n\r\n    initForm() {\r\n        this.contactsInviteForm = this.fb.group({\r\n            contacts: this.fb.array(this.getContactsFormGroup()),\r\n        });\r\n    }\r\n\r\n    getContactsFormGroup() {\r\n        const formArray = [];\r\n        this.usersMessagesStore.usersMessages.map((c, index) => {\r\n            const foundInSelected = this.selectedContacts.find(sc => sc.id === c.id);\r\n            const foundInGroup = this.selectedGroup.group_members.find(m => m.id === c.id);\r\n            let connectionWithGroup = 'not joined';\r\n\r\n            if (foundInGroup) {\r\n                const connectionContainer = foundInGroup.groups_members;\r\n\r\n                if (foundInGroup) {\r\n                    connectionWithGroup = !!connectionContainer.confirmed ? 'joined' : 'invited';\r\n                    if (connectionContainer.accepted && !connectionContainer.confirmed) {\r\n                        connectionWithGroup = 'accepted';\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            formArray.push(this.fb.group({\r\n                name: 'contact_' + index,\r\n                checked: !!foundInSelected,\r\n                status: connectionWithGroup,\r\n                ...c\r\n            }));\r\n        });\r\n        return formArray;\r\n    }\r\n\r\n    selectContact(event: Event, control: AbstractControl) {\r\n        const isChecked = (event.target as HTMLInputElement).checked;\r\n        if (isChecked) {\r\n            this.selectedContacts.push(control.value);\r\n        } else {\r\n            this.selectedContacts = this.selectedContacts.filter(c => c.id !== control.value.id);\r\n        }\r\n    }\r\n\r\n    removeContactFromSelected(control: AbstractControl) {\r\n        const foundControl = this.contactCtrls.controls.find(c => c.value.id === control.value.id);\r\n        this.selectedContacts = this.selectedContacts.filter(c => c.id !== control.value.id);\r\n        foundControl.patchValue({checked: false});\r\n    }\r\n\r\n    sendInvitationsToContacts() {\r\n        this.subscriptions.push(this.groupsService.addGroupMembers({\r\n            group_id: this.selectedGroup.id,\r\n            member_ids: this.selectedContacts.map(c => c.id)\r\n        }).subscribe(dt => {\r\n            this.socketService.inviteToNewPageGroup({\r\n                invited_members: this.selectedContacts,\r\n                from_user: this.authUser,\r\n                group: this.selectedGroup,\r\n                msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong>\r\n                    has sent an invitation to join the <strong>${this.selectedGroup.name}</strong> group`,\r\n            });\r\n            this.groupsStore.changeGroup(dt);\r\n            this.closeDialog();\r\n        }));\r\n    }\r\n\r\n    isProcessedContact(status) {\r\n        return ['invited', 'joined', 'accepted'].indexOf(status) !== -1;\r\n    }\r\n\r\n    get contactCtrls() {\r\n        return this.contactsInviteForm.controls.contacts as FormArray;\r\n    }\r\n\r\n    get checkedContactCtrls() {\r\n        return this.contactCtrls.controls.filter(c => c.value.checked);\r\n    }\r\n\r\n    getCheckBoxControl(control) {\r\n        return control.controls.checked;\r\n    }\r\n\r\n    closeDialog() {\r\n        this.dialog.close();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n}\r\n","<ng-container *ngIf=\"selectedGroup && !loading\">\r\n    <app-user-tags></app-user-tags>\r\n    <div id=\"group-wrap\">\r\n        <div class=\"images-box\">\r\n            <div class=\"images-cover\">\r\n                <img class=\"images-cover-create\" [src]=\"selectedGroup?.cover|getImgPath:'images'\" alt=\"\">\r\n            </div>\r\n            <div class=\"images-avatar\">\r\n                <img [src]=\"selectedGroup?.avatar|getImgPath:'images'\" alt=\"\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row groupsRow\">\r\n            <div id=\"group-details\">\r\n                <div class=\"details-row\">\r\n                    <strong id=\"group-name\">{{selectedGroup?.name}}</strong>\r\n                </div>\r\n\r\n                <div class=\"details-row\">\r\n                    <div id=\"privacy-type\">\r\n                        <mat-icon>{{groupPrivacy === 'public' ? groupPrivacy : 'lock' }}</mat-icon>\r\n                        <span>{{groupPrivacy}}</span>\r\n                    </div>\r\n                    <div id=\"members-count\">\r\n                        <strong>\r\n                            <span>{{getConfirmedMembersCount()}}</span>\r\n                            members\r\n                        </strong>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"group-actions\">\r\n                <ng-container *ngIf=\"showJoinBtn()\">\r\n                    <button id=\"join-group-btn\" (click)=\"joinGroup()\" *ngIf=\"userGroupConnStatus === 'not connected'\">\r\n                        Join\r\n                    </button>\r\n                    <button id=\"joined-group-btn\" [matMenuTriggerFor]=\"menu\"\r\n                            *ngIf=\"userGroupConnStatus === 'confirmed'\">\r\n                        <span>Joined</span>\r\n                        <mat-icon>arrow_drop_down</mat-icon>\r\n                    </button>\r\n\r\n                    <button id=\"waiting-for-confirmation-btn\" *ngIf=\"userGroupConnStatus === 'unconfirmed'\">\r\n                        <mat-icon>check</mat-icon>\r\n                        <span>Waiting for confirmation</span>\r\n                    </button>\r\n\r\n                    <mat-menu #menu=\"matMenu\">\r\n                        <button mat-menu-item id=\"unfollow-group\">\r\n                            <i class=\"fas fa-times-circle\"></i>\r\n                            <span>Unfollow group</span>\r\n                        </button>\r\n                        <button mat-menu-item id=\"leave-group\" (click)=\"leaveGroup()\">\r\n                            <i class=\"fa fa-times\"></i>\r\n                            <span>Leave group</span>\r\n                        </button>\r\n                    </mat-menu>\r\n                </ng-container>\r\n\r\n                <button id=\"invite-to-group-btn\" (click)=\"openMembersModal()\">\r\n                    <mat-icon>add</mat-icon>\r\n                    Invite\r\n                </button>\r\n\r\n                <button type=\"button\" id=\"edit-profile\"\r\n                        [routerLink]=\"'/groups/edit/'+selectedGroup?.id\">\r\n                    <mat-icon>edit</mat-icon>\r\n                    Edit profile\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div id=\"group-tabs\">\r\n                <ul class=\"nav-tabs\">\r\n                    <li class=\"nav-item\" *ngFor=\"let tab of groupTabs\">\r\n                        <a class=\"nav-link\" [routerLink]=\"'/groups/'+passedGroupName+'/'+tab.link\"\r\n                           routerLinkActive=\"active\"\r\n                        >{{tab.name}}</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"tab-content\" *ngIf=\"selectedGroup\">\r\n            <router-outlet (activate)=\"onOutletLoaded($event)\"></router-outlet>\r\n        </div>\r\n    </div>\r\n</ng-container>\r\n\r\n<div style=\"height: 400px;position: relative;\" *ngIf=\"loading\">\r\n        <app-loading></app-loading>\r\n</div>\r\n\r\n<span *ngIf=\"!selectedGroup\">The group is not found</span>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Params} from '@angular/router';\r\nimport {Subscription} from 'rxjs';\r\nimport {GROUP_PAGE_TABS} from '@core/constants/global';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {LowercaseRemoveSpacesPipe} from '@shared/pipes/lowercase-remove-spaces.pipe';\r\nimport {GroupMembersInvitationDialogComponent} from '@core/components/modals/group-members-invitation-dialog/group-members-invitation-dialog.component';\r\nimport {GroupsService} from '@core/services/groups.service';\r\nimport {CheckForEmptyObjectPipe} from '@shared/pipes/check-for-empty-object.pipe';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\nimport {GroupsStoreService} from '@core/services/stores/groups-store.service';\r\nimport {ConfirmationDialogComponent} from '@core/components/modals/confirmation-dialog/confirmation-dialog.component';\r\nimport {CurrentUserData} from '@core/interfaces';\r\nimport {UserInfoService} from '@core/services/user-info.service';\r\n\r\n@Component({\r\n    selector: 'app-single-group',\r\n    templateUrl: './single-group.component.html',\r\n    styleUrls: ['./single-group.component.scss']\r\n})\r\nexport class SingleGroupComponent implements OnInit, OnDestroy {\r\n    authUser: CurrentUserData;\r\n    public loading = false;\r\n    subscriptions: Subscription[] = [];\r\n\r\n\r\n    selectedGroup;\r\n    isOwnGroup = false;\r\n    passedGroupName: string;\r\n    groupTabs = GROUP_PAGE_TABS;\r\n    groupPrivacy = 'public';\r\n\r\n    userGroupConnStatus = 'not connected';\r\n\r\n    constructor(\r\n        private groupsStore: GroupsStoreService,\r\n        private groupsService: GroupsService,\r\n        private route: ActivatedRoute,\r\n        private dialog: MatDialog,\r\n        private lowerCaseRemoveSpaces: LowercaseRemoveSpacesPipe,\r\n        private isEmptyObj: CheckForEmptyObjectPipe,\r\n        private socketService: SocketIoService,\r\n        private _userInfoService: UserInfoService\r\n    ) {\r\n        this._getAuthInfo();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.trackSelectedGroup();\r\n        this.getSelectedGroup();\r\n        this.getAcceptedJoinPageGroup();\r\n        this.getConfirmedJoinGroup();\r\n        this.getIgnoredJoinGroup();\r\n        this.getJoinGroup();\r\n        this.getRemovedSavedMember();\r\n        this.getLeftGroup();\r\n    }\r\n\r\n\r\n    private _getAuthInfo() {\r\n        this._userInfoService._userInfo.subscribe((data) => {\r\n            this.authUser = data;\r\n        });\r\n    }\r\n\r\n    trackSelectedGroup() {\r\n        this.subscriptions.push(this.groupsStore.selectedGroup$.subscribe((dt: any) => {\r\n            console.log(dt, 159357);\r\n            this.selectedGroup = dt;\r\n            // this.groupPrivacy = dt.privacy === 1 ? 'private' : 'public';\r\n            if (!this.isEmptyObj.transform(dt) && this.authUser) {\r\n                this.getUserGroupConnStatus();\r\n            }\r\n        }));\r\n    }\r\n\r\n    getSelectedGroup() {\r\n        this.route.params.subscribe((params: Params) => {\r\n            this.passedGroupName = params.id;\r\n            if (!this._getGroupById()) {\r\n                this.getGroupFromServer();\r\n            }\r\n        });\r\n    }\r\n\r\n    private _getGroupById() {\r\n        this.groupsService.getGroupById(+this.passedGroupName)\r\n            .subscribe((data: any) => {\r\n                this.selectedGroup = data;\r\n                this.groupsStore.selectGroup(this.selectedGroup);\r\n            });\r\n        return !!this.selectedGroup;\r\n    }\r\n\r\n    getGroupFromServer() {\r\n        this.loading = true;\r\n        this.groupsService.getGroupById(+this.passedGroupName)\r\n            .subscribe(data => {\r\n            this.selectedGroup = data;\r\n            this.isOwnGroup = this.selectedGroup.creator_id === this.authUser.id;\r\n            this.groupPrivacy = data.privacy === 1 ? 'private' : 'public';\r\n            this.loading = false;\r\n            this.groupsStore.selectGroup(this.selectedGroup);\r\n        });\r\n    }\r\n\r\n    joinGroup() {\r\n        console.log(this.selectedGroup);\r\n        this.groupsService.joinGroup({\r\n            member_ids: [this.authUser.id],\r\n            group_id: this.selectedGroup.id,\r\n            accepted: 1\r\n        }).subscribe(dt => {\r\n            this.userGroupConnStatus = 'unconfirmed';\r\n\r\n            this.socketService.joinGroup({\r\n                group: this.selectedGroup,\r\n                from_user: this.authUser,\r\n                msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong> wants to to join the <strong>${this.selectedGroup.name}</strong> group`,\r\n                link: `/channels/show?username=${this.authUser.username}`,\r\n            });\r\n\r\n            this.groupsStore.changeGroup(dt);\r\n        });\r\n    }\r\n\r\n    getJoinGroup() {\r\n        this.subscriptions.push(this.socketService.getJoinGroup().subscribe((data: any) => {\r\n            const {rest} = data;\r\n            console.log('get joined', rest.group);\r\n            this.groupsStore.changeGroup(rest.group);\r\n        }));\r\n    }\r\n\r\n    leaveGroup() {\r\n        this.subscriptions.push(this.dialog.open(ConfirmationDialogComponent).afterClosed().subscribe(confirmed => {\r\n            if (confirmed) {\r\n                this.groupsService.leaveGroup({\r\n                    member_id: this.authUser.id,\r\n                    group_id: this.selectedGroup.id,\r\n                }).subscribe(dt => {\r\n                    this.groupsStore.setGroups(dt);\r\n                    this.socketService.leavePageGroup({\r\n                        group: this.selectedGroup,\r\n                        from_user: this.authUser,\r\n                        group_type: 'page',\r\n                        msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong> has left the <strong>${this.selectedGroup.name}</strong> group`\r\n                    });\r\n                });\r\n            }\r\n        }));\r\n    }\r\n\r\n    getLeftGroup() {\r\n        this.subscriptions.push(this.socketService.leavePageGroupNotify().subscribe((data: any) => {\r\n            const {group} = data;\r\n            if (data.from_user.id === this.authUser.id) {\r\n                this.userGroupConnStatus = 'not connected';\r\n            }\r\n            this.groupsStore.changeGroup(group);\r\n        }));\r\n    }\r\n\r\n    getConfirmedMembersCount() {\r\n        return this.selectedGroup?.group_members?.filter(m => !!m.groups_members.confirmed).length || 0;\r\n    }\r\n\r\n    getAcceptedJoinPageGroup() {\r\n        this.subscriptions.push(this.socketService.getAcceptedJoinPageGroup().subscribe((data: any) => {\r\n            const {rest} = data;\r\n            console.log('accepted', rest.group);\r\n            // this.groupsStore.changeGroup(rest.group);\r\n        }));\r\n    }\r\n\r\n    getConfirmedJoinGroup() {\r\n        this.subscriptions.push(this.socketService.getConfirmedJoinGroup().subscribe((data: any) => {\r\n            const {rest} = data;\r\n            console.log('confirmed in group page', data);\r\n            this.userGroupConnStatus = 'confirmed';\r\n            this.groupsStore.changeGroup(rest.group);\r\n        }));\r\n    }\r\n\r\n    getIgnoredJoinGroup() {\r\n        this.subscriptions.push(this.socketService.getIgnoredJoinGroup().subscribe((data: any) => {\r\n            const {rest} = data;\r\n            console.log('ignored in group page', rest);\r\n            if (rest.member.id === this.authUser.id) {\r\n                this.groupsStore.setGroups(rest.leftGroups);\r\n                this.groupsStore.selectGroup(rest.group);\r\n                this.userGroupConnStatus = 'not connected';\r\n            }\r\n            console.log(this.groupsStore.groups);\r\n        }));\r\n    }\r\n\r\n    getRemovedSavedMember() {\r\n        this.subscriptions.push(this.socketService.removeFromPageGroupNotify().subscribe((data: any) => {\r\n            const {member, leftGroups} = data;\r\n            console.log('removed from group in group page', data);\r\n            this.groupsStore.changeGroup(data.group);\r\n            if (member.id === this.authUser.id) {\r\n                this.userGroupConnStatus = 'not connected';\r\n            }\r\n        }));\r\n    }\r\n\r\n    private getUserGroupConnStatus() {\r\n        this.selectedGroup.group_members?.map(m => {\r\n            if (m.id === this.authUser.id) {\r\n                if (m.groups_members.confirmed === 1) {\r\n                    this.userGroupConnStatus = 'confirmed';\r\n                } else {\r\n                    if (m.groups_members.accepted === 1) {\r\n                        this.userGroupConnStatus = 'unconfirmed';\r\n                    } else {\r\n                        this.userGroupConnStatus = 'not connected';\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    showJoinBtn() {\r\n        return !this.isOwnGroup;\r\n    }\r\n\r\n    onOutletLoaded(component) {\r\n        if (this.selectedGroup) {\r\n            component.selectedGroup = this.selectedGroup;\r\n            component.isOwnGroup = this.isOwnGroup;\r\n            component.authUser = this.authUser;\r\n        }\r\n    }\r\n\r\n    openMembersModal() {\r\n        this.subscriptions.push(this.dialog.open(GroupMembersInvitationDialogComponent, {\r\n            height: '690px',\r\n            width: '950px',\r\n            data: this.authUser,\r\n        }).afterClosed().subscribe(dt => {\r\n\r\n        }));\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n}\r\n","<div>\r\n    <button [matMenuTriggerFor]=\"menu\" class=\"show-actions\">\r\n        <i class=\"fas fa-ellipsis-h\"></i>\r\n    </button>\r\n\r\n    <mat-menu #menu=\"matMenu\">\r\n        <button id=\"make-admin\" mat-menu-item\r\n                *ngIf=\"!isAdmin(member) && !adminRequestSent\"\r\n                (click)=\"makeAdmin(member)\" [disableRipple]=\"true\">\r\n            <i class=\"fas fa-check\"></i>\r\n            <span>Make admin</span>\r\n        </button>\r\n        <button id=\"remove-make-admin\" mat-menu-item *ngIf=\"isAdmin(member)\"\r\n                (click)=\"removeAdminPrivileges(member)\" [disableRipple]=\"true\">\r\n            <i class=\"fas fa-times\"></i>\r\n            <span>Remove group admin privileges</span>\r\n        </button>\r\n        <button id=\"remove-make-moderator\" mat-menu-item\r\n                *ngIf=\"isModerator(member)\"\r\n                (click)=\"removeAdminPrivileges(member)\" [disableRipple]=\"true\">\r\n            <i class=\"fas fa-times\"></i>\r\n            <span>Remove group moderator privileges</span>\r\n        </button>\r\n        <button id=\"make-moderator\" *ngIf=\"!isModerator(member) && !moderatorRequestSent\" mat-menu-item\r\n                (click)=\"makeAdmin(member,'moderator')\"\r\n                [disableRipple]=\"true\">\r\n            <i class=\"fas fa-check\"></i>\r\n            <span>Make moderator</span>\r\n        </button>\r\n        <button id=\"remove-member-btn\" mat-menu-item [disableRipple]=\"true\" (click)=\"removeMember(member)\">\r\n            <i class=\"fas fa-times\"></i>\r\n            <span>Remove</span>\r\n        </button>\r\n    </mat-menu>\r\n</div>\r\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\nimport {GroupsService} from '@core/services/groups.service';\r\nimport {GroupsStoreService} from '@core/services/stores/groups-store.service';\r\nimport {NotificationsSubjectStoreService} from '@core/services/stores/notifications-subject-store.service';\r\nimport {Subscription} from 'rxjs';\r\nimport {ConfirmationDialogComponent} from '@core/components/modals/confirmation-dialog/confirmation-dialog.component';\r\nimport {MatDialog} from '@angular/material/dialog';\r\n\r\n@Component({\r\n    selector: 'app-group-members-actions-menu',\r\n    templateUrl: './group-members-actions-menu.component.html',\r\n    styleUrls: ['./group-members-actions-menu.component.scss']\r\n})\r\nexport class GroupMembersActionsMenuComponent implements OnInit, OnDestroy {\r\n    @Input() member;\r\n    @Input() authUser;\r\n    @Input() selectedGroup;\r\n    @Input() isOwnGroup;\r\n\r\n    subscriptions: Subscription[] = [];\r\n    adminRequestSent = false;\r\n    moderatorRequestSent = false;\r\n\r\n    constructor(\r\n        private socketService: SocketIoService,\r\n        private groupsService: GroupsService,\r\n        private groupsStore: GroupsStoreService,\r\n        private notificationsStore: NotificationsSubjectStoreService,\r\n        private dialog: MatDialog,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n\r\n    }\r\n\r\n    makeAdmin(member, type = 'admin') {\r\n        console.log('make admin', member)\r\n        this.socketService.sendMakeAdminRequest({\r\n            from_user: this.authUser,\r\n            group: this.selectedGroup,\r\n            member,\r\n            type,\r\n            msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong>\r\n                invites you to become ${type === 'admin' ? 'an admin' : 'a moderator'}\r\n                 for the <strong>${this.selectedGroup.name}</strong> group`\r\n        });\r\n\r\n        this.adminRequestSent = type === 'admin';\r\n        this.moderatorRequestSent = type === 'moderator';\r\n    }\r\n\r\n    removeMember(member) {\r\n        console.log('remove')\r\n        this.subscriptions.push(this.dialog.open(ConfirmationDialogComponent).afterClosed().subscribe(confirmed => {\r\n            if (confirmed) {\r\n                this.groupsService.removeGroupMember({\r\n                    group_id: this.selectedGroup.id,\r\n                    member_id: member.id\r\n                }).subscribe(dt => {\r\n                    this.selectedGroup = dt;\r\n                    this.groupsStore.changeGroup(this.selectedGroup);\r\n                    this.socketService.removeFromPageGroup({\r\n                        member,\r\n                        from_user: this.authUser,\r\n                        group: this.selectedGroup,\r\n                        msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong> removed  <strong>${member.first_name + ' ' + member.last_name}</strong>\r\n                       from <strong>${this.selectedGroup.name}</strong> group`,\r\n                    });\r\n                });\r\n            }\r\n        }));\r\n    }\r\n\r\n    removeAdminPrivileges(member, type = 'admin') {\r\n        this.subscriptions.push(this.dialog.open(ConfirmationDialogComponent).afterClosed().subscribe(confirmed => {\r\n            if (confirmed) {\r\n                this.subscriptions.push(this.groupsService.removeAdminPrivileges({\r\n                    member_id: member.id,\r\n                    group_id: this.selectedGroup.id\r\n                }).subscribe(dt => {\r\n                    this.socketService.removePageGroupAdminPrivileges({\r\n                        member,\r\n                        from_user: this.authUser,\r\n                        group: this.selectedGroup,\r\n                        msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong> removed ${type}  privileges of <strong>${member.first_name + ' ' + member.last_name}</strong>\r\n                       for the <strong>${this.selectedGroup.name}</strong> group`,\r\n                    });\r\n                    this.groupsStore.changeGroup(dt);\r\n                }));\r\n            }\r\n        }));\r\n    }\r\n\r\n    makeModerator(member) {\r\n\r\n    }\r\n\r\n    isAdmin(member) {\r\n        return member.groups_members.is_admin;\r\n    }\r\n\r\n    isModerator(member) {\r\n        return member.groups_members.is_moderator;\r\n    }\r\n\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n}\r\n","<div id=\"admins\">\r\n    <strong>Admins & moderators</strong>\r\n\r\n    <ul class=\"bordered\">\r\n        <li *ngFor=\"let admin of admins\">\r\n            <div class=\"details\">\r\n                <img class=\"avatar\" [src]=\"admin.avatar|getImgPath: 'images'\">\r\n                <div>\r\n                    <p class=\"full-name\" [routerLink]=\"'/users/'+admin.username\">\r\n                        {{admin.first_name + ' ' + admin.last_name}}\r\n                    </p>\r\n                    <span class=\"role\">{{getRoleName(admin)}}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <app-group-members-actions-menu *ngIf=\"showActionsMenu(admin)\"\r\n                                            [member]=\"admin\"\r\n                                            [authUser]=\"authUser\" [selectedGroup]=\"selectedGroup\"\r\n                                            [isOwnGroup]=\"isOwnGroup\"></app-group-members-actions-menu>\r\n        </li>\r\n    </ul>\r\n</div>\r\n","import {Component, Input, OnInit} from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-admins-list',\r\n    templateUrl: './admins-list.component.html',\r\n    styleUrls: ['./admins-list.component.scss']\r\n})\r\nexport class AdminsListComponent implements OnInit {\r\n    @Input() admins;\r\n    @Input() authUser;\r\n    @Input() selectedGroup;\r\n    @Input() isOwnGroup;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        console.log(this.selectedGroup,\"HRach\");\r\n    }\r\n\r\n    isGroupCreator(admin) {\r\n        return admin.id === this.selectedGroup?.creator_id;\r\n    }\r\n\r\n    isGroupAdmin(admin) {\r\n        return !!admin.groups_members.is_admin;\r\n    }\r\n\r\n\r\n    getUserGroupConnection(user) {\r\n        let connection;\r\n        this.admins.map(a => {\r\n            if (a.id === user?.id) {\r\n                connection = a.groups_members.is_admin ? 'Admin' : 'Moderator';\r\n\r\n                if (this.isGroupCreator(user)) {\r\n                    connection = 'Group creator';\r\n                }\r\n            }\r\n        });\r\n        return connection;\r\n    }\r\n\r\n    showActionsMenu(admin) {\r\n        if (this.authUserGroupConnection === 'Admin') {\r\n            return !this.isGroupCreator(admin) && (admin.id === this.authUser.id || admin.groups_members.is_moderator);\r\n        } else if (this.authUserGroupConnection === 'Group creator') {\r\n            return !this.isGroupCreator(admin);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getRoleName(admin) {\r\n        return this.getUserGroupConnection(admin);\r\n    }\r\n\r\n    get authUserGroupConnection(): string {\r\n        return this.getUserGroupConnection(this.authUser);\r\n    }\r\n\r\n}\r\n","<div id=\"members\">\r\n    <strong>Members</strong>\r\n\r\n    <ul class=\"bordered\">\r\n        <li *ngFor=\"let member of members\" [class.rounded]=\"!isOwnGroup\">\r\n            <div class=\"details\">\r\n                <div class=\"avatarDiv\">\r\n                    <img class=\"avatar\" [src]=\"member.avatar|getImgPath: 'images'\">\r\n                </div>\r\n                <strong class=\"member-name\" [routerLink]=\"'/users/'+member.username\">\r\n                    {{member.first_name + ' ' + member.last_name}}\r\n                </strong>\r\n            </div>\r\n            <app-group-members-actions-menu [member]=\"member\" [authUser]=\"authUser\" [selectedGroup]=\"selectedGroup\"\r\n                                            *ngIf=\"isOwnGroup\" [isOwnGroup]=\"isOwnGroup\">\r\n            </app-group-members-actions-menu>\r\n        </li>\r\n    </ul>\r\n</div>\r\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\nimport {GroupsService} from '@core/services/groups.service';\r\nimport {Subscription} from 'rxjs';\r\nimport {GroupsStoreService} from '@core/services/stores/groups-store.service';\r\nimport {NotificationsSubjectStoreService} from '@core/services/stores/notifications-subject-store.service';\r\n\r\n@Component({\r\n    selector: 'app-group-members-list',\r\n    templateUrl: './group-members-list.component.html',\r\n    styleUrls: ['./group-members-list.component.scss']\r\n})\r\nexport class GroupMembersListComponent implements OnInit, OnDestroy {\r\n\r\n    @Input() authUser;\r\n    @Input() selectedGroup;\r\n    @Input() members;\r\n    @Input() isOwnGroup;\r\n\r\n    subscriptions: Subscription[] = [];\r\n\r\n    constructor(\r\n        private socketService: SocketIoService,\r\n        private groupsService: GroupsService,\r\n        private groupsStore: GroupsStoreService,\r\n        private notificationsStore: NotificationsSubjectStoreService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.getAcceptedPageGroupAdminRequest();\r\n        this.getDeclinedPageGroupAdminRequest();\r\n    }\r\n\r\n\r\n    getAcceptedPageGroupAdminRequest() {\r\n        this.subscriptions.push(this.socketService.getAcceptedPageGroupAdminRequest().subscribe((data: any) => {\r\n            const {notification, ...rest} = data;\r\n            if (notification.from_user.id !== this.authUser.id) {\r\n                this.notificationsStore.updateNotifications(notification);\r\n            }\r\n            this.groupsStore.changeGroup(rest.group);\r\n            // console.log(this.groupsStore.groups);\r\n        }));\r\n    }\r\n\r\n    getDeclinedPageGroupAdminRequest() {\r\n        this.subscriptions.push(this.socketService.getDeclinedPageGroupAdminRequest().subscribe((data: any) => {\r\n            const {notification, ...rest} = data;\r\n            // this.adminRequestSent = false;\r\n            if (notification.from_user.id !== this.authUser.id) {\r\n                this.notificationsStore.updateNotifications(notification);\r\n            }\r\n            this.groupsStore.changeGroup(rest.group);\r\n            console.log(this.groupsStore.groups);\r\n        }));\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n}\r\n","<div id=\"member-requests\">\r\n    <strong>Requests</strong>\r\n\r\n    <ul>\r\n        <li *ngFor=\"let member of requestedMembers\" class=\"group-member pending\">\r\n            <div class=\"requestPartDiv\">\r\n            <div class=\"avatarDiv\">\r\n                <img class=\"avatar\" [src]=\"member.avatar|getImgPath: 'images'\">\r\n            </div>\r\n            <strong class=\"avatarName\">{{member.first_name + ' ' + member.last_name}}</strong>\r\n            </div>\r\n            <div class=\"confirmIgnoreBtns\">\r\n                <button class=\"confirm-request\" (click)=\"confirmJoinGroup(member)\">Confirm</button>\r\n                <button class=\"ignore-request\" (click)=\"ignoreJoinGroup(member)\">Ignore</button>\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n\r\n\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {GroupsService} from '@core/services/groups.service';\r\nimport {GroupsStoreService} from '@core/services/stores/groups-store.service';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\n\r\n@Component({\r\n    selector: 'app-member-requests-list',\r\n    templateUrl: './member-requests-list.component.html',\r\n    styleUrls: ['./member-requests-list.component.scss']\r\n})\r\nexport class MemberRequestsListComponent implements OnInit {\r\n\r\n    @Input() authUser;\r\n    @Input() selectedGroup;\r\n    @Input() requestedMembers;\r\n    subscriptions = [];\r\n\r\n    constructor(\r\n        private groupsStore: GroupsStoreService,\r\n        private groupsService: GroupsService,\r\n        private socketService: SocketIoService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    confirmJoinGroup(member) {\r\n        this.subscriptions.push(this.groupsService.confirmGroupJoin({\r\n            member_id: member.id,\r\n            group_id: this.selectedGroup.id\r\n        }).subscribe(dt => {\r\n            const selectedGroup = dt.find(d => d.id === this.selectedGroup.id);\r\n            this.groupsStore.changeGroup(selectedGroup);\r\n\r\n            this.socketService.confirmJoinGroup({\r\n                group: selectedGroup,\r\n                from_user: this.authUser,\r\n                member,\r\n                msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong>\r\n                has confirmed  <strong>${member.first_name + ' ' + member.last_name}</strong> to join the <strong>${selectedGroup.name}</strong> group`,\r\n                link: `/channels/show?username=${this.authUser.username}`,\r\n            });\r\n        }));\r\n    }\r\n\r\n    ignoreJoinGroup(member) {\r\n        console.log(member);\r\n        this.subscriptions.push(this.groupsService.ignoreGroupJoin({\r\n            member_id: member.id,\r\n            group_id: this.selectedGroup.id\r\n        }).subscribe(dt => {\r\n            const selectedGroup = dt.find(d => d.id === this.selectedGroup.id);\r\n            this.groupsStore.changeGroup(selectedGroup);\r\n\r\n            this.socketService.ignoreJoinGroup({\r\n                group: selectedGroup,\r\n                from_user: this.authUser,\r\n                member,\r\n                msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong>\r\n                has declined  <strong>${member.first_name}</strong> <strong>${member.last_name}</strong> to join the <strong>${selectedGroup.name}</strong> group`,\r\n                link: `/channels/show?username=${this.authUser.username}`,\r\n            });\r\n        }));\r\n    }\r\n\r\n}\r\n","<div class=\"tab-container\">\r\n    <div id=\"all-members-wrap\">\r\n        <app-admins-list [admins]=\"admins\" [authUser]=\"authUser\"\r\n                         [selectedGroup]=\"selectedGroup\" [isOwnGroup]=\"isOwnGroup\"></app-admins-list>\r\n        <app-group-members-list [members]=\"members\" [authUser]=\"authUser\"\r\n                                [selectedGroup]=\"selectedGroup\" [isOwnGroup]=\"isOwnGroup\"></app-group-members-list>\r\n        <app-member-requests-list *ngIf=\"isOwnGroup\" [authUser]=\"authUser\" [selectedGroup]=\"selectedGroup\"\r\n                                  [requestedMembers]=\"requestedMembers\"></app-member-requests-list>\r\n    </div>\r\n</div>\r\n\r\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\r\nimport {GroupsService} from '@core/services/groups.service';\r\nimport {Subscription} from 'rxjs';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\nimport {ChatService} from '@core/services/chat.service';\r\nimport {CheckForEmptyObjectPipe} from '@shared/pipes/check-for-empty-object.pipe';\r\nimport {GroupsStoreService} from '@core/services/stores/groups-store.service';\r\nimport {NotificationsSubjectStoreService} from '@core/services/stores/notifications-subject-store.service';\r\n\r\n@Component({\r\n    selector: 'app-people-tab',\r\n    templateUrl: './people-tab.component.html',\r\n    styleUrls: ['./people-tab.component.scss']\r\n})\r\nexport class PeopleTabComponent implements OnInit, OnDestroy {\r\n    @Input() selectedGroup;\r\n    @Input() isOwnGroup;\r\n    @Input() authUser;\r\n\r\n    admins = [];\r\n    members = [];\r\n    requestedMembers = [];\r\n\r\n    subscriptions: Subscription[] = [];\r\n\r\n\r\n    constructor(\r\n        private groupsService: GroupsService,\r\n        private groupsStore: GroupsStoreService,\r\n        private notificationsStore: NotificationsSubjectStoreService,\r\n        private socketService: SocketIoService,\r\n        private chatService: ChatService,\r\n        private isEmptyObj: CheckForEmptyObjectPipe,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.trackGroups();\r\n        this.getAcceptedJoinPageGroup();\r\n        this.getRemovedPageGroupAdminPrivileges();\r\n    }\r\n\r\n    trackGroups() {\r\n        this.subscriptions.push(this.groupsStore.selectedGroup$.subscribe(dt => {\r\n            console.log(dt);\r\n            this.selectedGroup = dt;\r\n            this.admins = [];\r\n            this.members = [];\r\n            this.requestedMembers = [];\r\n\r\n            if (!this.isEmptyObj.transform(this.selectedGroup)) {\r\n                this.filterMembers();\r\n            }\r\n        }));\r\n    }\r\n\r\n\r\n    filterMembers() {\r\n        this.selectedGroup?.group_members?.map(m => {\r\n            if (this.selectedGroup.creator_id === m.id || m.groups_members.is_admin || m.groups_members.is_moderator) {\r\n                this.admins.push(m);\r\n            } else {\r\n                if (m.groups_members.confirmed) {\r\n                    this.members.push(m);\r\n                } else if (m.groups_members.accepted) {\r\n                    this.requestedMembers.push(m);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    getAcceptedJoinPageGroup() {\r\n        this.subscriptions.push(this.socketService.getAcceptedJoinPageGroup().subscribe((data: any) => {\r\n            const {rest} = data;\r\n            console.log('accepted', rest.group);\r\n            // this.groupsStore.changeGroup(rest.group);\r\n        }));\r\n    }\r\n\r\n    getRemovedPageGroupAdminPrivileges() {\r\n        this.subscriptions.push(this.socketService.getRemovedPageGroupAdminPrivileges().subscribe((data: any) => {\r\n            const {notification, member, group} = data;\r\n            this.notificationsStore.updateNotifications(notification);\r\n            console.log('removed privileges', group);\r\n            this.groupsStore.changeGroup(group);\r\n        }));\r\n    }\r\n\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-about-tab',\r\n    templateUrl: './about-tab.component.html',\r\n    styleUrls: ['./about-tab.component.scss']\r\n})\r\nexport class AboutTabComponent implements OnInit {\r\n\r\n    @Input() selectedGroup;\r\n    @Input() isOwnGroup;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // console.log(this.isOwnGroup)\r\n    }\r\n\r\n}\r\n","<p>about-tab works!</p>\r\n","import {Component, Input, OnInit} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-media-tab',\r\n  templateUrl: './media-tab.component.html',\r\n  styleUrls: ['./media-tab.component.scss']\r\n})\r\nexport class MediaTabComponent implements OnInit {\r\n\r\n    @Input() selectedGroup;\r\n    @Input() isOwnGroup;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // console.log(this.selectedGroup)\r\n    }\r\n}\r\n","<p>media-tab works!</p>\r\n","<app-post-form-placeholder [selectedGroup]=\"selectedGroup\"></app-post-form-placeholder>\r\n<app-post-item *ngFor=\"let post of groupPosts$|async; trackBy: trackByElement\"\r\n               [post]=\"post\" [group]=\"selectedGroup\" [accessedFromGroup]=\"true\">\r\n</app-post-item>\r\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\r\nimport {PostsService} from '@core/services/posts.service';\r\nimport {Observable, Subscription} from 'rxjs';\r\nimport {Post} from '@shared/models/post';\r\nimport trackByElement from '@core/helpers/track-by-element';\r\n\r\n@Component({\r\n    selector: 'app-posts-tab',\r\n    templateUrl: './posts-tab.component.html',\r\n    styleUrls: ['./posts-tab.component.scss']\r\n})\r\nexport class PostsTabComponent implements OnInit {\r\n\r\n    @Input() selectedGroup;\r\n    @Input() isOwnGroup;\r\n    groupPosts$: Observable<Post[]>;\r\n\r\n\r\n    trackByElement = trackByElement;\r\n\r\n    constructor(\r\n        private postsService: PostsService,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.getGroupPosts();\r\n    }\r\n\r\n    getGroupPosts() {\r\n        this.groupPosts$ = this.postsService.getGroupPosts({group_id: this.selectedGroup.id});\r\n    }\r\n\r\n\r\n}\r\n","<section id=\"group-img-edit\" class=\"editCoverDiv\">\r\n    <div class=\"images-box\">\r\n        <div class=\"images-cover\">\r\n            <img class=\"images-cover-create c2\" *ngIf=\"coverShowImg\" [src]=\"coverImgSrc|getImgPath:'images'\" alt=\"\">\r\n            <img class=\"images-cover-create c1\" *ngIf=\"!coverShowImg\" [src]=\"coverImgSrc|getImgPath:'images'\" alt=\"\">\r\n            <input type=\"file\" #coverChangeImg hidden (change)=\"createImage($event, 'square')\">\r\n            <button (click)=\"coverChangeImg.click()\" class=\"position-btn\">\r\n                <mat-icon>\r\n                    create\r\n                </mat-icon>\r\n            </button>\r\n        </div>\r\n        <div class=\"images-avatar\">\r\n            <!--            <img *ngIf=\"!coverShowImg\" [src]=\"coverImg|getImgPath:'images'\" alt=\"\">-->\r\n            <img *ngIf=\"!avatarShowImg\" [src]=\"avatarImgSrc|getImgPath:'images'\" alt=\"\">\r\n            <img *ngIf=\"avatarShowImg\" [src]=\"avatarImgSrc\" alt=\"\">\r\n            <!--            <mat-icon *ngIf=\"!avatarImgSrc\">add_a_photo</mat-icon>-->\r\n            <input type=\"file\" #avatarChangeImg hidden (change)=\"createImage($event, 'circle')\">\r\n            <button (click)=\"avatarChangeImg.click()\" class=\"position-btn\">\r\n                <mat-icon>\r\n                    create\r\n                </mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"images-save-btn-box\" *ngIf=\"(avatarImgSrc && discardORSave) || (coverImgSrc && discardORSave)\">\r\n        <button class=\"save-btn\" (click)=\"saveAvatarImage(avatarImgSrc,coverImgSrc)\">Save</button>\r\n        <button class=\"discard-btn\" (click)=\"remuveAvatarImage('','')\">DISCARD</button>\r\n    </div>\r\n</section>\r\n\r\n<div class=\"border m-60\"></div>\r\n\r\n<section class=\"form-edit_group\">\r\n    <form class=\"form_edit\" [formGroup]=\"editGroupForm\">\r\n        <div class=\"form-group w-80\">\r\n            <input type=\"text\" formControlName=\"nameGroup\" placeholder=\"Name\">\r\n        </div>\r\n        <div class=\"field-row\">\r\n            <label>Please choose Mode of Group</label>\r\n            <mat-radio-group\r\n                aria-label=\"Select an option\"\r\n                formControlName=\"privacy\">\r\n\r\n                <mat-radio-button [value]=\"0\"\r\n                                  name=\"privacy\"\r\n                >Public\r\n                </mat-radio-button>\r\n                <mat-radio-button [value]=\"1\"\r\n                                  name=\"privacy\"\r\n                >Private\r\n                </mat-radio-button>\r\n            </mat-radio-group>\r\n\r\n        </div>\r\n        <div class=\"border\"></div>\r\n        <div class=\"add-description-action\" (click)=\"addDescriptionHideShow()\">\r\n            <mat-icon [ngClass]=\"{'grey': addDescriptionSectionShow}\">\r\n                {{!addDescriptionSectionShow ? 'add' : 'close'}}\r\n            </mat-icon>\r\n            <span [ngClass]=\"{'grey': addDescriptionSectionShow}\">\r\n                    ADD DESCRIPTION\r\n                </span>\r\n        </div>\r\n        <div class=\"field-row w-80\" *ngIf=\"addDescriptionSectionShow\">\r\n            <textarea\r\n                formControlName=\"description\"\r\n                placeholder=\"Type Text here...\"\r\n                class=\"form-group-textarea \"></textarea>\r\n        </div>\r\n        <div class=\"form-submit_btn\">\r\n            <button (click)=\"updateGGroupInfo()\">Save Changes</button>\r\n        </div>\r\n\r\n    </form>\r\n</section>\r\n","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {ShowGroupsComponent} from '@app/groups/show-groups/show-groups.component';\r\nimport {SingleGroupComponent} from '@app/groups/single-group/single-group.component';\r\nimport {PeopleTabComponent} from '@app/groups/single-group/people-tab/people-tab.component';\r\nimport {AboutTabComponent} from '@app/groups/single-group/about-tab/about-tab.component';\r\nimport {MediaTabComponent} from '@app/groups/single-group/media-tab/media-tab.component';\r\nimport {PostsTabComponent} from '@app/groups/single-group/posts-tab/posts-tab.component';\r\nimport {EditGroupComponent} from '@app/groups/single-group/edit-group';\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: ShowGroupsComponent,\r\n        data: {\r\n            title: 'Groups'\r\n        },\r\n    },\r\n    {path: 'edit/:id', component:  EditGroupComponent, data: {title: 'Group page | People tab'}},\r\n    {\r\n        path: ':id',\r\n        component: SingleGroupComponent,\r\n        children: [\r\n            {path: 'people', component: PeopleTabComponent, data: {title: 'Group page | People tab'}},\r\n            {path: 'about', component: AboutTabComponent, data: {title: 'Group page | About tab'}},\r\n            {path: 'media', component: MediaTabComponent, data: {title: 'Group page | Media tab'}},\r\n            {path: 'posts', component: PostsTabComponent, data: {title: 'Group page | Posts tab'}}\r\n        ]\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class GroupsRoutingModule {\r\n}\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {ImgEditCropperComponent} from '@core/components/modals/img-edit-cropper/img-edit-cropper.component';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {Subject} from 'rxjs';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {GroupsService} from '@core/services/groups.service';\r\nimport {ActivatedRoute, Params} from '@angular/router';\r\nimport {EditGroupInterface} from '@app/groups/single-group/edit-group/interface';\r\nimport {VideoService} from '@core/services/video.service';\r\n\r\n@Component({\r\n    selector: 'app-edit-group',\r\n    templateUrl: 'edit-group.component.html',\r\n    styleUrls: ['edit-group.component.scss']\r\n})\r\n\r\nexport class EditGroupComponent implements OnInit, OnDestroy {\r\n    public editGroupForm: FormGroup | any;\r\n    private imageCoverFile;\r\n    private _groupId: number;\r\n    private imageAvatarFile;\r\n    public addDescriptionSectionShow = false;\r\n    public coverShowImg = false;\r\n    public avatarShowImg = false;\r\n    public discardORSave = false;\r\n    private _imgCoverSuccess;\r\n    private _imgAvatarSuccess;\r\n    public coverImgSrc;\r\n    public avatarImgSrc;\r\n    private _unsubscribe$ = new Subject<void>();\r\n    private passedGroupName: string;\r\n\r\n    constructor(\r\n        private _fb: FormBuilder,\r\n        private _groupsService: GroupsService,\r\n        private _route: ActivatedRoute,\r\n        private dialog: MatDialog,\r\n        private uploadFile: VideoService,\r\n    ) {\r\n        this._route.params.subscribe((params: Params) => {\r\n            this.passedGroupName = params.id;\r\n        });\r\n    }\r\n\r\n\r\n    get coverImg(): any {\r\n        return false;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this._formBuilder();\r\n        this._patchInitialValueForm();\r\n    }\r\n\r\n    public addDescriptionHideShow(): void {\r\n        this.addDescriptionSectionShow = !this.addDescriptionSectionShow;\r\n    }\r\n\r\n    public saveAvatarImage(avatar: string, cover: string) {\r\n        this.avatarImgSrc = avatar;\r\n        this.coverImgSrc = cover;\r\n        this.discardORSave = false;\r\n        if (this.coverShowImg) {\r\n            const fdCover = new FormData();\r\n            fdCover.append('image', this.imageCoverFile);\r\n            fdCover.append('belonging', 'group_cover_img');\r\n            fdCover.append('duration', '');\r\n            this.uploadFile.uploadFile(fdCover, 'image').subscribe((data) => {\r\n                console.log(data);\r\n                this.coverShowImg = false;\r\n                this._imgCoverSuccess = data.path;\r\n                this.coverImgSrc = data.path;\r\n                console.log(this._imgCoverSuccess);\r\n            });\r\n        }\r\n        if (this.avatarShowImg) {\r\n            const fdAvatar = new FormData();\r\n            fdAvatar.append('image', this.imageAvatarFile);\r\n            fdAvatar.append('belonging', 'group_avatar_img');\r\n            fdAvatar.append('duration', '');\r\n            this.uploadFile.uploadFile(fdAvatar, 'image').subscribe((data) => {\r\n                console.log(data);\r\n                this.coverShowImg = false;\r\n                this._imgAvatarSuccess = data.path;\r\n                // this.coverImgSrc = data.path;\r\n                console.log(this._imgAvatarSuccess);\r\n            });\r\n        }\r\n    }\r\n\r\n    public remuveAvatarImage(avatar: string, cover: string) {\r\n        this.avatarImgSrc = avatar;\r\n        this.coverImgSrc = cover;\r\n        this.discardORSave = false;\r\n    }\r\n\r\n    public createImage(event, shape) {\r\n        const file = event.target.files[0];\r\n        this.dialog.open(ImgEditCropperComponent, {\r\n            maxWidth: '60vw',\r\n            maxHeight: '70vh',\r\n            height: '100%',\r\n            width: '100%',\r\n            data: {\r\n                title: 'Profile Image Cropper',\r\n                shape,\r\n                file\r\n            }\r\n        }).afterClosed()\r\n            .pipe(\r\n                takeUntil(this._unsubscribe$),\r\n            )\r\n            .subscribe(dt => {\r\n                console.log(dt);\r\n                if (dt) {\r\n                    if (dt.shape === 'square') {\r\n                        this.imageCoverFile = dt.blob;\r\n                        this.discardORSave = !this.discardORSave;\r\n                        this.coverShowImg = true;\r\n                        const reader = new FileReader();\r\n                        reader.onload = (e) => {\r\n                            this.coverImgSrc = e.target.result.toString();\r\n                        };\r\n                        reader.readAsDataURL(this.imageCoverFile);\r\n                    }\r\n                    if (dt.shape === 'circle') {\r\n                        this.imageAvatarFile = dt.blob;\r\n                        this.avatarShowImg = true;\r\n                        this.discardORSave = !this.discardORSave;\r\n                        const reader = new FileReader();\r\n                        reader.onload = (e) => {\r\n                            this.avatarImgSrc = e.target.result.toString();\r\n                        };\r\n                        reader.readAsDataURL(this.imageAvatarFile);\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    private _formBuilder(): void {\r\n        this.editGroupForm = this._fb.group({\r\n            nameGroup: [null, Validators.required],\r\n            privacy: [null, Validators.required],\r\n            description: [null, Validators.required]\r\n        });\r\n    }\r\n\r\n    private _patchInitialValueForm(): void {\r\n        console.log(this.passedGroupName);\r\n        this._groupsService.getGroupById(this.passedGroupName)\r\n            .subscribe((data: EditGroupInterface) => {\r\n                this._groupId = data?.id;\r\n                if (data?.cover || data?.avatar) {\r\n                    this.coverImgSrc = data?.cover;\r\n                    this.avatarImgSrc = data?.avatar;\r\n                    this.avatarShowImg = !Boolean(data?.avatar);\r\n                    this.coverShowImg = !Boolean(data?.cover);\r\n                }\r\n                this.editGroupForm.patchValue({\r\n                    nameGroup: data?.name,\r\n                    privacy: data?.privacy,\r\n                    description: data?.description\r\n                });\r\n                if (data?.description) {\r\n                    this.addDescriptionSectionShow = true;\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    public updateGGroupInfo() {\r\n        if (this.editGroupForm.invalid) {\r\n            return;\r\n        }\r\n        const UPDATE_FORM_DATA_GROUP = {\r\n            name: this.editGroupForm.get('nameGroup').value,\r\n            description: this.editGroupForm.get('nameGroup').value,\r\n            cover: this._imgCoverSuccess,\r\n            avatar: this._imgAvatarSuccess,\r\n            privacy: this.editGroupForm.get('privacy').value\r\n        };\r\n        this._groupsService.updateGroup(this._groupId, UPDATE_FORM_DATA_GROUP).subscribe((data) => {\r\n            console.log(data, 'UPDATE_FORM_DATA_GROUP');\r\n        });\r\n        // console.log(UPDATE_FORM_DATA_GROUP, );\r\n    }\r\n\r\n\r\n    ngOnDestroy(): void {\r\n        this._unsubscribe$.next();\r\n        this._unsubscribe$.complete();\r\n    }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {GroupsRoutingModule} from './groups-routing.module';\r\nimport {ShowGroupsComponent} from './show-groups/show-groups.component';\r\nimport {SingleGroupComponent} from '@app/groups/single-group/single-group.component';\r\nimport {SharedModule} from '@shared/shared.module';\r\nimport {GroupItemComponent} from './show-groups/group-item/group-item.component';\r\nimport {AboutTabComponent} from './single-group/about-tab/about-tab.component';\r\nimport {PeopleTabComponent} from './single-group/people-tab/people-tab.component';\r\nimport {MediaTabComponent} from './single-group/media-tab/media-tab.component';\r\nimport {PostsTabComponent} from './single-group/posts-tab/posts-tab.component';\r\nimport {AdminsListComponent} from './single-group/people-tab/admins-list/admins-list.component';\r\nimport {GroupMembersListComponent} from './single-group/people-tab/group-members-list/group-members-list.component';\r\nimport {MemberRequestsListComponent} from './single-group/people-tab/member-requests-list/member-requests-list.component';\r\nimport {GroupMembersActionsMenuComponent} from './single-group/people-tab/group-members-actions-menu/group-members-actions-menu.component';\r\nimport {EditGroupComponent} from '@app/groups/single-group/edit-group';\r\nimport {ReactiveFormsModule} from '@angular/forms';\r\nimport {DeleteGroupDialog} from '@app/groups/dialogs';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ShowGroupsComponent,\r\n        SingleGroupComponent,\r\n        GroupItemComponent,\r\n        AboutTabComponent,\r\n        PeopleTabComponent,\r\n        MediaTabComponent,\r\n        PostsTabComponent,\r\n        AdminsListComponent,\r\n        GroupMembersListComponent,\r\n        MemberRequestsListComponent,\r\n        EditGroupComponent,\r\n        GroupMembersActionsMenuComponent,\r\n        DeleteGroupDialog\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        GroupsRoutingModule,\r\n        SharedModule,\r\n        ReactiveFormsModule\r\n    ],\r\n    entryComponents:[\r\n        DeleteGroupDialog\r\n    ]\r\n})\r\nexport class GroupsModule {\r\n}\r\n"]}