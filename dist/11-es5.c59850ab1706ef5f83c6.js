function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"55j5":function(n,t,e){"use strict";e.r(t),e.d(t,"ChannelsModule",(function(){return mn}));var i,c,a=e("ofXK"),o=e("tyNb"),s=e("9xOu"),r=e("3Pt+"),l=e("fXoL"),b=e("0IaG"),u=e("CPAS"),g=((i=function(){function n(t,e,i){_classCallCheck(this,n),this.modal=t,this.fb=e,this.playlistService=i,this.addPlaylistForm=this.fb.group({name:["",r.t.required],description:["",r.t.required],privacy:["",r.t.required]})}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"createPlaylist",value:function(){var n=this;console.log(this.addPlaylistForm.value),this.playlistService.addPlaylist(this.addPlaylistForm.value).subscribe((function(t){n.modal.close()}))}},{key:"cancel",value:function(){this.modal.close()}}]),n}()).\u0275fac=function(n){return new(n||i)(l.Rb(b.d),l.Rb(r.c),l.Rb(u.a))},i.\u0275cmp=l.Lb({type:i,selectors:[["app-add-playlist-dialog"]],decls:17,vars:4,consts:[[1,"add-playlist-modal"],[3,"formGroup"],["type","text","placeholder","Playlist Title","formControlName","name"],["id","playlist-description","cols","30","rows","10","formControlName","description","placeholder","Playlist Description"],[1,"select"],["id","visibility","formControlName","privacy"],[3,"value"],[1,"btn-wrap"],[1,"btn","cancel",3,"click"],[1,"btn","create",3,"click"]],template:function(n,t){1&n&&(l.Xb(0,"div",0),l.Xb(1,"form",1),l.Sb(2,"input",2),l.Sb(3,"textarea",3),l.Xb(4,"div",4),l.Xb(5,"select",5),l.Xb(6,"option",6),l.Qc(7,"Visibility"),l.Wb(),l.Xb(8,"option",6),l.Qc(9,"Public"),l.Wb(),l.Xb(10,"option",6),l.Qc(11,"Private"),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div",7),l.Xb(13,"button",8),l.jc("click",(function(){return t.cancel()})),l.Qc(14,"Cancel"),l.Wb(),l.Xb(15,"button",9),l.jc("click",(function(){return t.createPlaylist()})),l.Qc(16,"Create"),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&n&&(l.Cb(1),l.tc("formGroup",t.addPlaylistForm),l.Cb(5),l.tc("value",""),l.Cb(2),l.tc("value",1),l.Cb(2),l.tc("value",0))},directives:[r.v,r.m,r.g,r.b,r.l,r.f,r.s,r.p,r.u],styles:[".add-playlist-modal[_ngcontent-%COMP%]{overflow:auto;max-height:100%;padding:32px;width:100%;max-width:890px;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);position:absolute;background:#fff;z-index:1001}.add-playlist-modal[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .add-playlist-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-playlist-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 24px;background:#f4f4f4;color:#545454;margin-bottom:32px;border:0;outline:none}.add-playlist-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:162px;min-height:96px;max-height:280px;resize:none}.add-playlist-modal[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:auto;min-width:284px}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;font-size:16px;border-radius:0;padding:8px 24px;line-height:normal}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background:#c9c9c9}"]}),i),d=e("FFj9"),f=e("Rnal"),p=e("tk/3"),h=((c=function(){function n(t){_classCallCheck(this,n),this.httpClient=t}return _createClass(n,[{key:"changeProfileImage",value:function(n){return this.httpClient.post(s.b+"users/change-profile-image",n)}},{key:"changeCoverImage",value:function(n){return this.httpClient.post(s.b+"users/change-cover-image",n)}},{key:"getUserInfo",value:function(n){return this.httpClient.get(s.b+"users/get-user-info",{params:n})}}]),n}()).\u0275fac=function(n){return new(n||c)(l.fc(p.b))},c.\u0275prov=l.Nb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),m=e("1m4N"),C=e("HHsJ"),v=e("wDcp"),O=e("hKYS"),P=e("kUS0"),_=e("bhfF"),M=e("NFeN");function y(n,t){if(1&n){var e=l.Yb();l.Xb(0,"div",23),l.Xb(1,"input",24),l.jc("change",(function(n){return l.Hc(e),l.nc(2).coverChangeEvent(n)})),l.Wb(),l.Xb(2,"ngx-photo-editor",25),l.jc("imageCropped",(function(n){return l.Hc(e),l.nc(2).coverCropped(n)})),l.Wb(),l.Wb()}if(2&n){var i=l.nc(2);l.tc("hidden",!0),l.Cb(2),l.tc("imageChanedEvent",i.coverChangedEvent)("autoCrop",!1)("viewMode",3)}}function W(n,t){if(1&n&&l.Sb(0,"img",26),2&n){var e=l.nc(2);l.tc("src",e.apiUrl+"uploads/avatars/"+e.channelUser.avatar,l.Jc)}}function X(n,t){1&n&&l.Sb(0,"img",27),2&n&&l.tc("src","assets/img/default-user.png",l.Jc)}function k(n,t){if(1&n){var e=l.Yb();l.Xb(0,"div",23),l.Xb(1,"input",28),l.jc("change",(function(n){return l.Hc(e),l.nc(2).profileChangeEvent(n)})),l.Wb(),l.Xb(2,"ngx-photo-editor",29),l.jc("imageCropped",(function(n){return l.Hc(e),l.nc(2).profileCropped(n)})),l.Wb(),l.Wb()}if(2&n){var i=l.nc(2);l.tc("hidden",!0),l.Cb(2),l.tc("imageChanedEvent",i.profileChangedEvent)("aspectRatio",4/3)("viewMode",1)("resizeToWidth",500)}}function x(n,t){if(1&n){var e=l.Yb();l.Xb(0,"a",33),l.jc("click",(function(){l.Hc(e);var n=l.nc(3);return n.subscribeToChannel(n.channelUser.channel)})),l.Qc(1,"Subscribe"),l.Wb()}}function U(n,t){if(1&n){var e=l.Yb();l.Xb(0,"a",34),l.jc("click",(function(){l.Hc(e);var n=l.nc(3);return n.subscribeToChannel(n.channelUser.channel)})),l.Qc(1,"Subscribed"),l.Wb()}}function w(n,t){if(1&n&&(l.Xb(0,"div",8),l.Sb(1,"i",30),l.Oc(2,x,2,0,"a",31),l.Oc(3,U,2,0,"a",32),l.Wb()),2&n){var e=l.nc(2);l.Cb(2),l.tc("ngIf",!e.subscribedToChannel),l.Cb(1),l.tc("ngIf",e.subscribedToChannel)}}function I(n,t){if(1&n){var e=l.Yb();l.Xb(0,"li",35),l.Xb(1,"a",36),l.jc("click",(function(){l.Hc(e);var n=t.$implicit;return l.nc(2).changeActiveTab(n)})),l.Qc(2),l.Wb(),l.Wb()}if(2&n){var i=t.$implicit,c=l.nc(2);l.Cb(1),l.Hb("active",i===c.activeTab),l.vc("id","",i.link,"-tab"),l.vc("href","#",i.link,"",l.Jc),l.Cb(1),l.Rc(i.name)}}function S(n,t){if(1&n&&l.Sb(0,"img",48),2&n){var e=l.nc(2).$implicit,i=l.nc(5);l.tc("src",i.apiUrl+"uploads/thumbnails/"+e.thumbnail,l.Jc)}}function Q(n,t){1&n&&l.Sb(0,"img",48),2&n&&l.tc("src","assets/img/video-thumbnail-default.png",l.Jc)}function V(n,t){1&n&&(l.Xb(0,"span",49),l.Qc(1,"Live now"),l.Wb())}function F(n,t){if(1&n&&l.Sb(0,"img",50),2&n){var e=l.nc(4).$implicit,i=l.nc(3);l.tc("src",i.apiUrl+"uploads/avatars/"+e.avatar,l.Jc)}}function R(n,t){1&n&&l.Sb(0,"img",50),2&n&&l.tc("src","assets/img/default-user.png",l.Jc)}function T(n,t){if(1&n){var e=l.Yb();l.Xb(0,"div",41),l.jc("click",(function(){l.Hc(e);var n=l.nc().$implicit,t=l.nc(2).$implicit;return l.nc(3).openVideoPage(n,t.username)})),l.Oc(1,S,1,1,"img",42),l.Oc(2,Q,1,1,"img",42),l.Oc(3,V,2,0,"span",43),l.Xb(4,"div",44),l.Oc(5,F,1,1,"img",45),l.Oc(6,R,1,1,"img",45),l.Xb(7,"div"),l.Xb(8,"p",12),l.Qc(9),l.Wb(),l.Xb(10,"p",46),l.Qc(11),l.Wb(),l.Xb(12,"p",47),l.Qc(13,"17k watching"),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&n){var i=l.nc().$implicit,c=l.nc(2).$implicit;l.Cb(1),l.tc("ngIf",i.thumbnail),l.Cb(1),l.tc("ngIf",!i.thumbnail),l.Cb(1),l.tc("ngIf","live"===i.status),l.Cb(2),l.tc("ngIf",c.avatar),l.Cb(1),l.tc("ngIf",!c.avatar),l.Cb(3),l.Rc(i.name),l.Cb(2),l.Rc(c.full_name)}}function j(n,t){1&n&&(l.Vb(0),l.Oc(1,T,14,7,"ng-template",40),l.Ub())}function A(n,t){if(1&n&&(l.Vb(0),l.Xb(1,"p",38),l.Qc(2),l.Wb(),l.Xb(3,"owl-carousel-o",39),l.Oc(4,j,2,0,"ng-container",37),l.Wb(),l.Ub()),2&n){var e=l.nc().$implicit,i=l.nc(3);l.Cb(2),l.Rc(e.full_name),l.Cb(1),l.tc("options",i.owlOptions),l.Cb(1),l.tc("ngForOf",e.videos)}}function J(n,t){if(1&n&&(l.Vb(0),l.Oc(1,A,5,3,"ng-container",1),l.Ub()),2&n){var e=t.$implicit;l.Cb(1),l.tc("ngIf",e.videos.length>0)}}function $(n,t){if(1&n&&(l.Vb(0),l.Oc(1,J,2,1,"ng-container",37),l.Ub()),2&n){var e=l.nc(2);l.Cb(1),l.tc("ngForOf",e.watchlistVideos)}}function z(n,t){1&n&&l.Sb(0,"img",52)}function Y(n,t){if(1&n&&l.Sb(0,"img",48),2&n){var e=l.nc(2).$implicit,i=l.nc(3);l.uc("src",i.apiUrl+"uploads/thumbnails/"+e.thumbnail,l.Jc)}}function H(n,t){if(1&n&&l.Sb(0,"img",50),2&n){var e=l.nc(5);l.tc("src",e.apiUrl+"uploads/avatars/"+e.authUser.avatar,l.Jc)}}function L(n,t){1&n&&l.Sb(0,"img",50),2&n&&l.tc("src","assets/img/default-user.png",l.Jc)}function E(n,t){if(1&n){var e=l.Yb();l.Xb(0,"div",41),l.jc("click",(function(){l.Hc(e);var n=l.nc().$implicit,t=l.nc(3);return t.openVideoPage(n,t.authUser.username)})),l.Oc(1,z,1,0,"img",51),l.Oc(2,Y,1,1,"img",42),l.Xb(3,"div",44),l.Oc(4,H,1,1,"img",45),l.Oc(5,L,1,1,"img",45),l.Xb(6,"div"),l.Xb(7,"p",12),l.Qc(8),l.Wb(),l.Xb(9,"p",46),l.Qc(10),l.Wb(),l.Xb(11,"p",47),l.Qc(12,"17k watching"),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&n){var i=l.nc().$implicit,c=l.nc(3);l.Cb(1),l.tc("ngIf",!i.thumbnail||"undefined"===i.thumbnail),l.Cb(1),l.tc("ngIf",i.thumbnail&&"undefined"!==i.thumbnail),l.Cb(2),l.tc("ngIf",c.authUser.avatar),l.Cb(1),l.tc("ngIf",!c.authUser.avatar),l.Cb(3),l.Rc(i.name),l.Cb(2),l.Rc(c.authUser.full_name)}}function q(n,t){1&n&&(l.Vb(0),l.Oc(1,E,13,6,"ng-template",40),l.Ub())}function D(n,t){if(1&n&&(l.Vb(0),l.Xb(1,"p",38),l.Qc(2,"Recent videos"),l.Wb(),l.Xb(3,"owl-carousel-o"),l.Oc(4,q,2,0,"ng-container",37),l.Wb(),l.Ub()),2&n){var e=l.nc(2);l.Cb(4),l.tc("ngForOf",e.channelUser.videos)}}function B(n,t){1&n&&(l.Vb(0),l.Xb(1,"mat-icon"),l.Qc(2,"visibility_off"),l.Wb(),l.Xb(3,"span"),l.Qc(4,"Private"),l.Wb(),l.Ub())}function N(n,t){1&n&&(l.Vb(0),l.Xb(1,"mat-icon"),l.Qc(2,"visibility_on"),l.Wb(),l.Xb(3,"span"),l.Qc(4,"Public"),l.Wb(),l.Ub())}function G(n,t){if(1&n){var e=l.Yb();l.Xb(0,"tr",56),l.jc("click",(function(){l.Hc(e);var n=t.$implicit;return l.nc(3).router.navigate(["playlists/single/"+n.id])})),l.Xb(1,"td"),l.Xb(2,"div",57),l.Sb(3,"img",58),l.Xb(4,"div",59),l.Xb(5,"h3"),l.Qc(6),l.Wb(),l.Xb(7,"p"),l.Qc(8),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"td"),l.Oc(10,B,5,0,"ng-container",1),l.Oc(11,N,5,0,"ng-container",1),l.Wb(),l.Xb(12,"td"),l.Xb(13,"span"),l.Qc(14),l.oc(15,"date"),l.Wb(),l.Wb(),l.Xb(16,"td"),l.Xb(17,"span"),l.Qc(18),l.Wb(),l.Wb(),l.Xb(19,"td"),l.Xb(20,"span",60),l.Qc(21,"create"),l.Wb(),l.Wb(),l.Wb()}if(2&n){var i=t.$implicit;l.Cb(6),l.Rc(i.name),l.Cb(2),l.Rc(i.description),l.Cb(2),l.tc("ngIf",!i.privacy),l.Cb(1),l.tc("ngIf",i.privacy),l.Cb(3),l.Rc(l.qc(15,6,i.updated_at,"d MMM, yyyy")),l.Cb(4),l.Rc(i.videos.length)}}function K(n,t){if(1&n){var e=l.Yb();l.Vb(0),l.Xb(1,"div",53),l.Xb(2,"button",54),l.jc("click",(function(){return l.Hc(e),l.nc(2).openAddPlaylistModal()})),l.Qc(3,"Add New Playlist"),l.Wb(),l.Xb(4,"table"),l.Xb(5,"tr"),l.Xb(6,"th"),l.Qc(7,"Playlist"),l.Wb(),l.Xb(8,"th"),l.Qc(9,"Visibility"),l.Wb(),l.Xb(10,"th"),l.Qc(11,"Last updated"),l.Wb(),l.Xb(12,"th"),l.Qc(13,"Video count"),l.Wb(),l.Sb(14,"th"),l.Wb(),l.Oc(15,G,22,9,"tr",55),l.Wb(),l.Wb(),l.Ub()}if(2&n){var i=l.nc(2);l.Cb(15),l.tc("ngForOf",i.playlists)}}function Z(n,t){1&n&&(l.Vb(0),l.Xb(1,"div",61),l.Xb(2,"div",59),l.Xb(3,"h2"),l.Qc(4,"Description"),l.Wb(),l.Xb(5,"div",62),l.Xb(6,"span"),l.Qc(7,"Joined Oct 20, 2016"),l.Wb(),l.Xb(8,"button",63),l.Qc(9,"Edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(10,"div",64),l.Qc(11," Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero "),l.Wb(),l.Xb(12,"button",65),l.Qc(13,"save"),l.Wb(),l.Wb(),l.Ub())}function nn(n,t){if(1&n){var e=l.Yb();l.Vb(0),l.Xb(1,"div",3),l.Oc(2,y,3,4,"div",4),l.Xb(3,"label",5),l.Sb(4,"img",6),l.Wb(),l.Wb(),l.Xb(5,"div",7),l.Xb(6,"div",8),l.Xb(7,"label",9),l.Oc(8,W,1,1,"img",10),l.Oc(9,X,1,1,"img",11),l.Wb(),l.Oc(10,k,3,5,"div",4),l.Xb(11,"div"),l.Xb(12,"p",12),l.Qc(13),l.Wb(),l.Xb(14,"p",13),l.Qc(15),l.Wb(),l.Wb(),l.Wb(),l.Oc(16,w,4,2,"div",14),l.Wb(),l.Xb(17,"div",15),l.Xb(18,"div",16),l.Xb(19,"ul",17),l.Oc(20,I,3,5,"li",18),l.Wb(),l.Xb(21,"form",19),l.Xb(22,"div",20),l.Xb(23,"input",21),l.jc("keyup.enter",(function(){return l.Hc(e),l.nc().searchVideos()})),l.Wb(),l.Sb(24,"i",22),l.Wb(),l.Wb(),l.Wb(),l.Oc(25,$,2,1,"ng-container",1),l.Oc(26,D,5,1,"ng-container",1),l.Oc(27,K,16,1,"ng-container",1),l.Oc(28,Z,14,0,"ng-container",1),l.Wb(),l.Ub()}if(2&n){var i=l.nc();l.Cb(2),l.tc("ngIf",i.channelUser.username===i.authUser.username),l.Cb(2),l.tc("src",i.channelUser.cover?i.apiUrl+"uploads/covers/"+i.channelUser.cover:"assets/img/default-thumbnail.png",l.Jc),l.Cb(4),l.tc("ngIf",i.channelUser.avatar),l.Cb(1),l.tc("ngIf",!i.channelUser.avatar),l.Cb(1),l.tc("ngIf",i.channelUser.username===i.authUser.username),l.Cb(3),l.Rc(i.channelUser.channel.name),l.Cb(2),l.Sc("",i.subscribersCount+" subscriber"+(1===i.subscribersCount?"":"s")," "),l.Cb(1),l.tc("ngIf",i.channelUser.username!==i.authUser.username),l.Cb(4),l.tc("ngForOf",i.allTabs),l.Cb(1),l.tc("formGroup",i.searchVideosForm),l.Cb(4),l.tc("ngIf","Watchlist"===i.activeTab.name),l.Cb(1),l.tc("ngIf","Videos"===i.activeTab.name),l.Cb(1),l.tc("ngIf","Playlists"===i.activeTab.name),l.Cb(1),l.tc("ngIf","About"===i.activeTab.name)}}function tn(n,t){1&n&&(l.Xb(0,"div",66),l.Xb(1,"p"),l.Qc(2,"Channel with such name is not found"),l.Wb(),l.Wb())}var en,cn=((en=function(){function n(t,e,i,c,a,o,l,b,u,g,d){_classCallCheck(this,n),this.videoService=t,this.getAuthUser=e,this.router=i,this.usersService=c,this.base64ToFile=a,this.route=o,this.fb=l,this.channelService=b,this.playlistsService=u,this.subject=g,this.dialog=d,this.owlOptions=s.d,this.watchlistVideos=[],this.activeTab=s.g[0],this.allTabs=s.g,this.apiUrl=s.b,this.subscribedToChannel=!1,this.descriptionUpdated=!1,this.playlists=[],this.authUser=this.getAuthUser.transform(),this.passedUsername=this.route.snapshot.queryParams.username,this.searchVideosForm=this.fb.group({search:["",r.t.required]}),this.aboutForm=this.fb.group({description:["",r.t.required],id:["",r.t.required],username:["",r.t.required]})}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.passedUsername&&this.usersService.getUserInfo({username:this.passedUsername}).subscribe((function(t){t&&(n.channelUser=t,n.aboutForm.patchValue(Object.assign({username:t.username},t.channel)),n.checkChannelSubscription())})),this.videoService.getUserVideos({user_id:this.authUser.id}).subscribe((function(t){n.currentUser=t})),this.videoService.getVideosByAuthor({}).subscribe((function(t){n.watchlistVideos=t})),this.getPlaylists()}},{key:"getPlaylists",value:function(){var n=this;this.playlistsService.get().subscribe((function(t){n.playlists=t}))}},{key:"changeActiveTab",value:function(n){this.activeTab=n,this.searchVideos()}},{key:"checkChannelSubscription",value:function(){var n=this;this.channelService.checkChannelSubscription({user_id:this.authUser.id,channel_id:this.channelUser.channel.id}).subscribe((function(t){n.subscribedToChannel="Subscribed"===t.status,n.subscribersCount=t.subscribers_count}))}},{key:"openVideoPage",value:function(n,t){var e,i;console.log(t),"live"===n.status?(e="user/video/watch",i={session:n.session_name,publisher:t}):(e="videos/play",i={id:n.id}),this.router.navigate([e],{queryParams:i})}},{key:"openAddPlaylistModal",value:function(){var n=this;this.dialog.open(g).afterClosed().subscribe((function(t){n.getPlaylists()}))}},{key:"coverChangeEvent",value:function(n){this.coverChangedEvent=n}},{key:"profileChangeEvent",value:function(n){this.profileChangedEvent=n}},{key:"profileCropped",value:function(n){var t=this;this.profileBase64=n.base64;var e="profile_".concat(Date.now(),".jpg"),i=new FormData;i.append("avatar_file",this.base64ToFile.transform(n.base64),e),i.append("avatar",e),i.append("id",this.authUser.id),this.usersService.changeProfileImage(i).subscribe((function(n){localStorage.setItem("token",n.token),t.authUser=t.getAuthUser.transform(),t.channelUser=t.authUser}))}},{key:"coverCropped",value:function(n){var t=this;this.coverBase64=n.base64;var e=new FormData,i="cover_".concat(Date.now(),".jpg");e.append("cover_file",this.base64ToFile.transform(n.base64),i),e.append("cover",i),e.append("id",this.authUser.id),this.usersService.changeCoverImage(e).subscribe((function(n){localStorage.setItem("token",n.token),t.authUser=t.getAuthUser.transform(),t.channelUser=t.authUser}))}},{key:"searchVideos",value:function(){var n=this.searchVideosForm.value;n.search&&("Watchlist"===this.activeTab.name?this.searchInVideosByAuthor(n):"Videos"===this.activeTab.name&&this.searchInUserVideos(n))}},{key:"searchInVideosByAuthor",value:function(n){var t=this;this.videoService.searchInVideosByAuthor(n).subscribe((function(n){t.watchlistVideos=n}))}},{key:"searchInUserVideos",value:function(n){var t=this;this.currentUser.videos=[],this.videoService.searchInUserVideos(Object.assign({user_id:this.authUser.id},n)).subscribe((function(n){t.currentUser.videos=n.videos}))}},{key:"subscribeToChannel",value:function(n){var t=this;console.log(n),this.channelService.subscribeToChannel({user_id:this.authUser.id,channel_id:n.id}).subscribe((function(n){t.subscribedToChannel="Subscribed"===n.status,t.subscribersCount=n.subscribers_count,t.channelService.getUserChannelSubscriptions({user_id:t.authUser.id}).subscribe((function(n){t.subject.setUserSubscriptions(n)}))}))}},{key:"saveChannelDescription",value:function(){var n=this;console.log(this.aboutForm.value),this.descriptionUpdated=!0,this.channelService.saveDescription(this.aboutForm.value).subscribe((function(t){n.channelUser=t}))}}]),n}()).\u0275fac=function(n){return new(n||en)(l.Rb(d.a),l.Rb(f.a),l.Rb(o.d),l.Rb(h),l.Rb(m.a),l.Rb(o.a),l.Rb(r.c),l.Rb(C.a),l.Rb(u.a),l.Rb(v.a),l.Rb(b.b))},en.\u0275cmp=l.Lb({type:en,selectors:[["app-show-channel"]],decls:4,vars:2,consts:[[1,"profile-list"],[4,"ngIf"],["class","channel-not-found",4,"ngIf"],[1,"profile-block"],[3,"hidden",4,"ngIf"],["for","cover-image-input"],["id","cover-image",3,"src"],[1,"sub-block"],[1,"d-flex","align-items-center"],["for","profile-image-input"],["class","avatar list-img",3,"src",4,"ngIf"],["class","avatar","id","profile-image",3,"src",4,"ngIf"],[1,"main-text-1"],[1,"main-text-4"],["class","d-flex align-items-center",4,"ngIf"],[1,"watchlist","pWatchlist"],[1,"profile-list","user-profile-block"],["id","profileList","role","tablist",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"watchlist-search"],["placeholder","Search","formControlName","search",1,"watchlist-input",3,"keyup.enter"],[1,"fas","fa-search"],[3,"hidden"],["type","file","id","cover-image-input",3,"change"],[3,"imageChanedEvent","autoCrop","viewMode","imageCropped"],[1,"avatar","list-img",3,"src"],["id","profile-image",1,"avatar",3,"src"],["type","file","id","profile-image-input",3,"change"],[3,"imageChanedEvent","aspectRatio","viewMode","resizeToWidth","imageCropped"],[1,"sub-bell","fas","fa-bell"],["class","subscribe-btn",3,"click",4,"ngIf"],["class","subscribe-btn subscribed",3,"click",4,"ngIf"],[1,"subscribe-btn",3,"click"],[1,"subscribe-btn","subscribed",3,"click"],[1,"nav-item"],["data-toggle","tab","role","tab","aria-controls","pWatch","aria-selected","true",1,"nav-link",3,"id","href","click"],[4,"ngFor","ngForOf"],[1,"trending-text"],[3,"options"],["carouselSlide",""],[1,"item","main-carousel-item",3,"click"],["class","main-item-img",3,"src",4,"ngIf"],["class","live-now",4,"ngIf"],[1,"main-item-block"],["class","avatar",3,"src",4,"ngIf"],[1,"main-text-2"],[1,"main-text-3"],[1,"main-item-img",3,"src"],[1,"live-now"],[1,"avatar",3,"src"],["class","main-item-img","src","assets/img/video-thumbnail-default.png",4,"ngIf"],["src","assets/img/video-thumbnail-default.png",1,"main-item-img"],[1,"playlist-tab"],[1,"btn","new-playlist",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"img-info"],["src","assets/img/item-3.png","alt",""],[1,"info"],[1,"material-icons"],[1,"about-tab"],[1,"date"],[1,"btn"],[1,"description"],[1,"save"],[1,"channel-not-found"]],template:function(n,t){1&n&&(l.Xb(0,"div",0),l.Sb(1,"app-categories"),l.Oc(2,nn,29,14,"ng-container",1),l.Oc(3,tn,3,0,"div",2),l.Wb()),2&n&&(l.Cb(2),l.tc("ngIf",t.channelUser),l.Cb(1),l.tc("ngIf",!t.channelUser))},directives:[O.a,a.m,a.l,r.v,r.m,r.g,r.b,r.l,r.f,P.a,_.a,_.c,M.a],pipes:[a.e],styles:[".profile-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}.subscribed[_ngcontent-%COMP%]{background-color:#d6d6d6!important}#channel-about-form[_ngcontent-%COMP%]{width:50%}#channel-about-form[_ngcontent-%COMP%]   #description[_ngcontent-%COMP%], #channel-about-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}#channel-about-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;box-shadow:0 0 6px rgba(0,0,0,.06);border:none;resize:none;height:200px}#channel-about-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border:none;outline:none;box-shadow:0 0 6px #18b587}#channel-about-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:88px;height:36px;background:#f53c6f;font-family:Muli-Light;font-size:16px;color:#fff!important;display:flex;justify-content:center;align-items:center;margin-left:16px;margin-right:16px;cursor:pointer;float:right}.playlist-tab[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]{background:#18b587;border-radius:0;color:#fff;padding:8px 24px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:table;margin:24px 0;width:100%}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-row}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border-bottom:0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;color:#545454;font-family:Muli-Bold;font-size:16px;padding:12px 0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]{margin:0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:12px;vertical-align:middle;cursor:pointer}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]{display:flex}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:144px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-left:24px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-family:Muli-Bold}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:240px;font-size:12px;font-weight:400}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;color:#18b587;font-family:Muli-Bold}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:16px;display:flex;align-items:center}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#545454;font-family:Muli-Bold}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;padding:4px 18px;border-radius:0}.about-tab[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:24px;padding:24px;background:#f4f4f4;color:#545454;font-size:16px}.about-tab[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{margin-top:24px;background:#c9c9c9;color:#545454;padding:4px 18px;border-radius:0}.about-tab[_ngcontent-%COMP%]   .save.active[_ngcontent-%COMP%]{background:#18b587;color:#fff}"]}),en),an=e("wd/R"),on=e("7dP1");function sn(n,t){if(1&n&&l.Sb(0,"img",11),2&n){var e=l.nc().$implicit,i=l.nc(2);l.tc("src",i.apiUrl+"uploads/avatars/"+e.avatar,l.Jc)}}function rn(n,t){1&n&&l.Sb(0,"img",11),2&n&&l.tc("src","assets/img/default-user.png",l.Jc)}function ln(n,t){if(1&n&&(l.Xb(0,"li",2),l.Xb(1,"div",3),l.Oc(2,sn,1,1,"img",4),l.Oc(3,rn,1,1,"img",4),l.Wb(),l.Xb(4,"div",5),l.Xb(5,"p",6),l.Qc(6),l.Wb(),l.Xb(7,"div",7),l.Xb(8,"span",8),l.Qc(9,"17k watching"),l.Wb(),l.Xb(10,"span",9),l.Qc(11,"."),l.Wb(),l.Xb(12,"span",10),l.Qc(13,"250 video"),l.Wb(),l.Wb(),l.Xb(14,"p"),l.Qc(15,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed sda,sasddswd"),l.Wb(),l.Wb(),l.Wb()),2&n){var e=t.$implicit;l.Cb(2),l.tc("ngIf",e.avatar),l.Cb(1),l.tc("ngIf",!e.avatar),l.Cb(3),l.Rc(e.name)}}function bn(n,t){if(1&n&&(l.Xb(0,"ul"),l.Oc(1,ln,16,3,"li",1),l.Wb()),2&n){var e=l.nc();l.Cb(1),l.tc("ngForOf",e.userChannels.subscriptions)}}var un,gn,dn,fn=[{path:"show",component:cn},{path:"subscriptions",component:(un=function(){function n(t,e,i){_classCallCheck(this,n),this.channelsService=t,this.getAuthUser=e,this.auth=i,this.apiUrl=s.b,this.authUser=this.getAuthUser.transform()}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.channelsService.getSubscriptions({user_id:this.authUser.id}).subscribe((function(t){n.userChannels=t}))}},{key:"getUploadDateTime",value:function(n){return an(n).format("MMM DD, YYYY")}}]),n}(),un.\u0275fac=function(n){return new(n||un)(l.Rb(C.a),l.Rb(f.a),l.Rb(on.a))},un.\u0275cmp=l.Lb({type:un,selectors:[["app-show-subscriptions"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","channel-item",4,"ngFor","ngForOf"],[1,"channel-item"],[1,"thumbnail"],["class","avatar",3,"src",4,"ngIf"],[1,"info"],[1,"name"],[1,"shortened-details"],[1,"watchers-count"],[1,"dot"],[1,"videos-count"],[1,"avatar",3,"src"]],template:function(n,t){1&n&&l.Oc(0,bn,2,1,"ul",0),2&n&&l.tc("ngIf",t.userChannels)},directives:[a.m,a.l],styles:[".channel-item[_ngcontent-%COMP%]{display:flex;width:936px;margin-bottom:32px}.channel-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:240px!important;height:240px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:4px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#545454;font-size:24px;font-family:Muli-Bold}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{margin-left:26px;margin-top:-3px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-family:Muli-Light}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .videos-count[_ngcontent-%COMP%], .channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .watchers-count[_ngcontent-%COMP%]{font-size:14px;color:#818181}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .videos-count[_ngcontent-%COMP%]{margin-left:26px}"]}),un)}],pn=((gn=function n(){_classCallCheck(this,n)}).\u0275mod=l.Pb({type:gn}),gn.\u0275inj=l.Ob({factory:function(n){return new(n||gn)},imports:[[o.e.forChild(fn)],o.e]}),gn),hn=e("PCNd"),mn=((dn=function n(){_classCallCheck(this,n)}).\u0275mod=l.Pb({type:dn}),dn.\u0275inj=l.Ob({factory:function(n){return new(n||dn)},imports:[[a.c,pn,hn.a,P.b]]}),dn)}}]);