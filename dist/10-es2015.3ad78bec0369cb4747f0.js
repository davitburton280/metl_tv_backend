(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+27z":function(e,t){function n(e,t,n){var i={audio:!1,video:{mandatory:{chromeMediaSource:e?"screen":"desktop",maxWidth:window.screen.width>1920?window.screen.width:1920,maxHeight:window.screen.height>1080?window.screen.height:1080},optional:[]}};return n&&(i.audio={mandatory:{chromeMediaSource:e?"screen":"desktop"},optional:[]}),t&&(i.video.mandatory.chromeMediaSourceId=t,i.audio&&i.audio.mandatory&&(i.audio.mandatory.chromeMediaSourceId=t)),i}function i(e){o?o.isLoaded?o.contentWindow.postMessage(e?e.forEach?{captureCustomSourceId:e}:{captureSourceIdWithAudio:!0}:{captureSourceId:!0},"*"):setTimeout((function(){i(e)}),100):r((function(){i(e)}))}var o;function r(e){o?e():((o=document.createElement("iframe")).onload=function(){o.isLoaded=!0,e()},o.src="https://openvidu.github.io/openvidu-screen-sharing-chrome-extension/",o.style.display="none",(document.body||document.documentElement).appendChild(o))}function s(){o?o.isLoaded?o.contentWindow.postMessage({getChromeExtensionStatus:!0},"*"):setTimeout(s,100):r(s)}window.getScreenId=function(e,t,o){-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob?navigator.mozGetUserMedia?t(null,"firefox",{video:{mozMediaSource:e,mediaSource:e}}):(window.addEventListener("message",(function e(i){i.data&&(i.data.chromeMediaSourceId&&("PermissionDeniedError"===i.data.chromeMediaSourceId?t("permission-denied"):t(null,i.data.chromeMediaSourceId,n(null,i.data.chromeMediaSourceId,i.data.canRequestAudioTrack)),window.removeEventListener("message",e)),i.data.chromeExtensionStatus&&(t(i.data.chromeExtensionStatus,null,n(i.data.chromeExtensionStatus)),window.removeEventListener("message",e)))})),o?setTimeout((function(){i(o)}),100):setTimeout(i,100)):t({video:!0})},window.getScreenConstraints=function(e){r((function(){getScreenId((function(t,n,i){i||(i={video:!0}),e(t,i.video)}))}))},window.getChromeExtensionStatus=function(e){navigator.mozGetUserMedia?e("installed-enabled"):(window.addEventListener("message",(function t(n){n.data&&n.data.chromeExtensionStatus&&(e(n.data.chromeExtensionStatus),window.removeEventListener("message",t))})),setTimeout(s,100))},t.getScreenId=getScreenId},"+FKC":function(e,t,n){"use strict";t.__esModule=!0;var i=n("bDgZ"),o=n("9m68").OpenViduLogger.getInstance(),r=function(){function e(e){this.stream=e,this.webRtcStatsEnabled=!1,this.statsInterval=1,this.stats={inbound:{audio:{bytesReceived:0,packetsReceived:0,packetsLost:0},video:{bytesReceived:0,packetsReceived:0,packetsLost:0,framesDecoded:0,nackCount:0}},outbound:{audio:{bytesSent:0,packetsSent:0},video:{bytesSent:0,packetsSent:0,framesEncoded:0,nackCount:0}}}}return e.prototype.isEnabled=function(){return this.webRtcStatsEnabled},e.prototype.initWebRtcStats=function(){var e=this,t=localStorage.getItem("elastest-instrumentation");if(t){o.warn("WebRtc stats enabled for stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId),this.webRtcStatsEnabled=!0;var n=JSON.parse(t);return this.statsInterval=n.webrtc.interval,o.warn("localStorage item: "+JSON.stringify(n)),void(this.webRtcStatsIntervalId=setInterval((function(){e.sendStatsToHttpEndpoint(n)}),1e3*this.statsInterval))}o.debug("WebRtc stats not enabled")},e.prototype.stopWebRtcStats=function(){this.webRtcStatsEnabled&&(clearInterval(this.webRtcStatsIntervalId),o.warn("WebRtc stats stopped for disposed stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId))},e.prototype.getSelectedIceCandidateInfo=function(){var e=this;return new Promise((function(t,n){e.getStatsAgnostic(e.stream.getRTCPeerConnection(),(function(o){if(-1!==i.name.indexOf("Chrome")||-1!==i.name.indexOf("Opera")){var r=void 0,s=void 0,a=void 0,c={},l={};for(var u in o){var d=o[u];"localcandidate"===d.type?c[d.id]=d:"remotecandidate"===d.type?l[d.id]=d:"googCandidatePair"===d.type&&"true"===d.googActiveConnection&&(a=d,r=d.localCandidateId,s=d.remoteCandidateId)}var h=c[r];if(h){var p=e.stream.getLocalIceCandidateList().filter((function(e){return!!e.candidate&&e.candidate.indexOf(h.ipAddress)>=0&&e.candidate.indexOf(h.portNumber)>=0&&e.candidate.indexOf(h.priority)>=0}));h.raw=p[0]?p[0].candidate:"ERROR: Cannot find local candidate in list of sent ICE candidates"}else h="ERROR: No active local ICE candidate. Probably ICE-TCP is being used";var f=l[s];f?(p=e.stream.getRemoteIceCandidateList().filter((function(e){return!!e.candidate&&e.candidate.indexOf(f.ipAddress)>=0&&e.candidate.indexOf(f.portNumber)>=0&&e.candidate.indexOf(f.priority)>=0})),f.raw=p[0]?p[0].candidate:"ERROR: Cannot find remote candidate in list of received ICE candidates"):f="ERROR: No active remote ICE candidate. Probably ICE-TCP is being used",t({googCandidatePair:a,localCandidate:h,remoteCandidate:f})}else n("Selected ICE candidate info only available for Chrome")}),(function(e){n(e)}))}))},e.prototype.sendStatsToHttpEndpoint=function(e){var t=this,n=function(n){var i=new XMLHttpRequest,r=e.webrtc.httpEndpoint;i.open("POST",r,!0),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&o.log("WebRtc stats successfully sent to "+r+" for stream "+t.stream.streamId+" of connection "+t.stream.connection.connectionId)},i.send(n)};this.getStatsAgnostic(this.stream.getRTCPeerConnection(),(function(o){if(-1!==i.name.indexOf("Firefox"))o.forEach((function(i){var o={};if("inbound-rtp"===i.type&&null!==i.nackCount&&!1===i.isRemote&&i.id.startsWith("inbound")&&i.remoteId.startsWith("inbound")){var r="webrtc_inbound_"+i.mediaType+"_"+i.ssrc,s={bytesReceived:(i.bytesReceived-t.stats.inbound[i.mediaType].bytesReceived)/t.statsInterval,jitter:1e3*i.jitter,packetsReceived:(i.packetsReceived-t.stats.inbound[i.mediaType].packetsReceived)/t.statsInterval,packetsLost:(i.packetsLost-t.stats.inbound[i.mediaType].packetsLost)/t.statsInterval},a={bytesReceived:"bytes",jitter:"ms",packetsReceived:"packets",packetsLost:"packets"};"video"===i.mediaType&&(s.framesDecoded=(i.framesDecoded-t.stats.inbound.video.framesDecoded)/t.statsInterval,s.nackCount=(i.nackCount-t.stats.inbound.video.nackCount)/t.statsInterval,a.framesDecoded="frames",a.nackCount="packets",t.stats.inbound.video.framesDecoded=i.framesDecoded,t.stats.inbound.video.nackCount=i.nackCount),t.stats.inbound[i.mediaType].bytesReceived=i.bytesReceived,t.stats.inbound[i.mediaType].packetsReceived=i.packetsReceived,t.stats.inbound[i.mediaType].packetsLost=i.packetsLost,(o={"@timestamp":new Date(i.timestamp).toISOString(),exec:e.exec,component:e.component,stream:"webRtc",et_type:r,stream_type:"composed_metrics",units:a})[r]=s,n(JSON.stringify(o))}else"outbound-rtp"===i.type&&!1===i.isRemote&&i.id.toLowerCase().includes("outbound")&&(r="webrtc_outbound_"+i.mediaType+"_"+i.ssrc,s={bytesSent:(i.bytesSent-t.stats.outbound[i.mediaType].bytesSent)/t.statsInterval,packetsSent:(i.packetsSent-t.stats.outbound[i.mediaType].packetsSent)/t.statsInterval},a={bytesSent:"bytes",packetsSent:"packets"},"video"===i.mediaType&&(s.framesEncoded=(i.framesEncoded-t.stats.outbound.video.framesEncoded)/t.statsInterval,a.framesEncoded="frames",t.stats.outbound.video.framesEncoded=i.framesEncoded),t.stats.outbound[i.mediaType].bytesSent=i.bytesSent,t.stats.outbound[i.mediaType].packetsSent=i.packetsSent,(o={"@timestamp":new Date(i.timestamp).toISOString(),exec:e.exec,component:e.component,stream:"webRtc",et_type:r,stream_type:"composed_metrics",units:a})[r]=s,n(JSON.stringify(o)))}));else if(-1!==i.name.indexOf("Chrome")||-1!==i.name.indexOf("Opera"))for(var r=0,s=Object.keys(o);r<s.length;r++){var a=o[s[r]];if("ssrc"===a.type){var c={};if("bytesReceived"in a&&("audio"===a.mediaType&&"audioOutputLevel"in a||"video"===a.mediaType&&"qpSum"in a)){var l="webrtc_inbound_"+a.mediaType+"_"+a.ssrc,u={bytesReceived:(a.bytesReceived-t.stats.inbound[a.mediaType].bytesReceived)/t.statsInterval,jitter:a.googJitterBufferMs,packetsReceived:(a.packetsReceived-t.stats.inbound[a.mediaType].packetsReceived)/t.statsInterval,packetsLost:(a.packetsLost-t.stats.inbound[a.mediaType].packetsLost)/t.statsInterval},d={bytesReceived:"bytes",jitter:"ms",packetsReceived:"packets",packetsLost:"packets"};"video"===a.mediaType&&(u.framesDecoded=(a.framesDecoded-t.stats.inbound.video.framesDecoded)/t.statsInterval,u.nackCount=(a.googNacksSent-t.stats.inbound.video.nackCount)/t.statsInterval,d.framesDecoded="frames",d.nackCount="packets",t.stats.inbound.video.framesDecoded=a.framesDecoded,t.stats.inbound.video.nackCount=a.googNacksSent),t.stats.inbound[a.mediaType].bytesReceived=a.bytesReceived,t.stats.inbound[a.mediaType].packetsReceived=a.packetsReceived,t.stats.inbound[a.mediaType].packetsLost=a.packetsLost,(c={"@timestamp":new Date(a.timestamp).toISOString(),exec:e.exec,component:e.component,stream:"webRtc",et_type:l,stream_type:"composed_metrics",units:d})[l]=u,n(JSON.stringify(c))}else"bytesSent"in a&&(l="webrtc_outbound_"+a.mediaType+"_"+a.ssrc,u={bytesSent:(a.bytesSent-t.stats.outbound[a.mediaType].bytesSent)/t.statsInterval,packetsSent:(a.packetsSent-t.stats.outbound[a.mediaType].packetsSent)/t.statsInterval},d={bytesSent:"bytes",packetsSent:"packets"},"video"===a.mediaType&&(u.framesEncoded=(a.framesEncoded-t.stats.outbound.video.framesEncoded)/t.statsInterval,d.framesEncoded="frames",t.stats.outbound.video.framesEncoded=a.framesEncoded),t.stats.outbound[a.mediaType].bytesSent=a.bytesSent,t.stats.outbound[a.mediaType].packetsSent=a.packetsSent,(c={"@timestamp":new Date(a.timestamp).toISOString(),exec:e.exec,component:e.component,stream:"webRtc",et_type:l,stream_type:"composed_metrics",units:d})[l]=u,n(JSON.stringify(c)))}}}),(function(e){o.log(e)}))},e.prototype.standardizeReport=function(e){o.log(e);var t={};return-1!==i.name.indexOf("Firefox")?(Object.keys(e).forEach((function(t){o.log(e[t])})),e):(e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t)},e.prototype.getStatsAgnostic=function(e,t,n){var o=this;return-1!==i.name.indexOf("Firefox")?e.getStats(null).then((function(e){var n=o.standardizeReport(e);t(n)})).catch(n):-1!==i.name.indexOf("Chrome")||-1!==i.name.indexOf("Opera")?e.getStats((function(e){var n=o.standardizeReport(e);t(n)}),null,n):void 0},e}();t.WebRtcStats=r},"+ig+":function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=function(e){function t(t,n,i){var o=e.call(this,!1,t,n)||this;return o.data=i,o}return o(t,e),t.prototype.callDefaultBehavior=function(){},t}(n("hzOQ").Event);t.FilterEvent=r},"+xpX":function(e,t,n){"use strict";n.d(t,"OpenviduSessionComponent",(function(){return yt})),n.d(t,"OpenviduSessionModule",(function(){return Vt}));var i=n("mrSG"),o=n("fXoL"),r=n("2Vo4"),s=n("z6cu"),a=n("PZzU"),c=n("dNgK"),l=n("bTqV"),u=n("NFeN"),d=n("Qu3c"),h=n("ofXK"),p=n("3Pt+"),f=n("znSr"),g=n("0IaG"),m=n("tk/3"),v=n("tyNb"),b=n("XhcP"),y=n("TIDz"),_=n("kmnG"),S=n("qFsG"),C=n("/t3+"),O=n("XiUz"),w=n("TU8p"),x=n("Xa2L"),E=n("d3UM"),M=n("FKr1"),R=n("JIr8"),k=n("Wp6s"),P=n("zkoq"),T=n("5RNC"),I=n("YUcS");const A=["chatScroll"],D=["chatInput"];function L(e,t){if(1&e&&(o.Xb(0,"div",13),o.Sb(1,"img",14),o.Xb(2,"div",15),o.Xb(3,"div",16),o.Xb(4,"p"),o.Rc(5),o.Wb(),o.Wb(),o.Xb(6,"div",17),o.Sb(7,"span",18),o.Sb(8,"p",19),o.oc(9,"linkify"),o.Wb(),o.Wb(),o.Wb()),2&e){const e=t.$implicit;o.uc("ngClass",e.isLocal?"right":"left"),o.Cb(1),o.uc("src",e.userAvatar,o.Kc),o.Cb(4),o.Sc(e.nickname),o.Cb(3),o.uc("innerHTML",o.pc(9,4,e.message),o.Jc)}}const j=["chatComponent"],N=["sidenav"];function U(e,t){if(1&e){const e=o.Yb();o.Xb(0,"app-room-config",4),o.jc("join",(function(){return o.Ic(e),o.nc(2).onConfigRoomJoin()}))("leaveSession",(function(){return o.Ic(e),o.nc(2).leaveSession()}))("publisherCreated",(function(t){return o.Ic(e),o.nc(2).emitPublisher(t)})),o.Wb()}if(2&e){const e=o.nc(2);o.uc("ovSettings",e.ovSettings)("externalConfig",e.externalConfig)}}function V(e,t){1&e&&o.Sb(0,"div",14)}function z(e,t){if(1&e&&(o.Xb(0,"mat-sidenav",15,16),o.Sb(2,"chat-component",17,18),o.Wb()),2&e){const e=o.nc(3);o.Hb("boundsLight",e.lightTheme),o.vc("mode",e.sidenavMode),o.Cb(2),o.uc("lightTheme",e.lightTheme)}}function F(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",19),o.Xb(1,"stream-component",20),o.jc("nicknameClicked",(function(t){return o.Ic(e),o.nc(3).onNicknameUpdate(t)}))("replaceScreenTrackClicked",(function(t){return o.Ic(e),o.nc(3).onReplaceScreenTrack(t)}))("toggleVideoSizeClicked",(function(t){return o.Ic(e),o.nc(3).onToggleVideoSize(t)})),o.Wb(),o.Wb()}if(2&e){const e=t.$implicit;o.Oc("display",null!=e.streamManager&&null!=e.streamManager.stream&&e.streamManager.stream.videoActive?"block":"none"),o.Cb(1),o.uc("user",e)("videoSizeBig",e.videoSizeBig)}}function B(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",21),o.Xb(1,"stream-component",22),o.jc("toggleVideoSizeClicked",(function(t){return o.Ic(e),o.nc(3).onToggleVideoSize(t)})),o.Wb(),o.Wb()}if(2&e){const e=t.$implicit;o.Oc("display",null!=e.streamManager&&null!=e.streamManager.stream&&e.streamManager.stream.videoActive?"block":"none"),o.Cb(1),o.uc("user",e)("videoSizeBig",e.videoSizeBig)}}function W(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div"),o.Pc(1,V,1,0,"div",5),o.Xb(2,"app-toolbar",6),o.jc("camButtonClicked",(function(){return o.Ic(e),o.nc(2).toggleCam()}))("micButtonClicked",(function(){return o.Ic(e),o.nc(2).toggleMic()}))("screenShareClicked",(function(){return o.Ic(e),o.nc(2).toggleScreenShare()}))("layoutButtonClicked",(function(){return o.Ic(e),o.nc(2).toggleSpeakerLayout()}))("leaveSessionButtonClicked",(function(){return o.Ic(e),o.nc(2).leaveSession()})),o.Wb(),o.Xb(3,"mat-sidenav-container",7),o.Pc(4,z,4,4,"mat-sidenav",8),o.oc(5,"hasChat"),o.Xb(6,"mat-sidenav-content",9),o.Xb(7,"div",10),o.Pc(8,F,2,4,"div",11),o.Pc(9,B,2,4,"div",12),o.Wb(),o.Wb(),o.Wb(),o.Sb(10,"app-footer",13),o.Wb()}if(2&e){const e=o.nc(2);o.Cb(1),o.uc("ngIf",e.isConnectionLost),o.Cb(1),o.uc("lightTheme",e.lightTheme)("compact",e.compact)("mySessionId",e.mySessionId)("ovSettings",e.ovSettings)("hasVideoDevices",e.hasVideoDevices)("hasAudioDevices",e.hasAudioDevices)("isWebcamVideoEnabled",e.oVSessionService.hasWebcamVideoActive())("isWebcamAudioEnabled",e.toolbarMicIconEnabled())("isScreenEnabled",e.oVSessionService.isScreenShareEnabled())("isAutoLayout",e.isAutoLayout)("isConnectionLost",e.isConnectionLost),o.Cb(1),o.Hb("boundsLight",e.lightTheme),o.Cb(1),o.uc("ngIf",o.pc(5,21,e.ovSettings)),o.Cb(3),o.Hb("boundsLight",e.lightTheme),o.Cb(1),o.uc("ngForOf",e.localUsers),o.Cb(1),o.uc("ngForOf",e.remoteUsers),o.Cb(1),o.uc("lightTheme",e.lightTheme)("participants",e.remoteUsers)}}function q(e,t){if(1&e&&(o.Xb(0,"div",1),o.Pc(1,U,1,2,"app-room-config",2),o.Pc(2,W,11,23,"div",3),o.Wb()),2&e){const e=o.nc();o.Hb("boundsLight",e.lightTheme),o.Cb(1),o.uc("ngIf",e.showConfigRoomCard),o.Cb(1),o.uc("ngIf",e.localUsers&&e.localUsers.length>0)}}const G=["videoRoom"];function X(e,t){if(1&e){const e=o.Yb();o.Xb(0,"app-video-room",1,2),o.jc("_session",(function(t){return o.Ic(e),o.nc().emitSession(t)}))("_publisher",(function(t){return o.Ic(e),o.nc().emitPublisher(t)}))("_error",(function(t){return o.Ic(e),o.nc().emitErrorEvent(t)}))("_leaveSession",(function(t){return o.Ic(e),o.nc().emitLeaveSessionEvent(t)}))("_joinSession",(function(t){return o.Ic(e),o.nc().emitJoinSessionEvent(t)})),o.Wb()}if(2&e){const e=o.nc();o.uc("externalConfig",e.angularLibrary)}}const Y=["nicknameInput"],H=["streamComponent"];function Z(e,t){1&e&&(o.Xb(0,"span"),o.Rc(1," (edit)"),o.Wb())}function Q(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",15),o.jc("click",(function(){return o.Ic(e),o.nc(2).toggleNicknameForm()})),o.Xb(1,"span",16),o.Rc(2),o.Wb(),o.Pc(3,Z,2,0,"span",17),o.Wb()}if(2&e){const e=o.nc(2);o.Cb(2),o.Sc(e._user.nickname),o.Cb(1),o.uc("ngIf",!e._user.streamManager.remote)}}function J(e,t){1&e&&(o.Xb(0,"mat-error"),o.Rc(1," Nickname is "),o.Xb(2,"strong"),o.Rc(3,"required"),o.Wb(),o.Wb())}function K(e,t){1&e&&(o.Xb(0,"mat-error"),o.Rc(1," Nickname is "),o.Xb(2,"strong"),o.Rc(3,"too long!"),o.Wb(),o.Wb())}function ee(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",18),o.Xb(1,"button",19),o.jc("click",(function(){return o.Ic(e),o.nc(2).toggleNicknameForm()})),o.Xb(2,"mat-icon",20),o.Rc(3,"highlight_off"),o.Wb(),o.Wb(),o.Xb(4,"form",21),o.Xb(5,"mat-form-field",22),o.Xb(6,"input",23,24),o.jc("keypress",(function(t){return o.Ic(e),o.nc(2).eventKeyPress(t)})),o.Wb(),o.Pc(8,J,4,0,"mat-error",17),o.Pc(9,K,4,0,"mat-error",17),o.Wb(),o.Wb(),o.Wb()}if(2&e){const e=o.nc(2);o.Hb("fullscreen",e.isFullscreen),o.Cb(6),o.wc("placeholder","Nick: ",e._user.nickname,""),o.uc("formControl",e.nicknameFormControl)("errorStateMatcher",e.matcher),o.Cb(2),o.uc("ngIf",e.nicknameFormControl.hasError("required")),o.Cb(1),o.uc("ngIf",e.nicknameFormControl.hasError("maxlength"))}}function te(e,t){1&e&&(o.Xb(0,"div",25),o.Xb(1,"mat-icon"),o.Rc(2,"mic_off"),o.Wb(),o.Wb())}function ne(e,t){1&e&&(o.Xb(0,"div",26),o.Xb(1,"mat-icon"),o.Rc(2,"videocam_off"),o.Wb(),o.Wb())}function ie(e,t){1&e&&(o.Xb(0,"mat-icon",30),o.Rc(1,"volume_up"),o.Wb())}function oe(e,t){1&e&&(o.Xb(0,"mat-icon",31),o.Rc(1,"volume_off"),o.Wb())}function re(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",27),o.jc("click",(function(){return o.Ic(e),o.nc(2).toggleSound()})),o.Pc(1,ie,2,0,"mat-icon",28),o.Pc(2,oe,2,0,"mat-icon",29),o.Wb()}if(2&e){const e=o.nc(2);o.Cb(1),o.uc("ngIf",!e.mutedSound),o.Cb(1),o.uc("ngIf",e.mutedSound)}}function se(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",32),o.jc("click",(function(){return o.Ic(e),o.nc(2).replaceScreenTrack()})),o.Xb(1,"mat-icon",33),o.Rc(2,"picture_in_picture"),o.Wb(),o.Wb()}}function ae(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",1,2),o.jc("dblclick",(function(){return o.Ic(e),o.nc().toggleVideoSize()})),o.Xb(2,"div",3),o.Pc(3,Q,4,2,"div",4),o.Pc(4,ee,10,7,"div",5),o.Wb(),o.Xb(5,"ov-video",6),o.jc("toggleVideoSizeEvent",(function(t){return o.Ic(e),o.nc().toggleVideoSize(t)})),o.Wb(),o.Xb(6,"div",7),o.Pc(7,te,3,0,"div",8),o.Pc(8,ne,3,0,"div",9),o.Wb(),o.Xb(9,"div",10),o.Xb(10,"button",11),o.jc("click",(function(){return o.Ic(e),o.nc().toggleVideoSize()})),o.Xb(11,"mat-icon"),o.Rc(12),o.Wb(),o.Wb(),o.Xb(13,"button",12),o.jc("click",(function(){return o.Ic(e),o.nc().toggleFullscreen()})),o.Xb(14,"mat-icon"),o.Rc(15),o.Wb(),o.Wb(),o.Pc(16,re,3,2,"button",13),o.Pc(17,se,3,0,"button",14),o.Wb(),o.Wb()}if(2&e){const e=o.nc();o.uc("id","container-"+e._user.streamManager.stream.streamId),o.Cb(2),o.Hb("fullscreen",e.isFullscreen),o.Cb(1),o.uc("ngIf",!e.toggleNickname),o.Cb(1),o.uc("ngIf",e.toggleNickname&&!e._user.streamManager.remote),o.Cb(1),o.uc("streamManager",e._user.streamManager)("mutedSound",e.mutedSound),o.Cb(2),o.uc("ngIf",!e._user.streamManager.stream.audioActive),o.Cb(1),o.uc("ngIf",!e._user.streamManager.stream.videoActive),o.Cb(4),o.Sc(e.videoSizeIcon),o.Cb(3),o.Sc(e.fullscreenIcon),o.Cb(1),o.uc("ngIf",e._user.streamManager.remote),o.Cb(1),o.uc("ngIf",!e._user.streamManager.remote&&e._user.isScreen())}}const ce=["videoElement"];function le(e,t){1&e&&(o.Xb(0,"mat-icon",14),o.Rc(1,"mic"),o.Wb())}function ue(e,t){1&e&&(o.Xb(0,"mat-icon",15),o.Rc(1,"mic_off"),o.Wb())}function de(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",11),o.jc("click",(function(){return o.Ic(e),o.nc().toggleMicrophone()})),o.Pc(1,le,2,0,"mat-icon",12),o.Pc(2,ue,2,0,"mat-icon",13),o.Wb()}if(2&e){const e=o.nc();o.uc("disabled",e.isConnectionLost),o.Cb(1),o.uc("ngIf",e.isWebcamAudioEnabled),o.Cb(1),o.uc("ngIf",!e.isWebcamAudioEnabled)}}function he(e,t){1&e&&(o.Xb(0,"mat-icon",19),o.Rc(1,"videocam"),o.Wb())}function pe(e,t){1&e&&(o.Xb(0,"mat-icon",20),o.Rc(1,"videocam_off"),o.Wb())}function fe(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",16),o.jc("click",(function(){return o.Ic(e),o.nc().toggleCamera()})),o.Pc(1,he,2,0,"mat-icon",17),o.Pc(2,pe,2,0,"mat-icon",18),o.Wb()}if(2&e){const e=o.nc();o.uc("disabled",e.isConnectionLost),o.Cb(1),o.uc("ngIf",e.isWebcamVideoEnabled),o.Cb(1),o.uc("ngIf",!e.isWebcamVideoEnabled)}}function ge(e,t){1&e&&(o.Xb(0,"mat-icon",24),o.Rc(1,"stop_screen_share"),o.Wb())}function me(e,t){1&e&&(o.Xb(0,"mat-icon",25),o.Rc(1,"screen_share"),o.Wb())}function ve(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",21),o.jc("click",(function(){return o.Ic(e),o.nc().toggleScreenShare()})),o.Pc(1,ge,2,0,"mat-icon",22),o.Pc(2,me,2,0,"mat-icon",23),o.Wb()}if(2&e){const e=o.nc();o.uc("disabled",e.isConnectionLost),o.Cb(1),o.uc("ngIf",!e.isScreenEnabled),o.Cb(1),o.uc("ngIf",e.isScreenEnabled)}}function be(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",26),o.jc("click",(function(){return o.Ic(e),o.nc().toggleFullscreen()})),o.Xb(1,"mat-icon",27),o.Rc(2),o.Wb(),o.Wb()}if(2&e){const e=o.nc();o.uc("disabled",e.isConnectionLost),o.Cb(2),o.Sc(e.fullscreenIcon)}}function ye(e,t){1&e&&(o.Xb(0,"mat-icon",30),o.Rc(1,"voice_over_off"),o.Wb())}function _e(e,t){1&e&&(o.Xb(0,"mat-icon",31),o.Rc(1,"record_voice_over"),o.Wb())}function Se(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",26),o.jc("click",(function(){return o.Ic(e),o.nc().toggleSpeakerLayout()})),o.Pc(1,ye,2,0,"mat-icon",28),o.Pc(2,_e,2,0,"mat-icon",29),o.Wb()}if(2&e){const e=o.nc();o.uc("disabled",e.isConnectionLost),o.Cb(1),o.uc("ngIf",!e.isAutoLayout),o.Cb(1),o.uc("ngIf",e.isAutoLayout)}}function Ce(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",32),o.jc("click",(function(){return o.Ic(e),o.nc().leaveSession()})),o.Xb(1,"mat-icon",33),o.Rc(2,"power_settings_new"),o.Wb(),o.Wb()}}function Oe(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",26),o.jc("click",(function(){return o.Ic(e),o.nc().toggleChat()})),o.Xb(1,"mat-icon",34),o.Rc(2,"chat"),o.Wb(),o.Wb()}if(2&e){const e=o.nc();o.uc("disabled",e.isConnectionLost),o.Cb(1),o.vc("matBadge",e.newMessagesNum),o.uc("matBadgeHidden",0===e.newMessagesNum)}}const we=function(e,t){return{titleContent:!0,titleContentLight:e,titleContentDark:t}};function xe(e,t){if(1&e&&(o.Xb(0,"div",3),o.Xb(1,"span",4),o.Rc(2),o.Wb(),o.Wb()),2&e){const e=o.nc();o.uc("ngClass",o.zc(2,we,e.lightTheme,!e.lightTheme)),o.Cb(2),o.Sc(e.sessionId)}}const Ee=["bodyCard"];function Me(e,t){if(1&e&&o.Sb(0,"ov-video",38),2&e){const e=o.nc(),t=e.$implicit,n=e.index,i=o.nc(2);o.uc("streamManager",t.streamManager)("className",i.localUsers.length>1&&0===n?"ovVideoSmall":"")}}function Re(e,t){1&e&&(o.Xb(0,"div",39),o.Xb(1,"span"),o.Rc(2,"Oops! Camera is not available"),o.Wb(),o.Wb())}function ke(e,t){if(1&e&&(o.Xb(0,"div"),o.Pc(1,Me,1,2,"ov-video",36),o.Pc(2,Re,3,0,"div",37),o.Wb()),2&e){const e=t.$implicit,n=o.nc(2);o.Cb(1),o.uc("ngIf",e.isCamera()&&n.hasVideoDevices||e.isScreen()),o.Cb(1),o.uc("ngIf",e.isCamera()&&!n.hasVideoDevices)}}function Pe(e,t){1&e&&(o.Xb(0,"div",46),o.Xb(1,"span"),o.Rc(2,"Press Avatar Button"),o.Wb(),o.Wb())}function Te(e,t){if(1&e&&o.Sb(0,"img",47),2&e){const e=o.nc(3);o.uc("src",e.videoAvatar,o.Kc)}}function Ie(e,t){1&e&&o.Sb(0,"mat-spinner",48),2&e&&o.uc("diameter",70)}function Ae(e,t){if(1&e&&o.Sb(0,"img",47),2&e){const e=o.nc(3);o.uc("src",e.randomAvatar,o.Kc)}}function De(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",40),o.Xb(1,"div",41),o.Xb(2,"div",42),o.jc("click",(function(){return o.Ic(e),o.nc(2).setAvatar("video")})),o.Pc(3,Pe,3,0,"div",43),o.Pc(4,Te,1,1,"img",44),o.Wb(),o.Xb(5,"div",42),o.jc("click",(function(){return o.Ic(e),o.nc(2).setAvatar("random")})),o.Pc(6,Ie,1,1,"mat-spinner",45),o.Pc(7,Ae,1,1,"img",44),o.Wb(),o.Wb(),o.Wb()}if(2&e){const e=o.nc(2);o.Cb(2),o.Oc("background","video"===e.avatarSelected?"lightgreen":"transparent",o.Kb),o.Cb(1),o.uc("ngIf",!e.videoAvatar),o.Cb(1),o.uc("ngIf",e.videoAvatar),o.Cb(1),o.Oc("background","random"===e.avatarSelected?"lightgreen":"transparent",o.Kb),o.Cb(1),o.uc("ngIf",!e.randomAvatar),o.Cb(1),o.uc("ngIf",e.randomAvatar)}}function Le(e,t){1&e&&(o.Xb(0,"mat-error"),o.Rc(1," Nickname is "),o.Xb(2,"strong"),o.Rc(3,"required"),o.Wb(),o.Wb())}function je(e,t){1&e&&(o.Xb(0,"mat-error"),o.Rc(1," Nickname is "),o.Xb(2,"strong"),o.Rc(3,"too long!"),o.Wb(),o.Wb())}function Ne(e,t){1&e&&(o.Xb(0,"mat-icon",55),o.Rc(1,"mic"),o.Wb())}function Ue(e,t){1&e&&(o.Xb(0,"mat-icon",56),o.Rc(1,"mic_off"),o.Wb())}function Ve(e,t){if(1&e&&(o.Xb(0,"mat-option",57),o.Rc(1),o.Wb()),2&e){const e=t.$implicit;o.uc("value",e.device),o.Cb(1),o.Tc(" ",e.label," ")}}function ze(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",24),o.Xb(1,"div",25),o.Xb(2,"div",26),o.Xb(3,"button",49),o.jc("click",(function(){return o.Ic(e),o.nc(2).toggleMic()})),o.Pc(4,Ne,2,0,"mat-icon",50),o.Pc(5,Ue,2,0,"mat-icon",51),o.Wb(),o.Wb(),o.Xb(6,"div",29),o.Xb(7,"mat-form-field",52),o.Xb(8,"mat-select",53),o.jc("selectionChange",(function(t){return o.Ic(e),o.nc(2).onMicrophoneSelected(t)})),o.Pc(9,Ve,2,2,"mat-option",54),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&e){const e=o.nc(2);o.Cb(4),o.uc("ngIf",e.isAudioActive),o.Cb(1),o.uc("ngIf",!e.isAudioActive),o.Cb(3),o.uc("ngModel",e.isAudioActive&&e.micSelected?e.micSelected.device:"None"),o.Cb(1),o.uc("ngForOf",e.microphones)}}function Fe(e,t){1&e&&(o.Xb(0,"mat-icon",62),o.Rc(1,"videocam"),o.Wb())}function Be(e,t){1&e&&(o.Xb(0,"mat-icon",63),o.Rc(1,"videocam_off"),o.Wb())}function We(e,t){if(1&e&&(o.Xb(0,"mat-option",57),o.Rc(1),o.Wb()),2&e){const e=t.$implicit;o.uc("value",e.device),o.Cb(1),o.Tc(" ",e.label," ")}}function qe(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",24),o.Xb(1,"div",25),o.Xb(2,"div",26),o.Xb(3,"button",58),o.jc("click",(function(){return o.Ic(e),o.nc(2).toggleCam()})),o.Pc(4,Fe,2,0,"mat-icon",59),o.Pc(5,Be,2,0,"mat-icon",60),o.Wb(),o.Wb(),o.Xb(6,"div",29),o.Xb(7,"mat-form-field",52),o.Xb(8,"mat-select",61),o.jc("selectionChange",(function(t){return o.Ic(e),o.nc(2).onCameraSelected(t)})),o.Pc(9,We,2,2,"mat-option",54),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&e){const e=o.nc(2);o.Cb(4),o.uc("ngIf",e.isVideoActive),o.Cb(1),o.uc("ngIf",!e.isVideoActive),o.Cb(3),o.uc("ngModel",e.isVideoActive&&e.camSelected?e.camSelected.device:"None"),o.Cb(1),o.uc("ngForOf",e.cameras)}}function Ge(e,t){1&e&&(o.Xb(0,"mat-icon",68),o.Rc(1,"screen_share"),o.Wb())}function Xe(e,t){1&e&&(o.Xb(0,"mat-icon",69),o.Rc(1," stop_screen_share"),o.Wb())}function Ye(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",24),o.Xb(1,"div",25),o.Xb(2,"div",26),o.Xb(3,"button",64),o.jc("click",(function(){return o.Ic(e),o.nc(2).toggleScreenShare()})),o.Pc(4,Ge,2,0,"mat-icon",65),o.Pc(5,Xe,2,0,"mat-icon",66),o.Wb(),o.Wb(),o.Xb(6,"div",29),o.Xb(7,"mat-form-field",52),o.Sb(8,"input",67),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&e){const e=o.nc(2);o.Cb(4),o.uc("ngIf",e.oVSessionService.isScreenShareEnabled()),o.Cb(1),o.uc("ngIf",!e.oVSessionService.isScreenShareEnabled()),o.Cb(3),o.uc("ngModel",e.oVSessionService.isScreenShareEnabled()?"Screen":"None")}}function He(e,t){if(1&e){const e=o.Yb();o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"div",4),o.Xb(3,"div",5),o.Xb(4,"div",6),o.Sb(5,"img",7),o.Wb(),o.Xb(6,"h3",8),o.Rc(7),o.Wb(),o.Xb(8,"button",9),o.jc("click",(function(){return o.Ic(e),o.nc().close()})),o.Xb(9,"mat-icon",10),o.Rc(10,"highlight_off"),o.Wb(),o.Wb(),o.Wb(),o.Xb(11,"div",11,12),o.Xb(13,"div",13),o.Xb(14,"div",14),o.Xb(15,"div",15),o.Pc(16,ke,3,2,"div",16),o.Wb(),o.Xb(17,"div",17),o.Xb(18,"button",18),o.jc("click",(function(){return o.Ic(e),o.nc().takePhoto()})),o.Xb(19,"mat-icon",19),o.Rc(20,"photo_camera"),o.Wb(),o.Xb(21,"span",20),o.Rc(22,"Capture Avatar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(23,"div",21),o.Xb(24,"div",22),o.Xb(25,"h3"),o.Rc(26,"Avatar"),o.Wb(),o.Wb(),o.Pc(27,De,8,8,"div",23),o.Xb(28,"div",24),o.Xb(29,"div",25),o.Xb(30,"div",26),o.Xb(31,"button",27),o.jc("click",(function(){return o.Ic(e),o.nc().setNicknameForm()})),o.Xb(32,"mat-icon",28),o.Rc(33,"person"),o.Wb(),o.Wb(),o.Wb(),o.Xb(34,"div",29),o.Xb(35,"form",30),o.Xb(36,"mat-form-field"),o.Xb(37,"input",31),o.jc("keypress",(function(t){return o.Ic(e),o.nc().eventKeyPress(t)})),o.Wb(),o.Pc(38,Le,4,0,"mat-error",32),o.Pc(39,je,4,0,"mat-error",32),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Pc(40,ze,10,4,"div",33),o.oc(41,"hasAudio"),o.Pc(42,qe,10,4,"div",33),o.oc(43,"hasVideo"),o.Pc(44,Ye,9,3,"div",33),o.oc(45,"hasScreenSharing"),o.Wb(),o.Wb(),o.Wb(),o.Xb(46,"div",34),o.Xb(47,"button",35),o.jc("click",(function(){return o.Ic(e),o.nc().joinSession()})),o.Rc(48,"JOIN"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&e){const e=o.nc();o.Cb(7),o.Sc(e.mySessionId),o.Cb(9),o.uc("ngForOf",e.localUsers),o.Cb(11),o.uc("ngIf",e.hasVideoDevices),o.Cb(10),o.uc("formControl",e.nicknameFormControl)("errorStateMatcher",e.matcher),o.Cb(1),o.uc("ngIf",e.nicknameFormControl.hasError("required")),o.Cb(1),o.uc("ngIf",e.nicknameFormControl.hasError("maxlength")),o.Cb(1),o.uc("ngIf",e.hasAudioDevices&&o.pc(41,10,e.ovSettings)),o.Cb(2),o.uc("ngIf",e.hasVideoDevices&&o.pc(43,12,e.ovSettings)),o.Cb(2),o.uc("ngIf",o.pc(45,14,e.ovSettings))}}const Ze=function(e){return{display:e}};class Qe{updateLayout(){setTimeout(()=>{if("none"===this.layoutContainer.style.display)return;let e=this.layoutContainer.id;e||(e="OT_"+this.cheapUUID(),this.layoutContainer.id=e);const t=this.getHeight(this.layoutContainer)-this.getCSSNumber(this.layoutContainer,"borderTop")-this.getCSSNumber(this.layoutContainer,"borderBottom"),n=this.getWidth(this.layoutContainer)-this.getCSSNumber(this.layoutContainer,"borderLeft")-this.getCSSNumber(this.layoutContainer,"borderRight"),i=t/n;let o=0,r=0,s=0,a=0;const c=Array.prototype.filter.call(this.layoutContainer.querySelectorAll("#"+e+">."+this.opts.bigClass),this.filterDisplayNone),l=Array.prototype.filter.call(this.layoutContainer.querySelectorAll("#"+e+">*:not(."+this.opts.bigClass+")"),this.filterDisplayNone);if(c.length>0&&l.length>0){let e,u;i>this.getVideoRatio(c[0])?(e=n,u=Math.floor(t*this.opts.bigPercentage),r=u,s=t-r):(u=t,e=Math.floor(n*this.opts.bigPercentage),o=e,a=n-o),this.opts.bigFirst?(this.arrange(c,e,u,0,0,this.opts.bigFixedRatio,this.opts.bigMinRatio,this.opts.bigMaxRatio,this.opts.animate),this.arrange(l,n-o,t-r,o,r,this.opts.fixedRatio,this.opts.minRatio,this.opts.maxRatio,this.opts.animate)):(this.arrange(l,n-o,t-r,0,0,this.opts.fixedRatio,this.opts.minRatio,this.opts.maxRatio,this.opts.animate),this.arrange(c,e,u,a,s,this.opts.bigFixedRatio,this.opts.bigMinRatio,this.opts.bigMaxRatio,this.opts.animate))}else c.length>0&&0===l.length?this.arrange(c,n,t,0,0,this.opts.bigFixedRatio,this.opts.bigMinRatio,this.opts.bigMaxRatio,this.opts.animate):this.arrange(l,n-o,t-r,o,r,this.opts.fixedRatio,this.opts.minRatio,this.opts.maxRatio,this.opts.animate)},50)}initLayoutContainer(e,t){this.opts={maxRatio:null!=t.maxRatio?t.maxRatio:1.5,minRatio:null!=t.minRatio?t.minRatio:9/16,fixedRatio:null!=t.fixedRatio&&t.fixedRatio,animate:null!=t.animate&&t.animate,bigClass:null!=t.bigClass?t.bigClass:"OT_big",bigPercentage:null!=t.bigPercentage?t.bigPercentage:.8,bigFixedRatio:null!=t.bigFixedRatio&&t.bigFixedRatio,bigMaxRatio:null!=t.bigMaxRatio?t.bigMaxRatio:1.5,bigMinRatio:null!=t.bigMinRatio?t.bigMinRatio:9/16,bigFirst:null==t.bigFirst||t.bigFirst},this.layoutContainer="string"==typeof e?$(e):e}setLayoutOptions(e){this.opts=e}fixAspectRatio(e,t){const n=e.querySelector(".OT_root");if(n){const e=n.style.width;n.style.width=t+"px",n.style.width=e||""}}positionElement(e,t,n,i,o,r){const s={left:t+"px",top:n+"px",width:i+"px",height:o+"px"};this.fixAspectRatio(e,i),r&&$?($(e).stop(),$(e).animate(s,r.duration||200,r.easing||"swing",()=>{this.fixAspectRatio(e,i),r.complete&&r.complete.call(this)})):$(e).css(s),this.fixAspectRatio(e,i)}getVideoRatio(e){if(!e)return 3/4;const t=e.querySelector("video");return t&&t.videoHeight&&t.videoWidth?t.videoHeight/t.videoWidth:e.videoHeight&&e.videoWidth?e.videoHeight/e.videoWidth:3/4}getCSSNumber(e,t){const n=$(e).css(t);return n?parseInt(n,10):0}cheapUUID(){return(1e8*Math.random()).toFixed(0)}getHeight(e){const t=$(e).css("height");return t?parseInt(t,10):0}getWidth(e){const t=$(e).css("width");return t?parseInt(t,10):0}getBestDimensions(e,t,n,i,o,r){let s,a,c,l,u,d,h;for(let p=1;p<=n;p++){const f=p,g=Math.ceil(n/f);d=Math.floor(o/g),u=Math.floor(i/f),h=d/u,h>t?(h=t,d=u*h):h<e&&(h=e,u=d/h);const m=u*d*n;(void 0===s||m>s)&&(s=m,r=d,l=u,a=f,c=g)}return{maxArea:s,targetCols:a,targetRows:c,targetHeight:r,targetWidth:l,ratio:r/l}}arrange(e,t,n,i,o,r,s,a,c){let l;const u=e.length;let d;if(r){const i=this.getVideoRatio(e.length>0?e[0]:null);d=this.getBestDimensions(i,i,u,t,n,l)}else d=this.getBestDimensions(s,a,u,t,n,l);let h=0,p=0;const f=[];let g;for(let b=0;b<e.length;b++){b%d.targetCols==0&&(g={children:[],width:0,height:0},f.push(g));const t=e[b];g.children.push(t);let n=d.targetWidth;l=d.targetHeight,r&&(n=l/this.getVideoRatio(t)),g.width+=n,g.height=l}let m=0,v=0;for(let b=0;b<f.length;b++)g=f[b],g.width>t?(g.height=Math.floor(g.height*(t/g.width)),g.width=t):g.width<t&&(v+=1),m+=g.height;if(m<n&&v>0){let e=n-m;m=0;for(let n=0;n<f.length;n++){if(g=f[n],g.width<t){let n=e/v;n/g.height>(t-g.width)/g.width&&(n=Math.floor((t-g.width)/g.width*g.height)),g.width+=Math.floor(n/g.height*g.width),g.height+=n,e-=n,v-=1}m+=g.height}}p=(n-m)/2;for(let b=0;b<f.length;b++){g=f[b],h=(t-g.width)/2;for(let e=0;e<g.children.length;e++){const t=g.children[e];let n=d.targetWidth;l=g.height,r&&(n=Math.floor(l/this.getVideoRatio(t))),t.style.position="absolute";const s=n-this.getCSSNumber(t,"paddingLeft")-this.getCSSNumber(t,"paddingRight")-this.getCSSNumber(t,"marginLeft")-this.getCSSNumber(t,"marginRight")-this.getCSSNumber(t,"borderLeft")-this.getCSSNumber(t,"borderRight"),a=l-this.getCSSNumber(t,"paddingTop")-this.getCSSNumber(t,"paddingBottom")-this.getCSSNumber(t,"marginTop")-this.getCSSNumber(t,"marginBottom")-this.getCSSNumber(t,"borderTop")-this.getCSSNumber(t,"borderBottom");this.positionElement(t,h+i,p+o,s,a,c),h+=n}p+=l}}filterDisplayNone(e){return"none"!==e.style.display}}var Je=function(e){return e.CAMERA="CAMERA",e.SCREEN="SCREEN",e.CUSTOM="CUSTOM",e}({}),Ke=function(e){return e.WINDOW="window",e.SCREEN="screen",e}({});class $e{constructor(e,t,n){this.connectionId=e||"",this.nickname=n||"OpenVidu",this.streamManager=t||null}isAudioActive(){var e,t;return null===(t=null===(e=this.streamManager)||void 0===e?void 0:e.stream)||void 0===t?void 0:t.audioActive}isVideoActive(){var e,t;return null===(t=null===(e=this.streamManager)||void 0===e?void 0:e.stream)||void 0===t?void 0:t.videoActive}getConnectionId(){var e,t,n;return null===(n=null===(t=null===(e=this.streamManager)||void 0===e?void 0:e.stream)||void 0===t?void 0:t.connection)||void 0===n?void 0:n.connectionId}getNickname(){return this.nickname}getStreamManager(){return this.streamManager}getAvatar(){return this.videoAvatar?this.videoAvatar.toDataURL():this.randomAvatar}isLocal(){return!this.isRemote()}isRemote(){var e;return null===(e=this.streamManager)||void 0===e?void 0:e.remote}isScreen(){var e,t;return(null===(t=null===(e=this.streamManager)||void 0===e?void 0:e.stream)||void 0===t?void 0:t.typeOfVideo)===Je.SCREEN}isCamera(){var e,t;return(null===(t=null===(e=this.streamManager)||void 0===e?void 0:e.stream)||void 0===t?void 0:t.typeOfVideo)===Je.CAMERA||this.isLocal()&&!this.isScreen()}setStreamManager(e){this.streamManager=e}setNickname(e){this.nickname=e}isVideoSizeBig(){return this.videoSizeBig}setVideoSizeBig(e){this.videoSizeBig=e}setUserAvatar(e){return new Promise(t=>{if(e)this.randomAvatar=e,t();else{this.createVideoAvatar();const e=document.getElementById("video-"+this.getStreamManager().stream.streamId);this.videoAvatar.getContext("2d").drawImage(e,200,120,285,285,0,0,100,100),t()}})}removeVideoAvatar(){this.videoAvatar=null}createVideoAvatar(){this.videoAvatar=document.createElement("canvas"),this.videoAvatar.className="user-img",this.videoAvatar.width=100,this.videoAvatar.height=100}}var et=function(e){return e.RANDOM="random",e.VIDEO="video",e}({});let tt=(()=>{let e=class{constructor(){this.log=window.console,this.LOG_FNS=[],this.MSG_PREFIXES=[["[","]"],["[","] WARN: "],["[","] ERROR: "]],this.LOG_FNS=[this.log.log,this.log.warn,this.log.error]}get(e){const t=this.LOG_FNS.map((t,n)=>t.bind(this.log,this.MSG_PREFIXES[n][0]+e+this.MSG_PREFIXES[n][1]));return{d:function(...e){t[0].apply(this.log,arguments)},w:function(...e){t[1].apply(this.log,arguments)},e:function(...e){t[2].apply(this.log,arguments)}}}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),nt=(()=>{let e=class{constructor(e){this.loggerSrv=e,this._OVUsers=new r.a([]),this.OV=null,this.OVScreen=null,this.webcamSession=null,this.screenSession=null,this.webcamUser=null,this.screenUser=null,this.videoSource=void 0,this.audioSource=void 0,this.sessionId="",this.screenMediaStream=null,this.webcamMediaStream=null,this.log=this.loggerSrv.get("OpenViduSessionService"),this.OV=new a.OpenVidu,this.OVScreen=new a.OpenVidu,this.OVUsers=this._OVUsers.asObservable(),this.webcamUser=new $e,this._OVUsers.next([this.webcamUser])}initSessions(){this.webcamSession=this.OV.initSession(),this.screenSession=this.OVScreen.initSession()}getWebcamSession(){return this.webcamSession}getConnectedUserSession(){return this.isWebCamEnabled()?this.getWebcamSession():this.getScreenSession()}getScreenSession(){return this.screenSession}connectWebcamSession(e){return Object(i.a)(this,void 0,void 0,(function*(){e&&(yield this.webcamSession.connect(e,{clientData:this.getWebcamUserName(),avatar:this.getWebCamAvatar()}))}))}connectScreenSession(e){return Object(i.a)(this,void 0,void 0,(function*(){e&&(yield this.screenSession.connect(e,{clientData:this.getScreenUserName(),avatar:this.getWebCamAvatar()}))}))}publishWebcam(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.webcamSession.capabilities.publish){const e=this.webcamUser.getStreamManager();if(e)return yield this.webcamSession.publish(e)}this.log.w("User cannot publish")}))}publishScreen(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.screenSession.capabilities.publish){const e=this.screenUser.getStreamManager();if(e)return yield this.screenSession.publish(e)}this.log.w("User cannot publish")}))}unpublishWebcam(){const e=this.webcamUser.getStreamManager();e&&(this.publishScreenAudio(this.hasWebcamAudioActive()),this.webcamSession.unpublish(e))}unpublishScreen(){const e=this.screenUser.getStreamManager();e&&this.screenSession.unpublish(e)}enableWebcamUser(){this._OVUsers.next([this.webcamUser,this.screenUser])}disableWebcamUser(){this._OVUsers.next([this.screenUser])}enableScreenUser(e){var t,n;const i=null===(n=null===(t=this.screenSession)||void 0===t?void 0:t.connection)||void 0===n?void 0:n.connectionId;this.screenUser=new $e(i,e,this.getScreenUserName()),this.screenUser.setUserAvatar(this.webcamUser.getAvatar()),this.isWebCamEnabled()?this._OVUsers.next([this.webcamUser,this.screenUser]):(this.log.d("ENABLED SCREEN SHARE"),this._OVUsers.next([this.screenUser]))}disableScreenUser(){this.destryoScreenUser(),this._OVUsers.next([this.webcamUser])}initCamPublisher(e,t){const n=this.initPublisher(e,t);return this.webcamUser.setStreamManager(n),n}publishVideo(e){this.webcamUser.getStreamManager().publishVideo(e),this._OVUsers.next(this._OVUsers.getValue())}publishWebcamAudio(e){var t;const n=null===(t=this.webcamUser)||void 0===t?void 0:t.getStreamManager();n&&n.publishAudio(e)}publishScreenAudio(e){var t;const n=null===(t=this.screenUser)||void 0===t?void 0:t.getStreamManager();n&&n.publishAudio(e)}replaceTrack(e,t,n=!0){return new Promise((i,o)=>{e&&(this.log.d("Replacing video track "+e),this.videoSource=e),t&&(this.log.d("Replacing audio track "+t),this.audioSource=t),this.destryoWebcamUser();const r=this.createProperties(this.videoSource,this.audioSource,this.hasWebcamVideoActive(),this.hasWebcamAudioActive(),n),s=this.initCamPublisher(void 0,r);s.once("streamPlaying",()=>{this.webcamUser.setStreamManager(s),i()}),s.once("accessDenied",()=>{o()})})}replaceScreenTrack(){return Object(i.a)(this,void 0,void 0,(function*(){const e=Ke.SCREEN,t=!this.isWebCamEnabled(),n=this.createProperties(e,void 0,!0,t,!1);this.stopScreenTracks(),this.screenMediaStream=yield this.OVScreen.getUserMedia(n),yield this.screenUser.getStreamManager().replaceTrack(this.screenMediaStream.getVideoTracks()[0])}))}initScreenPublisher(e,t){return this.log.d("init screen properties",t),this.initPublisher(e,t)}destroyUsers(){this.destryoScreenUser(),this.destryoWebcamUser()}disconnect(){this.webcamSession&&(this.log.d("Disconnecting screen session"),this.webcamSession.disconnect(),this.webcamSession=null),this.screenSession&&setTimeout(()=>{this.log.d("Disconnecting screen session"),this.screenSession.disconnect(),this.stopScreenTracks(),this.screenSession=null},50),this.destroyUsers(),this.screenUser=null,this.videoSource=void 0,this.audioSource=void 0,this.sessionId="",this.webcamUser=new $e,this._OVUsers.next([this.webcamUser])}isWebCamEnabled(){return this._OVUsers.getValue()[0].isCamera()}isOnlyScreenConnected(){return this._OVUsers.getValue()[0].isScreen()}hasWebcamVideoActive(){return this.webcamUser.isVideoActive()}hasWebcamAudioActive(){var e;return null===(e=this.webcamUser)||void 0===e?void 0:e.isAudioActive()}hasScreenAudioActive(){var e;return null===(e=this.screenUser)||void 0===e?void 0:e.isAudioActive()}areBothConnected(){return 2===this._OVUsers.getValue().length}isOnlyWebcamConnected(){return this.isWebCamEnabled()&&!this.areBothConnected()}isScreenShareEnabled(){return this.areBothConnected()||this.isOnlyScreenConnected()}isMyOwnConnection(e){var t,n;return(null===(t=this.webcamUser)||void 0===t?void 0:t.getConnectionId())===e||(null===(n=this.screenUser)||void 0===n?void 0:n.getConnectionId())===e}createProperties(e,t,n,i,o){return{videoSource:e,audioSource:t,publishVideo:n,publishAudio:i,mirror:o}}setSessionId(e){this.sessionId=e}getSessionId(){return this.sessionId}setWebcamAvatar(){this.webcamUser.setUserAvatar()}setAvatar(e,t){(e===et.RANDOM&&t||et.VIDEO&&t)&&e===et.RANDOM&&this.webcamUser.setUserAvatar(t)}setWebcamName(e){this.webcamUser.setNickname(e)}getWebCamAvatar(){return this.webcamUser.getAvatar()}getWebcamUserName(){return this.webcamUser.getNickname()}getScreenUserName(){return this.getWebcamUserName()+"_SCREEN"}resetUsersZoom(){var e,t;null===(e=this.webcamUser)||void 0===e||e.setVideoSizeBig(!1),null===(t=this.screenUser)||void 0===t||t.setVideoSizeBig(!1)}toggleZoom(e){this.webcamUser.getConnectionId()!==e?this.screenUser.setVideoSizeBig(!this.screenUser.isVideoSizeBig()):this.webcamUser.setVideoSizeBig(!this.webcamUser.isVideoSizeBig())}initPublisher(e,t){return this.OV.initPublisher(e,t)}destryoScreenUser(){var e;(null===(e=this.screenUser)||void 0===e?void 0:e.getStreamManager())&&(this.screenUser.getStreamManager().stream.disposeWebRtcPeer(),this.screenUser.getStreamManager().stream.disposeMediaStream())}destryoWebcamUser(){var e;(null===(e=this.webcamUser)||void 0===e?void 0:e.getStreamManager())&&(this.webcamUser.getStreamManager().stream.disposeWebRtcPeer(),this.webcamUser.getStreamManager().stream.disposeMediaStream())}stopScreenTracks(){this.screenMediaStream&&(this.stopAudioTracks(this.screenMediaStream),this.stopVideoTracks(this.screenMediaStream))}stopAudioTracks(e){var t,n;null===(t=e)||void 0===t||t.getAudioTracks().forEach(e=>{e.stop(),e.enabled=!1}),null===(n=this.webcamMediaStream)||void 0===n||n.getAudioTracks().forEach(e=>{e.stop()})}stopVideoTracks(e){var t;null===(t=e)||void 0===t||t.getVideoTracks().forEach(e=>{e.stop()})}};return e.\u0275fac=function(t){return new(t||e)(o.fc(tt))},e.\u0275prov=Object(o.Nb)({factory:function(){return new e(Object(o.fc)(tt))},token:e,providedIn:"root"}),e})(),it=(()=>{let e=class{constructor(e){this.loggerSrv=e,this._remoteUsers=new r.a([]),this.users=[],this.log=this.loggerSrv.get("RemoteService"),this.remoteUsers=this._remoteUsers.asObservable()}updateUsers(){this._remoteUsers.next(this.users)}add(e,t){var n,i;let o="",r="";const s=e.stream.connection.connectionId;try{o=null===(n=JSON.parse(e.stream.connection.data))||void 0===n?void 0:n.clientData,r=null===(i=JSON.parse(e.stream.connection.data))||void 0===i?void 0:i.avatar}catch(c){o="Unknown"}const a=new $e(s,t,o);a.setUserAvatar(r),this.users.push(a),this.updateUsers()}removeUserByConnectionId(e){this.log.w("Deleting user: ",e);const t=this.getRemoteUserByConnectionId(e),n=this.users.indexOf(t,0);n>-1&&(this.users.splice(n,1),this.updateUsers())}someoneIsSharingScreen(){return this.users.some(e=>e.isScreen())}toggleUserZoom(e){const t=this.getRemoteUserByConnectionId(e);t.setVideoSizeBig(!t.isVideoSizeBig())}resetUsersZoom(){this.users.forEach(e=>e.setVideoSizeBig(!1))}setUserZoom(e,t){var n;null===(n=this.getRemoteUserByConnectionId(e))||void 0===n||n.setVideoSizeBig(t)}getRemoteUserByConnectionId(e){return this.users.find(t=>t.getConnectionId()===e)}updateNickname(e,t){var n;null===(n=this.getRemoteUserByConnectionId(e))||void 0===n||n.setNickname(t),this._remoteUsers.next(this.users)}clean(){this._remoteUsers=new r.a([]),this.remoteUsers=this._remoteUsers.asObservable(),this.users=[]}getUserAvatar(e){return this.getRemoteUserByConnectionId(e).getAvatar()}};return e.\u0275fac=function(t){return new(t||e)(o.fc(tt))},e.\u0275prov=Object(o.Nb)({factory:function(){return new e(Object(o.fc)(tt))},token:e,providedIn:"root"}),e})(),ot=(()=>{let e=class{constructor(e){this.snackBar=e}newMessage(e,t){this.launchNotification(e+" sent a message","OPEN","messageSnackbar",3e3).onAction().subscribe(()=>{t()})}launchNotification(e,t,n,i){return this.snackBar.open(e,t,{duration:i,verticalPosition:"top",horizontalPosition:"end",panelClass:n})}};return e.\u0275fac=function(t){return new(t||e)(o.fc(c.a))},e.\u0275prov=Object(o.Nb)({factory:function(){return new e(Object(o.fc)(c.a))},token:e,providedIn:"root"}),e})(),rt=(()=>{let e=class{constructor(e,t,n,i){this.loggerSrv=e,this.oVSessionService=t,this.remoteUsersService=n,this.notificationService=i,this._messageList=new r.a([]),this._toggleChat=new r.a(!1),this.messageList=[],this.messagesUnread=0,this._messagesUnread=new r.a(0),this.log=this.loggerSrv.get("ChatService"),this.messagesObs=this._messageList.asObservable(),this.toggleChatObs=this._toggleChat.asObservable(),this.messagesUnreadObs=this._messagesUnread.asObservable()}setChatComponent(e){this.chatComponent=e}subscribeToChat(){this.oVSessionService.getWebcamSession().on("signal:chat",e=>{const t=e.from.connectionId,n=JSON.parse(e.data),i=this.oVSessionService.isMyOwnConnection(t);this.messageList.push({isLocal:i,nickname:n.nickname,message:n.message,userAvatar:i?this.oVSessionService.getWebCamAvatar():this.remoteUsersService.getUserAvatar(t)}),this.isChatOpened()||(this.addMessageUnread(),this.notificationService.newMessage(n.nickname.toUpperCase(),this.toggleChat.bind(this))),this._messageList.next(this.messageList)})}sendMessage(e){if(""!==(e=e.replace(/ +(?= )/g,""))&&" "!==e){const t={message:e,nickname:this.oVSessionService.getWebcamUserName()};this.oVSessionService.getConnectedUserSession().signal({data:JSON.stringify(t),type:"chat"})}}toggleChat(){this.log.d("Toggling chat"),this.chatComponent.toggle().then(()=>{this.chatOpened=this.chatComponent.opened,this._toggleChat.next(this.chatOpened),this.chatOpened&&(this.messagesUnread=0,this._messagesUnread.next(this.messagesUnread))})}isChatOpened(){return this.chatOpened}addMessageUnread(){this.messagesUnread++,this._messagesUnread.next(this.messagesUnread)}};return e.\u0275fac=function(t){return new(t||e)(o.fc(tt),o.fc(nt),o.fc(it),o.fc(ot))},e.\u0275prov=Object(o.Nb)({factory:function(){return new e(Object(o.fc)(tt),Object(o.fc)(nt),Object(o.fc)(it),Object(o.fc)(ot))},token:e,providedIn:"root"}),e})(),st=(()=>{let e=class{constructor(e){this.chatService=e,this.messageList=[]}onKeydownHandler(e){console.log(e),this.chatOpened&&this.close()}ngOnInit(){this.subscribeToMessages(),this.subscribeToToggleChat()}ngOnDestroy(){this.chatMessageSubscription&&this.chatMessageSubscription.unsubscribe(),this.chatToggleSubscription&&this.chatToggleSubscription.unsubscribe()}eventKeyPress(e){e&&13===e.keyCode&&this.sendMessage()}sendMessage(){this.chatService.sendMessage(this.message),this.message=""}scrollToBottom(){setTimeout(()=>{try{this.chatScroll.nativeElement.scrollTop=this.chatScroll.nativeElement.scrollHeight}catch(e){}},20)}close(){this.chatService.toggleChat()}subscribeToMessages(){this.chatMessageSubscription=this.chatService.messagesObs.subscribe(e=>{this.messageList=e})}subscribeToToggleChat(){this.chatToggleSubscription=this.chatService.toggleChatObs.subscribe(e=>{this.chatOpened=e,this.chatOpened&&(this.scrollToBottom(),setTimeout(()=>{this.chatInput.nativeElement.focus()}))})}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(rt))},e.\u0275cmp=o.Lb({type:e,selectors:[["chat-component"]],viewQuery:function(e,t){var n;1&e&&(o.Wc(A,!0),o.Wc(D,!0)),2&e&&(o.Dc(n=o.kc())&&(t.chatScroll=n.first),o.Dc(n=o.kc())&&(t.chatInput=n.first))},hostBindings:function(e,t){1&e&&o.jc("keydown.escape",(function(e){return t.onKeydownHandler(e)}),!1,o.Gc)},inputs:{lightTheme:"lightTheme"},decls:17,vars:4,consts:[["id","chatContainer"],["id","chatComponent"],["id","chatToolbar"],["mat-icon-button","","id","closeButton",3,"click"],["matTooltip","Close","color","warn"],[1,"message-wrap"],["chatScroll",""],["class","message",3,"ngClass",4,"ngFor","ngForOf"],["id","messageInput"],["placeholder","Send a message","autocomplete","off","id","chatInput",3,"ngModel","keypress","ngModelChange"],["chatInput",""],["mat-mini-fab","","id","sendButton",3,"click"],["matTooltip","Send"],[1,"message",3,"ngClass"],[1,"user-img",3,"src"],[1,"msg-detail"],[1,"msg-info"],[1,"msg-content"],[1,"triangle"],[1,"text",3,"innerHTML"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"span"),o.Rc(4," CHAT"),o.Wb(),o.Xb(5,"button",3),o.jc("click",(function(){return t.close()})),o.Xb(6,"mat-icon",4),o.Rc(7,"highlight_off"),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"div",5,6),o.Pc(10,L,10,6,"div",7),o.Wb(),o.Xb(11,"div",8),o.Xb(12,"input",9,10),o.jc("keypress",(function(e){return t.eventKeyPress(e)}))("ngModelChange",(function(e){return t.message=e})),o.Wb(),o.Xb(14,"button",11),o.jc("click",(function(){return t.sendMessage()})),o.Xb(15,"mat-icon",12),o.Rc(16,"send"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Cb(1),o.Hb("chatComponentLight",t.lightTheme),o.Cb(9),o.uc("ngForOf",t.messageList),o.Cb(2),o.uc("ngModel",t.message))},directives:function(){return[l.a,u.a,d.a,h.l,p.c,p.o,p.r,h.k,f.a]},pipes:function(){return[_t]},styles:["#chatContainer[_ngcontent-%COMP%]{position:absolute;z-index:0;width:100%;height:calc(100% - 20px)}input[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif}#chatToolbar[_ngcontent-%COMP%]{height:30px;background-color:#3d3d3d;box-sizing:border-box;font-weight:700;font-size:14px;text-align:center;padding-top:4px;border-top-left-radius:6px;border-top-right-radius:6px;color:#fff}#closeButton[_ngcontent-%COMP%]{position:absolute;right:0;top:-5px}#chatComponent[_ngcontent-%COMP%]{background-color:#b8b8b8;position:absolute;z-index:99999;top:0;left:0;right:0;bottom:0;margin:auto;height:calc(100% - 30px);width:calc(100% - 30px);border-radius:20px}.message-wrap[_ngcontent-%COMP%]{padding:0 15px;height:calc(100% - 80px);overflow:auto}.message[_ngcontent-%COMP%]{position:relative;padding:7px 0}.user-img[_ngcontent-%COMP%]{position:absolute;border-radius:45px;width:60px;height:60px;top:15px}.msg-detail[_ngcontent-%COMP%]{width:calc(100% - 65px);display:inline-block}.msg-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px}.msg-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8em;color:#000;font-style:italic}.msg-content[_ngcontent-%COMP%]{position:relative;margin-top:5px;border-radius:5px;padding:8px;color:#000;width:auto;max-width:95%}span.triangle[_ngcontent-%COMP%]{border-radius:2px;height:8px;width:8px;top:12px;display:block;transform:rotate(45deg);position:absolute}.text[_ngcontent-%COMP%]{word-break:break-all}.message.left[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-info[_ngcontent-%COMP%]{text-align:left}.message.left[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]{padding-left:65px}.message.left[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{left:-5px;border:1px solid #f0f0f094}.message.left[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]{background-color:#f0f0f0;float:left}.message.left[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{background-color:#f0f0f0;border-bottom-width:0;border-left-width:0;left:-5px}.message.right[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-info[_ngcontent-%COMP%]{text-align:right}.message.right[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{right:-5px;border:1px solid #c8ffe8ab}.message.right[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]{background-color:#c8ffe8;float:right}.message.right[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{background-color:#c8ffe8;border-bottom-width:0;border-left-width:0;right:-5px}#messageInput[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;background-color:#fff;text-align:center;padding:10px 0;height:30px;border-bottom-left-radius:6px;border-bottom-right-radius:6px}#messageInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;height:100%;border:none;outline:0;font-size:14px;margin-left:-6%}#sendButton[_ngcontent-%COMP%]{background-color:#81e9b0;position:absolute;right:10px;top:0;bottom:0;margin:auto;border:1px solid #7ae2a9;box-shadow:none!important}#sendButton[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:3px!important;margin-bottom:2px!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#6b6b6b}.chatComponentLight[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee!important}"]}),e})();class at{constructor(){this.ovSettings={chat:!0,autopublish:!1,toolbarButtons:{video:!0,audio:!0,fullscreen:!0,screenShare:!0,layoutSpeaking:!0,exit:!0}}}set(e){this.ovSettings=e}isAutoPublish(){return this.ovSettings.autopublish}hasVideo(){return this.ovSettings.toolbarButtons.video}hasScreenSharing(){return this.ovSettings.toolbarButtons.screenShare}hasLayoutSpeaking(){return this.ovSettings.toolbarButtons.layoutSpeaking}hasFullscreen(){return this.ovSettings.toolbarButtons.fullscreen}hasAudio(){return this.ovSettings.toolbarButtons.audio}hasChat(){return this.ovSettings.chat}hasExit(){return this.ovSettings.toolbarButtons.exit}setScreenSharing(e){this.ovSettings.toolbarButtons.screenShare=e}}var ct=function(e){return e.ROOT_CLASS="OT_root",e}({}),lt=function(e){return e.BIG_ELEMENT_CLASS="OV_big",e}({}),ut=function(e){return e.DARK="dark",e.LIGHT="light",e}({}),dt=function(e){return e.FRONT="FRONT",e.BACK="BACK",e}({});let ht=(()=>{let e=class{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(g.d),o.Rb(g.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-dialog-error"]],decls:5,vars:2,consts:[["mat-dialog-title",""]],template:function(e,t){1&e&&(o.Xb(0,"div"),o.Xb(1,"h1",0),o.Rc(2),o.Wb(),o.Xb(3,"span"),o.Rc(4),o.Wb(),o.Wb()),2&e&&(o.Cb(2),o.Sc(t.data.header),o.Cb(2),o.Tc(" ",t.data.message," "))},directives:[g.e],styles:["h1[_ngcontent-%COMP%]{color:#a30101}"]}),e})(),pt=(()=>{let e=class{constructor(e){this.dialog=e}toggleFullscreen(e){const t=window.document,n=t.getElementById(e);t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen():n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}getOpenViduAvatar(){return"https://openvidu.io/img/logos/openvidu_globe_bg_transp_cropped.png"}handlerScreenShareError(e){e&&"SCREEN_SHARING_NOT_SUPPORTED"===e.name?alert("Your browser does not support screen sharing"):e&&"SCREEN_EXTENSION_DISABLED"===e.name&&alert("You need to enable screen sharing extension")}getOpenviduLayoutOptions(){return{maxRatio:1.5,minRatio:.6,fixedRatio:!1,bigClass:lt.BIG_ELEMENT_CLASS,bigPercentage:.85,bigFixedRatio:!1,bigMaxRatio:1.5,bigMinRatio:9/16,bigFirst:!0,animate:!0}}generateNickname(){return"OpenVidu_User"+Math.floor(100*Math.random())}isFF(){return/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)}isMobile(){return this.isAndroid()||this.isIos()}showErrorMessage(e,t,n=!1){this.dialogRef=this.dialog.open(ht,{data:{header:e,message:t},disableClose:n})}closeDialog(){this.dialogRef.close()}getHTMLElementByClassName(e,t){for(;e&&e!==document.body;){if(e.className.includes(t))return e;e=e.parentElement}return null}toggleBigElementClass(e){var t,n;(null===(t=e)||void 0===t?void 0:t.className.includes(lt.BIG_ELEMENT_CLASS))?null===(n=e)||void 0===n||n.classList.remove(lt.BIG_ELEMENT_CLASS):e.classList.add(lt.BIG_ELEMENT_CLASS)}removeAllBigElementClass(){const e=document.getElementsByClassName(lt.BIG_ELEMENT_CLASS);for(;e.length>0;)this.toggleBigElementClass(e[0])}isAndroid(){return/\b(\w*Android\w*)\b/.test(navigator.userAgent)&&/\b(\w*Mobile\w*)\b/.test(navigator.userAgent)}isIos(){return/\b(\w*iOS\w*)\b/.test(navigator.userAgent)}};return e.\u0275fac=function(t){return new(t||e)(o.fc(g.b))},e.\u0275prov=Object(o.Nb)({factory:function(){return new e(Object(o.fc)(g.b))},token:e,providedIn:"root"}),e})(),ft=(()=>{let e=class{constructor(e){this.loggerSrv=e,this.storage=window.localStorage,this.log=this.loggerSrv.get("StorageService")}set(e,t){const n=JSON.stringify({item:t});this.log.d('Storing on localStorage "'+e+'" with value "'+n+'"'),this.storage.setItem(e,n)}get(e){var t;const n=JSON.parse(this.storage.getItem(e));return(null===(t=n)||void 0===t?void 0:t.item)?n.item:null}clear(){this.log.d("Clearing localStorage"),this.storage.clear()}};return e.\u0275fac=function(t){return new(t||e)(o.fc(tt))},e.\u0275prov=Object(o.Nb)({factory:function(){return new e(Object(o.fc)(tt))},token:e,providedIn:"root"}),e})(),gt=(()=>{let e=class{constructor(e,t,n){this.loggerSrv=e,this.utilSrv=t,this.storageSrv=n,this.VIDEO_DEVICE="openviduCallVideoDevice",this.AUDIO_DEVICE="openviduCallAudioDevice",this.OV=null,this.cameras=[],this.microphones=[],this.log=this.loggerSrv.get("DevicesService"),this.OV=new a.OpenVidu}initDevices(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.initOpenViduDevices(),this.devices.length>0?this.log.d("Devices found: ",this.devices):this.log.w("No devices found!"),this.resetDevicesArray(),this.hasAudioDeviceAvailable()&&(this.initAudioDevices(),this.micSelected=this.getMicSelected()),this.hasVideoDeviceAvailable()&&(this.initVideoDevices(),this.camSelected=this.cameras.find(e=>e.type===dt.FRONT))}))}initOpenViduDevices(){return Object(i.a)(this,void 0,void 0,(function*(){this.devices=yield this.OV.getDevices()}))}initAudioDevices(){this.devices.filter(e=>"audioinput"===e.kind).forEach(e=>{this.microphones.push({label:e.label,device:e.deviceId})})}initVideoDevices(){this.devices.filter(e=>"videoinput"===e.kind).forEach((e,t)=>{const n={label:e.label,device:e.deviceId,type:dt.BACK};this.utilSrv.isMobile()?n.label.toLowerCase().includes(dt.FRONT.toLowerCase())&&(n.type=dt.FRONT):0===t&&(n.type=dt.FRONT),this.cameras.push(n)}),this.log.d("Camera selected",this.camSelected)}getCamSelected(){if(0!==this.cameras.length)return this.getCamFromStorage()||this.camSelected||this.cameras[0];this.log.e("No video devices found!")}getCamFromStorage(){var e;let t=this.storageSrv.get(this.VIDEO_DEVICE);if(t=this.getCameraByDeviceField(null===(e=t)||void 0===e?void 0:e.device),t)return t}getMicSelected(){if(0!==this.microphones.length)return this.getMicFromStogare()||this.micSelected||this.microphones[0];this.log.e("No audio devices found!")}getMicFromStogare(){var e;let t=this.storageSrv.get(this.AUDIO_DEVICE);if(t=this.getMicrophoneByDeviceField(null===(e=t)||void 0===e?void 0:e.device),t)return t}setCamSelected(e){this.camSelected=this.getCameraByDeviceField(e),this.saveCamToStorage(this.camSelected)}saveCamToStorage(e){this.storageSrv.set(this.VIDEO_DEVICE,e)}setMicSelected(e){this.micSelected=this.getMicrophoneByDeviceField(e),this.saveMicToStorage(this.micSelected)}saveMicToStorage(e){this.storageSrv.set(this.AUDIO_DEVICE,e)}needUpdateVideoTrack(e){return this.getCamSelected().device!==e}needUpdateAudioTrack(e){return this.getMicSelected().device!==e}getCameras(){return this.cameras}getMicrophones(){return this.microphones}hasVideoDeviceAvailable(){var e;return!!(null===(e=this.devices)||void 0===e?void 0:e.find(e=>"videoinput"===e.kind))}hasAudioDeviceAvailable(){var e;return!!(null===(e=this.devices)||void 0===e?void 0:e.find(e=>"audioinput"===e.kind))}cameraNeedsMirror(e){var t;return(null===(t=this.getCameraByDeviceField(e))||void 0===t?void 0:t.type)===dt.FRONT}areEmptyLabels(){return!!this.cameras.find(e=>""===e.label)||!!this.microphones.find(e=>""===e.label)}getCameraByDeviceField(e){return this.cameras.find(t=>t.device===e||t.label===e)}getMicrophoneByDeviceField(e){return this.microphones.find(t=>t.device===e||t.label===e)}resetDevicesArray(){this.cameras=[{label:"None",device:null,type:null}],this.microphones=[{label:"None",device:null,type:null}]}};return e.\u0275fac=function(t){return new(t||e)(o.fc(tt),o.fc(pt),o.fc(ft))},e.\u0275prov=Object(o.Nb)({factory:function(){return new e(Object(o.fc)(tt),Object(o.fc)(pt),Object(o.fc)(ft))},token:e,providedIn:"root"}),e})(),mt=(()=>{let e=class{constructor(e,t){this.http=e,this.loggerSrv=t,this.log=this.loggerSrv.get("NetworkService"),this.baseHref="/"+(window.location.pathname.split("/")[1]?window.location.pathname.split("/")[1]+"/":"")}getToken(e,t,n){return Object(i.a)(this,void 0,void 0,(function*(){if(t&&n){const i=yield this.createSession(e,t,n);return yield this.createToken(i,t,n)}try{return this.log.d("Getting token from backend"),yield this.http.post(this.baseHref+"call",{sessionId:e}).toPromise()}catch(i){if(404===i.status)throw{status:i.status,message:"Cannot connect with backend. "+i.url+" not found"};throw i}}))}createSession(e,t,n){return new Promise((i,o)=>{const r=JSON.stringify({customSessionId:e}),a={headers:new m.e({Authorization:"Basic "+btoa("OPENVIDUAPP:"+n),"Content-Type":"application/json"})};return this.http.post(t+"/api/sessions",r,a).pipe(Object(R.a)(t=>(409===t.status&&i(e),"Unknown Error"===t.statusText&&o({status:401,message:"ERR_CERT_AUTHORITY_INVALID"}),Object(s.a)(t)))).subscribe(e=>{i(e.id)})})}createToken(e,t,n){return new Promise((i,o)=>{const r=JSON.stringify({session:e}),a={headers:new m.e({Authorization:"Basic "+btoa("OPENVIDUAPP:"+n),"Content-Type":"application/json"})};return this.http.post(t+"/api/tokens",r,a).pipe(Object(R.a)(e=>(o(e),Object(s.a)(e)))).subscribe(e=>{this.log.d(e),i(e.token)})})}};return e.\u0275fac=function(t){return new(t||e)(o.fc(m.b),o.fc(tt))},e.\u0275prov=Object(o.Nb)({factory:function(){return new e(Object(o.fc)(m.b),Object(o.fc)(tt))},token:e,providedIn:"root"}),e})(),vt=(()=>{let e=class{constructor(e,t,n,i,r,s,a,c){this.networkSrv=e,this.router=t,this.utilsSrv=n,this.remoteUsersService=i,this.oVSessionService=r,this.oVDevicesService=s,this.loggerSrv=a,this.chatService=c,this._session=new o.o,this._publisher=new o.o,this._error=new o.o,this._joinSession=new o.o,this._leaveSession=new o.o,this.compact=!1,this.sidenavMode="side",this.showConfigRoomCard=!0,this.localUsers=[],this.remoteUsers=[],this.isAutoLayout=!1,this.log=this.loggerSrv.get("VideoRoomComponent")}beforeunloadHandler(){this.leaveSession()}sizeChange(){this.openviduLayout&&(this.updateOpenViduLayout(),this.checkSizeComponent())}ngOnInit(){var e;return Object(i.a)(this,void 0,void 0,(function*(){this.lightTheme=(null===(e=this.externalConfig)||void 0===e?void 0:e.getTheme())===ut.LIGHT,this.ovSettings=this.externalConfig?this.externalConfig.getOvSettings():new at,this.ovSettings.setScreenSharing(this.ovSettings.hasScreenSharing()&&!this.utilsSrv.isMobile())}))}ngOnDestroy(){var e;null===(e=this.session)||void 0===e||e.off("reconnecting"),this.remoteUsersService.clean(),this.session=null,this.sessionScreen=null,this.localUsers=[],this.remoteUsers=[],this.openviduLayout=null,this.oVUsersSubscription&&this.oVUsersSubscription.unsubscribe(),this.remoteUsersSubscription&&this.remoteUsersSubscription.unsubscribe(),this.chatSubscription&&this.chatSubscription.unsubscribe()}onConfigRoomJoin(){this.hasVideoDevices=this.oVDevicesService.hasVideoDeviceAvailable(),this.hasAudioDevices=this.oVDevicesService.hasAudioDeviceAvailable(),this.showConfigRoomCard=!1,this.subscribeToLocalUsers(),this.subscribeToRemoteUsers(),this.mySessionId=this.oVSessionService.getSessionId(),setTimeout(()=>{this.openviduLayout=new Qe,this.openviduLayoutOptions=this.utilsSrv.getOpenviduLayoutOptions(),this.openviduLayout.initLayoutContainer(document.getElementById("layout"),this.openviduLayoutOptions),this.checkSizeComponent(),this.joinToSession()},50)}joinToSession(){this.oVSessionService.initSessions(),this.session=this.oVSessionService.getWebcamSession(),this._session.emit(this.session),this.sessionScreen=this.oVSessionService.getScreenSession(),this.subscribeToStreamCreated(),this.subscribeToStreamDestroyed(),this.subscribeToStreamPropertyChange(),this.subscribeToNicknameChanged(),this.chatService.setChatComponent(this.chatSidenav),this.chatService.subscribeToChat(),this.subscribeToChatComponent(),this.subscribeToReconnection(),this.connectToSession()}leaveSession(){this.log.d("Leaving session..."),this.oVSessionService.disconnect(),this._leaveSession.emit()}onNicknameUpdate(e){this.oVSessionService.setWebcamName(e),this.sendNicknameSignal(e)}toggleMic(){this.oVSessionService.isWebCamEnabled()?this.oVSessionService.publishWebcamAudio(!this.oVSessionService.hasWebcamAudioActive()):this.oVSessionService.publishScreenAudio(!this.oVSessionService.hasScreenAudioActive())}toggleCam(){return Object(i.a)(this,void 0,void 0,(function*(){const e=!this.oVSessionService.hasWebcamVideoActive();if(this.oVSessionService.areBothConnected())return this.oVSessionService.publishVideo(e),this.oVSessionService.disableWebcamUser(),void this.oVSessionService.unpublishWebcam();if(this.oVSessionService.isOnlyScreenConnected()){const e=this.oVSessionService.hasScreenAudioActive();yield this.oVSessionService.publishWebcam(),this.oVSessionService.publishScreenAudio(!1),this.oVSessionService.publishWebcamAudio(e),this.oVSessionService.enableWebcamUser()}this.oVSessionService.publishVideo(e)}))}toggleScreenShare(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.oVSessionService.areBothConnected())return void this.removeScreen();if(this.oVSessionService.isOnlyWebcamConnected()){const e=this.initScreenPublisher();return e.once("accessAllowed",t=>{e.stream.getMediaStream().getVideoTracks()[0].addEventListener("ended",()=>{this.log.d("Clicked native stop button. Stopping screen sharing"),this.toggleScreenShare()}),this.log.d("ACCESS ALOWED screenPublisher"),this.oVSessionService.enableScreenUser(e),this.oVSessionService.publishScreen(),this.oVSessionService.hasWebcamVideoActive()||(this.oVSessionService.disableWebcamUser(),this.oVSessionService.unpublishWebcam())}),void e.once("accessDenied",e=>{this.log.w("ScreenShare: Access Denied")})}const e=this.oVSessionService.hasScreenAudioActive();yield this.oVSessionService.publishWebcam(),this.oVSessionService.publishScreenAudio(!1),this.oVSessionService.publishWebcamAudio(e),this.oVSessionService.enableWebcamUser(),this.removeScreen()}))}toggleSpeakerLayout(){if(!this.oVSessionService.isScreenShareEnabled())return this.isAutoLayout=!this.isAutoLayout,this.log.d("Automatic Layout ",this.isAutoLayout?"Disabled":"Enabled"),this.isAutoLayout?void this.subscribeToSpeechDetection():(this.log.d("Unsubscribe to speech detection"),this.session.off("publisherStartSpeaking"),this.resetAllBigElements(),void this.updateOpenViduLayout());this.log.w("Screen is enabled. Speech detection has been rejected")}onReplaceScreenTrack(e){this.oVSessionService.replaceScreenTrack()}checkSizeComponent(){var e;this.compact=(null===(e=document.getElementById("room-container"))||void 0===e?void 0:e.offsetWidth)<=790,this.sidenavMode=this.compact?"over":"side"}onToggleVideoSize(e){var t;const n=e.element;e.resetAll&&this.resetAllBigElements(),this.utilsSrv.toggleBigElementClass(n),(null===(t=e)||void 0===t?void 0:t.connectionId)&&(this.oVSessionService.isMyOwnConnection(e.connectionId)?this.oVSessionService.toggleZoom(e.connectionId):this.remoteUsersService.toggleUserZoom(e.connectionId)),this.updateOpenViduLayout()}toolbarMicIconEnabled(){return this.oVSessionService.isWebCamEnabled()?this.oVSessionService.hasWebcamAudioActive():this.oVSessionService.hasScreenAudioActive()}connectToSession(){var e,t;return Object(i.a)(this,void 0,void 0,(function*(){let n,i;this.externalConfig&&this.externalConfig.hasTokens()&&(this.log.d("Received external tokens from "+this.externalConfig.getComponentName()),n=this.externalConfig.getWebcamToken(),i=(null===(e=this.ovSettings)||void 0===e?void 0:e.hasScreenSharing())?this.externalConfig.getScreenToken():void 0),n=n||(yield this.getToken()),!i&&(null===(t=this.ovSettings)||void 0===t?void 0:t.hasScreenSharing())&&(i=yield this.getToken()),(n||i)&&(yield this.connectBothSessions(n,i),this.oVSessionService.areBothConnected()?(this.oVSessionService.publishWebcam(),this.oVSessionService.publishScreen()):this.oVSessionService.isOnlyScreenConnected()?this.oVSessionService.publishScreen():this.oVSessionService.publishWebcam(),this._joinSession.emit(),this.updateOpenViduLayout())}))}connectBothSessions(e,t){var n,o;return Object(i.a)(this,void 0,void 0,(function*(){try{yield this.oVSessionService.connectWebcamSession(e),yield this.oVSessionService.connectScreenSession(t),this.localUsers[0].getStreamManager().on("streamPlaying",()=>{this.localUsers[0].getStreamManager().videos[0].video.parentElement.classList.remove("custom-class")})}catch(i){this._error.emit({error:i.error,messgae:i.message,code:i.code,status:i.status}),this.log.e("There was an error connecting to the session:",i.code,i.message),this.utilsSrv.showErrorMessage("There was an error connecting to the session:",(null===(n=i)||void 0===n?void 0:n.error)||(null===(o=i)||void 0===o?void 0:o.message))}}))}subscribeToStreamCreated(){this.session.on("streamCreated",e=>{if(this.oVSessionService.isMyOwnConnection(e.stream.connection.connectionId))return;const t=this.session.subscribe(e.stream,void 0);this.remoteUsersService.add(e,t),this.sendNicknameSignal(this.oVSessionService.getWebcamUserName(),e.stream.connection)})}subscribeToStreamDestroyed(){this.session.on("streamDestroyed",e=>{this.remoteUsersService.removeUserByConnectionId(e.stream.connection.connectionId)})}emitPublisher(e){this._publisher.emit(e)}subscribeToStreamPropertyChange(){this.session.on("streamPropertyChanged",e=>{this.oVSessionService.isMyOwnConnection(e.stream.connection.connectionId)||"videoActive"===e.changedProperty&&this.remoteUsersService.updateUsers()})}subscribeToNicknameChanged(){this.session.on("signal:nicknameChanged",e=>{const t=e.from.connectionId;if(this.oVSessionService.isMyOwnConnection(t))return;const n=JSON.parse(e.data).nickname;this.remoteUsersService.updateNickname(t,n)})}subscribeToSpeechDetection(){this.log.d("Subscribe to speech detection",this.session),this.session.on("publisherStartSpeaking",e=>{const t=this.remoteUsersService.someoneIsSharingScreen();if(!this.oVSessionService.isScreenShareEnabled()&&!t){const t=this.utilsSrv.getHTMLElementByClassName(e.connection.stream.streamManager.videos[0].video,ct.ROOT_CLASS);this.resetAllBigElements(),this.remoteUsersService.setUserZoom(e.connection.connectionId,!0),this.onToggleVideoSize({element:t})}})}removeScreen(){this.oVSessionService.disableScreenUser(),this.oVSessionService.unpublishScreen()}subscribeToChatComponent(){this.chatSubscription=this.chatService.toggleChatObs.subscribe(e=>{this.updateOpenViduLayout(this.externalConfig?300:0)})}subscribeToReconnection(){this.session.on("reconnecting",()=>{this.log.w("Connection lost: Reconnecting"),this.isConnectionLost=!0,this.utilsSrv.showErrorMessage("Connection Problem","Oops! Trying to reconnect to the session ...",!0)}),this.session.on("reconnected",()=>{this.log.w("Connection lost: Reconnected"),this.isConnectionLost=!1,this.utilsSrv.closeDialog()}),this.session.on("sessionDisconnected",e=>{"networkDisconnect"===e.reason&&(this.utilsSrv.closeDialog(),this.leaveSession())})}initScreenPublisher(){const e=Ke.SCREEN,t=!(this.oVSessionService.isWebCamEnabled()&&this.oVSessionService.hasWebcamVideoActive())&&this.oVSessionService.hasWebcamAudioActive(),n=this.oVSessionService.createProperties(e,void 0,!0,t,!1);try{return this.oVSessionService.initScreenPublisher(void 0,n)}catch(i){this.log.e(i),this.utilsSrv.handlerScreenShareError(i)}}getToken(){var e,t;return Object(i.a)(this,void 0,void 0,(function*(){this.log.d("Generating tokens...");try{return yield this.networkSrv.getToken(this.mySessionId,null===(e=this.externalConfig)||void 0===e?void 0:e.getOvServerUrl(),null===(t=this.externalConfig)||void 0===t?void 0:t.getOvSecret())}catch(n){this._error.emit({error:n.error,messgae:n.message,code:n.code,status:n.status}),this.log.e("There was an error getting the token:",n.status,n.message),this.utilsSrv.showErrorMessage("There was an error getting the token:",n.error||n.message)}}))}sendNicknameSignal(e,t){const n={data:JSON.stringify({nickname:e}),type:"nicknameChanged",to:t?[t]:void 0};this.session.signal(n)}updateOpenViduLayout(e){if(this.openviduLayout){if(!e)return void this.openviduLayout.updateLayout();setTimeout(()=>{this.openviduLayout.updateLayout()},e)}}resetAllBigElements(){this.utilsSrv.removeAllBigElementClass(),this.remoteUsersService.resetUsersZoom(),this.oVSessionService.resetUsersZoom()}subscribeToLocalUsers(){this.oVUsersSubscription=this.oVSessionService.OVUsers.subscribe(e=>{this.localUsers=e,this.updateOpenViduLayout()})}subscribeToRemoteUsers(){this.remoteUsersSubscription=this.remoteUsersService.remoteUsers.subscribe(e=>{this.remoteUsers=[...e],this.updateOpenViduLayout()})}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(mt),o.Rb(v.d),o.Rb(pt),o.Rb(it),o.Rb(nt),o.Rb(gt),o.Rb(tt),o.Rb(rt))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-video-room"]],viewQuery:function(e,t){var n;1&e&&(o.Wc(j,!0),o.Wc(N,!0)),2&e&&(o.Dc(n=o.kc())&&(t.chatComponent=n.first),o.Dc(n=o.kc())&&(t.chatSidenav=n.first))},hostBindings:function(e,t){1&e&&o.jc("beforeunload",(function(){return t.beforeunloadHandler()}),!1,o.Hc)("resize",(function(){return t.sizeChange()}),!1,o.Hc)},inputs:{externalConfig:"externalConfig"},outputs:{_session:"_session",_publisher:"_publisher",_error:"_error",_joinSession:"_joinSession",_leaveSession:"_leaveSession"},decls:1,vars:1,consts:[["id","videoRoomNavBar",3,"boundsLight",4,"ngIf"],["id","videoRoomNavBar"],[3,"ovSettings","externalConfig","join","leaveSession","publisherCreated",4,"ngIf"],[4,"ngIf"],[3,"ovSettings","externalConfig","join","leaveSession","publisherCreated"],["class","reconnecting-container",4,"ngIf"],[3,"lightTheme","compact","mySessionId","ovSettings","hasVideoDevices","hasAudioDevices","isWebcamVideoEnabled","isWebcamAudioEnabled","isScreenEnabled","isAutoLayout","isConnectionLost","camButtonClicked","micButtonClicked","screenShareClicked","layoutButtonClicked","leaveSessionButtonClicked"],["id","room-container","fullscreen","",1,"sidenav-container"],["position","end","class","sidenav-chat","fixedInViewport","true","fixedTopGap","40","fixedBottomGap","0",3,"mode","boundsLight",4,"ngIf"],[1,"sidenav-main"],["id","layout",1,"bounds"],["class","OT_root OT_publisher custom-class","id","localUser",3,"display",4,"ngFor","ngForOf"],["class","OT_root OT_publisher custom-class","id","remoteUsers",3,"display",4,"ngFor","ngForOf"],[3,"lightTheme","participants"],[1,"reconnecting-container"],["position","end","fixedInViewport","true","fixedTopGap","40","fixedBottomGap","0",1,"sidenav-chat",3,"mode"],["sidenav",""],[3,"lightTheme"],["chatComponent",""],["id","localUser",1,"OT_root","OT_publisher","custom-class"],[3,"user","videoSizeBig","nicknameClicked","replaceScreenTrackClicked","toggleVideoSizeClicked"],["id","remoteUsers",1,"OT_root","OT_publisher","custom-class"],[3,"user","videoSizeBig","toggleVideoSizeClicked"]],template:function(e,t){1&e&&o.Pc(0,q,3,4,"div",0),2&e&&o.uc("ngIf",!!t.ovSettings)},directives:function(){return[h.m,Ut,Lt,b.b,b.c,h.l,Nt,b.a,st,At]},pipes:function(){return[St]},styles:["#videoRoomNavBar[_ngcontent-%COMP%]{min-width:400px;background-color:#494949;height:100%}.stream-container[_ngcontent-%COMP%]{padding:0}.reconnecting-container[_ngcontent-%COMP%]{width:100%;height:100%;z-index:1000;background-color:#000;opacity:80%;position:absolute}.sidenav-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:-webkit-fill-available;overflow:hidden}.sidenav-chat[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:450px;background-color:#494949;border-left:none;position:absolute}.mat-drawer-container[_ngcontent-%COMP%]{background-color:#494949}.sidenav-main[_ngcontent-%COMP%]{height:100%;overflow:hidden;min-height:-webkit-fill-available;min-height:-moz-available}.bounds[_ngcontent-%COMP%]{background-color:#494949;position:absolute;left:0;right:0;top:40px;bottom:25px;min-width:400px!important;width:inherit}.boundsLight[_ngcontent-%COMP%]{background-color:#dfdfdf!important}.custom-class[_ngcontent-%COMP%]{min-height:0!important}.OT_root[_ngcontent-%COMP%], .OT_root[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff;margin:0;padding:0;border:0;font-size:100%;font-family:Ubuntu,sans-serif;vertical-align:baseline}.OT_dialog-centering[_ngcontent-%COMP%]{display:table;width:100%;height:100%}.OT_dialog-centering-child[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.OT_dialog[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;margin-right:auto;margin-left:auto;color:#fff;font-family:Ubuntu,sans-serif;font-size:13px;line-height:1.4}.OT_dialog[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:inherit;box-sizing:inherit}.OT_closeButton[_ngcontent-%COMP%]{color:#999;cursor:pointer;font-size:32px;line-height:36px;position:absolute;right:18px;top:0}.OT_dialog-messages[_ngcontent-%COMP%]{text-align:center}.OT_dialog-messages-main[_ngcontent-%COMP%]{margin-bottom:36px;line-height:36px;font-weight:300;font-size:24px}.OT_dialog-messages-minor[_ngcontent-%COMP%]{margin-bottom:18px;font-size:13px;line-height:18px;color:#a4a4a4}.OT_dialog-messages-minor[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.OT_dialog-actions-card[_ngcontent-%COMP%]{display:inline-block}.OT_dialog-button-title[_ngcontent-%COMP%]{margin-bottom:18px;line-height:18px;font-weight:300;text-align:center;font-size:14px;color:#999}.OT_dialog-button-title[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999}.OT_dialog-button-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .OT_dialog-button-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .OT_dialog-button-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link{color:#02a1de}.OT_dialog-button-title[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;font-weight:100;display:block}.OT_dialog-button[_ngcontent-%COMP%]{display:inline-block;margin-bottom:18px;padding:0 1em;background-color:#1ca3dc;text-align:center;cursor:pointer}.OT_dialog-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.OT_dialog-button-large[_ngcontent-%COMP%]{line-height:36px;padding-top:9px;padding-bottom:9px;font-weight:100;font-size:24px}.OT_dialog-button-small[_ngcontent-%COMP%]{line-height:18px;padding-top:9px;padding-bottom:9px;background-color:#444;color:#999;font-size:16px}.OT_dialog-progress-bar[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-top:5px;margin-bottom:41px;border:1px solid #4e4e4e;height:8px}.OT_dialog-progress-bar-fill[_ngcontent-%COMP%]{height:100%;background-color:#29a4da}.OT_dialog-plugin-upgrading[_ngcontent-%COMP%]   .OT_dialog-plugin-upgrade-percentage[_ngcontent-%COMP%]{line-height:54px;font-size:48px;font-weight:100}.OT_centered[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;margin:0}.OT_dialog-hidden[_ngcontent-%COMP%]{display:none}.OT_dialog-button-block[_ngcontent-%COMP%]{display:block}.OT_dialog-no-natural-margin[_ngcontent-%COMP%]{margin-bottom:0}.OT_publisher[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]{position:relative;min-width:48px;min-height:48px}.OT_publisher[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;transform-origin:0 0}.OT_publisher.OT_mirrored[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{transform:scale(-1,1);transform-origin:50% 50%}.OT_subscriber_error[_ngcontent-%COMP%]{background-color:#000;color:#fff;text-align:center}.OT_subscriber_error[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:20px}.OT_publisher[_ngcontent-%COMP%]   .OT_archiving[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_archiving-light-box[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving-light-box[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%]{-ms-box-sizing:border-box;box-sizing:border-box;top:0;left:0;right:0;display:block;height:34px;position:absolute}.OT_publisher[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%]{background:rgba(0,0,0,.4)}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item[_ngcontent-%COMP%]{z-index:1;transition-property:top,bottom,opacity;transition-duration:.5s;transition-timing-function:ease-in}.OT_publisher[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%]{background-color:transparent;color:#fff;font-size:15px;line-height:34px;font-weight:400;padding:0 4px 0 36px}.OT_publisher[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);top:auto;bottom:0;left:34px;padding:0 4px;color:rgba(255,255,255,.8);font-size:15px;line-height:34px;font-weight:400}.OT_micro[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_micro[_ngcontent-%COMP%]:hover   .OT_archiving-status[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]:hover   .OT_archiving-status[_ngcontent-%COMP%]{display:none}.OT_publisher[_ngcontent-%COMP%]   .OT_archiving-light-box[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving-light-box[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);top:auto;bottom:0;right:auto;width:34px;height:34px}.OT_archiving-light[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:30px;position:absolute;top:14px;left:14px;background-color:#575757;box-shadow:0 0 5px 1px #575757}.OT_archiving-light.OT_active[_ngcontent-%COMP%]{background-color:#970d13;animation:1.3s ease-in infinite OT_pulse;-webkit-animation:1.3s ease-in OT_pulse;-moz-animation:1.3s ease-in infinite OT_pulse;-webkit-animation-iteration-count:infinite}@-webkit-keyframes OT_pulse{0%,100%,80%{box-shadow:0 0 0 0 #c70019}30%,50%{box-shadow:0 0 5px 1px #c70019}}.OT_bar.OT_mode-mini[_ngcontent-%COMP%], .OT_bar.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%]{bottom:0;height:auto}.OT_mini[_ngcontent-%COMP%]   .OT_name.OT_mode-auto[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]   .OT_name.OT_mode-off[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]   .OT_name.OT_mode-on[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]:hover   .OT_name.OT_mode-auto[_ngcontent-%COMP%]{display:none}.OT_publisher[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%]{left:10px;right:37px;height:34px;padding-left:0}.OT_publisher[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%]{border:none;cursor:pointer;display:block;position:absolute;text-align:center;text-indent:-9999em;background-color:transparent;background-repeat:no-repeat;right:0;top:0;border-left:1px solid rgba(255,255,255,.2);height:36px;width:37px}.OT_mini[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%], .OT_publisher.OT_mini[_ngcontent-%COMP%]   .OT_mute.OT_mode-auto.OT_mode-on-hold[_ngcontent-%COMP%], .OT_subscriber.OT_mini[_ngcontent-%COMP%]   .OT_mute.OT_mode-auto.OT_mode-on-hold[_ngcontent-%COMP%]{top:50%;left:50%;right:auto;margin-top:-18px;margin-left:-18.5px;border-left:none}.OT_publisher[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII=);background-position:9px 5px}.OT_publisher[_ngcontent-%COMP%]   .OT_mute.OT_active[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg==);background-position:9px 4px}.OT_subscriber[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII=);background-position:8px 7px}.OT_subscriber[_ngcontent-%COMP%]   .OT_mute.OT_active[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg==);background-position:7px 7px}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-off[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-off[_ngcontent-%COMP%]{top:-25px;opacity:0}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-off[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-off[_ngcontent-%COMP%]{display:none}.OT_mini[_ngcontent-%COMP%]   .OT_mute.OT_mode-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_mute.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_mute.OT_mode-mini-auto[_ngcontent-%COMP%]{top:50%}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-off[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-off[_ngcontent-%COMP%]{top:auto;bottom:-25px}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-on[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_mode-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-on[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_mode-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_mode-mini-auto[_ngcontent-%COMP%]{top:0;opacity:1}.OT_mini[_ngcontent-%COMP%]   .OT_mute.OT_mode-on[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]:hover   .OT_mute.OT_mode-auto[_ngcontent-%COMP%], .OT_mute.OT_mode-mini[_ngcontent-%COMP%], .OT_root[_ngcontent-%COMP%]:hover   .OT_mute.OT_mode-mini-auto[_ngcontent-%COMP%]{top:50%}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-on[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-on[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto[_ngcontent-%COMP%]{top:auto;bottom:0;opacity:1}.OT_root[_ngcontent-%COMP%]   .OT_video-loading[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;display:none;background-color:rgba(0,0,0,.75)}.OT_root[_ngcontent-%COMP%]   .OT_video-loading[_ngcontent-%COMP%]   .OT_video-loading-spinner[_ngcontent-%COMP%]{background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwIDEgMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2IpIiBkPSJNODYuNiA1MEExMDAgMTAwIDAgMCAxIDAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNjKSIgZD0iTTAgMTAwYTEwMCAxMDAgMCAwIDEtODYuNi01MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48cGF0aCBzdHJva2U9InVybCgjZCkiIGQ9Ik0tODYuNiA1MGExMDAgMTAwIDAgMCAxIDAtMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNlKSIgZD0iTS04Ni42LTUwQTEwMCAxMDAgMCAwIDEgMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAgMSA4Ni42IDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjwvZz48L21hc2s+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHg9Ii0yMCIgeT0iLTIwIiBtYXNrPSJ1cmwoI2cpIiBmaWxsPSIjZmZmIi8+PC9zdmc+) no-repeat;position:absolute;width:32px;height:32px;left:50%;top:50%;margin-left:-16px;margin-top:-16px;-webkit-animation:2s linear infinite OT_spin;animation:2s linear infinite OT_spin}@-webkit-keyframes OT_spin{100%{-webkit-transform:rotate(360deg)}}@keyframes OT_spin{100%{transform:rotate(360deg)}}.OT_publisher.OT_loading[_ngcontent-%COMP%]   .OT_video-loading[_ngcontent-%COMP%], .OT_subscriber.OT_loading[_ngcontent-%COMP%]   .OT_video-loading[_ngcontent-%COMP%]{display:block}.OT_video-centering[_ngcontent-%COMP%]{display:table;width:100%;height:100%}.OT_video-container[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.OT_video-poster[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;display:none;opacity:.25;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDcxIDQ2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSI2Ni42NiUiIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc5IDMwOGMxNC4yNS02LjUgNTQuMjUtMTkuNzUgNzEtMjkgOS0zLjI1IDI1LTIxIDI1LTIxczMuNzUtMTMgMy0yMmMtMS43NS02Ljc1LTE1LTQzLTE1LTQzLTIuNSAzLTQuNzQxIDMuMjU5LTcgMS0zLjI1LTcuNS0yMC41LTQ0LjUtMTYtNTcgMS4yNS03LjUgMTAtNiAxMC02LTExLjI1LTMzLjc1LTgtNjctOC02N3MuMDczLTcuMzQ2IDYtMTVjLTMuNDguNjM3LTkgNC05IDQgMi41NjMtMTEuNzI3IDE1LTIxIDE1LTIxIC4xNDgtLjMxMi0xLjMyMS0xLjQ1NC0xMCAxIDEuNS0yLjc4IDE2LjY3NS04LjY1NCAzMC0xMSAzLjc4Ny05LjM2MSAxMi43ODItMTcuMzk4IDIyLTIyLTIuMzY1IDMuMTMzLTMgNi0zIDZzMTUuNjQ3LTguMDg4IDQxLTZjLTE5Ljc1IDItMjQgNi0yNCA2czc0LjUtMTAuNzUgMTA0IDM3YzcuNSA5LjUgMjQuNzUgNTUuNzUgMTAgODkgMy43NS0xLjUgNC41LTQuNSA5IDEgLjI1IDE0Ljc1LTExLjUgNjMtMTkgNjItMi43NSAxLTQtMy00LTMtMTAuNzUgMjkuNS0xNCAzOC0xNCAzOC0yIDQuMjUtMy43NSAxOC41LTEgMjIgMS4yNSA0LjUgMjMgMjMgMjMgMjNsMTI3IDUzYzM3IDM1IDIzIDEzNSAyMyAxMzVMMCA0NjRzLTMtOTYuNzUgMTQtMTIwYzUuMjUtNi4yNSAyMS43NS0xOS43NSA2NS0zNnoiLz48L3N2Zz4=);background-size:auto 76%}.OT_fit-mode-cover[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover}@media only screen and (orientation:portrait){.OT_subscriber.OT_ForceContain.OT_fit-mode-cover[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{-o-object-fit:contain!important;object-fit:contain!important}}.OT_fit-mode-contain[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain}.OT_fit-mode-cover[_ngcontent-%COMP%]   .OT_video-poster[_ngcontent-%COMP%]{background-position:center bottom}.OT_fit-mode-contain[_ngcontent-%COMP%]   .OT_video-poster[_ngcontent-%COMP%]{background-position:center}.OT_audio-level-meter[_ngcontent-%COMP%]{position:absolute;width:25%;max-width:224px;min-width:21px;top:0;right:0;overflow:hidden}.OT_audio-level-meter[_ngcontent-%COMP%]:before{content:'';display:block;padding-top:100%}.OT_audio-level-meter__bar[_ngcontent-%COMP%]{position:absolute;width:192%;height:192%;top:-96%;right:-96%;border-radius:50%;background-color:rgba(0,0,0,.8)}.OT_audio-level-meter__audio-only-img[_ngcontent-%COMP%]{position:absolute;top:22%;right:15%;width:40%;opacity:.7;background:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+) center no-repeat}.OT_audio-level-meter__audio-only-img[_ngcontent-%COMP%]:before{content:'';display:block;padding-top:100%}.OT_audio-level-meter__value[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background-image:radial-gradient(circle,#97ce00 0,rgba(151,206,0,0) 100%)}.OT_audio-level-meter.OT_mode-off[_ngcontent-%COMP%]{display:none}.OT_audio-level-meter.OT_mode-on[_ngcontent-%COMP%], .OT_audio-only[_ngcontent-%COMP%]   .OT_audio-level-meter.OT_mode-auto[_ngcontent-%COMP%]{display:block}.OT_audio-only.OT_publisher[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%], .OT_audio-only.OT_subscriber[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{display:none}.OT_video-disabled-indicator[_ngcontent-%COMP%]{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:bottom right;pointer-events:none;top:0;left:0;bottom:3px;right:3px}.OT_video-disabled[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAINUlEQVR42u2aaUxUVxTHcRBmAAEBRVTK4sKwDIsg+wCK7CqIw1CN1YobbbS2qYlJ06Qx1UpdqMbYWq2pSzWmH6ytNbXWJY1Lq7VuqBERtW64V0XFLYae0/xvcp3MMAMzDz6IyT/ge2ce5/7ucpY3Ts3NzZ1ygF57AJ0gO0G2jyZPmdbFyclJSAV1EeoEaUUSLGdSV5KLLFxzFmA7QVqGqDqjixhWkxCVeyRVl38wM6bwj6yYItYK47BAuu9B0gCqs6Ng2r494KQtkj/Dz2jHraw6qw2fdSE4rNmcCPCvZONP8iF1I6kdBdMaQJWZLeJqRWa2kPJAxXY+GxE+zxLI03GRh8lGSwoi9WCY8FWlCEh+8JOnT7MfPGjMuXX7Tt61hoaCi/9cKmKdv3BxeEtim/UbNpnbQiqF4MmT7kqrbr4lkMcTo46TTSpJB5g+8NHuVWnWuaampvhmO/7duHmrGluoO4C6OsJZGRrkDIld43ZqUOTnlkDSmXmabAoBU0vqBf+6KgFSxQ9++uzZ8rZApM81TJ8xM5me0Z/UF7PuBmdVdkGEb5gYDeQmyZNW3SJLIP9Kj64lGyMpmxRN6sOfIbkoAhKOdnv2/PmB1kB88eLFo+olyyrps3rSINIAzLonnqlqK8R9w+L86vtrt5L2nhug3Vc3ULu/Liz8AOuXESlZZONH6kmr7gtLIA9lRNeRzVukAvj3BslLnJNKgfScO69K+/Lly0ZbQW7e8tNK+pwBjqaSIjDrXgJkW1ciAZvbQjQ+RDahpBBKd5ZZsqN758hmImk4KQHnpDd8UwSkCyJarx07d4+3BeKJmlMHyX4qaRxpBCmNFE4KENvHDpAutVERn1kCVBMfeRRgYvZnx62wZPdnZkw92VQA5GClQXYRBze2S+iJmpPVVoJLA9l9QKokjcWKTCT1R5rhLg70NuSsziT16diIKkuAjibrTpJNDkn/e17CahtAjlAWJAYkb29Sb1LE9Rs391kILk8mVkyuIpuZcLKUlEmKkra1WuSTNuesEPzwoEploSVAh9Oiz+BIyd9dOHhtx4OEpFpVg6gbNK3yXX1j48N6U5Dz5i/gc/FDrMY3sTLiSMEkXxGxzUEUAGnbxlPaksMlHUXWAlHS8URCPseSohZbCSLjSSU7ixLXdzhIWVKq4Y7t2a/2bN0qGeKly1fYsVmk6RgIDz4J0bonyUOcjeYqm/8hRoYbWkigV2NH9CHAS60EkUkkw47hSRs6FqT1LR5AVcsrueXlK1d5AO+RpmBrZZEiefByytPCanRGNLZY0uF52gNDYr9sCRB8MHY0SJu2OJWKS2WQV65e4y31DmkCImEi0hBfufRime0RIhpbKen0/Ny9OYNW2ghyYytABjNIaxNuKttAWk6HPLn0k0FevdZwFinPWFIuKZbUV16NVko6jbWSDoPO3pOf8K0jQWLSQ0S9bdpkYck+m7vfWpAiHfKgBsZiGSSt0FqcTeU8WETqAHE2CgcAVd3Gkm4MD3xXYeI6B4NMItvKbcUpQ9gP+KMWnSsW+TaYJtoo+avBWLoKoK0CCSDud+7eXWQGZAXqV3YoQjQCfixJ8+fzj9ta3JHhlUeJ8wJOY2ws6eRKpPS3oqTvHAESEz9ya0naXL5WH6pt3FqSOhTHkTcKEXc6k1POh4Q9YJu/03TT4a8PoGMFI4i2EqSbOZAYaBkpCyD92RkG6KCSbjI/H0HEISBnlOZPFdcEzI2GTO4KBZICGKyAKLTEmJOB2txf5MbgohBINCl4FTqmpJMB2W+HiRn1Q2l6lXyPmiEP6VVE2TfGoaMYrHyPdtAnyI0jEOn9RLWmNEhvBBE7SjpFQZaShtLK+1S+T12lRwxUvrZlVPp8jE1PikeO7C/nyEqBDCB1t7+kUx4kKUWclea0yZC5BIGpiJSNSD9QgFR0RQKkL6KxHSWdsiARHJNYewoGrzG1/bk4dTPSunL2EyDjcbb7MQ+lQfZmkKiN7SjpFAM5CWAyGcwyY84YsZ1lUcbRNNtQMAdtQWGvQ0DyVjzYAKQfQFodeAeC1C8vzymXIZqD+ZEh/2OyLSalS/3VbnJZ+VqDXGjMrTCFuK4s66vVZUNfqaDolcbjOcb899sLpEE+I20GifywXe2QR3KElu99PzqjGufhREqB1pjCnG3IL3fY1v733r2FMsiGhutn0LAoJWWIGbPxjKwgjUbF0m52mPhigrpdXOecEq9pR6MkHbu2LOtrcZ9y3d0ODTb15y9MePz48aF79+8fvXnr9sljx2u2I7KNxDuaMPGVECoRs7mC4eT7SIruFNfNHK15MKuM2evwNq+4qjxvGnd5CHwNNynawW4cOlUZdG8b55IIJHmkItwrZHH6QxB3OSL9kTtAGpIvZiQB3Z4SKBfXQtEE9sashWAW87Bt3sYZNR6zn4uzJwWDKUKXfaKCdqUoBpLxSjYe9nqGiwWRBGipuGZ3Qm76itYLbbJI/PEhUApfw73uOIy9xfse3M9F9BuFJHcYrseSouGkHtCVtkuGTTikI8XgZzhg9SeF4VqcvSWiaSvNHQ8JwkNjIfEHemCmNLD1RaEfLs18mlgNuN6PFALHo7CyU5W2g00gFAQF4ozvibH04muwDbWraSFAyt/AAMzewgGR8uCeWn77xzBxPxgzPRCDDMZ14bQ/3jqGKGoHf2Hjgx3kw5LbaJDYWb52t9FMgw4AuWNWukNeuOYqOsmQi2jgws4PA/DD/z0B2x0/veCs4naw0cgybezid7X9jV3rX2RSs0wfLkll4pBGcgifg+NYxe1kJ2ycTaRq66uG/wBOl0vjcw70xwAAAABJRU5ErkJggg==);background-size:33px auto}.OT_video-disabled-warning[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAGMElEQVR4Ae2aA7D0yBaAc7oH12vbRmlLaxYWb23btm3btm2899a2bWuYtPZ01cmtU9lJrib315yqr9I3Oem/5/s7acwEnehEJzoxCcX2O+wEeIgRBDDaGjAZOgQ6ihRpLklHZDJIXK1WWymMIhGGkVBKCWMM+Iv/f/b5t7faYtM/sGgIS7j8RNLjceUVl41GvGN1BFiHy9sgtRWaYbhvuVQ6o1VOvV5/tLe3dyssKoZuh8xClkDEi2MMS6ZjR0cScxdK/+HgnJsmLccYOx0e/PUGUqfTJDEHkV5go9lcMQoj4R8RpSIRRUr4a9baTJFCCNfqESKJ7RYJibK0xoi05EhFRTxMi1Rit6xHAuLaKRLwEVi6q1x+EhlVpd3d3Wfh4VQkQhRhxthYLg7SRGqdLlIp7UVOHf+JhEhEMscUolVje3p63saeeOFoKsT7fjj++BNuw2I/0ouUENmGaQcQEilQvUU6xuWC0kqmVWCt8df6kG7WLoFA20VSCOyNh0RKPT+SyrTWtQsvuvTYCy84z3+oAdbgAiLGIvHjTz6bFuu/B3lKKfVkFKknwih6EnnipZdfXQZzepAupXSGSCfwUGZtkrx3t/0dSQGnnXbmdocdetArQoj+4VR23wMP3bj/vnv9Sv/rBmkish09ca655thHSrlWq4TFF1vkNDxsgjiUnPqZnHPABIq47jx7pPMcecShfz7x1DO7D6eit99576X1113nVd8rqLGAuDaNitJonTGIqHgQGQjDsJglMrUH5iDSEQbRa6y2yrNvv/PuWVmV/PTzLz8steTit1B9FtGJeZrJksmWdBzBMcami4xUkaY1A1Qe94WIaPGBApJhaERrLrXkElf8+NPPz6YMLs1DDjn0Wn9PnI/UiQadM4jNEkhzVsEGE8nIHESM1j5/KqRX+/IEiOQ/yifNBlEkpnb00cccesbpp13T3983H88/48xzrrvm6it/8U5JXgX5G6nSvSq1R5LATR7aYGkwMG1RSwkWABH+4jUb3vT/uJ1Z0xpjraTBRltrxUQhksIRmgTJyy69+Pv99tv3qYX6FxgU+fU33352xGEHf5wisU7nNWJpZRMkAjZ6aIN1mwV7h29Jo2wCHlveu/GV169z65E+T6koexCh6c+EEiky3lnxQKFjUeVyOeI5AOBzIiayRhJryd7YYnkIHgvB0qk9Tdql6N3XH4bRUIOIIIKJSiRb0hkSEpZKRd1CpEq8GxtIyCVmDSgFl94GacTgaJw1rUlYhYng0c4ewaUsmKRIJjpiqMSOCh9QeI+UYECmtQIsxEu6OorEcv6Rl0gu0woh8MhFkmSCTXVI4pC704WCFRJvSRNJSzrMMEZO2iKZTCHAZYnmvXCny7ed5vfZK3viHSBdIFCKEFj2+nt+73nw8m2uedcLJlktA++VNMEPaR45aYukcKnnCfY3/DFbZS8t7eHxNgsPM0N1hXhJJwwM1QbpoQFlog2R13a/zBxEYHAQEUYUM6qiVwEyBYoM6JFNF2kFLelI5KQf+fVI4dJFCguDS7oAyx2R6SFQJKRedSDj/cMg/RXQ6ZE05GSIDAaXdCi1I3L021SQWNJ1RLY5OiIdL4/yvuw8ADfWPFrSciaMyH8tEQPwf1uGG54g5+KlJGTmsrxsQdl5PKidnPFe2QS///7Hu+VS6WX/HYnf0sevGL7lXydwod2/9DykZq0s5yff0sgSWCigNOH7TPHL7ufj+/TH8P/+qYpL4HkBDiRYpEXeM8/89/9zzjn7EtY64dfd1nqccM7Bs8+9MKy8555/8TnKS+5MufH6EZVASkgPzf+mJXroet17JirU0ALST3nT0y5ONyLpeo1y64ih+vuQfsoTOeRFSJXa+SvyB90TUmdw49EjLaKpMQ0mzEeTzkWsd/oI6fzfiKM8gWg6X6OjpXstu5ZHnmIb0GFiu29MIUfUewkmVrEN3RqVQ/bY8FzNcquMBv/pCNUZ5pHHem01KdN/I/DG66/lLhKSvTO5M84kav5C5z2ZfyAivi9i9VGd45RH7UWJbjwGG/7NYsRECt7jiOToHedKAui8SW4CsxyRc54mKH/8f7ELhCCACyNcIl/wI+FaAJyc8yzRtinQPzWzuFZrFHq/AAAAAElFTkSuQmCC);background-size:33px auto}.OT_video-disabled-indicator.OT_active[_ngcontent-%COMP%]{display:block}.OT_audio-blocked-indicator[_ngcontent-%COMP%]{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:center;pointer-events:none;top:0;left:0;bottom:0;right:0}.OT_audio-blocked[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwIDEgNDMgNDRhOC45ODggOC45ODggMCAwIDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAgMSAxMC4zNzQtLjQyQzUxLjcwMiAxOS4xMTQgNTQgMjkuMjA4IDU0IDQ1LjIwOGMwIDE0LjUyNy0yLjM0MyAyMy44OC03LjAzIDI4LjA1OGE3LjI4IDcuMjggMCAwIDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwIDEtNS01di0xM2E1IDUgMCAwIDEgNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-size:90px auto}.OT_container-audio-blocked[_ngcontent-%COMP%]{cursor:pointer}.OT_container-audio-blocked[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%], .OT_container-audio-blocked.OT_mini[_ngcontent-%COMP%]   .OT_edge-bar-item[_ngcontent-%COMP%]{display:none}.OT_audio-blocked-indicator.OT_active[_ngcontent-%COMP%]{display:block}.OT_video-unsupported[_ngcontent-%COMP%]{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:center;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMCAxIDUgNVY1OC4xOGE1IDUgMCAwIDEtNSA1SDkuMTFhNSA1IDAgMCAxLTUtNVYyNS45N2E1IDUgMCAwIDEgNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwIDEgNC4zMDQgMi43MDJ2MjYuODM1YTMgMyAwIDAgMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-size:58px auto;pointer-events:none;top:0;left:0;bottom:0;right:0;margin-top:-30px}.OT_video-unsupported-bar[_ngcontent-%COMP%]{display:none;position:absolute;width:192%;height:192%;top:-96%;left:-96%;border-radius:50%;background-color:rgba(0,0,0,.8)}.OT_video-unsupported-img[_ngcontent-%COMP%]{display:none;position:absolute;top:11%;left:15%;width:70%;opacity:.7;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMCAxIDUgNVY1OC4xOGE1IDUgMCAwIDEtNSA1SDkuMTFhNSA1IDAgMCAxLTUtNVYyNS45N2E1IDUgMCAwIDEgNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwIDEgNC4zMDQgMi43MDJ2MjYuODM1YTMgMyAwIDAgMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-repeat:no-repeat;background-position:center;background-size:100% auto}.OT_video-unsupported-img[_ngcontent-%COMP%]:before{content:'';display:block;padding-top:93%}.OT_video-unsupported-text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;height:100%;margin-top:40px}@media only screen and (max-width:600px){#videoRoomNavBar[_ngcontent-%COMP%]{width:100%}}"]}),e})();class bt extends class{constructor(){this.theme=ut.DARK,this.ovSettings=new at}getComponentName(){}getOvSettings(){return this.ovSettings}getSessionName(){return this.sessionName}getOvServerUrl(){return this.ovServerUrl}getOvSecret(){return this.ovSecret}getTheme(){return this.theme}getNickname(){return this.nickname}getTokens(){return this.tokens}getScreenToken(){return this.tokens[1]}getWebcamToken(){return this.tokens[0]}setOvSettings(e){e&&this.ovSettings.set(e)}setSessionName(e){this.sessionName=e}setOvServerUrl(e){this.ovServerUrl=e}setOvSecret(e){this.ovSecret=e}setTheme(e){Object.values(ut).includes(e)&&(this.theme=e===ut.DARK?ut.DARK:ut.LIGHT)}setNickname(e){this.nickname=e}setTokens(e){this.tokens=e}canJoinToSession(){return this.canOVCallGenerateToken()||this.hasReceivedToken()}hasTokens(){var e;return(null===(e=this.tokens)||void 0===e?void 0:e.length)>0}canOVCallGenerateToken(){return!!(this.sessionName&&this.ovServerUrl&&this.ovSecret&&this.nickname)}hasReceivedToken(){return!!this.tokens&&this.tokens.length>0&&!!this.nickname}}{constructor(){super(),this.NAME="Angular Library"}setTokens(e){var t;e&&(this.ovSettings.setScreenSharing(this.ovSettings.hasScreenSharing()&&(null===(t=e)||void 0===t?void 0:t.length)>1),super.setTokens(e))}getComponentName(){return this.NAME}}let yt=(()=>{let e=class{constructor(e){this.loggerSrv=e,this.display=!1,this.sessionCreated=new o.o,this.publisherCreated=new o.o,this.error=new o.o,this.joinSession=new o.o,this.leaveSession=new o.o,this.log=this.loggerSrv.get("OpenviduSessionComponent")}ngOnInit(){this.angularLibrary=new bt,this.angularLibrary.setOvSettings(this.ovSettings),this.angularLibrary.setSessionName(this.sessionName),this.angularLibrary.setOvServerUrl(this.openviduServerUrl),this.angularLibrary.setOvSecret(this.openviduSecret),this.angularLibrary.setTheme(this.theme),this.angularLibrary.setNickname(this.user),this.angularLibrary.setTokens(this.tokens),this.angularLibrary.canJoinToSession()?this.display=!0:this.log.e("Cannot join to session.")}emitSession(e){e.on("sessionDisconnected",e=>this.display=!1),e.on("connectionCreated",e=>{setTimeout(()=>{var t,n,i;(null===(i=null===(n=null===(t=e.connection)||void 0===t?void 0:t.stream)||void 0===n?void 0:n.streamManager)||void 0===i?void 0:i.remote)||this.videoRoom.checkSizeComponent()},700)}),this.sessionCreated.emit(e)}emitPublisher(e){this.publisherCreated.emit(e)}emitErrorEvent(e){setTimeout(()=>this.error.emit(e),20)}getSession(){return this.log.w("getSession method is DEPRECATED. Please consider to use sessionCreated event"),this.videoRoom.session}getLocalUsers(){return this.videoRoom.localUsers}getOpenviduLayout(){return this.videoRoom.openviduLayout}getOpenviduLayoutOptions(){return this.videoRoom.openviduLayoutOptions}emitJoinSessionEvent(e){this.joinSession.observers.length>0&&this.log.w("joinSession event is DEPRECATED. Please consider to use sessionCreated event"),this.joinSession.emit(e)}emitLeaveSessionEvent(e){this.leaveSession.observers.length>0&&this.log.w("leaveSession event is DEPRECATED. Please consider to use sessionCreated event"),this.leaveSession.emit(e)}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(tt))},e.\u0275cmp=o.Lb({type:e,selectors:[["opv-session"]],viewQuery:function(e,t){var n;1&e&&o.Wc(G,!0),2&e&&o.Dc(n=o.kc())&&(t.videoRoom=n.first)},inputs:{ovSettings:"ovSettings",sessionName:"sessionName",user:"user",openviduServerUrl:"openviduServerUrl",openviduSecret:"openviduSecret",tokens:"tokens",theme:"theme"},outputs:{sessionCreated:"sessionCreated",publisherCreated:"publisherCreated",error:"error",joinSession:"joinSession",leaveSession:"leaveSession"},decls:1,vars:1,consts:[[3,"externalConfig","_session","_publisher","_error","_leaveSession","_joinSession",4,"ngIf"],[3,"externalConfig","_session","_publisher","_error","_leaveSession","_joinSession"],["videoRoom",""]],template:function(e,t){1&e&&o.Pc(0,X,2,1,"app-video-room",0),2&e&&o.uc("ngIf",t.display)},directives:[h.m,vt],encapsulation:2}),e})(),_t=(()=>{let e=class{constructor(e){this.linkifyService=e}transform(e){return e?this.linkifyService.linkify(e):e}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(y.b))},e.\u0275pipe=o.Qb({name:"linkify",type:e,pure:!0}),e})(),St=(()=>{let e=class{constructor(){}transform(e){return!e||e.hasChat()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"hasChat",type:e,pure:!0}),e})(),Ct=(()=>{let e=class{constructor(){}transform(e){return!e||e.hasAudio()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"hasAudio",type:e,pure:!0}),e})(),Ot=(()=>{let e=class{constructor(){}transform(e){return!e||e.hasVideo()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"hasVideo",type:e,pure:!0}),e})(),wt=(()=>{let e=class{constructor(){}transform(e){return!e||e.isAutoPublish()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"isAutoPublish",type:e,pure:!0}),e})(),xt=(()=>{let e=class{constructor(){}transform(e){return!e||e.hasScreenSharing()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"hasScreenSharing",type:e,pure:!0}),e})(),Et=(()=>{let e=class{constructor(){}transform(e){return!e||e.hasFullscreen()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"hasFullscreen",type:e,pure:!0}),e})(),Mt=(()=>{let e=class{constructor(){}transform(e){return!e||e.hasLayoutSpeaking()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"hasLayoutSpeaking",type:e,pure:!0}),e})(),Rt=(()=>{let e=class{constructor(){}transform(e){return!e||e.hasExit()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"hasExit",type:e,pure:!0}),e})(),kt=(()=>{let e=class{transform(e){let t="";return e.forEach(e=>{t+="\u2022 "+e+"\n"}),t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Qb({name:"tooltipList",type:e,pure:!0}),e})();class Pt{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}var Tt=function(e){return e.BIG="zoom_in",e.NORMAL="zoom_out",e}({}),It=function(e){return e.BIG="fullscreen",e.NORMAL="fullscreen_exit",e}({});let At=(()=>{let e=class{constructor(e){this.utilsSrv=e,this.videoSizeIcon=Tt.BIG,this.fullscreenIcon=It.BIG,this.nicknameClicked=new o.o,this.replaceScreenTrackClicked=new o.o,this.toggleVideoSizeClicked=new o.o}sizeChange(e){const t=window.screen.height,n=window.screen.width,i=window.innerHeight;n!==window.innerWidth&&t!==i&&(this.isFullscreen=!1,this.videoSizeIcon=Tt.BIG)}set videoSizeBig(e){this.checkVideoSizeBigIcon(e)}set user(e){this._user=e,this.nicknameFormControl=new p.f(this._user.getNickname(),[p.w.maxLength(25),p.w.required])}set nicknameInputElement(e){setTimeout(()=>{var t;null===(t=e)||void 0===t||t.nativeElement.focus()})}ngOnInit(){this.matcher=new Pt}toggleVideoSize(e){const t=this.utilsSrv.getHTMLElementByClassName(this.streamComponent.element.nativeElement,ct.ROOT_CLASS);this.toggleVideoSizeClicked.emit({element:t,connectionId:this._user.getConnectionId(),resetAll:e})}toggleFullscreen(){this.utilsSrv.toggleFullscreen("container-"+this._user.getStreamManager().stream.streamId),this.toggleFullscreenIcon()}toggleSound(){this.mutedSound=!this.mutedSound}toggleNicknameForm(){this._user.isLocal()&&(this.toggleNickname=!this.toggleNickname)}eventKeyPress(e){e&&13===e.keyCode&&this.nicknameFormControl.valid&&(this.nicknameClicked.emit(this.nicknameFormControl.value),this.toggleNicknameForm())}replaceScreenTrack(){this.replaceScreenTrackClicked.emit()}checkVideoSizeBigIcon(e){this.videoSizeIcon=e?Tt.NORMAL:Tt.BIG}toggleFullscreenIcon(){this.fullscreenIcon=this.fullscreenIcon===It.BIG?It.NORMAL:It.BIG}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(pt))},e.\u0275cmp=o.Lb({type:e,selectors:[["stream-component"]],viewQuery:function(e,t){var n;1&e&&(o.Wc(Y,!0),o.Wc(H,!0,o.P)),2&e&&(o.Dc(n=o.kc())&&(t.nicknameInputElement=n.first),o.Dc(n=o.kc())&&(t.streamComponent=n.first))},hostBindings:function(e,t){1&e&&o.jc("resize",(function(e){return t.sizeChange(e)}),!1,o.Hc)},inputs:{videoSizeBig:"videoSizeBig",user:"user"},outputs:{nicknameClicked:"nicknameClicked",replaceScreenTrackClicked:"replaceScreenTrackClicked",toggleVideoSizeClicked:"toggleVideoSizeClicked"},decls:1,vars:1,consts:[["class","OT_widget-container",3,"id","dblclick",4,"ngIf"],[1,"OT_widget-container",3,"id","dblclick"],["streamComponent",""],[1,"nickname"],["class","nicknameContainer","selected","",3,"click",4,"ngIf"],["id","dialogNickname",3,"fullscreen",4,"ngIf"],[3,"streamManager","mutedSound","toggleVideoSizeEvent"],[1,"statusIcons"],["id","statusMic",4,"ngIf"],["id","statusCam",4,"ngIf"],[1,"videoButtons"],["mat-icon-button","","id","videoZoomButton",3,"click"],["mat-icon-button","","id","fullscreenButton",3,"click"],["mat-icon-button","","id","volumeButton",3,"click",4,"ngIf"],["mat-icon-button","","id","changeScreenButton",3,"click",4,"ngIf"],["selected","",1,"nicknameContainer",3,"click"],["id","nickname"],[4,"ngIf"],["id","dialogNickname"],["mat-icon-button","","id","closeButton",3,"click"],["matTooltip","Close"],["id","nicknameForm"],["color","primary"],["matInput","","autocomplete","off",3,"placeholder","formControl","errorStateMatcher","keypress"],["nicknameInput",""],["id","statusMic"],["id","statusCam"],["mat-icon-button","","id","volumeButton",3,"click"],["matTooltip","Mute sound",4,"ngIf"],["color","warn","matTooltip","Unmute sound",4,"ngIf"],["matTooltip","Mute sound"],["color","warn","matTooltip","Unmute sound"],["mat-icon-button","","id","changeScreenButton",3,"click"],["matTooltip","Choose screen"]],template:function(e,t){1&e&&o.Pc(0,ae,18,13,"div",0),2&e&&o.uc("ngIf",t._user)},directives:function(){return[h.m,Dt,l.a,u.a,d.a,p.y,p.p,p.q,_.c,S.b,p.c,p.o,p.g,_.b]},styles:[".nickname[_ngcontent-%COMP%]{padding:0;position:absolute;z-index:999;border-radius:5px;color:#fff;font-family:Ubuntu,sans-serif}.nicknameContainer[_ngcontent-%COMP%]{background-color:#424242;padding:5px;color:#fff;font-weight:700}#dialogNickname[_ngcontent-%COMP%]{background-color:#0000005e;border-radius:5px}#closeButton[_ngcontent-%COMP%]{position:absolute;top:-3px;right:0;z-index:999}#nicknameForm[_ngcontent-%COMP%]{padding:10px}.fullscreen[_ngcontent-%COMP%]{top:40px}mat-error[_ngcontent-%COMP%]{text-align:center;color:#353535}video[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;color:#fff;margin:0;padding:0;border:0;font-size:100%}.statusIcons[_ngcontent-%COMP%]{bottom:0;left:5px;width:40px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:absolute;color:#fff}.statusIcons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle;vertical-align:-moz-middle-with-baseline;font-size:20px}.videoButtons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.videoButtons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{line-height:0}#camStatus[_ngcontent-%COMP%]{bottom:43px}#statusCam[_ngcontent-%COMP%], #statusMic[_ngcontent-%COMP%]{text-align:center;width:28px;height:28px;border-radius:50%;background:#c71100;margin:5px auto}.videoButtons[_ngcontent-%COMP%]{right:0;position:absolute;bottom:0;z-index:9999999;width:50px;text-align:center}.videoButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;width:30px;height:30px;margin:1px}.OT_widget-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}  .mat-focused .mat-form-field-label,   .mat-form-field-appearance-legacy .mat-form-field-label, mat-error[_ngcontent-%COMP%]{color:#cacaca!important}  .mat-form-field-appearance-legacy .mat-form-field-underline,   .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#cacaca!important}input[_ngcontent-%COMP%]{caret-color:#fff!important}"]}),e})(),Dt=(()=>{let e=class{constructor(){this.toggleVideoSizeEvent=new o.o}ngAfterViewInit(){setTimeout(()=>{this._streamManager&&this._videoElement&&this._streamManager.addVideoElement(this._videoElement.nativeElement)})}set videoElement(e){this._videoElement=e}set streamManager(e){setTimeout(()=>{this._streamManager=e,this._videoElement&&this._streamManager&&(this._streamManager.stream.typeOfVideo===Je.SCREEN?(this._videoElement.nativeElement.style.objectFit="contain",this._videoElement.nativeElement.style.background="#272727",this.enableVideoSizeBig()):this._videoElement.nativeElement.style.objectFit="cover",this._streamManager.addVideoElement(this._videoElement.nativeElement))})}enableVideoSizeBig(){setTimeout(()=>{this.toggleVideoSizeEvent.emit(!0)},590)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Lb({type:e,selectors:[["ov-video"]],viewQuery:function(e,t){var n;1&e&&o.Wc(ce,!0),2&e&&o.Dc(n=o.kc())&&(t.videoElement=n.first)},inputs:{streamManager:"streamManager",mutedSound:"mutedSound"},outputs:{toggleVideoSizeEvent:"toggleVideoSizeEvent"},decls:2,vars:2,consts:[[3,"muted"],["videoElement",""]],template:function(e,t){1&e&&o.Sb(0,"video",0,1),2&e&&(o.uc("muted",t.mutedSound),o.Db("id",t.streamManager&&t._streamManager.stream?"video-"+t._streamManager.stream.streamId:"video-undefined"))},styles:[".nickname[_ngcontent-%COMP%]{padding:0;position:absolute;z-index:999;border-radius:5px;color:#fff;font-family:Ubuntu,sans-serif}.nicknameContainer[_ngcontent-%COMP%]{background-color:#424242;padding:5px;color:#fff;font-weight:700}#dialogNickname[_ngcontent-%COMP%]{background-color:#0000005e;border-radius:5px}#closeButton[_ngcontent-%COMP%]{position:absolute;top:-3px;right:0;z-index:999}#nicknameForm[_ngcontent-%COMP%]{padding:10px}.fullscreen[_ngcontent-%COMP%]{top:40px}mat-error[_ngcontent-%COMP%]{text-align:center;color:#353535}video[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;color:#fff;margin:0;padding:0;border:0;font-size:100%}.statusIcons[_ngcontent-%COMP%]{bottom:0;left:5px;width:40px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:absolute;color:#fff}.statusIcons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle;vertical-align:-moz-middle-with-baseline;font-size:20px}.videoButtons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.videoButtons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{line-height:0}#camStatus[_ngcontent-%COMP%]{bottom:43px}#statusCam[_ngcontent-%COMP%], #statusMic[_ngcontent-%COMP%]{text-align:center;width:28px;height:28px;border-radius:50%;background:#c71100;margin:5px auto}.videoButtons[_ngcontent-%COMP%]{right:0;position:absolute;bottom:0;z-index:9999999;width:50px;text-align:center}.videoButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;width:30px;height:30px;margin:1px}.OT_widget-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}  .mat-focused .mat-form-field-label,   .mat-form-field-appearance-legacy .mat-form-field-label, mat-error[_ngcontent-%COMP%]{color:#cacaca!important}  .mat-form-field-appearance-legacy .mat-form-field-underline,   .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#cacaca!important}input[_ngcontent-%COMP%]{caret-color:#fff!important}"]}),e})(),Lt=(()=>{let e=class{constructor(e,t){this.utilsSrv=e,this.chatService=t,this.micButtonClicked=new o.o,this.camButtonClicked=new o.o,this.screenShareClicked=new o.o,this.layoutButtonClicked=new o.o,this.leaveSessionButtonClicked=new o.o,this.fullscreenIcon=It.BIG,this.logoUrl="https://raw.githubusercontent.com/OpenVidu/openvidu-call/master/openvidu-call-front/src/assets/images/",this.participantsNames=[],this.chatServiceSubscription=this.chatService.messagesUnreadObs.subscribe(e=>{this.newMessagesNum=e})}ngOnDestroy(){this.chatServiceSubscription.unsubscribe()}sizeChange(e){const t=window.screen.height,n=window.screen.width,i=window.innerHeight;n!==window.innerWidth&&t!==i&&(this.fullscreenIcon=It.BIG)}ngOnInit(){this.logoUrl+=this.lightTheme?"openvidu_logo_grey.png":"openvidu_logo.png"}toggleMicrophone(){this.micButtonClicked.emit()}toggleCamera(){this.camButtonClicked.emit()}toggleScreenShare(){this.screenShareClicked.emit()}toggleSpeakerLayout(){this.layoutButtonClicked.emit()}leaveSession(){this.leaveSessionButtonClicked.emit()}toggleChat(){this.chatService.toggleChat()}toggleFullscreen(){this.utilsSrv.toggleFullscreen("videoRoomNavBar"),this.fullscreenIcon=this.fullscreenIcon===It.BIG?It.NORMAL:It.BIG}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(pt),o.Rb(rt))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-toolbar"]],hostBindings:function(e,t){1&e&&o.jc("resize",(function(e){return t.sizeChange(e)}),!1,o.Hc)},inputs:{lightTheme:"lightTheme",mySessionId:"mySessionId",compact:"compact",showNotification:"showNotification",ovSettings:"ovSettings",isWebcamVideoEnabled:"isWebcamVideoEnabled",isWebcamAudioEnabled:"isWebcamAudioEnabled",isScreenEnabled:"isScreenEnabled",isAutoLayout:"isAutoLayout",isConnectionLost:"isConnectionLost",hasVideoDevices:"hasVideoDevices",hasAudioDevices:"hasAudioDevices"},outputs:{micButtonClicked:"micButtonClicked",camButtonClicked:"camButtonClicked",screenShareClicked:"screenShareClicked",layoutButtonClicked:"layoutButtonClicked",leaveSessionButtonClicked:"leaveSessionButtonClicked"},decls:20,vars:27,consts:[["id","header","role","heading","fxLayout","","fxLayoutAlign","center","fxLayoutGap","10px",1,"container"],["fxFlex","20%"],[3,"lightTheme","sessionId","compact","logoUrl"],["fxFlex","70%","fxFlexOrder","2"],["align","center",1,"buttonsContainer"],["id","navMicrophoneButton","mat-icon-button","",3,"disabled","click",4,"ngIf"],["id","navCameraButton","mat-icon-button","",3,"disabled","click",4,"ngIf"],["id","navScreenButton","mat-icon-button","",3,"disabled","click",4,"ngIf"],["mat-icon-button","",3,"disabled","click",4,"ngIf"],["mat-icon-button","","id","navLeaveButton",3,"click",4,"ngIf"],["fxFlex","10%","fxFlexOrder","3","align","end"],["id","navMicrophoneButton","mat-icon-button","",3,"disabled","click"],["matTooltip","Mute your audio",4,"ngIf"],["color","warn","matTooltip","Unmute your audio",4,"ngIf"],["matTooltip","Mute your audio"],["color","warn","matTooltip","Unmute your audio"],["id","navCameraButton","mat-icon-button","",3,"disabled","click"],["matTooltip","Mute your cam",4,"ngIf"],["color","warn","matTooltip","Unmute your cam",4,"ngIf"],["matTooltip","Mute your cam"],["color","warn","matTooltip","Unmute your cam"],["id","navScreenButton","mat-icon-button","",3,"disabled","click"],["matTooltip","Screen share","color","warn",4,"ngIf"],["matTooltip","Stop sharing",4,"ngIf"],["matTooltip","Screen share","color","warn"],["matTooltip","Stop sharing"],["mat-icon-button","",3,"disabled","click"],["matTooltip","Fullscreen"],["matTooltip","Enable speaker layout","color","warn",4,"ngIf"],["matTooltip","Disable speaker layout",4,"ngIf"],["matTooltip","Enable speaker layout","color","warn"],["matTooltip","Disable speaker layout"],["mat-icon-button","","id","navLeaveButton",3,"click"],["color","warn","matTooltip","Leave the session"],["matBadgePosition","above before","matTooltip","Chat","matBadgeColor","accent",3,"matBadge","matBadgeHidden"]],template:function(e,t){1&e&&(o.Xb(0,"mat-toolbar",0),o.Xb(1,"div",1),o.Sb(2,"app-toolbar-logo",2),o.Wb(),o.Xb(3,"div",3),o.Xb(4,"div",4),o.Pc(5,de,3,3,"button",5),o.oc(6,"hasAudio"),o.Pc(7,fe,3,3,"button",6),o.oc(8,"hasVideo"),o.Pc(9,ve,3,3,"button",7),o.oc(10,"hasScreenSharing"),o.Pc(11,be,3,2,"button",8),o.oc(12,"hasFullscreen"),o.Pc(13,Se,3,3,"button",8),o.oc(14,"hasLayoutSpeaking"),o.Pc(15,Ce,3,0,"button",9),o.oc(16,"hasExit"),o.Wb(),o.Wb(),o.Xb(17,"div",10),o.Pc(18,Oe,3,3,"button",8),o.oc(19,"hasChat"),o.Wb(),o.Wb()),2&e&&(o.Hb("headerLight",t.lightTheme),o.Cb(2),o.uc("lightTheme",t.lightTheme)("sessionId",t.mySessionId)("compact",t.compact)("logoUrl",t.logoUrl),o.Cb(3),o.uc("ngIf",t.hasAudioDevices&&o.pc(6,13,t.ovSettings)),o.Cb(2),o.uc("ngIf",!t.ovSettings||t.hasVideoDevices&&o.pc(8,15,t.ovSettings)),o.Cb(2),o.uc("ngIf",o.pc(10,17,t.ovSettings)),o.Cb(2),o.uc("ngIf",o.pc(12,19,t.ovSettings)),o.Cb(2),o.uc("ngIf",o.pc(14,21,t.ovSettings)),o.Cb(2),o.uc("ngIf",o.pc(16,23,t.ovSettings)),o.Cb(3),o.uc("ngIf",o.pc(19,25,t.ovSettings)))},directives:function(){return[C.a,O.d,O.c,O.e,O.a,jt,O.b,h.m,l.a,u.a,d.a,w.a]},pipes:function(){return[Ct,Ot,xt,Et,Mt,Rt,St]},styles:["#header[_ngcontent-%COMP%]{color:#fff;height:40px;background-color:#333;padding:0 14px 0 0;position:absolute;top:0;left:0;z-index:999999;min-width:400px!important}.buttonsContainer[_ngcontent-%COMP%]{position:absolute;left:0;right:0}.headerLight[_ngcontent-%COMP%]{color:#706969!important;background-color:#eee!important}#navSessionInfo[_ngcontent-%COMP%]{height:100%;display:inline-flex}#navChatButton[_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-17px}#navChatButton[_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-6px}.mat-icon-button[disabled][_ngcontent-%COMP%]{color:#fff}.titleContent[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;max-width:100px;margin:5px -18px;padding:0 15px;font-size:16px;overflow:hidden;text-overflow:ellipsis}.titleContentDark[_ngcontent-%COMP%]{background-color:#494949;color:#fff}.titleContentLight[_ngcontent-%COMP%]{background-color:#dfdfdf!important;color:#000}#header_img[_ngcontent-%COMP%]{max-width:135px;margin-right:10px;margin-top:-3px}#point[_ngcontent-%COMP%]{width:10px;height:10px;position:absolute;top:12px;right:33px;border-radius:50%;background-color:#ffa600;border:1px solid #000;z-index:99999}.pointLight[_ngcontent-%COMP%]{border:1px solid #fff!important}.tooltipList[_ngcontent-%COMP%]{white-space:pre}@media (max-width:600px){#navSessionInfo[_ngcontent-%COMP%]{display:none}}"]}),e})(),jt=(()=>{let e=class{constructor(){}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Lb({type:e,selectors:[["app-toolbar-logo"]],inputs:{lightTheme:"lightTheme",compact:"compact",sessionId:"sessionId",logoUrl:"logoUrl"},decls:4,vars:2,consts:[["id","navSessionInfo"],["id","header_img","alt","OpenVidu Logo",3,"src"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["id","session-title"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"a"),o.Sb(2,"img",1),o.Wb(),o.Pc(3,xe,3,5,"div",2),o.Wb()),2&e&&(o.Cb(2),o.uc("src",t.logoUrl,o.Kc),o.Cb(1),o.uc("ngIf",!t.compact&&t.sessionId))},directives:[h.m,h.k,f.a],styles:["#header[_ngcontent-%COMP%]{color:#fff;height:40px;background-color:#333;padding:0 14px 0 0;position:absolute;top:0;left:0;z-index:999999;min-width:400px!important}.buttonsContainer[_ngcontent-%COMP%]{position:absolute;left:0;right:0}.headerLight[_ngcontent-%COMP%]{color:#706969!important;background-color:#eee!important}#navSessionInfo[_ngcontent-%COMP%]{height:100%;display:inline-flex}#navChatButton[_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-17px}#navChatButton[_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-6px}.mat-icon-button[disabled][_ngcontent-%COMP%]{color:#fff}.titleContent[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;max-width:100px;margin:5px -18px;padding:0 15px;font-size:16px;overflow:hidden;text-overflow:ellipsis}.titleContentDark[_ngcontent-%COMP%]{background-color:#494949;color:#fff}.titleContentLight[_ngcontent-%COMP%]{background-color:#dfdfdf!important;color:#000}#header_img[_ngcontent-%COMP%]{max-width:135px;margin-right:10px;margin-top:-3px}#point[_ngcontent-%COMP%]{width:10px;height:10px;position:absolute;top:12px;right:33px;border-radius:50%;background-color:#ffa600;border:1px solid #000;z-index:99999}.pointLight[_ngcontent-%COMP%]{border:1px solid #fff!important}.tooltipList[_ngcontent-%COMP%]{white-space:pre}@media (max-width:600px){#navSessionInfo[_ngcontent-%COMP%]{display:none}}"]}),e})(),Nt=(()=>{let e=class{constructor(){this.participantsNames=[]}sizeChange(e){}ngOnInit(){}set participants(e){this.participantsNames=[],e.forEach(e=>{e.isCamera()&&this.participantsNames.push(e.getNickname())}),this.participantsNames=[...this.participantsNames]}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Lb({type:e,selectors:[["app-footer"]],hostBindings:function(e,t){1&e&&o.jc("resize",(function(e){return t.sizeChange(e)}),!1,o.Hc)},inputs:{participants:"participants",lightTheme:"lightTheme"},decls:9,vars:6,consts:[["fxLayout","","fxLayout.xs","row","fxLayoutAlign","center center","fxLayoutGap","2px","id","footer","role","heading",1,"container"],[1,"participantsButtonContainer"],["mat-icon-button","","matTooltip","Remote participants",1,""],["matBadgeSize","small","matBadgePosition","above after","matBadgeColor","accent",3,"matBadge"],["fxFlex","calc(100% - 40px)","fxFlexOrder","2"],[1,"participantNames"]],template:function(e,t){1&e&&(o.Xb(0,"mat-toolbar",0),o.Xb(1,"div",1),o.Xb(2,"button",2),o.Xb(3,"mat-icon",3),o.Rc(4,"people"),o.Wb(),o.Wb(),o.Wb(),o.Xb(5,"div",4),o.Xb(6,"span",5),o.Rc(7),o.oc(8,"tooltipList"),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Hb("headerLight",t.lightTheme),o.Cb(3),o.vc("matBadge",null==t.participantsNames?null:t.participantsNames.length),o.Cb(4),o.Sc(o.pc(8,4,t.participantsNames)))},directives:[C.a,O.d,O.c,O.e,l.a,d.a,u.a,w.a,O.a,O.b],pipes:[kt],styles:["#footer[_ngcontent-%COMP%]{color:#fff;height:25px;background-color:#333;padding:0 14px 0 0;position:absolute;bottom:0;left:0;z-index:999999;min-width:400px!important}.footerLight[_ngcontent-%COMP%]{color:#706969!important;background-color:#eee!important}.participantNames[_ngcontent-%COMP%]{font-size:small;height:inherit}.participantsButton[_ngcontent-%COMP%]{position:absolute;left:5px;top:none;height:-webkit-fill-available;height:-moz-available}.participantsButtonContainer[_ngcontent-%COMP%]{height:-webkit-fill-available;height:-moz-available}.mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .participantsButtonContainer[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:18px}"]}),e})(),Ut=(()=>{let e=class{constructor(e,t,n,i,r,s){this.route=e,this.utilsSrv=t,this.oVSessionService=n,this.oVDevicesService=i,this.loggerSrv=r,this.storageSrv=s,this.USER_NICKNAME="openviduCallNickname",this.join=new o.o,this.leaveSession=new o.o,this.publisherCreated=new o.o,this.isVideoActive=!0,this.isAudioActive=!0,this.localUsers=[],this.nicknameFormControl=new p.f("",[p.w.maxLength(25),p.w.required]),this.matcher=new Pt,this.log=this.loggerSrv.get("RoomConfigComponent")}beforeunloadHandler(){this.close()}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.subscribeToUsers(),this.setNicknameForm(),this.setRandomAvatar(),this.columns=window.innerWidth>900?2:1,this.setSessionName(),yield this.oVDevicesService.initDevices(),this.setDevicesInfo(),this.initwebcamPublisher()}))}ngOnDestroy(){this.oVUsersSubscription.unsubscribe()}onCameraSelected(e){var t;return Object(i.a)(this,void 0,void 0,(function*(){const n=null===(t=e)||void 0===t?void 0:t.value;if(n){if(this.oVDevicesService.needUpdateVideoTrack(n)){const e=this.oVDevicesService.cameraNeedsMirror(n);yield this.oVSessionService.replaceTrack(n,null,e),this.oVDevicesService.setCamSelected(n),this.camSelected=this.oVDevicesService.getCamSelected()}return this.oVSessionService.publishVideo(!0),void(this.isVideoActive=!0)}this.oVSessionService.publishVideo(!1),this.isVideoActive=!1}))}onMicrophoneSelected(e){var t;return Object(i.a)(this,void 0,void 0,(function*(){const n=null===(t=e)||void 0===t?void 0:t.value;if(n){if(this.oVDevicesService.needUpdateAudioTrack(n)){console.log(this.camSelected);const e=this.oVDevicesService.cameraNeedsMirror(this.camSelected.device);yield this.oVSessionService.replaceTrack(null,n,e),this.oVDevicesService.setMicSelected(n),this.micSelected=this.oVDevicesService.getMicSelected()}return this.publishAudio(!0),void(this.isAudioActive=!0)}this.publishAudio(!1),this.isAudioActive=!1}))}toggleCam(){this.isVideoActive=!this.isVideoActive,this.oVSessionService.publishVideo(this.isVideoActive),this.oVSessionService.areBothConnected()?(this.oVSessionService.disableWebcamUser(),this.oVSessionService.publishScreenAudio(this.isAudioActive)):this.oVSessionService.isOnlyScreenConnected()&&this.oVSessionService.enableWebcamUser()}toggleScreenShare(){if(this.oVSessionService.areBothConnected())this.oVSessionService.disableScreenUser();else{if(this.oVSessionService.isOnlyWebcamConnected()){const e=this.initScreenPublisher();return e.on("accessAllowed",t=>{e.stream.getMediaStream().getVideoTracks()[0].addEventListener("ended",()=>{this.log.d("Clicked native stop button. Stopping screen sharing"),this.toggleScreenShare()}),this.oVSessionService.enableScreenUser(e),this.oVSessionService.hasWebcamVideoActive()||this.oVSessionService.disableWebcamUser()}),void e.on("accessDenied",e=>{this.log.w("ScreenShare: Access Denied")})}this.oVSessionService.enableWebcamUser(),this.oVSessionService.disableScreenUser()}}toggleMic(){this.isAudioActive=!this.isAudioActive,this.publishAudio(this.isAudioActive)}takePhoto(){this.oVSessionService.setWebcamAvatar(),this.videoAvatar=this.oVSessionService.getWebCamAvatar(),this.oVSessionService.setAvatar(et.VIDEO)}setNicknameForm(){if(this.externalConfig)return void this.nicknameFormControl.setValue(this.externalConfig.getNickname());const e=this.storageSrv.get(this.USER_NICKNAME)||this.utilsSrv.generateNickname();this.nicknameFormControl.setValue(e)}eventKeyPress(e){e&&13===e.keyCode&&this.nicknameFormControl.valid&&this.joinSession()}onResize(e){this.columns=e.target.innerWidth>900?2:1}joinSession(){this.nicknameFormControl.valid&&(this.oVSessionService.setWebcamName(this.nicknameFormControl.value),this.storageSrv.set(this.USER_NICKNAME,this.nicknameFormControl.value),this.join.emit()),this.scrollToBottom()}close(){this.leaveSession.emit(),this.showConfigCard=!1}setAvatar(e){const t=e===et.VIDEO?et.VIDEO:et.RANDOM;(t===et.RANDOM&&this.randomAvatar||t===et.VIDEO&&this.videoAvatar)&&(this.avatarSelected=t)}setDevicesInfo(){this.hasVideoDevices=this.oVDevicesService.hasVideoDeviceAvailable(),this.hasAudioDevices=this.oVDevicesService.hasAudioDeviceAvailable(),this.microphones=this.oVDevicesService.getMicrophones(),this.cameras=this.oVDevicesService.getCameras(),this.camSelected=this.oVDevicesService.getCamSelected(),this.micSelected=this.oVDevicesService.getMicSelected()}setSessionName(){this.route.params.subscribe(e=>{this.mySessionId=this.externalConfig?this.externalConfig.getSessionName():e.roomName,this.oVSessionService.setSessionId(this.mySessionId)})}setRandomAvatar(){this.randomAvatar=this.utilsSrv.getOpenViduAvatar(),this.oVSessionService.setAvatar(et.RANDOM,this.randomAvatar),this.avatarSelected=et.RANDOM}scrollToBottom(){try{this.bodyCard.nativeElement.scrollTop=this.bodyCard.nativeElement.scrollHeight}catch(e){}}initScreenPublisher(){const e=Ke.SCREEN,t=this.oVSessionService.isWebCamEnabled()&&this.oVSessionService.hasWebcamVideoActive(),n=this.oVSessionService.createProperties(e,void 0,!0,!t&&this.isAudioActive,!1);try{return this.oVSessionService.initScreenPublisher(void 0,n)}catch(i){this.log.e(i),this.utilsSrv.handlerScreenShareError(i)}}publishAudio(e){this.oVSessionService.isWebCamEnabled()?this.oVSessionService.publishWebcamAudio(e):this.oVSessionService.publishScreenAudio(e)}subscribeToUsers(){this.oVUsersSubscription=this.oVSessionService.OVUsers.subscribe(e=>{this.localUsers=e})}initwebcamPublisher(){var e,t;const n=(null===(e=this.micSelected)||void 0===e?void 0:e.device)||void 0,i=(null===(t=this.camSelected)||void 0===t?void 0:t.device)||void 0,o=this.oVSessionService.createProperties(!!this.hasVideoDevices&&i,!!this.hasAudioDevices&&n,!!this.hasVideoDevices&&this.isVideoActive,!!this.hasAudioDevices&&this.isAudioActive,this.camSelected&&this.camSelected.type===dt.FRONT),r=this.oVSessionService.initCamPublisher(void 0,o);this.handlePublisherSuccess(r),this.handlePublisherError(r)}emitPublisher(e){this.publisherCreated.emit(e)}handlePublisherSuccess(e){e.once("accessAllowed",()=>Object(i.a)(this,void 0,void 0,(function*(){if(this.oVDevicesService.areEmptyLabels()){if(yield this.oVDevicesService.initDevices(),this.hasAudioDevices){const t=e.stream.getMediaStream().getAudioTracks()[0].label;this.oVDevicesService.setMicSelected(t)}if(this.hasVideoDevices){const t=e.stream.getMediaStream().getVideoTracks()[0].label;this.oVDevicesService.setCamSelected(t)}this.setDevicesInfo()}this.emitPublisher(e),this.ovSettings.isAutoPublish()?this.joinSession():this.showConfigCard=!0})))}handlePublisherError(e){e.once("accessDenied",e=>{let t;"DEVICE_ACCESS_DENIED"===e.name&&(t="Access to media devices was not allowed."),"NO_INPUT_SOURCE_SET"===e.name&&(t="No video or audio devices have been found. Please, connect at least one."),this.utilsSrv.showErrorMessage(e.name.replace(/_/g," "),t,!0),this.log.e(e.message)})}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(v.a),o.Rb(pt),o.Rb(nt),o.Rb(gt),o.Rb(tt),o.Rb(ft))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-room-config"]],viewQuery:function(e,t){var n;1&e&&o.Wc(Ee,!0),2&e&&o.Dc(n=o.kc())&&(t.bodyCard=n.first)},hostBindings:function(e,t){1&e&&o.jc("beforeunload",(function(){return t.beforeunloadHandler()}),!1,o.Hc)},inputs:{externalConfig:"externalConfig",ovSettings:"ovSettings"},outputs:{join:"join",leaveSession:"leaveSession",publisherCreated:"publisherCreated"},decls:3,vars:6,consts:[["id","roomConfig",3,"ngStyle"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-dialog","modal-xl"],[1,"modal-content","cardContainer"],[1,"modal-header","cardHeader"],[1,"headerLogo"],["id","header_img","alt","OpenVidu Logo","src","https://raw.githubusercontent.com/OpenVidu/openvidu-call/master/openvidu-call-front/src/assets/images/openvidu_logo_grey.png"],[1,"headerTitle"],["mat-mini-fab","","id","closeButton",1,"closeButton",3,"click"],["color","warn","matTooltip","Close"],[1,"modal-body"],["bodyCard",""],[1,"row","align-items-center"],[1,"col-sm-6","col-md-6","col-lg-6","leftSection"],[1,"videoContainer"],[4,"ngFor","ngForOf"],[1,"avatarButton"],["mat-stroked-button","",3,"click"],["matTooltip","Take Photo"],[2,"margin-left","5px"],[1,"col-sm-6","col-md-6","col-lg-6","rightSection"],[1,"avatarContainer"],["fxLayout","row","fxFill","","id","avatarSection",4,"ngIf"],["fxLayout","row","fxFill","","id","devicesSection"],["fxLayout","","fxFlex",""],["fxFlex","20","fxLayoutAlign","center center",1,"one"],["mat-mini-fab","",1,"deviceButton",3,"click"],["matTooltip","Nickname"],["fxFlex","80","fxLayoutAlign","center center",1,"two"],["id","nicknameForm",1,"alternate-theme"],["matInput","","placeholder","Nickname","autocomplete","off",3,"formControl","errorStateMatcher","keypress"],[4,"ngIf"],["fxLayout","row","fxFill","","id","devicesSection",4,"ngIf"],[1,"modal-footer",2,"justify-content","center"],["mat-flat-button","","color","accent","form","nicknameForm","id","joinButton",3,"click"],[3,"streamManager","className",4,"ngIf"],["class","cameraMessageContainer",4,"ngIf"],[3,"streamManager","className"],[1,"cameraMessageContainer"],["fxLayout","row","fxFill","","id","avatarSection"],["fxFlex","100","fxLayoutAlign","center center",1,""],["id","avatarContainer",3,"click"],["id","imgText",4,"ngIf"],["id","avatarImg",3,"src",4,"ngIf"],["id","imgText","color","accent",3,"diameter",4,"ngIf"],["id","imgText"],["id","avatarImg",3,"src"],["id","imgText","color","accent",3,"diameter"],["mat-mini-fab","","id","configCardMicrophoneButton",1,"deviceButton",3,"click"],["matTooltip","Microphone Enabled",4,"ngIf"],["color","warn","matTooltip","Microphone Disabled",4,"ngIf"],[1,"alternate-theme"],["placeholder","Microphone Options",3,"ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matTooltip","Microphone Enabled"],["color","warn","matTooltip","Microphone Disabled"],[3,"value"],["mat-mini-fab","","id","configCardCameraButton",1,"deviceButton",3,"click"],["matTooltip","Camera Enabled",4,"ngIf"],["color","warn","matTooltip","Camera Disabled",4,"ngIf"],["placeholder","Camera Options",3,"ngModel","selectionChange"],["matTooltip","Camera Enabled"],["color","warn","matTooltip","Camera Disabled"],["mat-mini-fab","","id","configCardScreenButton",1,"deviceButton",3,"click"],["matTooltip","Screen Share Enabled",4,"ngIf"],["color","warn","matTooltip","Screen Share Disabled",4,"ngIf"],["matInput","","disabled","","placeholder","Screen",3,"ngModel"],["matTooltip","Screen Share Enabled"],["color","warn","matTooltip","Screen Share Disabled"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.oc(1,"isAutoPublish"),o.Pc(2,He,49,16,"div",1),o.Wb()),2&e&&(o.uc("ngStyle",o.yc(4,Ze,o.pc(1,2,t.ovSettings)?"none":"block")),o.Cb(2),o.uc("ngIf",t.showConfigCard))},directives:[h.n,f.b,h.m,l.a,u.a,d.a,h.l,O.d,O.f,O.a,O.c,p.y,p.p,p.q,_.c,S.b,p.c,p.o,p.g,Dt,x.b,_.b,E.a,p.r,M.n],pipes:[wt,Ct,Ot,xt],styles:[".cardHeader[_ngcontent-%COMP%]{background-color:#ccc;border-radius:14px 14px 0 0;text-align:center;height:50px}.headerLogo[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:inherit}.headerTitle[_ngcontent-%COMP%]{font-size:large;margin:auto}.videoContainer[_ngcontent-%COMP%]{width:100%;height:calc(100% - 50px);text-align:center;margin:auto}.avatarButton[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.videoContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline}.ovVideoSmall[_ngcontent-%COMP%]{position:absolute;width:30%;left:15px;bottom:46px}.cameraMessageContainer[_ngcontent-%COMP%]{height:100%;width:100%;text-align:center;border:2px solid;font-size:large;display:table}.cameraMessageContainer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.deviceButton[_ngcontent-%COMP%]{box-shadow:none;background-color:#f5f5f5}.rightSection[_ngcontent-%COMP%]{padding-left:0!important;text-align:center}.avatarContainer[_ngcontent-%COMP%]{background-color:#f5f5f5;height:40px;text-align:center;display:flex}.avatarContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto}.closeButton[_ngcontent-%COMP%]{position:absolute;top:5px;right:7px;box-shadow:none;background-color:transparent}#roomConfig[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}#header_img[_ngcontent-%COMP%]{max-width:150px}#sessionInfo[_ngcontent-%COMP%]{margin-top:0}#joinButton[_ngcontent-%COMP%]{margin:15px;width:80%}#photoButton[_ngcontent-%COMP%]{margin:10px;text-align:center}#avatarContainer[_ngcontent-%COMP%]{border:1px solid #b6b6b6;width:100px;height:100px;margin:10px;position:relative;cursor:pointer;display:inline-block}#devicesSection[_ngcontent-%COMP%]{margin:15px 0}#avatarSection[_ngcontent-%COMP%], #devicesSection[_ngcontent-%COMP%]{height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important;min-height:auto!important}#imgText[_ngcontent-%COMP%]{display:table}#avatarImg[_ngcontent-%COMP%], #imgText[_ngcontent-%COMP%]{text-align:center;position:absolute;margin:auto;top:25%;left:0;right:0;bottom:25%}#avatarImg[_ngcontent-%COMP%]{height:83%;width:83%}#avatarContainer[_ngcontent-%COMP%], #avatarImg[_ngcontent-%COMP%]{border-radius:25%}#optionsContent[_ngcontent-%COMP%]{position:initial}#nicknameForm[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{max-width:85%!important;position:absolute;top:0;bottom:0;left:0;right:0;max-height:90%;margin:auto;padding:20px;overflow:auto;border:2px solid #fff;border-right:4px solid #fff}@media only screen and (max-width:959px){mat-card[_ngcontent-%COMP%]{max-width:80%!important;max-height:80%!important}}  .mat-option-text{color:#000!important}  .mat-slider-thumb{visibility:hidden}  .mat-slider-vertical .mat-slider-track-background,   .mat-slider-vertical .mat-slider-track-fill,   .mat-slider-vertical .mat-slider-track-wrapper{width:10px!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#b8afaf;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#888}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e1e1e1;border-radius:4px}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}.container[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:768px){.container[_ngcontent-%COMP%]{width:750px}}@media (min-width:992px){.container[_ngcontent-%COMP%]{width:970px}}@media (min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.container-fluid[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px}.row-no-gutters[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.row-no-gutters[_ngcontent-%COMP%]   [class*=col-][_ngcontent-%COMP%]{padding-right:0;padding-left:0}.col-lg-1[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-xs-1[_ngcontent-%COMP%], .col-xs-10[_ngcontent-%COMP%], .col-xs-11[_ngcontent-%COMP%], .col-xs-12[_ngcontent-%COMP%], .col-xs-2[_ngcontent-%COMP%], .col-xs-3[_ngcontent-%COMP%], .col-xs-4[_ngcontent-%COMP%], .col-xs-5[_ngcontent-%COMP%], .col-xs-6[_ngcontent-%COMP%], .col-xs-7[_ngcontent-%COMP%], .col-xs-8[_ngcontent-%COMP%], .col-xs-9[_ngcontent-%COMP%]{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-1[_ngcontent-%COMP%], .col-xs-10[_ngcontent-%COMP%], .col-xs-11[_ngcontent-%COMP%], .col-xs-12[_ngcontent-%COMP%], .col-xs-2[_ngcontent-%COMP%], .col-xs-3[_ngcontent-%COMP%], .col-xs-4[_ngcontent-%COMP%], .col-xs-5[_ngcontent-%COMP%], .col-xs-6[_ngcontent-%COMP%], .col-xs-7[_ngcontent-%COMP%], .col-xs-8[_ngcontent-%COMP%], .col-xs-9[_ngcontent-%COMP%]{float:left}.col-xs-12[_ngcontent-%COMP%]{width:100%}.col-xs-11[_ngcontent-%COMP%]{width:91.66666667%}.col-xs-10[_ngcontent-%COMP%]{width:83.33333333%}.col-xs-9[_ngcontent-%COMP%]{width:75%}.col-xs-8[_ngcontent-%COMP%]{width:66.66666667%}.col-xs-7[_ngcontent-%COMP%]{width:58.33333333%}.col-xs-6[_ngcontent-%COMP%]{width:50%}.col-xs-5[_ngcontent-%COMP%]{width:41.66666667%}.col-xs-4[_ngcontent-%COMP%]{width:33.33333333%}.col-xs-3[_ngcontent-%COMP%]{width:25%}.col-xs-2[_ngcontent-%COMP%]{width:16.66666667%}.col-xs-1[_ngcontent-%COMP%]{width:8.33333333%}.col-xs-pull-12[_ngcontent-%COMP%]{right:100%}.col-xs-pull-11[_ngcontent-%COMP%]{right:91.66666667%}.col-xs-pull-10[_ngcontent-%COMP%]{right:83.33333333%}.col-xs-pull-9[_ngcontent-%COMP%]{right:75%}.col-xs-pull-8[_ngcontent-%COMP%]{right:66.66666667%}.col-xs-pull-7[_ngcontent-%COMP%]{right:58.33333333%}.col-xs-pull-6[_ngcontent-%COMP%]{right:50%}.col-xs-pull-5[_ngcontent-%COMP%]{right:41.66666667%}.col-xs-pull-4[_ngcontent-%COMP%]{right:33.33333333%}.col-xs-pull-3[_ngcontent-%COMP%]{right:25%}.col-xs-pull-2[_ngcontent-%COMP%]{right:16.66666667%}.col-xs-pull-1[_ngcontent-%COMP%]{right:8.33333333%}.col-xs-pull-0[_ngcontent-%COMP%]{right:auto}.col-xs-push-12[_ngcontent-%COMP%]{left:100%}.col-xs-push-11[_ngcontent-%COMP%]{left:91.66666667%}.col-xs-push-10[_ngcontent-%COMP%]{left:83.33333333%}.col-xs-push-9[_ngcontent-%COMP%]{left:75%}.col-xs-push-8[_ngcontent-%COMP%]{left:66.66666667%}.col-xs-push-7[_ngcontent-%COMP%]{left:58.33333333%}.col-xs-push-6[_ngcontent-%COMP%]{left:50%}.col-xs-push-5[_ngcontent-%COMP%]{left:41.66666667%}.col-xs-push-4[_ngcontent-%COMP%]{left:33.33333333%}.col-xs-push-3[_ngcontent-%COMP%]{left:25%}.col-xs-push-2[_ngcontent-%COMP%]{left:16.66666667%}.col-xs-push-1[_ngcontent-%COMP%]{left:8.33333333%}.col-xs-push-0[_ngcontent-%COMP%]{left:auto}.col-xs-offset-12[_ngcontent-%COMP%]{margin-left:100%}.col-xs-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.col-xs-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.col-xs-offset-9[_ngcontent-%COMP%]{margin-left:75%}.col-xs-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.col-xs-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.col-xs-offset-6[_ngcontent-%COMP%]{margin-left:50%}.col-xs-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.col-xs-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.col-xs-offset-3[_ngcontent-%COMP%]{margin-left:25%}.col-xs-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.col-xs-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-xs-offset-0[_ngcontent-%COMP%]{margin-left:0}@media (min-width:768px){.col-sm-1[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%]{float:left}.col-sm-12[_ngcontent-%COMP%]{width:100%}.col-sm-11[_ngcontent-%COMP%]{width:91.66666667%}.col-sm-10[_ngcontent-%COMP%]{width:83.33333333%}.col-sm-9[_ngcontent-%COMP%]{width:75%}.col-sm-8[_ngcontent-%COMP%]{width:66.66666667%}.col-sm-7[_ngcontent-%COMP%]{width:58.33333333%}.col-sm-6[_ngcontent-%COMP%]{width:50%}.col-sm-5[_ngcontent-%COMP%]{width:41.66666667%}.col-sm-4[_ngcontent-%COMP%]{width:33.33333333%}.col-sm-3[_ngcontent-%COMP%]{width:25%}.col-sm-2[_ngcontent-%COMP%]{width:16.66666667%}.col-sm-1[_ngcontent-%COMP%]{width:8.33333333%}.col-sm-pull-12[_ngcontent-%COMP%]{right:100%}.col-sm-pull-11[_ngcontent-%COMP%]{right:91.66666667%}.col-sm-pull-10[_ngcontent-%COMP%]{right:83.33333333%}.col-sm-pull-9[_ngcontent-%COMP%]{right:75%}.col-sm-pull-8[_ngcontent-%COMP%]{right:66.66666667%}.col-sm-pull-7[_ngcontent-%COMP%]{right:58.33333333%}.col-sm-pull-6[_ngcontent-%COMP%]{right:50%}.col-sm-pull-5[_ngcontent-%COMP%]{right:41.66666667%}.col-sm-pull-4[_ngcontent-%COMP%]{right:33.33333333%}.col-sm-pull-3[_ngcontent-%COMP%]{right:25%}.col-sm-pull-2[_ngcontent-%COMP%]{right:16.66666667%}.col-sm-pull-1[_ngcontent-%COMP%]{right:8.33333333%}.col-sm-pull-0[_ngcontent-%COMP%]{right:auto}.col-sm-push-12[_ngcontent-%COMP%]{left:100%}.col-sm-push-11[_ngcontent-%COMP%]{left:91.66666667%}.col-sm-push-10[_ngcontent-%COMP%]{left:83.33333333%}.col-sm-push-9[_ngcontent-%COMP%]{left:75%}.col-sm-push-8[_ngcontent-%COMP%]{left:66.66666667%}.col-sm-push-7[_ngcontent-%COMP%]{left:58.33333333%}.col-sm-push-6[_ngcontent-%COMP%]{left:50%}.col-sm-push-5[_ngcontent-%COMP%]{left:41.66666667%}.col-sm-push-4[_ngcontent-%COMP%]{left:33.33333333%}.col-sm-push-3[_ngcontent-%COMP%]{left:25%}.col-sm-push-2[_ngcontent-%COMP%]{left:16.66666667%}.col-sm-push-1[_ngcontent-%COMP%]{left:8.33333333%}.col-sm-push-0[_ngcontent-%COMP%]{left:auto}.col-sm-offset-12[_ngcontent-%COMP%]{margin-left:100%}.col-sm-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.col-sm-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.col-sm-offset-9[_ngcontent-%COMP%]{margin-left:75%}.col-sm-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.col-sm-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.col-sm-offset-6[_ngcontent-%COMP%]{margin-left:50%}.col-sm-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.col-sm-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.col-sm-offset-3[_ngcontent-%COMP%]{margin-left:25%}.col-sm-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.col-sm-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-sm-offset-0[_ngcontent-%COMP%]{margin-left:0}}@media (min-width:992px){.col-md-1[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%]{float:left}.col-md-12[_ngcontent-%COMP%]{width:100%}.col-md-11[_ngcontent-%COMP%]{width:91.66666667%}.col-md-10[_ngcontent-%COMP%]{width:83.33333333%}.col-md-9[_ngcontent-%COMP%]{width:75%}.col-md-8[_ngcontent-%COMP%]{width:66.66666667%}.col-md-7[_ngcontent-%COMP%]{width:58.33333333%}.col-md-6[_ngcontent-%COMP%]{width:50%}.col-md-5[_ngcontent-%COMP%]{width:41.66666667%}.col-md-4[_ngcontent-%COMP%]{width:33.33333333%}.col-md-3[_ngcontent-%COMP%]{width:25%}.col-md-2[_ngcontent-%COMP%]{width:16.66666667%}.col-md-1[_ngcontent-%COMP%]{width:8.33333333%}.col-md-pull-12[_ngcontent-%COMP%]{right:100%}.col-md-pull-11[_ngcontent-%COMP%]{right:91.66666667%}.col-md-pull-10[_ngcontent-%COMP%]{right:83.33333333%}.col-md-pull-9[_ngcontent-%COMP%]{right:75%}.col-md-pull-8[_ngcontent-%COMP%]{right:66.66666667%}.col-md-pull-7[_ngcontent-%COMP%]{right:58.33333333%}.col-md-pull-6[_ngcontent-%COMP%]{right:50%}.col-md-pull-5[_ngcontent-%COMP%]{right:41.66666667%}.col-md-pull-4[_ngcontent-%COMP%]{right:33.33333333%}.col-md-pull-3[_ngcontent-%COMP%]{right:25%}.col-md-pull-2[_ngcontent-%COMP%]{right:16.66666667%}.col-md-pull-1[_ngcontent-%COMP%]{right:8.33333333%}.col-md-pull-0[_ngcontent-%COMP%]{right:auto}.col-md-push-12[_ngcontent-%COMP%]{left:100%}.col-md-push-11[_ngcontent-%COMP%]{left:91.66666667%}.col-md-push-10[_ngcontent-%COMP%]{left:83.33333333%}.col-md-push-9[_ngcontent-%COMP%]{left:75%}.col-md-push-8[_ngcontent-%COMP%]{left:66.66666667%}.col-md-push-7[_ngcontent-%COMP%]{left:58.33333333%}.col-md-push-6[_ngcontent-%COMP%]{left:50%}.col-md-push-5[_ngcontent-%COMP%]{left:41.66666667%}.col-md-push-4[_ngcontent-%COMP%]{left:33.33333333%}.col-md-push-3[_ngcontent-%COMP%]{left:25%}.col-md-push-2[_ngcontent-%COMP%]{left:16.66666667%}.col-md-push-1[_ngcontent-%COMP%]{left:8.33333333%}.col-md-push-0[_ngcontent-%COMP%]{left:auto}.col-md-offset-12[_ngcontent-%COMP%]{margin-left:100%}.col-md-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.col-md-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.col-md-offset-9[_ngcontent-%COMP%]{margin-left:75%}.col-md-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.col-md-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.col-md-offset-6[_ngcontent-%COMP%]{margin-left:50%}.col-md-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.col-md-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.col-md-offset-3[_ngcontent-%COMP%]{margin-left:25%}.col-md-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.col-md-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-md-offset-0[_ngcontent-%COMP%]{margin-left:0}}@media (min-width:1200px){.col-lg-1[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%]{float:left}.col-lg-12[_ngcontent-%COMP%]{width:100%}.col-lg-11[_ngcontent-%COMP%]{width:91.66666667%}.col-lg-10[_ngcontent-%COMP%]{width:83.33333333%}.col-lg-9[_ngcontent-%COMP%]{width:75%}.col-lg-8[_ngcontent-%COMP%]{width:66.66666667%}.col-lg-7[_ngcontent-%COMP%]{width:58.33333333%}.col-lg-6[_ngcontent-%COMP%]{width:50%}.col-lg-5[_ngcontent-%COMP%]{width:41.66666667%}.col-lg-4[_ngcontent-%COMP%]{width:33.33333333%}.col-lg-3[_ngcontent-%COMP%]{width:25%}.col-lg-2[_ngcontent-%COMP%]{width:16.66666667%}.col-lg-1[_ngcontent-%COMP%]{width:8.33333333%}.col-lg-pull-12[_ngcontent-%COMP%]{right:100%}.col-lg-pull-11[_ngcontent-%COMP%]{right:91.66666667%}.col-lg-pull-10[_ngcontent-%COMP%]{right:83.33333333%}.col-lg-pull-9[_ngcontent-%COMP%]{right:75%}.col-lg-pull-8[_ngcontent-%COMP%]{right:66.66666667%}.col-lg-pull-7[_ngcontent-%COMP%]{right:58.33333333%}.col-lg-pull-6[_ngcontent-%COMP%]{right:50%}.col-lg-pull-5[_ngcontent-%COMP%]{right:41.66666667%}.col-lg-pull-4[_ngcontent-%COMP%]{right:33.33333333%}.col-lg-pull-3[_ngcontent-%COMP%]{right:25%}.col-lg-pull-2[_ngcontent-%COMP%]{right:16.66666667%}.col-lg-pull-1[_ngcontent-%COMP%]{right:8.33333333%}.col-lg-pull-0[_ngcontent-%COMP%]{right:auto}.col-lg-push-12[_ngcontent-%COMP%]{left:100%}.col-lg-push-11[_ngcontent-%COMP%]{left:91.66666667%}.col-lg-push-10[_ngcontent-%COMP%]{left:83.33333333%}.col-lg-push-9[_ngcontent-%COMP%]{left:75%}.col-lg-push-8[_ngcontent-%COMP%]{left:66.66666667%}.col-lg-push-7[_ngcontent-%COMP%]{left:58.33333333%}.col-lg-push-6[_ngcontent-%COMP%]{left:50%}.col-lg-push-5[_ngcontent-%COMP%]{left:41.66666667%}.col-lg-push-4[_ngcontent-%COMP%]{left:33.33333333%}.col-lg-push-3[_ngcontent-%COMP%]{left:25%}.col-lg-push-2[_ngcontent-%COMP%]{left:16.66666667%}.col-lg-push-1[_ngcontent-%COMP%]{left:8.33333333%}.col-lg-push-0[_ngcontent-%COMP%]{left:auto}.col-lg-offset-12[_ngcontent-%COMP%]{margin-left:100%}.col-lg-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.col-lg-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.col-lg-offset-9[_ngcontent-%COMP%]{margin-left:75%}.col-lg-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.col-lg-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.col-lg-offset-6[_ngcontent-%COMP%]{margin-left:50%}.col-lg-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.col-lg-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.col-lg-offset-3[_ngcontent-%COMP%]{margin-left:25%}.col-lg-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.col-lg-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-lg-offset-0[_ngcontent-%COMP%]{margin-left:0}}.modal-open[_ngcontent-%COMP%]{overflow:hidden}.modal[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:0;z-index:1050;overflow:hidden;-webkit-overflow-scrolling:touch;outline:0;display:block;height:100%}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translate(0,-25%);transition:transform .3s ease-out}.modal.in[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translate(0,0)}.modal-open[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.modal-dialog[_ngcontent-%COMP%]{width:auto;margin:30px;padding:100px 0;position:absolute;top:40%;left:50%;transform:translate(-50%,-50%)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:15px;box-shadow:0 3px 9px rgba(0,0,0,.5);outline:0}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade[_ngcontent-%COMP%]{opacity:0}.modal-backdrop.in[_ngcontent-%COMP%]{opacity:.5}.modal-header[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #e5e5e5}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-top:-2px}.modal-title[_ngcontent-%COMP%]{margin:0;line-height:1.42857143}.modal-body[_ngcontent-%COMP%]{position:relative;padding:15px}.modal-footer[_ngcontent-%COMP%]{padding:1px;text-align:center;border-top:1px solid #e5e5e5}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-bottom:0;margin-left:5px}.modal-footer[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:-1px}.modal-footer[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%] + .btn-block[_ngcontent-%COMP%]{margin-left:0}.modal-scrollbar-measure[_ngcontent-%COMP%]{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (max-width:600px){.headerTitle[_ngcontent-%COMP%]{display:none}.headerLogo[_ngcontent-%COMP%]{right:0}}@media (max-width:767px){.row[_ngcontent-%COMP%]{height:100%}.leftSection[_ngcontent-%COMP%]{height:60%}.rightSection[_ngcontent-%COMP%]{padding-right:0!important}.headerTitle[_ngcontent-%COMP%]{font-size:medium}.modal-content[_ngcontent-%COMP%]{max-height:100%;height:100%}.modal-dialog[_ngcontent-%COMP%]{height:calc(100% - 10px);margin:5px;padding:0;position:relative;top:0;left:0;transform:none}.modal-body[_ngcontent-%COMP%]{padding:10px 20px;overflow:auto;height:calc(100% - 120px);overflow:-moz-scrollbars-vertical;overflow-x:hidden;overflow-y:scroll}.modal[_ngcontent-%COMP%]{max-height:100%}.videoContainer[_ngcontent-%COMP%]{width:60%}}@media (min-width:768px){.ovVideoSmall[_ngcontent-%COMP%]{width:40%}.row[_ngcontent-%COMP%]{display:flex!important}.modal-dialog[_ngcontent-%COMP%]{width:90%;margin:55px auto}.modal-content[_ngcontent-%COMP%]{box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm[_ngcontent-%COMP%]{width:300px}}@media (min-width:992px){.modal-lg[_ngcontent-%COMP%]{width:75%}}@media (min-width:1440px){.modal-xl[_ngcontent-%COMP%]{width:75%}}"]}),e})(),Vt=(()=>{let e=class{};return e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({factory:function(t){return new(t||e)},providers:[mt,nt,pt,it,gt,tt,rt,ot,ft],imports:[[h.c,m.c,p.k,p.t,l.b,k.a,C.b,u.b,S.c,_.e,g.c,d.b,w.b,P.a,E.b,M.o,x.a,T.a,b.d,c.b,I.a,y.a.forRoot()]]}),e})()},"/dLB":function(e,t,n){"use strict";var i;t.__esModule=!0,(i=t.VideoInsertMode||(t.VideoInsertMode={})).AFTER="AFTER",i.APPEND="APPEND",i.BEFORE="BEFORE",i.PREPEND="PREPEND",i.REPLACE="REPLACE"},"/u9M":function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("LXjW")),o=i.tokenize,r=i.options.Options;function s(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e){return e.replace(/"/g,"&quot;")}function c(e){if(!e)return"";var t=[];for(var n in e)t.push(n+'="'+a(e[n]+"")+'"');return t.join(" ")}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=new r(t);for(var n=o(e),i=[],l=0;l<n.length;l++){var u=n[l];if("nl"===u.type&&t.nl2br)i.push("<br>\n");else if(u.isLink&&t.check(u)){var d=t.resolve(u),h=d.formatted,p=d.formattedHref,f=d.tagName,g=d.className,m=d.target,v=d.attributes,b="<"+f+' href="'+a(p)+'"';g&&(b+=' class="'+a(g)+'"'),m&&(b+=' target="'+a(m)+'"'),v&&(b+=" "+c(v)),b+=">"+s(h)+"</"+f+">",i.push(b)}else i.push(s(u.toString()))}return i.join("")}if(!String.prototype.linkify)try{Object.defineProperty(String.prototype,"linkify",{set:function(){},get:function(){return function(e){return l(this,e)}}})}catch(u){String.prototype.linkify||(String.prototype.linkify=function(e){return l(this,e)})}t.default=l},"0srX":function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return p})),n.d(t,"v3",(function(){return S})),n.d(t,"v4",(function(){return C})),n.d(t,"v5",(function(){return x}));var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function r(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}for(var s=[],a=0;a<256;++a)s[a]=(a+256).toString(16).substr(1);var c,l,u=function(e,t){var n=t||0;return[s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]]].join("")},d=0,h=0,p=function(e,t,n){var i=t&&n||0,o=t||[],s=(e=e||{}).node||c,a=void 0!==e.clockseq?e.clockseq:l;if(null==s||null==a){var p=e.random||(e.rng||r)();null==s&&(s=c=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==a&&(a=l=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:h+1,m=f-d+(g-h)/1e4;if(m<0&&void 0===e.clockseq&&(a=a+1&16383),(m<0||f>d)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=f,h=g,l=a;var v=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;o[i++]=v>>>24&255,o[i++]=v>>>16&255,o[i++]=v>>>8&255,o[i++]=255&v;var b=f/4294967296*1e4&268435455;o[i++]=b>>>8&255,o[i++]=255&b,o[i++]=b>>>24&15|16,o[i++]=b>>>16&255,o[i++]=a>>>8|128,o[i++]=255&a;for(var y=0;y<6;++y)o[i+y]=s[y];return t||u(o)},f=function(e,t,n){var i=function(e,i,o,r){var s=o&&r||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)),"string"==typeof i&&(i=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(i)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=n(i.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,o)for(var c=0;c<16;++c)o[s+c]=a[c];return o||u(a)};try{i.name=e}catch(o){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function g(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,i,o,r){return g((s=g(g(t,e),g(i,r)))<<(a=o)|s>>>32-a,n);var s,a}function v(e,t,n,i,o,r,s){return m(t&n|~t&i,e,t,o,r,s)}function b(e,t,n,i,o,r,s){return m(t&i|n&~i,e,t,o,r,s)}function y(e,t,n,i,o,r,s){return m(t^n^i,e,t,o,r,s)}function _(e,t,n,i,o,r,s){return m(n^(t|~i),e,t,o,r,s)}var S=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var n=0;n<t.length;n++)e[n]=t.charCodeAt(n)}return function(e){var t,n,i,o=[],r=32*e.length;for(t=0;t<r;t+=8)n=e[t>>5]>>>t%32&255,i=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16),o.push(i);return o}(function(e,t){var n,i,o,r,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,c=-271733879,l=-1732584194,u=271733878;for(n=0;n<e.length;n+=16)i=a,o=c,r=l,s=u,a=v(a,c,l,u,e[n],7,-680876936),u=v(u,a,c,l,e[n+1],12,-389564586),l=v(l,u,a,c,e[n+2],17,606105819),c=v(c,l,u,a,e[n+3],22,-1044525330),a=v(a,c,l,u,e[n+4],7,-176418897),u=v(u,a,c,l,e[n+5],12,1200080426),l=v(l,u,a,c,e[n+6],17,-1473231341),c=v(c,l,u,a,e[n+7],22,-45705983),a=v(a,c,l,u,e[n+8],7,1770035416),u=v(u,a,c,l,e[n+9],12,-1958414417),l=v(l,u,a,c,e[n+10],17,-42063),c=v(c,l,u,a,e[n+11],22,-1990404162),a=v(a,c,l,u,e[n+12],7,1804603682),u=v(u,a,c,l,e[n+13],12,-40341101),l=v(l,u,a,c,e[n+14],17,-1502002290),a=b(a,c=v(c,l,u,a,e[n+15],22,1236535329),l,u,e[n+1],5,-165796510),u=b(u,a,c,l,e[n+6],9,-1069501632),l=b(l,u,a,c,e[n+11],14,643717713),c=b(c,l,u,a,e[n],20,-373897302),a=b(a,c,l,u,e[n+5],5,-701558691),u=b(u,a,c,l,e[n+10],9,38016083),l=b(l,u,a,c,e[n+15],14,-660478335),c=b(c,l,u,a,e[n+4],20,-405537848),a=b(a,c,l,u,e[n+9],5,568446438),u=b(u,a,c,l,e[n+14],9,-1019803690),l=b(l,u,a,c,e[n+3],14,-187363961),c=b(c,l,u,a,e[n+8],20,1163531501),a=b(a,c,l,u,e[n+13],5,-1444681467),u=b(u,a,c,l,e[n+2],9,-51403784),l=b(l,u,a,c,e[n+7],14,1735328473),a=y(a,c=b(c,l,u,a,e[n+12],20,-1926607734),l,u,e[n+5],4,-378558),u=y(u,a,c,l,e[n+8],11,-2022574463),l=y(l,u,a,c,e[n+11],16,1839030562),c=y(c,l,u,a,e[n+14],23,-35309556),a=y(a,c,l,u,e[n+1],4,-1530992060),u=y(u,a,c,l,e[n+4],11,1272893353),l=y(l,u,a,c,e[n+7],16,-155497632),c=y(c,l,u,a,e[n+10],23,-1094730640),a=y(a,c,l,u,e[n+13],4,681279174),u=y(u,a,c,l,e[n],11,-358537222),l=y(l,u,a,c,e[n+3],16,-722521979),c=y(c,l,u,a,e[n+6],23,76029189),a=y(a,c,l,u,e[n+9],4,-640364487),u=y(u,a,c,l,e[n+12],11,-421815835),l=y(l,u,a,c,e[n+15],16,530742520),a=_(a,c=y(c,l,u,a,e[n+2],23,-995338651),l,u,e[n],6,-198630844),u=_(u,a,c,l,e[n+7],10,1126891415),l=_(l,u,a,c,e[n+14],15,-1416354905),c=_(c,l,u,a,e[n+5],21,-57434055),a=_(a,c,l,u,e[n+12],6,1700485571),u=_(u,a,c,l,e[n+3],10,-1894986606),l=_(l,u,a,c,e[n+10],15,-1051523),c=_(c,l,u,a,e[n+1],21,-2054922799),a=_(a,c,l,u,e[n+8],6,1873313359),u=_(u,a,c,l,e[n+15],10,-30611744),l=_(l,u,a,c,e[n+6],15,-1560198380),c=_(c,l,u,a,e[n+13],21,1309151649),a=_(a,c,l,u,e[n+4],6,-145523070),u=_(u,a,c,l,e[n+11],10,-1120210379),l=_(l,u,a,c,e[n+2],15,718787259),c=_(c,l,u,a,e[n+9],21,-343485551),a=g(a,i),c=g(c,o),l=g(l,r),u=g(u,s);return[a,c,l,u]}(function(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e[t/8])<<t%32;return n}(e),8*e.length))})),C=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[i+s]=o[s];return t||u(o)};function O(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function w(e,t){return e<<t|e>>>32-t}var x=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=new Array(i.length);for(var o=0;o<i.length;o++)e[o]=i.charCodeAt(o)}e.push(128);var r=Math.ceil((e.length/4+2)/16),s=new Array(r);for(o=0;o<r;o++){s[o]=new Array(16);for(var a=0;a<16;a++)s[o][a]=e[64*o+4*a]<<24|e[64*o+4*a+1]<<16|e[64*o+4*a+2]<<8|e[64*o+4*a+3]}for(s[r-1][14]=8*(e.length-1)/Math.pow(2,32),s[r-1][14]=Math.floor(s[r-1][14]),s[r-1][15]=8*(e.length-1)&4294967295,o=0;o<r;o++){for(var c=new Array(80),l=0;l<16;l++)c[l]=s[o][l];for(l=16;l<80;l++)c[l]=w(c[l-3]^c[l-8]^c[l-14]^c[l-16],1);var u=n[0],d=n[1],h=n[2],p=n[3],f=n[4];for(l=0;l<80;l++){var g=Math.floor(l/20),m=w(u,5)+O(g,d,h,p)+f+t[g]+c[l]>>>0;f=p,p=h,h=w(d,30)>>>0,d=u,u=m}n[0]=n[0]+u>>>0,n[1]=n[1]+d>>>0,n[2]=n[2]+h>>>0,n[3]=n[3]+p>>>0,n[4]=n[4]+f>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}))},"0wxW":function(e,t,n){var i=n("de4E"),o=n("pLL0");t.JsonRPC=i,t.XmlRPC=o},"1Kca":function(e,t,n){"use strict";var i=n("dY/r");e.exports=function(e){var t,o={stun:(e||{}).stun||n("KFtI"),turn:(e||{}).turn||n("hw9W")},r=(e||{}).turnCount||0;function s(e,t){for(var n,r=[],s=[].concat(o[e]);s.length&&r.length<t;)n=Math.random()*s.length|0,r=r.concat(s.splice(n,1));return r.map((function(t){return"string"==typeof t||t instanceof String?i(e+":"+t):t}))}return t=[].concat(s("stun",(e||{}).stunCount||2)),r&&(t=t.concat(s("turn",r))),t}},"5kmN":function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n("1Kca"),s=n("0srX"),a=n("bDgZ"),c=n("9m68").OpenViduLogger.getInstance(),l=function(){function e(e){var t=this;this.configuration=e,this.remoteCandidatesQueue=[],this.localCandidatesQueue=[],this.iceCandidateList=[],this.candidategatheringdone=!1,this.configuration.iceServers=this.configuration.iceServers&&this.configuration.iceServers.length>0?this.configuration.iceServers:r(),this.pc=new RTCPeerConnection({iceServers:this.configuration.iceServers}),this.id=e.id?e.id:this.generateUniqueId(),this.pc.onicecandidate=function(e){if(e.candidate){var n=e.candidate;n?(t.localCandidatesQueue.push({candidate:n.candidate}),t.candidategatheringdone=!1,t.configuration.onicecandidate(e.candidate)):t.candidategatheringdone||(t.candidategatheringdone=!0)}},this.pc.onsignalingstatechange=function(){if("stable"===t.pc.signalingState)for(;t.iceCandidateList.length>0;){var e=t.iceCandidateList.shift();t.pc.addIceCandidate(e)}},this.start()}return e.prototype.start=function(){var e=this;return new Promise((function(t,n){if("closed"===e.pc.signalingState&&n('The peer connection object is in "closed" state. This is most likely due to an invocation of the dispose method before accepting in the dialogue'),e.configuration.mediaStream){for(var i=0,o=e.configuration.mediaStream.getTracks();i<o.length;i++)e.pc.addTrack(o[i],e.configuration.mediaStream);t()}}))},e.prototype.dispose=function(){if(c.debug("Disposing WebRtcPeer"),this.pc){if("closed"===this.pc.signalingState)return;this.pc.close(),this.remoteCandidatesQueue=[],this.localCandidatesQueue=[]}},e.prototype.generateOffer=function(){var e=this;return new Promise((function(t,n){var i,o=!0;e.configuration.mediaConstraints&&(i="boolean"!=typeof e.configuration.mediaConstraints.audio||e.configuration.mediaConstraints.audio,o="boolean"!=typeof e.configuration.mediaConstraints.video||e.configuration.mediaConstraints.video);var r={offerToReceiveAudio:"sendonly"!==e.configuration.mode&&i,offerToReceiveVideo:"sendonly"!==e.configuration.mode&&o};c.debug("RTCPeerConnection constraints: "+JSON.stringify(r)),"Safari"===a.name&&-1!==a.ua.indexOf("Safari")?(i&&e.pc.addTransceiver("audio",{direction:e.configuration.mode}),o&&e.pc.addTransceiver("video",{direction:e.configuration.mode}),e.pc.createOffer().then((function(t){return c.debug("Created SDP offer"),e.pc.setLocalDescription(t)})).then((function(){var i=e.pc.localDescription;i?(c.debug("Local description set",i.sdp),t(i.sdp)):n("Local description is not defined")})).catch((function(e){return n(e)}))):e.pc.createOffer(r).then((function(t){return c.debug("Created SDP offer"),e.pc.setLocalDescription(t)})).then((function(){var i=e.pc.localDescription;i?(c.debug("Local description set",i.sdp),t(i.sdp)):n("Local description is not defined")})).catch((function(e){return n(e)}))}))},e.prototype.processAnswer=function(e,t){var n=this;return new Promise((function(i,o){var r={type:"answer",sdp:e};c.debug("SDP answer received, setting remote description"),"closed"===n.pc.signalingState&&o("RTCPeerConnection is closed"),n.setRemoteDescription(r,t,i,o)}))},e.prototype.setRemoteDescription=function(e,t,n,i){var o=this;a.isIonicIos?t?setTimeout((function(){c.info("setRemoteDescription run after timeout for Ionic iOS device"),o.pc.setRemoteDescription(new RTCSessionDescription(e)).then((function(){return n()})).catch((function(e){return i(e)}))}),250):this.pc.setRemoteDescription(new RTCSessionDescription(e)).then((function(){return n()})).catch((function(e){return i(e)})):this.pc.setRemoteDescription(e).then((function(){return n()})).catch((function(e){return i(e)}))},e.prototype.addIceCandidate=function(e){var t=this;return new Promise((function(n,i){switch(c.debug("Remote ICE candidate received",e),t.remoteCandidatesQueue.push(e),t.pc.signalingState){case"closed":i(new Error("PeerConnection object is closed"));break;case"stable":t.pc.remoteDescription?t.pc.addIceCandidate(e).then((function(){return n()})).catch((function(e){return i(e)})):(t.iceCandidateList.push(e),n());break;default:t.iceCandidateList.push(e),n()}}))},e.prototype.addIceConnectionStateChangeListener=function(e){var t=this;this.pc.oniceconnectionstatechange=function(){switch(t.pc.iceConnectionState){case"disconnected":c.warn("IceConnectionState of RTCPeerConnection "+t.id+" ("+e+') change to "disconnected". Possible network disconnection');break;case"failed":c.error("IceConnectionState of RTCPeerConnection "+t.id+" ("+e+') to "failed"');break;case"closed":c.log("IceConnectionState of RTCPeerConnection "+t.id+" ("+e+') change to "closed"');break;case"new":c.log("IceConnectionState of RTCPeerConnection "+t.id+" ("+e+') change to "new"');break;case"checking":c.log("IceConnectionState of RTCPeerConnection "+t.id+" ("+e+') change to "checking"');break;case"connected":c.log("IceConnectionState of RTCPeerConnection "+t.id+" ("+e+') change to "connected"');break;case"completed":c.log("IceConnectionState of RTCPeerConnection "+t.id+" ("+e+') change to "completed"')}}},e.prototype.generateUniqueId=function(){return s.v4()},e}();t.WebRtcPeer=l;var u=function(e){function t(t){return t.mode="recvonly",e.call(this,t)||this}return o(t,e),t}(l);t.WebRtcPeerRecvonly=u;var d=function(e){function t(t){return t.mode="sendonly",e.call(this,t)||this}return o(t,e),t}(l);t.WebRtcPeerSendonly=d;var h=function(e){function t(t){return t.mode="sendrecv",e.call(this,t)||this}return o(t,e),t}(l);t.WebRtcPeerSendrecv=h},"6+/i":function(e,t,n){var i;!function(t){"use strict";function o(){}var r=o.prototype,s=t.EventEmitter;function a(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}r.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},r.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===a(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},r.on=c("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=c("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=a(o[i],t))&&o[i].splice(n,1);return this},r.off=c("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},r.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},r.removeAllListeners=c("removeEvent"),r.emitEvent=function(e,t){var n,i,o,r,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].slice(0),o=0;o<n.length;o++)!0===(i=n[o]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},r.trigger=c("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=s,o},void 0===(i=(function(){return o}).call(t,n,t,e))||(e.exports=i)}("undefined"!=typeof window?window:this||{})},"74bm":function(e,t,n){"use strict";t.__esModule=!0;var i=n("BwMD"),o=n("Tt94"),r=n("9m68").OpenViduLogger.getInstance(),s=function(){function e(e,t){this.handlers={},this.type=e,this.options=t}return e.prototype.execMethod=function(e,t){var n=this;return new Promise((function(s,a){var c;if(r.info("Executing filter method to stream "+n.stream.streamId),"string"!=typeof t)try{c=JSON.stringify(t)}catch(u){var l="'params' property must be a JSON formatted object";r.error(l),a(l)}else c=t;n.stream.session.openvidu.sendRequest("execFilterMethod",{streamId:n.stream.streamId,method:e,params:c},(function(t,l){if(t)r.error("Error executing filter method for Stream "+n.stream.streamId,t),a(401===t.code?new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to execute a filter method"):t);else{r.info("Filter method successfully executed on Stream "+n.stream.streamId);var u=Object.assign({},n.stream.filter);n.stream.filter.lastExecMethod={method:e,params:JSON.parse(c)},n.stream.session.emitEvent("streamPropertyChanged",[new i.StreamPropertyChangedEvent(n.stream.session,n.stream,"filter",n.stream.filter,u,"execFilterMethod")]),n.stream.streamManager.emitEvent("streamPropertyChanged",[new i.StreamPropertyChangedEvent(n.stream.streamManager,n.stream,"filter",n.stream.filter,u,"execFilterMethod")]),s()}}))}))},e.prototype.addEventListener=function(e,t){var n=this;return new Promise((function(i,s){r.info("Adding filter event listener to event "+e+" to stream "+n.stream.streamId),n.stream.session.openvidu.sendRequest("addFilterEventListener",{streamId:n.stream.streamId,eventType:e},(function(a,c){a?(r.error("Error adding filter event listener to event "+e+"for Stream "+n.stream.streamId,a),s(401===a.code?new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener"):a)):(n.handlers[e]=t,r.info("Filter event listener to event "+e+" successfully applied on Stream "+n.stream.streamId),i())}))}))},e.prototype.removeEventListener=function(e){var t=this;return new Promise((function(n,i){r.info("Removing filter event listener to event "+e+" to stream "+t.stream.streamId),t.stream.session.openvidu.sendRequest("removeFilterEventListener",{streamId:t.stream.streamId,eventType:e},(function(s,a){s?(r.error("Error removing filter event listener to event "+e+"for Stream "+t.stream.streamId,s),i(401===s.code?new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener"):s)):(delete t.handlers[e],r.info("Filter event listener to event "+e+" successfully removed on Stream "+t.stream.streamId),n())}))}))},e}();t.Filter=s},"7UCR":function(e,t,n){"use strict";n.r(t),n.d(t,"UserModule",(function(){return jt}));var i=n("ofXK"),o=n("tyNb"),r=n("mrSG"),s=n("9xOu"),a=n("3Pt+"),c=n("Esjb"),l=n("cLpZ"),u=n("fXoL"),d=n("eeMe"),h=n.n(d);function p(e,t){if(1&e&&u.Sb(0,"div",4),2&e){const e=u.nc();u.Oc("background-image",e.getPlaceholder(),u.Kb)}}const f=["*"],g=new u.r("DROPZONE_CONFIG"),m=["error","success","sending","canceled","complete","processing","drop","dragStart","dragEnd","dragEnter","dragOver","dragLeave","thumbnail","addedFile","addedFiles","removedFile","uploadProgress","maxFilesReached","maxFilesExceeded","errorMultiple","successMultiple","sendingMultiple","canceledMultiple","completeMultiple","processingMultiple","reset","queueComplete","totalUploadProgress"];class v{constructor(e={}){this.assign(e)}assign(e={},t){t=t||this;for(const n in e)null==e[n]||Array.isArray(e[n])||"object"!=typeof e[n]||e[n]instanceof HTMLElement?t[n]=e[n]:(t[n]={},this.assign(e[n],t[n]))}}let b=(()=>{class e{constructor(e,t,n,i,o,r){this.zone=e,this.renderer=t,this.elementRef=n,this.differs=i,this.platformId=o,this.defaults=r,this.configDiff=null,this.disabled=!1,this.DZ_INIT=new u.o,this.DZ_ERROR=new u.o,this.DZ_SUCCESS=new u.o,this.DZ_SENDING=new u.o,this.DZ_CANCELED=new u.o,this.DZ_COMPLETE=new u.o,this.DZ_PROCESSING=new u.o,this.DZ_DROP=new u.o,this.DZ_DRAGSTART=new u.o,this.DZ_DRAGEND=new u.o,this.DZ_DRAGENTER=new u.o,this.DZ_DRAGOVER=new u.o,this.DZ_DRAGLEAVE=new u.o,this.DZ_THUMBNAIL=new u.o,this.DZ_ADDEDFILE=new u.o,this.DZ_ADDEDFILES=new u.o,this.DZ_REMOVEDFILE=new u.o,this.DZ_UPLOADPROGRESS=new u.o,this.DZ_MAXFILESREACHED=new u.o,this.DZ_MAXFILESEXCEEDED=new u.o,this.DZ_ERRORMULTIPLE=new u.o,this.DZ_SUCCESSMULTIPLE=new u.o,this.DZ_SENDINGMULTIPLE=new u.o,this.DZ_CANCELEDMULTIPLE=new u.o,this.DZ_COMPLETEMULTIPLE=new u.o,this.DZ_PROCESSINGMULTIPLE=new u.o,this.DZ_RESET=new u.o,this.DZ_QUEUECOMPLETE=new u.o,this.DZ_TOTALUPLOADPROGRESS=new u.o,h.a.autoDiscover=!1}ngOnInit(){if(!Object(i.B)(this.platformId))return;const e=new v(this.defaults);e.assign(this.config),this.renderer.addClass(this.elementRef.nativeElement,1===e.maxFiles?"dz-single":"dz-multiple"),this.renderer.removeClass(this.elementRef.nativeElement,1===e.maxFiles?"dz-multiple":"dz-single"),this.zone.runOutsideAngular(()=>{this.instance=new h.a(this.elementRef.nativeElement,e)}),this.disabled&&this.instance.disable(),this.DZ_INIT.observers.length&&this.zone.run(()=>{this.DZ_INIT.emit(this.instance)}),this.instance.on("success",()=>{null!=e.autoReset&&setTimeout(()=>this.reset(),e.autoReset)}),this.instance.on("error",()=>{null!=e.errorReset&&setTimeout(()=>this.reset(),e.errorReset)}),this.instance.on("canceled",()=>{null!=e.cancelReset&&setTimeout(()=>this.reset(),e.cancelReset)}),m.forEach(e=>{this.instance.on(e.toLowerCase(),(...t)=>{t=1===t.length?t[0]:t;const n=this["DZ_"+e.toUpperCase()];n.observers.length>0&&this.zone.run(()=>{n.emit(t)})})}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{}))}ngOnDestroy(){this.instance&&(this.zone.runOutsideAngular(()=>{this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&this.configDiff.diff(this.config||{})&&this.instance&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(e){this.instance&&e.disabled&&e.disabled.currentValue!==e.disabled.previousValue&&(!1===e.disabled.currentValue?this.zone.runOutsideAngular(()=>{this.instance.enable()}):!0===e.disabled.currentValue&&this.zone.runOutsideAngular(()=>{this.instance.disable()}))}dropzone(){return this.instance}reset(e){this.instance&&this.zone.runOutsideAngular(()=>{this.instance.removeAllFiles(e)})}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(u.A),u.Rb(u.F),u.Rb(u.l),u.Rb(u.u),u.Rb(u.C),u.Rb(g,8))},e.\u0275dir=u.Mb({type:e,selectors:[["","dropzone",""]],inputs:{disabled:"disabled",config:["dropzone","config"]},outputs:{DZ_INIT:"init",DZ_ERROR:"error",DZ_SUCCESS:"success",DZ_SENDING:"sending",DZ_CANCELED:"canceled",DZ_COMPLETE:"complete",DZ_PROCESSING:"processing",DZ_DROP:"drop",DZ_DRAGSTART:"dragStart",DZ_DRAGEND:"dragEnd",DZ_DRAGENTER:"dragEnter",DZ_DRAGOVER:"dragOver",DZ_DRAGLEAVE:"dragLeave",DZ_THUMBNAIL:"thumbnail",DZ_ADDEDFILE:"addedFile",DZ_ADDEDFILES:"addedFiles",DZ_REMOVEDFILE:"removedFile",DZ_UPLOADPROGRESS:"uploadProgress",DZ_MAXFILESREACHED:"maxFilesReached",DZ_MAXFILESEXCEEDED:"maxFilesExceeded",DZ_ERRORMULTIPLE:"errorMultiple",DZ_SUCCESSMULTIPLE:"successMultiple",DZ_SENDINGMULTIPLE:"sendingMultiple",DZ_CANCELEDMULTIPLE:"canceledMultiple",DZ_COMPLETEMULTIPLE:"completeMultiple",DZ_PROCESSINGMULTIPLE:"processingMultiple",DZ_RESET:"reset",DZ_QUEUECOMPLETE:"queueComplete",DZ_TOTALUPLOADPROGRESS:"totalUploadProgress"},exportAs:["ngxDropzone"],features:[u.Ab]}),e})(),y=(()=>{class e{constructor(e){this.platformId=e,this.disabled=!1,this.message="Click or drag files to upload",this.placeholder="",this.useDropzoneClass=!0,this.DZ_INIT=new u.o,this.DZ_ERROR=new u.o,this.DZ_SUCCESS=new u.o,this.DZ_SENDING=new u.o,this.DZ_CANCELED=new u.o,this.DZ_COMPLETE=new u.o,this.DZ_PROCESSING=new u.o,this.DZ_DROP=new u.o,this.DZ_DRAGSTART=new u.o,this.DZ_DRAGEND=new u.o,this.DZ_DRAGENTER=new u.o,this.DZ_DRAGOVER=new u.o,this.DZ_DRAGLEAVE=new u.o,this.DZ_THUMBNAIL=new u.o,this.DZ_ADDEDFILE=new u.o,this.DZ_ADDEDFILES=new u.o,this.DZ_REMOVEDFILE=new u.o,this.DZ_UPLOADPROGRESS=new u.o,this.DZ_MAXFILESREACHED=new u.o,this.DZ_MAXFILESEXCEEDED=new u.o,this.DZ_ERRORMULTIPLE=new u.o,this.DZ_SUCCESSMULTIPLE=new u.o,this.DZ_SENDINGMULTIPLE=new u.o,this.DZ_CANCELEDMULTIPLE=new u.o,this.DZ_COMPLETEMULTIPLE=new u.o,this.DZ_PROCESSINGMULTIPLE=new u.o,this.DZ_RESET=new u.o,this.DZ_QUEUECOMPLETE=new u.o,this.DZ_TOTALUPLOADPROGRESS=new u.o}ngOnInit(){Object(i.B)(this.platformId)&&window.setTimeout(()=>{m.forEach(e=>{if(this.directiveRef){const t="DZ_"+e.toUpperCase();this.directiveRef[t]=this[t]}})},0)}getPlaceholder(){return"url("+encodeURI(this.placeholder)+")"}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(u.C))},e.\u0275cmp=u.Lb({type:e,selectors:[["dropzone"]],viewQuery:function(e,t){var n;1&e&&u.Nc(b,!0),2&e&&u.Dc(n=u.kc())&&(t.directiveRef=n.first)},inputs:{disabled:"disabled",message:"message",placeholder:"placeholder",useDropzoneClass:"useDropzoneClass",config:"config"},outputs:{DZ_INIT:"init",DZ_ERROR:"error",DZ_SUCCESS:"success",DZ_SENDING:"sending",DZ_CANCELED:"canceled",DZ_COMPLETE:"complete",DZ_PROCESSING:"processing",DZ_DROP:"drop",DZ_DRAGSTART:"dragStart",DZ_DRAGEND:"dragEnd",DZ_DRAGENTER:"dragEnter",DZ_DRAGOVER:"dragOver",DZ_DRAGLEAVE:"dragLeave",DZ_THUMBNAIL:"thumbnail",DZ_ADDEDFILE:"addedFile",DZ_ADDEDFILES:"addedFiles",DZ_REMOVEDFILE:"removedFile",DZ_UPLOADPROGRESS:"uploadProgress",DZ_MAXFILESREACHED:"maxFilesReached",DZ_MAXFILESEXCEEDED:"maxFilesExceeded",DZ_ERRORMULTIPLE:"errorMultiple",DZ_SUCCESSMULTIPLE:"successMultiple",DZ_SENDINGMULTIPLE:"sendingMultiple",DZ_CANCELEDMULTIPLE:"canceledMultiple",DZ_COMPLETEMULTIPLE:"completeMultiple",DZ_PROCESSINGMULTIPLE:"processingMultiple",DZ_RESET:"reset",DZ_QUEUECOMPLETE:"queueComplete",DZ_TOTALUPLOADPROGRESS:"totalUploadProgress"},exportAs:["ngxDropzone"],ngContentSelectors:f,decls:5,vars:10,consts:[[1,"dz-wrapper",3,"dropzone","disabled","init"],[1,"dz-message"],[1,"dz-text",3,"innerHTML"],["class","dz-image",3,"background-image",4,"ngIf"],[1,"dz-image"]],template:function(e,t){1&e&&(u.tc(),u.Xb(0,"div",0),u.jc("init",(function(e){return t.DZ_INIT.emit(e)})),u.Xb(1,"div",1),u.Sb(2,"div",2),u.Pc(3,p,1,2,"div",3),u.Wb(),u.sc(4),u.Wb()),2&e&&(u.Hb("dropzone",t.useDropzoneClass),u.uc("dropzone",t.config)("disabled",t.disabled),u.Cb(1),u.Hb("disabled",t.disabled)("dz-placeholder",t.placeholder),u.Cb(1),u.uc("innerHTML",(null==t.config?null:t.config.dictDefaultMessage)||t.message,u.Jc),u.Cb(1),u.uc("ngIf",t.placeholder))},directives:[b,i.m],styles:["dropzone{display:block;height:auto;width:100%}dropzone[fxflex]{display:flex;flex-direction:inherit;min-height:0;min-width:0}dropzone[fxflex]>.dropzone.dz-wrapper{-webkit-box-flex:1;flex:1 1 auto;min-height:0;min-width:0}dropzone[fxlayout]{-webkit-box-align:inherit;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;justify-content:inherit}dropzone[fxlayout]>.dropzone.dz-wrapper.dz-single{-webkit-box-align:center;-webkit-box-pack:center;align-content:center;align-items:center;display:flex;flex-direction:column;justify-content:center}dropzone[fxlayout]>.dropzone.dz-wrapper.dz-multiple{-webkit-box-align:flex-start;-webkit-box-pack:flex-start;align-content:flex-start;align-items:flex-start;display:flex;flex-flow:row wrap;justify-content:space-between}dropzone>.dropzone.dz-wrapper{background:transparent;border:none;color:#666;max-height:100%;min-height:0;overflow:auto;padding:0;position:relative;width:100%}dropzone>.dropzone.dz-wrapper .dz-message{background-color:#eee;border:2px dashed #aaa;display:inline-block;margin:8px;max-height:100%;max-width:calc(100% - 16px);min-height:40px;min-width:calc(100% - 16px);overflow:auto;position:relative;width:calc(100% - 16px)}dropzone>.dropzone.dz-wrapper .dz-message .dz-text{padding:8px 16px;position:absolute;text-align:center;top:50%;transform:translateY(-50%);width:100%}dropzone>.dropzone.dz-wrapper .dz-message .dz-image{background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;width:100%}dropzone>.dropzone.dz-wrapper .dz-message.disabled{cursor:not-allowed}dropzone>.dropzone.dz-wrapper .dz-message.disabled .dz-text{opacity:.5}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder{border-color:rgba(#aaa,0)}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder .dz-text{background-color:rgba(#fff,.5);font-weight:700;left:10%;opacity:0;position:absolute;right:10%;top:0;transform:translateY(-50%);transition:filter .25s ease-in-out,opacity .25s ease-in-out,border-color .25s ease-in-out;z-index:1}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder:hover:not(.disabled){border-color:#aaa}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder:hover:not(.disabled) .dz-text{opacity:1}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder:hover:not(.disabled) .dz-image{filter:blur(8px)}dropzone>.dropzone.dz-wrapper .dz-preview{margin:8px}dropzone>.dropzone.dz-wrapper .dz-preview .dz-details{padding:24px}dropzone>.dropzone.dz-wrapper .dz-preview .dz-progress{border:1px solid #aaa;border-radius:4px;margin-left:-40%;width:80%}dropzone>.dropzone.dz-wrapper .dz-preview .dz-progress .dz-upload{background-color:#666}dropzone>.dropzone.dz-wrapper .dz-preview .dz-filename span{display:block;max-width:100%;overflow:hidden;text-overflow:ellipsis;width:100%}dropzone>.dropzone.dz-wrapper .dz-preview .dz-filename span:hover{overflow:visible;white-space:normal;word-wrap:break-word}dropzone>.dropzone.dz-wrapper.dz-single .dz-message{height:100%;width:100%}dropzone>.dropzone.dz-wrapper.dz-single.dz-started .dz-message{display:none}dropzone>.dropzone.dz-wrapper.dz-single .dz-preview{height:100%;width:calc(100% - 16px)}dropzone>.dropzone.dz-wrapper.dz-single .dz-preview .dz-image{border-radius:0;height:100%;width:100%}dropzone>.dropzone.dz-wrapper.dz-single .dz-preview .dz-image img{display:block;height:auto;margin:0;width:100%}dropzone>.dropzone.dz-wrapper.dz-single .dz-error-message{left:50%;top:50%;transform:translateX(-50%) translateY(100%)}dropzone>.dropzone.dz-wrapper.dz-multiple.dz-started .dz-message{display:inline-block}",'@-webkit-keyframes passing-through{0%{opacity:0;transform:translateY(40px)}30%,70%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-40px)}}@keyframes passing-through{0%{opacity:0;transform:translateY(40px)}30%,70%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-40px)}}@-webkit-keyframes slide-in{0%{opacity:0;transform:translateY(40px)}30%{opacity:1;transform:translateY(0)}}@keyframes slide-in{0%{opacity:0;transform:translateY(40px)}30%{opacity:1;transform:translateY(0)}}@-webkit-keyframes pulse{0%{transform:scale(1)}10%{transform:scale(1.1)}20%{transform:scale(1)}}@keyframes pulse{0%{transform:scale(1)}10%{transform:scale(1.1)}20%{transform:scale(1)}}.dropzone,.dropzone *{box-sizing:border-box}.dropzone{background:#fff;border:2px solid rgba(0,0,0,.3);min-height:150px;padding:20px}.dropzone.dz-clickable{cursor:pointer}.dropzone.dz-clickable *{cursor:default}.dropzone.dz-clickable .dz-message,.dropzone.dz-clickable .dz-message *{cursor:pointer}.dropzone.dz-started .dz-message{display:none}.dropzone.dz-drag-hover{border-style:solid}.dropzone.dz-drag-hover .dz-message{opacity:.5}.dropzone .dz-message{margin:2em 0;text-align:center}.dropzone .dz-message .dz-button{background:none;border:none;color:inherit;cursor:pointer;font:inherit;outline:inherit;padding:0}.dropzone .dz-preview{display:inline-block;margin:16px;min-height:100px;position:relative;vertical-align:top}.dropzone .dz-preview:hover{z-index:1000}.dropzone .dz-preview.dz-file-preview .dz-image{background:#999;background:linear-gradient(180deg,#eee,#ddd);border-radius:20px}.dropzone .dz-preview.dz-file-preview .dz-details{opacity:1}.dropzone .dz-preview.dz-image-preview{background:#fff}.dropzone .dz-preview.dz-image-preview .dz-details{transition:opacity .2s linear}.dropzone .dz-preview .dz-remove{border:none;cursor:pointer;display:block;font-size:14px;text-align:center}.dropzone .dz-preview .dz-remove:hover{text-decoration:underline}.dropzone .dz-preview:hover .dz-details{opacity:1}.dropzone .dz-preview .dz-details{color:rgba(0,0,0,.9);font-size:13px;left:0;line-height:150%;max-width:100%;min-width:100%;opacity:0;padding:2em 1em;position:absolute;text-align:center;top:0;z-index:20}.dropzone .dz-preview .dz-details .dz-size{font-size:16px;margin-bottom:1em}.dropzone .dz-preview .dz-details .dz-filename{white-space:nowrap}.dropzone .dz-preview .dz-details .dz-filename:hover span{background-color:hsla(0,0%,100%,.8);border:1px solid hsla(0,0%,78.4%,.8)}.dropzone .dz-preview .dz-details .dz-filename:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone .dz-preview .dz-details .dz-filename:not(:hover) span{border:1px solid transparent}.dropzone .dz-preview .dz-details .dz-filename span,.dropzone .dz-preview .dz-details .dz-size span{background-color:hsla(0,0%,100%,.4);border-radius:3px;padding:0 .4em}.dropzone .dz-preview:hover .dz-image img{filter:blur(8px);transform:scale(1.05)}.dropzone .dz-preview .dz-image{border-radius:20px;display:block;height:120px;overflow:hidden;position:relative;width:120px;z-index:10}.dropzone .dz-preview .dz-image img{display:block}.dropzone .dz-preview.dz-success .dz-success-mark{-webkit-animation:passing-through 3s cubic-bezier(.77,0,.175,1);animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone .dz-preview.dz-error .dz-error-mark{-webkit-animation:slide-in 3s cubic-bezier(.77,0,.175,1);animation:slide-in 3s cubic-bezier(.77,0,.175,1);opacity:1}.dropzone .dz-preview .dz-error-mark,.dropzone .dz-preview .dz-success-mark{display:block;left:50%;margin-left:-27px;margin-top:-27px;opacity:0;pointer-events:none;position:absolute;top:50%;z-index:500}.dropzone .dz-preview .dz-error-mark svg,.dropzone .dz-preview .dz-success-mark svg{display:block;height:54px;width:54px}.dropzone .dz-preview.dz-processing .dz-progress{opacity:1;transition:all .2s linear}.dropzone .dz-preview.dz-complete .dz-progress{opacity:0;transition:opacity .4s ease-in}.dropzone .dz-preview:not(.dz-processing) .dz-progress{-webkit-animation:pulse 6s ease infinite;animation:pulse 6s ease infinite}.dropzone .dz-preview .dz-progress{-webkit-transform:scale(1);background:hsla(0,0%,100%,.9);border-radius:8px;height:16px;left:50%;margin-left:-40px;margin-top:-8px;opacity:1;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:80px;z-index:1000}.dropzone .dz-preview .dz-progress .dz-upload{background:#333;background:linear-gradient(180deg,#666,#444);bottom:0;left:0;position:absolute;top:0;transition:width .3s ease-in-out;width:0}.dropzone .dz-preview.dz-error .dz-error-message{display:block}.dropzone .dz-preview.dz-error:hover .dz-error-message{opacity:1;pointer-events:auto}.dropzone .dz-preview .dz-error-message{background:#be2626;background:linear-gradient(180deg,#be2626,#a92222);border-radius:8px;color:#fff;display:block;display:none;font-size:13px;left:-10px;opacity:0;padding:.5em 1.2em;pointer-events:none;position:absolute;top:130px;transition:opacity .3s ease;width:140px;z-index:1000}.dropzone .dz-preview .dz-error-message:after{border-bottom:6px solid #be2626;border-left:6px solid transparent;border-right:6px solid transparent;content:"";height:0;left:64px;position:absolute;top:-6px;width:0}'],encapsulation:2}),e})(),_=(()=>{class e{}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(t){return new(t||e)},imports:[[i.c],i.c]}),e})();var S=n("wd/R"),C=n("lwos"),O=n("7dP1"),w=n("tVj7"),x=n("Rnal"),E=n("5eHb"),M=n("hzby"),R=n("Xa2L"),k=n("fZdh");function P(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1,"Full name is required"),u.Wb())}function T(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1," Full name should contain only alphabetical characters "),u.Wb())}function I(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1,"User name is required"),u.Wb())}function A(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1," Please write alphabetical characters before numbers for username "),u.Wb())}function D(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1,"E-mail is required"),u.Wb())}function L(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1," E-mail is "),u.Xb(2,"strong"),u.Rc(3,"invalid"),u.Wb(),u.Wb())}function j(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1,"Password is required"),u.Wb())}function N(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1," Password should not contain spaces "),u.Wb())}function U(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1," Password should be between 6-15 characters "),u.Wb())}function V(e,t){1&e&&(u.Xb(0,"span",16),u.Rc(1,"Birth day is required"),u.Wb())}function z(e,t){1&e&&u.Sb(0,"mat-spinner",17),2&e&&u.uc("diameter",15)}function F(e,t){if(1&e){const e=u.Yb();u.Xb(0,"dropzone",18,19),u.jc("removedFile",(function(){return u.Ic(e),u.nc().removeImage()}))("thumbnail",(function(t){return u.Ic(e),u.nc().onAddedFile(t)})),u.Wb()}if(2&e){const e=u.nc();u.uc("config",e.dropzoneConfig)("message","Click or drag an image to upload")}}const B=function(){return{"background-size":"cover"}};function W(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",20),u.oc(1,"getImgPath"),u.Xb(2,"i",21),u.jc("click",(function(){return u.Ic(e),u.nc().removeImage()})),u.Wb(),u.Wb()}if(2&e){const e=u.nc();u.Oc("background",u.rc(1,3,e.profileImg,"user_avatars","background"),u.Kb),u.uc("ngStyle",u.xc(7,B))}}const q=function(e){return{maxDate:e,showWeekNumbers:!1}};let G=(()=>{class e{constructor(e,t,n,i,o,r,s){this.fb=e,this.loader=t,this.auth=n,this.usersService=i,this.getAuthUser=o,this.toastr=r,this.router=s,this.isSubmitted=!1,this.subscriptions=[],this.currentDate=new Date,this.dropzoneConfig=g,this.dropzoneFiles=[],this.initForm(),this.authUser=this.getAuthUser.transform(),this.profileForm.patchValue(Object.assign(Object.assign({},this.authUser),{birthday:S(this.authUser.birthday).format("MM/DD/YYYY")}))}initForm(){this.profileForm=this.fb.group({id:[""],full_name:["",[a.w.required,Object(c.a)(l.g)]],username:["",[a.w.required,Object(c.a)(l.f)]],email:["",[a.w.required,Object(c.a)(l.a)]],password:["",[a.w.required,Object(c.a)(l.d),a.w.minLength(s.g),a.w.maxLength(s.f)]],birthday:["",a.w.required],avatar:[""]})}ngOnInit(){}dateChanged(e){}removeImage(){this.authUser.avatar="",this.profileForm.patchValue({avatar:""})}onAddedFile(e){this.dropzoneFiles.push(e[0]),this.profileForm.patchValue({avatar:e[0].name}),console.log(e)}buildFormData(){const e=new FormData,t=this.profileForm.value,n=Object.entries(this.dropzoneFiles).length>0;for(const i in this.profileForm.value)"birthday"===i?t.birthday&&e.append(i,S(new Date(this.profileForm.value[i])).format("YYYY-MM-DD")):"avatar"===i&&n||e.append(i,this.profileForm.value[i]);if(n){const t=this.dropzoneFiles[0],n=`avatar_${Date.now()}.jpg`;e.append("avatar",n),e.append("user_avatar_file",t,n)}return e}saveChanges(){const e=this.buildFormData();this.usersService.saveProfileChanges(e).subscribe(e=>Object(r.a)(this,void 0,void 0,(function*(){localStorage.setItem("token",e.hasOwnProperty("token")?e.token:""),this.toastr.success("The changes are saved successfully"),yield this.router.navigateByUrl("")})))}get fullName(){return this.profileForm.get("full_name")}get email(){return this.profileForm.get("email")}get pass(){return this.profileForm.get("password")}get username(){return this.profileForm.get("username")}get confirmPass(){return this.profileForm.get("confirm_password")}get birthday(){return this.profileForm.get("birthday")}get profileImg(){return!!this.authUser&&this.authUser.avatar}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(a.e),u.Rb(C.a),u.Rb(O.a),u.Rb(w.a),u.Rb(x.a),u.Rb(E.b),u.Rb(o.d))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-profile"]],decls:26,vars:18,consts:[[1,"flex-wrap-reverse",3,"formGroup"],[1,"left-side","pr-lg-2"],["placeholder","Full Name","formControlName","full_name",1,"login-input"],["class","error",4,"ngIf"],["placeholder","User name","formControlName","username",1,"login-input"],[1,"register-block","birthday-block"],["type","text","formControlName","birthday","placeholder","Birthday","bsDatepicker","",1,"login-input",3,"bsConfig","maxDate","bsValueChange"],["placeholder","Email","formControlName","email",1,"login-input"],["placeholder","Password","type","password","formControlName","password",1,"login-input"],[1,"actions"],[1,"save-profile-changes",3,"click"],[3,"diameter",4,"ngIf"],[1,"right-side","mx-auto","ml-xl-4","pl-lg-2"],[1,"userImg"],["id","dropzone","class","profileImgDropzone single",3,"config","message","removedFile","thumbnail",4,"ngIf"],["class","profile-img",3,"background","ngStyle",4,"ngIf"],[1,"error"],[3,"diameter"],["id","dropzone",1,"profileImgDropzone","single",3,"config","message","removedFile","thumbnail"],["dropzone",""],[1,"profile-img",3,"ngStyle"],[1,"fa","fa-times","remove-profile-img",3,"click"]],template:function(e,t){1&e&&(u.Xb(0,"form",0),u.Xb(1,"div",1),u.Sb(2,"input",2),u.Pc(3,P,2,0,"span",3),u.Pc(4,T,2,0,"span",3),u.Sb(5,"input",4),u.Pc(6,I,2,0,"span",3),u.Pc(7,A,2,0,"span",3),u.Xb(8,"div",5),u.Xb(9,"input",6),u.jc("bsValueChange",(function(e){return t.dateChanged(e)})),u.Wb(),u.Wb(),u.Sb(10,"input",7),u.Pc(11,D,2,0,"span",3),u.Pc(12,L,4,0,"span",3),u.Sb(13,"input",8),u.Pc(14,j,2,0,"span",3),u.Pc(15,N,2,0,"span",3),u.Pc(16,U,2,0,"span",3),u.Pc(17,V,2,0,"span",3),u.Xb(18,"div",9),u.Xb(19,"a",10),u.jc("click",(function(){return t.saveChanges()})),u.Rc(20,"Save changes"),u.Wb(),u.Pc(21,z,1,1,"mat-spinner",11),u.Wb(),u.Wb(),u.Xb(22,"div",12),u.Xb(23,"div",13),u.Pc(24,F,2,2,"dropzone",14),u.Pc(25,W,3,8,"div",15),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.uc("formGroup",t.profileForm),u.Cb(3),u.uc("ngIf",t.isSubmitted&&t.fullName.hasError("required")),u.Cb(1),u.uc("ngIf",t.isSubmitted&&t.fullName.hasError("patternInvalid")),u.Cb(2),u.uc("ngIf",t.isSubmitted&&t.username.hasError("required")),u.Cb(1),u.uc("ngIf",t.isSubmitted&&t.username.hasError("patternInvalid")),u.Cb(2),u.uc("bsConfig",u.yc(16,q,t.maxDate))("maxDate",t.maxDate),u.Cb(2),u.uc("ngIf",t.isSubmitted&&t.email.hasError("required")),u.Cb(1),u.uc("ngIf",t.isSubmitted&&t.email.hasError("patternInvalid")),u.Cb(2),u.uc("ngIf",t.isSubmitted&&t.pass.hasError("required")),u.Cb(1),u.uc("ngIf",t.pass.hasError("patternInvalid")),u.Cb(1),u.uc("ngIf",t.pass.hasError("maxlength")||t.pass.hasError("minlength")),u.Cb(1),u.uc("ngIf",t.isSubmitted&&t.birthday.hasError("required")),u.Cb(4),u.uc("ngIf",t.loader.formProcessing),u.Cb(3),u.uc("ngIf",!t.profileImg),u.Cb(1),u.uc("ngIf",t.profileImg))},directives:[a.y,a.p,a.i,a.c,a.o,a.h,i.m,M.b,M.a,R.b,y,i.n],pipes:[k.a],styles:[".login-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100vh}.login-logo[_ngcontent-%COMP%]{cursor:pointer}.login-content-right[_ngcontent-%COMP%]{background:#fff;width:57%}.login-content-left[_ngcontent-%COMP%]{width:43%;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;background:url(back-login.53f102952f1c83155d3a.png)}.login-abs[_ngcontent-%COMP%]{position:absolute;right:0}.login-btn[_ngcontent-%COMP%]{background:#fff;color:#18b587!important}.login-btn[_ngcontent-%COMP%], .register-btn[_ngcontent-%COMP%]{border-radius:28px 0 0 28px;width:128px;height:57px;display:flex;justify-content:center;align-items:center;font-size:20px;font-family:Muli-Bold;transition:.3s ease-in-out}.register-btn[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer}.register-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#18b587!important}.login-content-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding-left:150px}.login-title[_ngcontent-%COMP%]{color:#545454;font-size:32px;font-family:Muli-Bold;margin-bottom:32px}.login-input[_ngcontent-%COMP%]{width:100%;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular}.login-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px #18b587}.forgot-password[_ngcontent-%COMP%]{text-align:right;color:#545454;font-size:16px;font-family:Muli-Regular;cursor:pointer;transition:.3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover{color:#f53c6f}.login-block[_ngcontent-%COMP%]{width:430px}.login-submit[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f;padding:15px 32px;margin-bottom:32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;margin-top:47px;transition:.3s ease-in-out;cursor:pointer}.login-submit[_ngcontent-%COMP%]:hover{background:#c52551}.register-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.register-select[_ngcontent-%COMP%]{width:200px;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular;outline:none;border:0}.register-select[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px rgba(245,60,111,.14);border:.5px solid #f53c6f}.register-day[_ngcontent-%COMP%]{width:100px;height:51px;box-shadow:0 0 6px rgba(0,109,204,.18);padding:15px 32px;margin-bottom:8px;margin-top:20px;color:#cecece;font-size:16px;font-family:Muli-Regular;outline:none;border:0}.register-day[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px rgba(245,60,111,.14);border:.5px solid #f53c6f}@media (max-width:1400px){.login-logo[_ngcontent-%COMP%]{width:250px;margin-left:100px}.login-content-left[_ngcontent-%COMP%]{align-items:start}}@media (max-width:1200px){.login-logo[_ngcontent-%COMP%]{margin-left:40px}.login-content-right[_ngcontent-%COMP%]{padding-left:80px}}@media (max-width:991px){.login-content-left[_ngcontent-%COMP%]{align-items:start;height:400px;width:100%}.login-content-right[_ngcontent-%COMP%]{padding-left:0;width:100%;align-items:center;margin-top:60px}.login-content[_ngcontent-%COMP%]{height:auto;flex-direction:column}}@media (max-width:480px){.register-block[_ngcontent-%COMP%]{flex-direction:column}.register-day[_ngcontent-%COMP%], .register-select[_ngcontent-%COMP%]{width:100%}.login-block[_ngcontent-%COMP%]{width:90%}.login-title[_ngcontent-%COMP%]{font-size:27px}.forgot-password[_ngcontent-%COMP%], .login-title[_ngcontent-%COMP%]{text-align:center}.login-btn[_ngcontent-%COMP%]{width:128px;margin-right:0}.login-btn[_ngcontent-%COMP%], .register-btn[_ngcontent-%COMP%]{height:45px;font-size:16px}.login-logo[_ngcontent-%COMP%]{width:150px}}.birthday-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:32px;margin-top:47px}.actions[_ngcontent-%COMP%]   .register-submit[_ngcontent-%COMP%]{width:100%;height:51px;background:#f53c6f;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;cursor:pointer}.actions[_ngcontent-%COMP%]   .register-submit[_ngcontent-%COMP%]:hover{background:#c52551}.actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-left:20px}form[_ngcontent-%COMP%]{display:flex}form[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{flex:1;min-width:360px;width:100%;max-width:400px;margin:0 auto}@media screen and (max-width:410px){form[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{min-width:260px}}form[_ngcontent-%COMP%]   .save-profile-changes[_ngcontent-%COMP%]{width:100%;height:51px;background-color:#18b587;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;cursor:pointer}form[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:400px;height:400px;position:relative}form[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]   .remove-profile-img[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:7px;top:6px;color:#fff;background:#f53c6f;padding:5px}@media screen and (max-width:767px){form[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{margin-left:0}}"]}),e})();var X=n("PZzU"),Y=n("tk/3");let H=(()=>{class e{constructor(e){this.httpClient=e}getToken(e){return this.httpClient.get(s.b+"users/session/get-token",{params:e})}getSession(){return this.httpClient.post(s.b+"api/sessions",{})}leaveSession(e){return this.httpClient.get(s.b+"users/session/leave",{params:e})}}return e.\u0275fac=function(t){return new(t||e)(u.fc(Y.b))},e.\u0275prov=u.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=n("wDcp"),Q=n("FFj9");let J=(()=>{class e{constructor(e){this.httpClient=e}getChatMessages(e){return this.httpClient.get(s.b+"chat/get-messages",{params:e})}saveMessage(e){return this.httpClient.post(s.b+"chat/save-message",e)}}return e.\u0275fac=function(t){return new(t||e)(u.fc(Y.b))},e.\u0275prov=u.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var K=n("0IaG"),$=n("8OJ3"),ee=n("qe5e"),te=n("OWZb"),ne=n("Uj0G");function ie(e,t){1&e&&(u.Xb(0,"div",3),u.Xb(1,"h2"),u.Rc(2,"Live video ended"),u.Wb(),u.Wb())}let oe=(()=>{class e{constructor(e,t,n,i,o){this.videoService=t,this.getAuthUser=n,this.blobToFile=i,this.subject=o,this.idx="clip1",this.recordingState="idle",this.shareScreen=new u.o,this.recordingStarted=new u.o,this.screenSharing=!1,this.player=!1,this.plugin=te,this.config={controls:!0,autoplay:!1,fluid:!1,loop:!1,width:640,height:480,bigPlayButton:!1,controlBar:{volumePanel:!0},plugins:{record:{audio:!0,video:{frameRate:{ideal:30,max:30},width:{min:640,ideal:640,max:1280},height:{min:480,ideal:480,max:720}},screen:!0,displayMilliseconds:!1,maxLength:3600,debug:!0,videoEngine:"recordrtc",videoMimeType:"video/webm;codecs=H264",frameWidth:640,frameHeight:480}}}}ngOnInit(){this.authUser=this.getAuthUser.transform()}ngAfterViewInit(){const e="video_"+this.idx;this.player=Object($.default)(document.getElementById(e),this.config,()=>{const e="Using video.js "+$.default.VERSION+" with videojs-record "+$.default.getPluginVersion("record")+" and recordrtc "+ee.version;$.default.log(e)},()=>{this.player.updateSrc([{src:"https://vjs.zencdn.net/v/oceans.mp4?SD",type:"video/mp4",label:"SD",res:360},{src:"https://vjs.zencdn.net/v/oceans.mp4?HD",type:"video/mp4",label:"HD",res:720}]),this.player.on("resolutionchange",()=>{console.log("Source changed to %s",this.player.src())})}),this.player.on("deviceReady",e=>{this.shareScreen.emit()}),this.player.on("startRecord",e=>{this.recordingState="active",this.subject.setVideoRecordingState({recording:!0,viaSocket:!1}),this.recordingStartTimeStamp=S(this.player.currentTimestamp),this.videoService.saveVideoToken({token:this.openViduToken,author_id:this.authUser.id,channel_id:this.authUser.channel.id,category_id:this.videoSettings.category_id,privacy:this.videoSettings.privacy,filename:"",session_name:this.videoSettings.sessionName,publisher:this.videoSettings.myUserName,status:"live",thumbnail:this.videoSettings.thumbnail,name:this.videoSettings.name,description:this.videoSettings.description,tags:this.videoSettings.tags}).subscribe(e=>{this.videoId=null==e?void 0:e.id,this.recordingStarted.emit(this.videoId)})}),this.player.on("finishRecord",()=>{this.recordingEndTimeStamp=S(this.player.currentTimestamp);const e=S.utc(this.recordingEndTimeStamp.diff(this.recordingStartTimeStamp)).format("mm:ss"),t=new FormData;t.append("username",this.authUser.username),t.append("id",this.videoId),t.append("author_id",this.authUser.id),t.append("video_name",this.player.recordedData.name),t.append("video_duration",e),t.append("video_stream_file",this.blobToFile.transform(this.player.recordedData)),t.append("video_settings",JSON.stringify(this.videoSettings)),this.subject.setVideoRecordingState({recording:!1}),this.recordingState="finished",this.videoService.saveRecordedData(t).subscribe(()=>{localStorage.setItem("session",""),localStorage.setItem("video_settings","")})}),this.player.on("finishConvert",()=>{console.log("finished converting: ",this.player.convertedData)}),this.player.on("error",(e,t)=>{console.warn(t)}),this.player.on("deviceError",()=>{console.error("device error:",this.player.deviceErrorCode)})}ngOnDestroy(){this.player&&(this.player.dispose(),this.player=!1)}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(u.l),u.Rb(Q.a),u.Rb(x.a),u.Rb(ne.a),u.Rb(Z.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-video-js-record"]],inputs:{openViduToken:"openViduToken",videoSettings:"videoSettings",thumbnailFile:"thumbnailFile"},outputs:{shareScreen:"shareScreen",recordingStarted:"recordingStarted"},decls:3,vars:2,consts:[[1,"video-container"],["playsinline","",1,"video-js",3,"id"],["id","live-session-finished",4,"ngIf"],["id","live-session-finished"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Sb(1,"video",1),u.Pc(2,ie,3,0,"div",2),u.Wb()),2&e&&(u.Cb(1),u.wc("id","video_",t.idx,""),u.Cb(1),u.uc("ngIf","finished"===t.recordingState))},directives:[i.m],styles:[".video-js[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{background-color:#000}.video-container[_ngcontent-%COMP%]{flex:1;display:flex}#live-session-finished[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:640px;height:100%;color:#fff;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:center}"]}),e})();var re=n("KN7V");function se(e,t){1&e&&(u.Xb(0,"div",21),u.Sb(1,"mat-spinner",22),u.Wb()),2&e&&(u.Cb(1),u.uc("diameter",30))}function ae(e,t){if(1&e){const e=u.Yb();u.Vb(0),u.Xb(1,"img",26),u.jc("click",(function(){u.Ic(e);const t=u.nc().$implicit;return u.nc(3).selectUserToReply(t)})),u.oc(2,"getImgPath"),u.Wb(),u.Xb(3,"p",27),u.Rc(4),u.Wb(),u.Ub()}if(2&e){const e=u.nc().$implicit,t=u.nc(3);u.Cb(1),u.Hb("selectable",e.from!==t.authUser.username)("selected",t.selectedUsersToReply.includes(e.from)&&t.userSelected),u.uc("src",u.qc(2,6,e.avatar,"user_avatars"),u.Kc),u.Cb(3),u.Sc(e.from+(e.from===t.authUser.username?"(Me)":""))}}function ce(e,t){if(1&e){const e=u.Yb();u.Vb(0),u.Xb(1,"img",26),u.jc("click",(function(){u.Ic(e);const t=u.nc().$implicit;return u.nc(3).selectUserToReply(t)})),u.oc(2,"getImgPath"),u.Wb(),u.Xb(3,"p",27),u.Rc(4),u.Wb(),u.Ub()}if(2&e){const e=u.nc().$implicit,t=u.nc(3);u.Cb(1),u.Hb("selectable",e.user.from!==t.authUser.username)("selected",t.selectedUsersToReply.includes(e.from)&&t.userSelected),u.uc("src",u.qc(2,6,e.user.avatar,"user_avatars"),u.Kc),u.Cb(3),u.Sc(e.user.from+(e.user.from===t.authUser.username?"(Me)":""))}}function le(e,t){if(1&e&&(u.Xb(0,"div",24),u.Pc(1,ae,5,9,"ng-container",1),u.Pc(2,ce,5,9,"ng-container",1),u.Xb(3,"p",25),u.Rc(4),u.Wb(),u.Wb()),2&e){const e=t.$implicit;u.Cb(1),u.uc("ngIf",e.from),u.Cb(1),u.uc("ngIf",!e.from),u.Cb(2),u.Sc(e.message)}}function ue(e,t){if(1&e&&(u.Vb(0),u.Pc(1,le,5,3,"div",23),u.Ub()),2&e){const e=u.nc(2);u.Cb(1),u.uc("ngForOf",e.messages)}}function de(e,t){if(1&e){const e=u.Yb();u.Vb(0),u.Xb(1,"div",2),u.Xb(2,"div",3),u.Xb(3,"div",4),u.Rc(4," Chat "),u.Wb(),u.Xb(5,"div",5),u.Xb(6,"a",6),u.Rc(7,"Action"),u.Wb(),u.Xb(8,"a",6),u.Rc(9,"Another action"),u.Wb(),u.Xb(10,"a",6),u.Rc(11,"Something else here"),u.Wb(),u.Wb(),u.Wb(),u.Sb(12,"img",7),u.Wb(),u.Xb(13,"div",8),u.Pc(14,se,2,1,"div",9),u.Pc(15,ue,2,1,"ng-container",1),u.Wb(),u.Xb(16,"div",10),u.Xb(17,"form",11),u.Xb(18,"input",12),u.jc("keyup.enter",(function(t){return u.Ic(e),u.nc().sendMessage(t)})),u.Wb(),u.Xb(19,"emoji-mart",13),u.jc("emojiClick",(function(t){return u.Ic(e),u.nc().addEmoji(t)})),u.Wb(),u.Wb(),u.Xb(20,"div",14),u.Xb(21,"div",15),u.Xb(22,"a",16),u.Rc(23,"Buy Bits"),u.Wb(),u.Sb(24,"div",17),u.Wb(),u.Xb(25,"div",18),u.Xb(26,"p",19),u.Rc(27,"0/200"),u.Wb(),u.Sb(28,"i",20),u.Wb(),u.Wb(),u.Wb(),u.Ub()}if(2&e){const e=u.nc();u.Cb(14),u.uc("ngIf",e.loadingMessages),u.Cb(1),u.uc("ngIf",!e.loadingMessages),u.Cb(2),u.uc("formGroup",e.chatForm),u.Cb(2),u.uc("custom",e.customEmojis)}}function he(e,t){1&e&&(u.Vb(0),u.Xb(1,"div",28),u.Xb(2,"span"),u.Rc(3,"When recording is started, the chat box will appear here"),u.Wb(),u.Wb(),u.Ub())}let pe=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.subject=t,this.getAuthUser=n,this.chatService=i,this.messageSent=!1,this.messages=[],this.selectedUsersToReply=[],this.userSelected=!1,this.apiUrl=s.b,this.loadingMessages=!1,this.customEmojis=[{name:"Octocat",shortNames:["octocat"],text:"",emoticons:[],keywords:["github"],imageUrl:"https://github.githubassets.com/images/icons/emoji/octocat.png"}],this.sendMsg=new u.o,this.authUser=this.getAuthUser.transform(),this.videoRecordingState||(this.videoRecordingState="idle")}ngOnInit(){this.initForm(),this.getChatMessagesFromParentComponents(),this.getVideoRecordingState(),this.loadVideoPreviousMessages()}initForm(){this.chatForm=this.fb.group({token:[this.openViduToken],from:[this.authUser.username],from_id:[this.authUser.id],to_id:[""],avatar:[this.authUser.avatar],message:["",a.w.required]})}loadVideoPreviousMessages(){this.videoId&&(this.loadingMessages=!0,this.chatService.getChatMessages({video_id:this.videoId}).subscribe(e=>{this.messages=e,this.loadingMessages=!1}))}getChatMessagesFromParentComponents(){this.subject.getMsgData().subscribe(e=>{const t={from:"",avatar:"",message:""};if(e.from.includes("clientData")){const n=JSON.parse(e.from.replace(/}%\/%{/g,","));t.from=n.clientData.myUserName,t.avatar=n.avatar,t.message=e.message}t.from!==this.authUser.username&&this.messages.push(t)})}getVideoRecordingState(){this.subject.getVideoRecordingState().subscribe(e=>{this.videoRecordingState=e.recording?"started":"finished"})}selectUserToReply(e){e.from!==this.authUser.username&&(this.userSelected=!0,this.selectedUsersToReply.includes(e.from)?(this.selectedUsersToReply=this.selectedUsersToReply.filter(t=>t!==e.from),this.chatForm.patchValue({message:""})):(this.selectedUsersToReply.push(e.from),this.chatForm.patchValue({message:"@"+e.from})),console.log(this.selectedUsersToReply))}sendMessage(e){if(this.videoId&&this.chatForm.valid){const e=Object.assign({video_id:this.videoId},this.chatForm.value);this.messages.push(e),this.sendMsg.emit(e),this.chatForm.patchValue({message:""})}else console.log("video id is not set")}addEmoji(e){console.log(e),this.chatForm.patchValue({message:this.chatForm.value.message+(e.emoji.native?e.emoji.native:e.emoji.imageUrl)})}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(a.e),u.Rb(Z.a),u.Rb(x.a),u.Rb(J))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-chat-box"]],inputs:{openViduToken:"openViduToken",session:"session",videoId:"videoId",videoRecordingState:"videoRecordingState"},outputs:{sendMsg:"sendMessage"},decls:3,vars:2,consts:[[1,"chat-content"],[4,"ngIf"],[1,"chat-title"],[1,"dropdown"],["id","dropdownChat","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],["aria-labelledby","dropdownChat",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["src","assets/img/dotes.png"],[1,"chat-information"],["class","loader",4,"ngIf"],[1,"chat-footer"],[3,"formGroup"],["formControlName","message","placeholder","Comment",1,"chat-input",3,"keyup.enter"],[3,"custom","emojiClick"],[1,"chat-footer-smile"],[1,"nav-item","dropdown"],["data-toggle","dropdown",1,"chat-by-bits","nav-lin"],[1,"dropdown-menu"],[1,"smile-block"],[1,"smile"],[1,"send","fas","fa-paper-plane"],[1,"loader"],[3,"diameter"],["class","chat-block",4,"ngFor","ngForOf"],[1,"chat-block"],[1,"chat-block-2"],[1,"avatar",3,"src","click"],[1,"chat-block-1"],["id","chat-placeholder"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Pc(1,de,29,4,"ng-container",1),u.Pc(2,he,4,0,"ng-container",1),u.Wb()),2&e&&(u.Cb(1),u.uc("ngIf","started"===t.videoRecordingState),u.Cb(1),u.uc("ngIf","idle"===t.videoRecordingState))},directives:[i.m,a.y,a.p,a.i,a.c,a.o,a.h,re.a,R.b,i.l],pipes:[k.a],styles:[".chat-content[_ngcontent-%COMP%]{height:100%;margin-left:20px}.chat-content[_ngcontent-%COMP%]   #chat-placeholder[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;color:#545454;font-size:12px;padding:10px}.chat-content[_ngcontent-%COMP%]   .chat-information[_ngcontent-%COMP%]{max-height:400px;overflow-y:scroll}.chat-content[_ngcontent-%COMP%]   .chat-information[_ngcontent-%COMP%]   .chat-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:24px!important;height:24px!important}.chat-content[_ngcontent-%COMP%]   .selectable[_ngcontent-%COMP%]{cursor:pointer}.chat-content[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:1px solid #f53c6f}"]}),e})();const fe=["video"];function ge(e,t){1&e&&u.Sb(0,"mat-spinner",2),2&e&&u.uc("diameter",100)}function me(e,t){if(1&e){const e=u.Yb();u.Xb(0,"app-chat-box",15),u.jc("sendMessage",(function(t){return u.Ic(e),u.nc(3).sendMessage(t)})),u.Wb()}if(2&e){const e=u.nc(3);u.uc("openViduToken",e.openViduToken)("session",e.session)("videoId",e.videoId)("videoRecordingState",e.recordingState)}}function ve(e,t){if(1&e&&(u.Xb(0,"li"),u.Rc(1),u.Wb()),2&e){const e=t.$implicit;u.Cb(1),u.Sc(e)}}function be(e,t){if(1&e){const e=u.Yb();u.Vb(0),u.Xb(1,"div",7),u.Xb(2,"div",8),u.Xb(3,"app-video-js-record",9),u.jc("recordingStarted",(function(t){return u.Ic(e),u.nc(2).getRecordedVideoId(t)})),u.Wb(),u.Wb(),u.Xb(4,"div",10),u.Pc(5,me,1,4,"app-chat-box",11),u.Wb(),u.Wb(),u.Xb(6,"div",12),u.Sb(7,"i",13),u.Rc(8),u.Xb(9,"ul"),u.Pc(10,ve,2,1,"li",14),u.Wb(),u.Wb(),u.Ub()}if(2&e){const e=u.nc(2);u.Cb(3),u.uc("openViduToken",e.openViduToken)("thumbnailFile",e.thumbnailFile)("videoSettings",e.videoSettings),u.Cb(2),u.uc("ngIf",e.videoId),u.Cb(3),u.Tc("",e.participants.length," "),u.Cb(2),u.uc("ngForOf",e.participants)}}function ye(e,t){1&e&&(u.Xb(0,"div",16),u.Xb(1,"div",17),u.Sb(2,"img",18),u.Xb(3,"p",19),u.Xb(4,"b"),u.Rc(5,"There is no session data defined."),u.Wb(),u.Sb(6,"br"),u.Rc(7," Please return to the "),u.Xb(8,"a",20),u.Rc(9,"'Start live video' page"),u.Wb(),u.Wb(),u.Wb(),u.Wb())}function _e(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",21),u.Xb(1,"div",17),u.Sb(2,"img",22),u.Xb(3,"p",19),u.Xb(4,"b"),u.Rc(5,"There was a problem while loading streaming session."),u.Wb(),u.Sb(6,"br"),u.Xb(7,"small"),u.Rc(8,"Please "),u.Xb(9,"a",23),u.jc("click",(function(){return u.Ic(e),u.nc(2).reloadPage()})),u.Rc(10,"reload"),u.Wb(),u.Rc(11," the page or try again later."),u.Wb(),u.Wb(),u.Wb(),u.Xb(12,"div",24),u.Xb(13,"div",17),u.Sb(14,"img",25),u.Xb(15,"p",26),u.Xb(16,"b"),u.Rc(17,"There was a problem while loading streaming session."),u.Wb(),u.Sb(18,"br"),u.Xb(19,"small"),u.Rc(20,"Please "),u.Xb(21,"a",23),u.jc("click",(function(){return u.Ic(e),u.nc(2).reloadPage()})),u.Rc(22,"reload"),u.Wb(),u.Rc(23," the page or try again later."),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}}function Se(e,t){if(1&e&&(u.Xb(0,"div",3),u.Pc(1,be,11,6,"ng-container",4),u.Pc(2,ye,10,0,"div",5),u.Pc(3,_e,24,0,"div",6),u.Wb()),2&e){const e=u.nc();u.Cb(1),u.uc("ngIf",e.openViduToken),u.Cb(1),u.uc("ngIf",!e.sessionData&&!e.videoSettings),u.Cb(1),u.uc("ngIf",!e.openViduToken&&e.sessionData&&e.videoSettings)}}let Ce=(()=>{class e{constructor(e,t,n,i,o,r,a,c,l,u,d,h){this.ref=e,this.toastr=t,this.elRef=n,this.openViduService=i,this.subject=o,this.getAuthUser=r,this.videoService=a,this.chatService=c,this.router=l,this.route=u,this.dialog=d,this.loader=h,this.videoJSPlayerOptions={autoplay:!0,controls:!0,fluid:!1,sources:[]},this.OPENVIDU_SERVER_URL="https://localhost:4443",this.OPENVIDU_SERVER_SECRET="MY_SECRET",this.subscribers=[],this.recordingState="idle",this.webcams=[],this.tags=[],this.participants=[],this.thumbnailUploaded=!1,this.apiUrl=s.b,this.sessionData={sessionName:"",myUserName:""}}ngOnInit(){this.authUser=this.getAuthUser.transform(),this.getVideoSessionData(),this.sessionData&&this.videoSettings&&this.joinSession(),this.subject.getVideoRecordingState().subscribe(e=>{"finished"===e.recordingState&&this.leaveSession(),e.viaSocket||this.sendRecordingState(e.recording)})}beforeunloadHandler(){this.leaveSession(),"started"===this.recordingState&&this.removeLiveVideoByToken()}alertOfLeaving(){this.toastr.error("Please stop recording first")}getVideoSessionData(){const e=localStorage.getItem("session"),t=localStorage.getItem("video_settings");this.sessionData=e?JSON.parse(e):null,this.videoSettings=t?JSON.parse(t):null}joinSession(){this.OV=new X.OpenVidu,this.session=this.OV.initSession(),this.getStreamEvents(),this.loader.dataLoading=!0,this.openViduService.getToken({email:this.authUser.email,sessionName:this.sessionData.sessionName,role:"PUBLISHER"}).subscribe(e=>{this.openViduToken=e,this.receiveMessage(),this.receiveRecordingState(),this.session.connect(e,{clientData:this.sessionData,avatar:this.authUser.avatar}).then(()=>{if(this.loader.dataLoading=!1,e.includes("PUBLISHER")){const e=this.elRef.nativeElement.querySelector("video"),t=this.OV.initPublisher(e,{audioSource:void 0,videoSource:void 0,publishAudio:!0,publishVideo:!0,resolution:"640x480",frameRate:30,insertMode:"APPEND",mirror:!1});this.session.publish(t),this.mainStreamManager=t,this.publisher=t}}).catch(e=>{this.toastr.error("There was a problem white loading streaming session"),console.log(e)})})}getStreamEvents(){this.session.on("streamCreated",e=>{this.elRef.nativeElement.querySelector("video"),this.thumbnailFile=this.videoSettings.thumbnail,this.session.subscribe(e.stream,void 0)}),this.session.on("connectionCreated",e=>{const t=JSON.parse(e.connection.data.replace(/}%\/%{/g,","));this.participants.push(t.clientData.myUserName)}),this.session.on("connectionDestroyed",e=>{const t=JSON.parse(e.connection.data.replace(/}%\/%{/g,","));this.participants=this.participants.filter(e=>e!==t.clientData.myUserName)}),this.session.on("streamDestroyed",e=>{this.deleteSubscriber(e.stream.streamManager),this.leaveSession()})}updateMainStreamManager(e){this.mainStreamManager=e}deleteSubscriber(e){console.log(this.subscribers)}getRecordedVideoId(e){this.videoId=e}leaveSession(){console.log("leaving session!!!"),this.session&&this.session.disconnect(),this.subscribers=[],delete this.publisher,delete this.session,delete this.OV,this.thumbnailFile=[],this.thumbnailUploaded=!1,this.sessionData&&this.openViduService.leaveSession({token:this.openViduToken,sessionName:this.sessionData.sessionName,role:"publisher"}).subscribe(()=>{})}sendMessage(e){this.session.signal({data:e.message,to:[],type:"my-chat"}).then(()=>{this.chatService.saveMessage(Object.assign({video_id:this.videoId},e)).subscribe(e=>{})}).catch(e=>{console.error(e)})}sendRecordingState(e){this.session&&this.session.signal({data:e,to:[],type:"recording-state"}).then(()=>{})}receiveRecordingState(){this.session.on("signal:recording-state",e=>{this.recordingState=e.data?"started":"finished","finished"===this.recordingState&&(this.tags=[]),this.subject.setVideoRecordingState(Object.assign({recordingState:this.recordingState},{viaSocket:!0}))})}receiveMessage(){this.session.on("signal:my-chat",e=>{this.subject.setMsgData({message:e.data,from:e.from.data})})}removeLiveVideoByToken(){this.videoService.removeVideoByToken({token:this.openViduToken}).subscribe(()=>{})}reloadPage(){location.reload()}ngOnDestroy(){"started"===this.recordingState&&this.removeLiveVideoByToken(),this.leaveSession()}ngAfterViewInit(){}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(u.h),u.Rb(E.b),u.Rb(u.l),u.Rb(H),u.Rb(Z.a),u.Rb(x.a),u.Rb(Q.a),u.Rb(J),u.Rb(o.d),u.Rb(o.a),u.Rb(K.b),u.Rb(C.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-video"]],viewQuery:function(e,t){var n;1&e&&u.Wc(fe,!0),2&e&&u.Dc(n=u.kc())&&(t.videoEl=n.first)},hostBindings:function(e,t){1&e&&u.jc("beforeunload",(function(){return t.beforeunloadHandler()}),!1,u.Hc)},decls:2,vars:2,consts:[["class","session-loader",3,"diameter",4,"ngIf"],["id","video-stream-container",4,"ngIf"],[1,"session-loader",3,"diameter"],["id","video-stream-container"],[4,"ngIf"],["class","no-stored-session-data",4,"ngIf"],["class","stream-errors",4,"ngIf"],["id","video-chat-container"],[1,"video-container"],[3,"openViduToken","thumbnailFile","videoSettings","recordingStarted"],[1,"chat-container"],[3,"openViduToken","session","videoId","videoRecordingState","sendMessage",4,"ngIf"],["id","participants-count"],[1,"fa","fa-users"],[4,"ngFor","ngForOf"],[3,"openViduToken","session","videoId","videoRecordingState","sendMessage"],[1,"no-stored-session-data"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mx-auto","py-5","mt-5"],["src","../../assets/img/errorPage.svg","alt","no-stored-session-data-img","width","500","height","370"],[1,"text-center"],["routerLink","/user/video/start-live-video"],[1,"stream-errors"],["src","assets/img/errorLoading.svg","alt","no-stored-session-data-img","width","150","height","200"],[1,"reload",3,"click"],[1,"d-none"],["src","assets/img/dataError.svg","alt","stream-errors-img","width","334","height","471"],[1,"text-center","top"]],template:function(e,t){1&e&&(u.Pc(0,ge,1,1,"mat-spinner",0),u.Pc(1,Se,4,3,"div",1)),2&e&&(u.uc("ngIf",t.loader.dataLoading),u.Cb(1),u.uc("ngIf",!t.loader.dataLoading))},directives:[i.m,R.b,oe,i.l,pe,o.e],styles:[".session-container[_ngcontent-%COMP%]{height:100vh}#img-div[_ngcontent-%COMP%]{text-align:center}#img-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.join-session-btn[_ngcontent-%COMP%]{background-color:#18b587;width:25%;margin-top:33px;border:none}#video-chat-container[_ngcontent-%COMP%]{display:flex}#video-chat-container[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-start}#video-chat-container[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]{flex:0.5;display:flex}#video-chat-container[_ngcontent-%COMP%]   app-video-js-record[_ngcontent-%COMP%]{flex:1;position:relative;width:100%;overflow:hidden;padding:30% 0}#streaming-not-started-yet[_ngcontent-%COMP%]{width:500px;height:400px;display:flex;align-items:center;justify-content:center;font-family:Muli-Light;background:#efefef}.stream-container[_ngcontent-%COMP%]{overflow:hidden}.stream-errors[_ngcontent-%COMP%]{display:flex}.reload[_ngcontent-%COMP%]{text-decoration:underline;color:#000}"]}),e})();var Oe=n("+xpX");const we=["ovSessionComponent"];function xe(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",2),u.Xb(1,"div",3),u.Xb(2,"h1"),u.Rc(3,"Join a video session"),u.Wb(),u.Xb(4,"form",4),u.Xb(5,"p"),u.Xb(6,"label"),u.Rc(7,"Participant"),u.Wb(),u.Sb(8,"input",5),u.Wb(),u.Xb(9,"p"),u.Xb(10,"label"),u.Rc(11,"Session"),u.Wb(),u.Sb(12,"input",6),u.Wb(),u.Xb(13,"p",7),u.Xb(14,"button",8),u.jc("click",(function(){return u.Ic(e),u.nc().joinSession()})),u.Rc(15,"Join!"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){const e=u.nc();u.Cb(4),u.uc("formGroup",e.joinSessionForm)}}function Ee(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",9),u.Xb(1,"opv-session",10,11),u.jc("sessionCreated",(function(t){return u.Ic(e),u.nc().handlerSessionCreatedEvent(t)}))("publisherCreated",(function(t){return u.Ic(e),u.nc().handlerPublisherCreatedEvent(t)}))("error",(function(t){return u.Ic(e),u.nc().handlerErrorEvent(t)})),u.Wb(),u.Wb()}if(2&e){const e=u.nc();u.Cb(1),u.uc("sessionName",e.mySessionId)("user",e.myUserName)("tokens",e.tokens)}}let Me=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.openViduService=t,this.toastr=n,this.elRef=i,this.OPENVIDU_SERVER_URL="https://localhost/:4443",this.OPENVIDU_SERVER_SECRET="MY_SECRET",this.mySessionId="SessionA",this.myUserName="Participant"+Math.floor(100*Math.random()),this.tokens=[],this.session=!1,this.initForm()}ngOnInit(){}initForm(){this.joinSessionForm=this.fb.group({mySessionId:["SessionB"],myUserName:["Participant"+Math.floor(100*Math.random())]})}joinSession(){return Object(r.a)(this,void 0,void 0,(function*(){this.getToken()}))}getToken(){this.openViduService.getToken({email:"admin@gmail.com",sessionName:"SessionA"}).subscribe(e=>{this.tokens.push(e),this.session=!0,console.log(this.tokens)})}leaveSession(){}handlerSessionCreatedEvent(e){console.log("SESSION CREATED EVENT",e),e.on("streamCreated",e=>{console.log("stream created!!!")}),e.on("streamDestroyed",e=>{}),e.on("sessionDisconnected",e=>{this.session=!1,this.tokens=[]})}handlerPublisherCreatedEvent(e){e.on("streamCreated",e=>{console.log("Publisher streamCreated",e)})}handlerErrorEvent(e){console.log("error",e)}myMethod(){this.ovLocalUsers=this.ovSessionComponent.getLocalUsers(),this.ovLayout=this.ovSessionComponent.getOpenviduLayout(),this.ovLayoutOptions=this.ovSessionComponent.getOpenviduLayoutOptions()}ngOnDestroy(){this.leaveSession()}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(a.e),u.Rb(H),u.Rb(E.b),u.Rb(u.l))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-video-library"]],viewQuery:function(e,t){var n;1&e&&u.Wc(we,!0),2&e&&u.Dc(n=u.kc())&&(t.ovSessionComponent=n.first)},decls:2,vars:2,consts:[["id","join",4,"ngIf"],["id","session",4,"ngIf"],["id","join"],["id","join-dialog"],[1,"form-group",3,"formGroup"],["id","userName","formControlName","mySessionId","required","",1,"form-control"],["id","sessionId","formControlName","myUserName","required","",1,"form-control"],[1,"text-center"],["type","button",1,"btn","btn-lg","btn-success","join-session-btn",3,"click"],["id","session"],[3,"sessionName","user","tokens","sessionCreated","publisherCreated","error"],["ovSessionComponent",""]],template:function(e,t){1&e&&(u.Pc(0,xe,16,1,"div",0),u.Pc(1,Ee,3,3,"div",1)),2&e&&(u.uc("ngIf",!t.session),u.Cb(1),u.uc("ngIf",t.session))},directives:[i.m,a.y,a.p,a.i,a.c,a.o,a.h,a.u,Oe.OpenviduSessionComponent],styles:["#join[_ngcontent-%COMP%]{text-align:center}#join[_ngcontent-%COMP%], #session[_ngcontent-%COMP%]{position:absolute;margin:auto;top:100px;bottom:0;left:0;right:0;height:70%;width:45%}"]}),e})();var Re=n("+cnZ"),ke=n("CNe+"),Pe=n("hU++"),Te=n("z/Il");let Ie=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Lb({type:e,selectors:[["app-stock-profile"]],decls:16,vars:0,consts:[[1,"stock-content"],[1,"stock-block"],[1,"stock-select"],[1,"stock-btns"],[1,"my-stocks"],[1,"prospective-stocks"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Xb(1,"div",1),u.Xb(2,"select",2),u.Xb(3,"option"),u.Rc(4,"EBAY ebay inc."),u.Wb(),u.Xb(5,"option"),u.Rc(6,"EBAY ebay inc."),u.Wb(),u.Xb(7,"option"),u.Rc(8,"EBAY ebay inc."),u.Wb(),u.Xb(9,"option"),u.Rc(10,"EBAY ebay inc."),u.Wb(),u.Wb(),u.Xb(11,"div",3),u.Xb(12,"a",4),u.Rc(13,"My Stocks"),u.Wb(),u.Xb(14,"a",5),u.Rc(15,"Prospective stocks"),u.Wb(),u.Wb(),u.Wb(),u.Wb())},styles:[".stock-select[_ngcontent-%COMP%]{width:316px;height:51px;background:#eee 0 0 no-repeat padding-box;box-shadow:0 0 6px hsla(0,0%,60.4%,.14);background:#eee;color:#545454;font-size:16px;padding:16px;font-family:Muli-Regular;outline:0;border:0;margin-right:32px}.my-stocks[_ngcontent-%COMP%]{background:#f53c6f 0 0 no-repeat padding-box;background:#f53c6f;color:#fff!important}.my-stocks[_ngcontent-%COMP%], .prospective-stocks[_ngcontent-%COMP%]{width:200px;height:51px;box-shadow:0 0 6px hsla(0,0%,60.4%,.14);font-size:16px;font-family:Muli-Regular;display:flex;justify-content:center;align-items:center}.prospective-stocks[_ngcontent-%COMP%]{background:#f53c6f 0 0 no-repeat padding-box;background:#eee;color:#545454!important}.stock-block[_ngcontent-%COMP%]{display:flex;margin-bottom:32px}.stock-content-img[_ngcontent-%COMP%]{width:100%}.stock-btns[_ngcontent-%COMP%]{display:flex}@media (max-width:991px){.stock-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.stock-select[_ngcontent-%COMP%]{margin-right:0;margin-bottom:20px}}@media (max-width:480px){.stock-select[_ngcontent-%COMP%]{width:80%}.stock-btns[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.prospective-stocks[_ngcontent-%COMP%]{margin-top:20px}}"]}),e})();var Ae=n("kmnG"),De=n("d3UM"),Le=n("NFeN"),je=n("FKr1"),Ne=n("t9lf");function Ue(e,t){1&e&&(u.Xb(0,"div",5),u.Sb(1,"mat-spinner",6),u.Xb(2,"strong"),u.Rc(3,"Loading devices info"),u.Wb(),u.Wb()),2&e&&(u.Cb(1),u.uc("diameter",20))}function Ve(e,t){if(1&e&&(u.Xb(0,"mat-option",20),u.Rc(1),u.Wb()),2&e){const e=t.$implicit;u.uc("value",e.label),u.Cb(1),u.Tc(" ",e.label," ")}}const ze=function(){return{kind:"videoinput"}};function Fe(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",15),u.Xb(1,"span",14),u.Rc(2,"videocam"),u.Wb(),u.Xb(3,"mat-form-field",16),u.Xb(4,"mat-select",17),u.Pc(5,Ve,2,2,"mat-option",18),u.oc(6,"filterDevices"),u.Wb(),u.Wb(),u.Xb(7,"mat-icon",19),u.jc("click",(function(){return u.Ic(e),u.nc(2).getConnectedDevices()})),u.Rc(8,"refresh"),u.Wb(),u.Wb()}if(2&e){const e=u.nc(2);u.Cb(5),u.uc("ngForOf",u.qc(6,1,e.userMediaDevices,u.xc(4,ze)))}}function Be(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",21),u.Xb(1,"mat-icon"),u.Rc(2,"videocam_off"),u.Wb(),u.Vb(3),u.Xb(4,"span"),u.Rc(5,"Can't find camera. Make sure it's connected and try again"),u.Wb(),u.Xb(6,"mat-icon",19),u.jc("click",(function(){return u.Ic(e),u.nc(2).getConnectedDevices()})),u.Rc(7,"refresh"),u.Wb(),u.Ub(),u.Wb()}}function We(e,t){if(1&e&&(u.Xb(0,"mat-option",20),u.Rc(1),u.Wb()),2&e){const e=t.$implicit;u.uc("value",e.label),u.Cb(1),u.Tc(" ",e.label," ")}}const qe=function(){return{kind:"audioinput"}};function Ge(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",15),u.Xb(1,"span",14),u.Rc(2,"mic"),u.Wb(),u.Xb(3,"mat-form-field",16),u.Xb(4,"mat-select",22),u.Pc(5,We,2,2,"mat-option",18),u.oc(6,"filterDevices"),u.Wb(),u.Wb(),u.Xb(7,"mat-icon",19),u.jc("click",(function(){return u.Ic(e),u.nc(2).getConnectedDevices()})),u.Rc(8,"refresh"),u.Wb(),u.Wb()}if(2&e){const e=u.nc(2);u.Cb(5),u.uc("ngForOf",u.qc(6,1,e.userMediaDevices,u.xc(4,qe)))}}function Xe(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",21),u.Xb(1,"mat-icon"),u.Rc(2,"mic"),u.Wb(),u.Xb(3,"span"),u.Rc(4,"Can't find microphone. Make sure it's connected and try again"),u.Wb(),u.Xb(5,"mat-icon",19),u.jc("click",(function(){return u.Ic(e),u.nc(2).getConnectedDevices()})),u.Rc(6,"refresh"),u.Wb(),u.Wb()}}function Ye(e,t){if(1&e){const e=u.Yb();u.Xb(0,"form",7),u.Xb(1,"div",8),u.Xb(2,"div",9),u.Xb(3,"div",10),u.Pc(4,Fe,9,5,"div",11),u.Pc(5,Be,8,0,"div",12),u.Wb(),u.Xb(6,"div",10),u.Pc(7,Ge,9,5,"div",11),u.Pc(8,Xe,7,0,"div",12),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"button",13),u.jc("click",(function(){return u.Ic(e),u.nc().startLiveVideo()})),u.Xb(10,"span",14),u.Rc(11," video_call "),u.Wb(),u.Xb(12,"span"),u.Rc(13,"Start live video"),u.Wb(),u.Wb(),u.Wb()}if(2&e){const e=u.nc();u.uc("formGroup",e.deviceRecognitionForm),u.Cb(4),u.uc("ngIf",!e.videoDevice.hasError("required")),u.Cb(1),u.uc("ngIf",e.videoDevice.hasError("required")),u.Cb(2),u.uc("ngIf",!e.audioDevice.hasError("required")),u.Cb(1),u.uc("ngIf",e.audioDevice.hasError("required")),u.Cb(1),u.uc("disabled",!e.deviceRecognitionForm.valid)}}let He=(()=>{class e{constructor(e,t,n,i){this.toastr=e,this.fb=t,this.getAuthUser=n,this.router=i,this.deviceStatus="idle",this.checked=new u.o}ngOnInit(){this.authUser=this.getAuthUser.transform(),this.initForm()}initForm(){this.deviceRecognitionForm=this.fb.group({video_device:["",a.w.required],audio_device:["",a.w.required]})}startLiveVideo(){return Object(r.a)(this,void 0,void 0,(function*(){this.checked.emit(!0)}))}ngAfterViewInit(){this.getConnectedDevices(!0)}getConnectedDevices(e=!1){return Object(r.a)(this,void 0,void 0,(function*(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(()=>{this.deviceStatus="loading",navigator.mediaDevices.enumerateDevices().then(e=>{var t,n;this.deviceStatus="loaded",this.userMediaDevices=e,this.defaultVideoDevice=e.find(e=>"videoinput"===e.kind),this.deviceRecognitionForm.patchValue({video_device:null===(t=this.defaultVideoDevice)||void 0===t?void 0:t.label}),this.defaultAudioDevice=e.find(e=>"audioinput"===e.kind),this.deviceRecognitionForm.patchValue({audio_device:null===(n=this.defaultAudioDevice)||void 0===n?void 0:n.label})}).catch(e=>{this.deviceRecognitionForm.patchValue({audio_device:"",video_device:""}),this.toastr.error(e.message)})}).catch(e=>{this.deviceStatus="failed",this.deviceRecognitionForm.patchValue({audio_device:"",video_device:""}),console.log(this.deviceRecognitionForm.value),this.toastr.error(e.message)})}))}get audioDevice(){return this.deviceRecognitionForm.get("audio_device")}get videoDevice(){return this.deviceRecognitionForm.get("video_device")}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(E.b),u.Rb(a.e),u.Rb(x.a),u.Rb(o.d))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-check-requirements"]],outputs:{checked:"checked"},decls:13,vars:2,consts:[[1,"start-live-video-page"],[1,"text"],["href","https://www.dmca.com/","target","_blank"],["class","loader",4,"ngIf"],[3,"formGroup",4,"ngIf"],[1,"loader"],[3,"diameter"],[3,"formGroup"],["id","devices"],[1,"item-wrap"],[1,"item"],["class","info border",4,"ngIf"],["class","error-msg",4,"ngIf"],["type","button",1,"btn",3,"disabled","click"],[1,"material-icons"],[1,"info","border"],[2,"width","88%"],["formControlName","video_device"],[3,"value",4,"ngFor","ngForOf"],[1,"refresh",3,"click"],[3,"value"],[1,"error-msg"],["formControlName","audio_device"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Xb(1,"div",1),u.Xb(2,"h1"),u.Rc(3,"Start live video"),u.Wb(),u.Xb(4,"p"),u.Rc(5,"Start sharing your story and connecting with viewers. Get your webcam ready, check your lighting, and click below to go live! We ask that you keep in mind of the "),u.Xb(6,"a",2),u.Rc(7,"DMCA rules"),u.Wb(),u.Rc(8," and please do not play any music that is not owned by you while you stream. We will remove any videos that are in violation of the DMCA. "),u.Sb(9,"br"),u.Rc(10," Smile, you look great! "),u.Wb(),u.Pc(11,Ue,4,1,"div",3),u.Pc(12,Ye,14,6,"form",4),u.Wb(),u.Wb()),2&e&&(u.Cb(11),u.uc("ngIf","loaded"!==t.deviceStatus&&"failed"!==t.deviceStatus),u.Cb(1),u.uc("ngIf","loaded"===t.deviceStatus||"failed"===t.deviceStatus))},directives:[i.m,R.b,a.y,a.p,a.i,Ae.c,De.a,a.o,a.h,i.l,Le.a,je.n],pipes:[Ne.a],styles:[".start-live-video-page[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;max-width:810px;margin:160px auto 0;padding:144px 0 80px 280px;background-size:contain;background-position:0 0;background-repeat:no-repeat;background-image:url(/assets/img/live-video.png)}.start-live-video-page[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{max-width:532px}.start-live-video-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#18b587}.start-live-video-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:0;font-size:16px;color:#545454}.start-live-video-page[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{display:flex;padding:10px;align-items:center;justify-content:center}.start-live-video-page[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:10px;color:#18b587}.start-live-video-page[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{cursor:pointer}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]{margin-top:16px}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-bottom:8px}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:40px}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#18b587;font-size:14px;margin-bottom:2px}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{font-size:16px;color:#545454;cursor:pointer}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;margin-left:4px}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info.border[_ngcontent-%COMP%]{border:0!important}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info.border[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.material-icons){border-bottom:.5px solid #dcdcdc}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.material-icons){flex:1}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:8px}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#545454;font-weight:600;font-size:16px}.start-live-video-page[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.start-live-video-page[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:24px;padding:8px 32px;display:flex;align-items:center;background:#f53c6f;font-size:16px;color:#fff;border-radius:0;transition:.3s ease-in-out}.start-live-video-page[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}.start-live-video-page[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{display:flex}"]}),e})();var Ze=n("FtGj"),Qe=n("A5z7"),Je=n("QibW");const Ke=["chipsInput"];function $e(e,t){1&e&&(u.Xb(0,"mat-error"),u.Rc(1,"The stream name is required"),u.Wb())}function et(e,t){if(1&e){const e=u.Yb();u.Xb(0,"mat-chip",25),u.jc("removed",(function(){u.Ic(e);const n=t.$implicit;return u.nc().remove(n)})),u.Rc(1),u.Xb(2,"mat-icon",26),u.Rc(3,"cancel"),u.Wb(),u.Wb()}if(2&e){const e=t.$implicit;u.Cb(1),u.Tc(" ",e.name," ")}}function tt(e,t){1&e&&(u.Xb(0,"mat-error"),u.Rc(1,"Please provide some tags describing your live video "),u.Wb())}function nt(e,t){if(1&e&&(u.Xb(0,"option",27),u.Rc(1),u.Wb()),2&e){const e=t.$implicit;u.uc("value",e.id),u.Cb(1),u.Sc(e.name)}}function it(e,t){1&e&&(u.Xb(0,"mat-error"),u.Rc(1,"The stream category is required "),u.Wb())}function ot(e,t){1&e&&(u.Xb(0,"mat-error"),u.Rc(1,"The stream description is required "),u.Wb())}function rt(e,t){if(1&e&&(u.Xb(0,"mat-radio-button",27),u.Rc(1),u.Xb(2,"mat-icon"),u.Rc(3),u.Wb(),u.Wb()),2&e){const e=t.$implicit;u.uc("value",e.name),u.Cb(1),u.Tc(" ",e.name," "),u.Cb(2),u.Sc(e.icon)}}function st(e,t){1&e&&u.Sb(0,"mat-spinner",32),2&e&&u.uc("diameter",15)}function at(e,t){1&e&&(u.Xb(0,"mat-error"),u.Rc(1," The thumbnail is required "),u.Wb())}function ct(e,t){if(1&e){const e=u.Yb();u.Vb(0),u.Xb(1,"label",28),u.Xb(2,"span",29),u.Rc(3,"backup"),u.Wb(),u.Rc(4," Upload Thumbnail "),u.Wb(),u.Pc(5,st,1,1,"mat-spinner",30),u.Xb(6,"input",31),u.jc("change",(function(t){return u.Ic(e),u.nc().getThumbnailFile(t)})),u.Wb(),u.Pc(7,at,2,0,"mat-error",4),u.Ub()}if(2&e){const e=u.nc();u.Cb(5),u.uc("ngIf",e.thumbnailUploading),u.Cb(2),u.uc("ngIf",e.startStreamingForm.get("thumbnail").hasError("required")&&e.isSubmitted)}}function lt(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",33),u.Xb(1,"mat-icon",34),u.jc("click",(function(){u.Ic(e);const t=u.nc();return t.removeUploadedThumbnail(t.thumbnailFile.name)})),u.Rc(2,"clear "),u.Wb(),u.Sb(3,"img",35),u.Wb()}if(2&e){const e=u.nc();u.Cb(3),u.vc("src",e.apiUrl+"uploads/thumbnails/"+e.thumbnailFile.name,u.Kc)}}let ut=(()=>{class e{constructor(e,t,n,i){this.videoService=e,this.toastr=t,this.fb=n,this.getAuthUser=i,this.isSubmitted=!1,this.thumbnailUploading=!1,this.thumbnailUploaded=!1,this.apiUrl=s.b,this.tags=[],this.sessionName="SessionA",this.separatorKeysCodes=[Ze.g,Ze.c],this.privacyTypes=[{name:"Public",icon:"public"},{name:"Private",icon:"lock"}],this.formReady=new u.o}ngOnInit(){this.authUser=this.getAuthUser.transform(),this.selectedPrivacy=this.privacyTypes[0],this.initForm(),this.getVideoCategories()}initForm(){this.startStreamingForm=this.fb.group({name:["",a.w.required],description:["",a.w.required],category_id:["",a.w.required],tags:[[],a.w.required],sessionName:[this.sessionName],myUserName:[this.authUser.username],thumbnail:["",a.w.required],privacy:["Public"],status:["live"]})}getVideoCategories(){this.videoService.getVideoCategories().subscribe(e=>{this.videoCategories=e})}changedPrivacy(e){this.selectedPrivacy=this.privacyTypes.find(t=>t.name===e.value)}add(e){const t=e.input,n=e.value;(n||"").trim()&&(this.tags.push({name:n.trim()}),this.startStreamingForm.patchValue({tags:this.tags}),console.log(this.tags),console.log(this.startStreamingForm.value)),t&&(t.value="")}remove(e){const t=this.tags.indexOf(e);t>=0&&(this.tags.splice(t,1),this.startStreamingForm.patchValue({tags:this.tags}))}getThumbnailFile(e){this.thumbnailFile=e.target.files[0];const t=new FormData;t.append("video_thumbnail_file",this.thumbnailFile),this.startStreamingForm.patchValue({thumbnail:this.thumbnailFile.name}),this.thumbnailUploading=!0,this.videoService.saveVideoThumbnail(t).subscribe(e=>{this.toastr.success("The thumbnail has been uploaded successfully"),this.thumbnailUploading=!1,this.thumbnailUploaded=!0})}removeUploadedThumbnail(e){this.thumbnailFile=[],this.toastr.success("The thumbnail has been removed successfully"),this.thumbnailUploaded=!1,this.startStreamingForm.patchValue({thumbnail:""})}submit(){var e;this.isSubmitted=!0,this.startStreamingForm.valid&&this.formReady.emit(Object.assign({categoryName:null===(e=this.videoCategories.find(e=>e.id===+this.startStreamingForm.value.category_id))||void 0===e?void 0:e.name},this.startStreamingForm.value))}get streamName(){return this.startStreamingForm.get("name")}get streamDesc(){return this.startStreamingForm.get("description")}get streamCategory(){return this.startStreamingForm.get("category_id")}get streamTags(){return this.startStreamingForm.get("tags")}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(Q.a),u.Rb(E.b),u.Rb(a.e),u.Rb(x.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-stream-details-form"]],viewQuery:function(e,t){var n;1&e&&u.Wc(Ke,!0),2&e&&u.Dc(n=u.kc())&&(t.chipsInput=n.first)},outputs:{formReady:"formReady"},decls:33,vars:13,consts:[["id","start-streaming-form",3,"formGroup"],[1,"start-live-video"],["id","video-name"],["formControlName","name","placeholder","Video name"],[4,"ngIf"],["id","video-tags"],[1,"example-chip-list"],["aria-label","Fruit selection","formControlName","tags"],["tagList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","Tags...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["chipsInput",""],["align","end"],["id","video-categories"],["formControlName","category_id"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","video-description"],["formControlName","description","placeholder","Video description"],["id","privacy"],["formControlName","privacy",3,"change"],["id","thumbnail"],["id","uploaded-thumbnail-container",4,"ngIf"],[1,"actions"],["type","button",1,"btn","btn-lg","btn-success","join-session-btn",3,"click"],[3,"removed"],["matChipRemove",""],[3,"value"],["for","custom-thumbnail"],[1,"material-icons"],[3,"diameter",4,"ngIf"],["type","file","id","custom-thumbnail",3,"change"],[3,"diameter"],["id","uploaded-thumbnail-container"],["id","remove-thumbnail",3,"click"],["id","uploaded-thumbnail",3,"src"]],template:function(e,t){if(1&e&&(u.Xb(0,"form",0),u.Xb(1,"div",1),u.Xb(2,"div",2),u.Sb(3,"input",3),u.Pc(4,$e,2,0,"mat-error",4),u.Wb(),u.Xb(5,"div",5),u.Xb(6,"mat-form-field",6),u.Xb(7,"mat-chip-list",7,8),u.Pc(9,et,4,1,"mat-chip",9),u.Xb(10,"input",10,11),u.jc("matChipInputTokenEnd",(function(e){return t.add(e)})),u.Wb(),u.Wb(),u.Xb(12,"mat-hint",12),u.Rc(13,"Please press 'Enter' after the tag name"),u.Wb(),u.Wb(),u.Pc(14,tt,2,0,"mat-error",4),u.Wb(),u.Xb(15,"div",13),u.Xb(16,"select",14),u.Xb(17,"option",15),u.Rc(18,"Category"),u.Wb(),u.Pc(19,nt,2,2,"option",16),u.Wb(),u.Pc(20,it,2,0,"mat-error",4),u.Wb(),u.Xb(21,"div",17),u.Sb(22,"textarea",18),u.Pc(23,ot,2,0,"mat-error",4),u.Wb(),u.Xb(24,"div",19),u.Xb(25,"mat-radio-group",20),u.jc("change",(function(e){return t.changedPrivacy(e)})),u.Pc(26,rt,4,3,"mat-radio-button",16),u.Wb(),u.Wb(),u.Xb(27,"div",21),u.Pc(28,ct,8,2,"ng-container",4),u.Pc(29,lt,4,1,"div",22),u.Wb(),u.Xb(30,"div",23),u.Xb(31,"button",24),u.jc("click",(function(){return t.submit()})),u.Rc(32," Start live video "),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){const e=u.Ec(8);u.uc("formGroup",t.startStreamingForm),u.Cb(4),u.uc("ngIf",t.streamName.hasError("required")&&t.isSubmitted),u.Cb(5),u.uc("ngForOf",t.tags),u.Cb(1),u.uc("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),u.Cb(4),u.uc("ngIf",0===t.tags.length&&t.isSubmitted),u.Cb(3),u.uc("value",""),u.Cb(2),u.uc("ngForOf",t.videoCategories),u.Cb(1),u.uc("ngIf",t.streamCategory.hasError("required")&&t.isSubmitted),u.Cb(3),u.uc("ngIf",t.streamDesc.hasError("required")&&t.isSubmitted),u.Cb(3),u.uc("ngForOf",t.privacyTypes),u.Cb(2),u.uc("ngIf",!t.thumbnailUploaded),u.Cb(1),u.uc("ngIf",t.thumbnailUploaded)}},directives:[a.y,a.p,a.i,a.c,a.o,a.h,i.m,Ae.c,Qe.c,i.l,Qe.b,Ae.f,a.v,a.s,a.x,Je.b,Ae.b,Qe.a,Le.a,Qe.d,Je.a,R.b],styles:[".start-live-video[_ngcontent-%COMP%]{width:100%;max-width:548px;margin:64px auto 0}#start-streaming-form[_ngcontent-%COMP%]{font-family:Muli-Regular}#start-streaming-form[_ngcontent-%COMP%]   #video-tags[_ngcontent-%COMP%]{margin-top:24px}#start-streaming-form[_ngcontent-%COMP%]   #video-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:24px;width:100%;height:51px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 0 6px #eee;color:#cecece}#start-streaming-form[_ngcontent-%COMP%]   #privacy[_ngcontent-%COMP%], #start-streaming-form[_ngcontent-%COMP%]   #video-categories[_ngcontent-%COMP%]{margin-top:24px}#start-streaming-form[_ngcontent-%COMP%]   #privacy[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], #start-streaming-form[_ngcontent-%COMP%]   #video-categories[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:51px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 0 6px #eee;border:none;font:normal normal normal 16px/20px Muli-Regular;color:#cecece;outline:none}#start-streaming-form[_ngcontent-%COMP%]   #video-description[_ngcontent-%COMP%]{margin:24px 0}#start-streaming-form[_ngcontent-%COMP%]   #video-description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:151px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 0 6px #eee;opacity:1;border:none;outline:none;resize:none}#start-streaming-form[_ngcontent-%COMP%]   label[for=custom-thumbnail][_ngcontent-%COMP%]{margin:0;font-size:18px;padding:12px 16px;background:#eee 0 0 no-repeat padding-box;font:normal normal normal 18px/19px Muli-Regular;color:#c9c9c9;cursor:pointer}#start-streaming-form[_ngcontent-%COMP%]   label[for=custom-thumbnail][_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:text-bottom;margin-right:10px}#start-streaming-form[_ngcontent-%COMP%]   #thumbnail[_ngcontent-%COMP%]{display:flex;align-items:center}#start-streaming-form[_ngcontent-%COMP%]   #thumbnail[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-left:20px}#start-streaming-form[_ngcontent-%COMP%]   #custom-thumbnail[_ngcontent-%COMP%]{display:none}#start-streaming-form[_ngcontent-%COMP%]   #uploaded-thumbnail-container[_ngcontent-%COMP%]{position:relative}#start-streaming-form[_ngcontent-%COMP%]   #uploaded-thumbnail-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;right:0}#start-streaming-form[_ngcontent-%COMP%]   #uploaded-thumbnail-container[_ngcontent-%COMP%]   #uploaded-thumbnail[_ngcontent-%COMP%]{max-width:100%;-o-object-fit:cover;object-fit:cover}#start-streaming-form[_ngcontent-%COMP%]   #uploaded-thumbnail-container[_ngcontent-%COMP%]   #remove-thumbnail[_ngcontent-%COMP%]{color:#545454;cursor:pointer}#start-streaming-form[_ngcontent-%COMP%]   #video-tags[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-bottom:8px}#start-streaming-form[_ngcontent-%COMP%]   .item.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:40px}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#18b587;font-size:14px;margin-bottom:2px}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{font-size:16px;color:#545454;cursor:pointer}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;margin-left:4px}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info.border[_ngcontent-%COMP%]{border:0!important}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info.border[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.material-icons){border-bottom:.5px solid #dcdcdc}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.material-icons){flex:1}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:8px}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#545454;font-weight:600;font-size:16px}#start-streaming-form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}#start-streaming-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:32px;border:0;border-radius:0;padding:16px 32px;background:#f53c6f;box-shadow:0 0 6px rgba(0,109,204,.18)}"]}),e})();function dt(e,t){if(1&e){const e=u.Yb();u.Xb(0,"app-check-requirements",2),u.jc("checked",(function(){return u.Ic(e),u.nc().requirementsChecked=!0})),u.Wb()}}function ht(e,t){if(1&e){const e=u.Yb();u.Xb(0,"app-stream-details-form",3),u.jc("formReady",(function(t){return u.Ic(e),u.nc().getPublisherData(t)})),u.Wb()}}let pt=(()=>{class e{constructor(e,t){this.subject=e,this.router=t,this.sessionData={sessionName:"",myUserName:""},this.requirementsChecked=!1}ngOnInit(){}getPublisherData(e){this.sessionData={sessionName:e.sessionName,myUserName:e.myUserName},this.videoSettings=e,this.subject.setSessionData(this.sessionData),localStorage.setItem("session",JSON.stringify(this.sessionData)),localStorage.setItem("video_settings",JSON.stringify(this.videoSettings)),this.router.navigate(["user/video/publish"])}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(Z.a),u.Rb(o.d))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-publisher-flow"]],decls:2,vars:2,consts:[[3,"checked",4,"ngIf"],[3,"formReady",4,"ngIf"],[3,"checked"],[3,"formReady"]],template:function(e,t){1&e&&(u.Pc(0,dt,1,0,"app-check-requirements",0),u.Pc(1,ht,1,0,"app-stream-details-form",1)),2&e&&(u.uc("ngIf",!t.requirementsChecked),u.Cb(1),u.uc("ngIf",t.requirementsChecked))},directives:[i.m,He,ut],styles:[""]}),e})();const ft=["videoElement"];function gt(e,t){1&e&&(u.Xb(0,"div",3),u.Xb(1,"h2"),u.Rc(2,"Live video ended"),u.Wb(),u.Wb())}let mt=(()=>{class e{constructor(e){this.subject=e,this.videoJSPlayerOptions={width:640,height:480,autoplay:!0,controls:!0,fluid:!1,sources:[]}}ngOnInit(){this.subject.getVideoRecordingState().subscribe(e=>{if(console.log("STATE!!!!"+e.recordingState),this.recordingState=e.recordingState,"finished"===this.recordingState){let e=document.getElementById("live-video");console.log(e)}})}ngAfterViewInit(){this._streamManager.addVideoElement(this.elementRef.nativeElement);const e=document.getElementById("live-video");console.log(e),e.setAttribute("controls","controls"),e.controls=!0}set streamManager(e){this._streamManager=e,this.elementRef&&this._streamManager.addVideoElement(this.elementRef.nativeElement)}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(Z.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-ov-video"]],viewQuery:function(e,t){var n;1&e&&u.Wc(ft,!0),2&e&&u.Dc(n=u.kc())&&(t.elementRef=n.first)},inputs:{streamManager:"streamManager"},decls:3,vars:1,consts:[["controls","","muted","","id","live-video","width","640","height","480"],["videoElement",""],["id","live-session-finished",4,"ngIf"],["id","live-session-finished"]],template:function(e,t){1&e&&(u.Sb(0,"video",0,1),u.Pc(2,gt,3,0,"div",2)),2&e&&(u.Cb(2),u.uc("ngIf","finished"===t.recordingState))},directives:[i.m],styles:["#live-session-finished[_ngcontent-%COMP%]{position:absolute;top:-3px;left:15px;width:640px;height:100%;color:#fff;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:center}"]}),e})(),vt=(()=>{class e{constructor(e){this.toastr=e}ngOnInit(){}getNicknameTag(){return JSON.parse(this.streamManager.stream.connection.data.replace(/}%\/%{/g,",")).clientData.myUserName}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(E.b))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-user-video"]],inputs:{streamManager:"streamManager"},decls:5,vars:2,consts:[[3,"streamManager"]],template:function(e,t){1&e&&(u.Xb(0,"div"),u.Sb(1,"app-ov-video",0),u.Xb(2,"div"),u.Xb(3,"p"),u.Rc(4),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Cb(1),u.uc("streamManager",t.streamManager),u.Cb(3),u.Sc(t.getNicknameTag()))},directives:[mt],styles:["ov-video[_ngcontent-%COMP%]{width:100%;height:auto;float:left;cursor:pointer}div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;background:#f8f8f8;padding-left:5px;padding-right:5px;color:#777;font-weight:700;border-bottom-right-radius:4px}p[_ngcontent-%COMP%]{margin:0}"]}),e})();function bt(e,t){1&e&&u.Sb(0,"mat-spinner",4),2&e&&u.uc("diameter",100)}function yt(e,t){if(1&e){const e=u.Yb();u.Xb(0,"div",7),u.Xb(1,"div",8),u.Xb(2,"app-user-video",9),u.jc("click",(function(){u.Ic(e);const n=t.$implicit;return u.nc(3).updateMainStreamManager(n)})),u.Wb(),u.Wb(),u.Wb()}if(2&e){const e=t.$implicit;u.Cb(2),u.uc("streamManager",e)}}function _t(e,t){if(1&e){const e=u.Yb();u.Xb(0,"app-chat-box",10),u.jc("sendMessage",(function(t){return u.Ic(e),u.nc(3).sendMessage(t)})),u.Wb()}if(2&e){const e=u.nc(3);u.uc("openViduToken",e.openViduToken)("session",e.session)("videoRecordingState",e.recordingState)("videoId",e.videoId)}}function St(e,t){if(1&e&&(u.Vb(0),u.Pc(1,yt,3,1,"div",5),u.Pc(2,_t,1,4,"app-chat-box",6),u.Ub()),2&e){const e=u.nc(2);u.Cb(1),u.uc("ngForOf",e.subscribers),u.Cb(1),u.uc("ngIf",e.videoId)}}function Ct(e,t){if(1&e&&(u.Xb(0,"div",2),u.Pc(1,bt,1,1,"mat-spinner",3),u.Pc(2,St,3,2,"ng-container",1),u.Wb()),2&e){const e=u.nc();u.Cb(1),u.uc("ngIf",e.loader.dataLoading),u.Cb(1),u.uc("ngIf",e.streamCreated)}}function Ot(e,t){1&e&&(u.Xb(0,"p"),u.Rc(1,"Video streaming session is not found."),u.Wb())}function wt(e,t){if(1&e&&(u.Xb(0,"li"),u.Rc(1),u.Wb()),2&e){const e=t.$implicit;u.Cb(1),u.Sc(e)}}function xt(e,t){1&e&&(u.Xb(0,"p"),u.Rc(1,"Stream destroyed."),u.Wb())}function Et(e,t){if(1&e&&(u.Vb(0),u.Sb(1,"i",11),u.Rc(2),u.Xb(3,"ul"),u.Pc(4,wt,2,1,"li",12),u.Wb(),u.Pc(5,xt,2,0,"p",1),u.Ub()),2&e){const e=u.nc();u.Cb(2),u.Tc("",e.participants.length," "),u.Cb(2),u.uc("ngForOf",e.participants),u.Cb(1),u.uc("ngIf",e.streamDestroyed)}}function Mt(e,t){1&e&&(u.Vb(0),u.Xb(1,"p"),u.Rc(2,"The session does not exist."),u.Wb(),u.Ub())}function Rt(e,t){1&e&&(u.Vb(0),u.Xb(1,"p"),u.Rc(2,"There was a problem creating the video stream."),u.Wb(),u.Ub())}let kt=(()=>{class e{constructor(e,t,n,i,o,r,s,a,c){this.getAuthUser=e,this.route=t,this.openViduService=n,this.videoService=i,this.chatService=o,this.subject=r,this.loader=s,this.toastr=a,this.elRef=c,this.recordingState="started",this.sessionData={sessionName:"",myUserName:""},this.streamDestroyed=!1,this.participants=[],this.subscribers=[],this.tags=[]}ngOnInit(){this.authUser=this.getAuthUser.transform(),this.getSessionData(),this.getRecordingState(),this.joinSession()}beforeunloadHandler(){this.leaveSession()}getRecordingState(){this.subject.getVideoRecordingState().subscribe(e=>{"finished"===e.recordingState&&this.leaveSession()})}getSessionData(){const e=this.route.snapshot.queryParams;e&&e.hasOwnProperty("session")&&(this.sessionData.sessionName=e.session,this.sessionData.myUserName=this.authUser.username,this.recordingState="started",this.videoId=e.id,this.videoService.getVideoById({id:this.videoId}).subscribe(e=>{this.videoFound="live"===(null==e?void 0:e.status)}))}joinSession(){this.OV=new X.OpenVidu,this.session=this.OV.initSession(),this.loader.dataLoading=!0,this.getStreamEvents(),this.openViduService.getToken({email:this.authUser.email,sessionName:this.sessionData.sessionName,role:"SUBSCRIBER"}).subscribe(e=>{this.openViduToken=e,this.receiveMessage(),this.recordingState="started",this.receiveRecordingState(),this.session.connect(e,{clientData:this.sessionData,avatar:this.authUser.avatar}).then(()=>{this.loader.dataLoading=!1}).catch(e=>{this.toastr.error("There was a problem white loading streaming session")})})}getStreamEvents(){this.session.on("streamCreated",e=>{this.streamCreated=!0,this.elRef.nativeElement.querySelector("video");const t=this.session.subscribe(e.stream,void 0);this.subscribers.push(t)}),this.session.on("connectionCreated",e=>{const t=JSON.parse(e.connection.data.replace(/}%\/%{/g,","));this.participants.push(t.clientData.myUserName)}),this.session.on("connectionDestroyed",e=>{const t=JSON.parse(e.connection.data.replace(/}%\/%{/g,","));this.participants=this.participants.filter(e=>e!==t.clientData.myUserName)}),this.session.on("streamDestroyed",e=>{this.streamDestroyed=!0,this.openViduToken=null,this.leaveSession()})}receiveRecordingState(){this.session.on("signal:recording-state",e=>{Object.assign({event:e},{socket:!0}),this.recordingState=e.data?"started":"finished","finished"===this.recordingState&&(this.tags=[]),this.subject.setVideoRecordingState(Object.assign({recordingState:this.recordingState},{viaSocket:!0}))})}receiveMessage(){this.session.on("signal:my-chat",e=>{this.subject.setMsgData({message:e.data,from:e.from.data})})}sendMessage(e){this.session.signal({data:e.message,to:[],type:"my-chat"}).then(()=>{this.chatService.saveMessage(Object.assign({video_id:this.videoId},e)).subscribe(e=>{})}).catch(e=>{console.error(e)})}updateMainStreamManager(e){this.mainStreamManager=e}leaveSession(){this.session&&this.session.disconnect(),this.sessionData&&this.openViduService.leaveSession({token:this.openViduToken,sessionName:this.sessionData.sessionName,role:"subscriber"}).subscribe(()=>{})}ngOnDestroy(){this.leaveSession()}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(x.a),u.Rb(o.a),u.Rb(H),u.Rb(Q.a),u.Rb(J),u.Rb(Z.a),u.Rb(C.a),u.Rb(E.b),u.Rb(u.l))},e.\u0275cmp=u.Lb({type:e,selectors:[["app-join-video-streaming"]],viewQuery:function(e,t){var n;1&e&&u.Wc(pe,!0),2&e&&u.Dc(n=u.kc())&&(t.chatBox=n.first)},hostBindings:function(e,t){1&e&&u.jc("beforeunload",(function(){return t.beforeunloadHandler()}),!1,u.Hc)},decls:5,vars:5,consts:[["id","video-chat-container",4,"ngIf"],[4,"ngIf"],["id","video-chat-container"],["class","session-loader",3,"diameter",4,"ngIf"],[1,"session-loader",3,"diameter"],["class","stream-container col-md-6 col-xs-6",4,"ngFor","ngForOf"],[3,"openViduToken","session","videoRecordingState","videoId","sendMessage",4,"ngIf"],[1,"stream-container","col-md-6","col-xs-6"],[1,"video-container"],[3,"streamManager","click"],[3,"openViduToken","session","videoRecordingState","videoId","sendMessage"],[1,"fa","fa-users"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(u.Pc(0,Ct,3,2,"div",0),u.Pc(1,Ot,2,0,"p",1),u.Pc(2,Et,6,3,"ng-container",1),u.Pc(3,Mt,3,0,"ng-container",1),u.Pc(4,Rt,3,0,"ng-container",1)),2&e&&(u.uc("ngIf",t.openViduToken&&t.videoFound),u.Cb(1),u.uc("ngIf",!t.videoFound&&!t.loader.dataLoading),u.Cb(1),u.uc("ngIf",t.streamCreated&&t.openViduToken&&t.videoFound),u.Cb(1),u.uc("ngIf",!t.openViduToken&&!t.loader.dataLoading&&t.videoFound),u.Cb(1),u.uc("ngIf",!t.streamCreated&&!t.loader.dataLoading&&t.videoFound))},directives:[i.m,R.b,i.l,vt,pe],styles:["#video-chat-container[_ngcontent-%COMP%]{display:flex}"]}),e})(),Pt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Lb({type:e,selectors:[["app-subscriber-flow"]],decls:1,vars:0,template:function(e,t){1&e&&u.Sb(0,"app-join-video-streaming")},directives:[kt],styles:[""]}),e})();const Tt=[{path:"about",component:Te.a},{path:"help",component:Pe.a},{path:"cookie-policy",component:ke.a},{path:"accessibility-statement",component:Re.a},{path:"profile",component:G},{path:"stock-profile",component:Ie},{path:"video/check-streaming-requirements",component:pt},{path:"video/start-live-video",component:pt},{path:"video/publish",component:Ce,canDeactivate:[(()=>{class e{canDeactivate(e,t,n,i){return"started"!==e.recordingState||(e.alertOfLeaving(),!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]},{path:"video/watch",component:Pt},{path:"video-library",component:Me}];let It=(()=>{class e{}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(t){return new(t||e)},imports:[[o.f.forChild(Tt)],o.f]}),e})();var At=n("PCNd"),Dt=n("kUS0");const Lt={url:"{no_url}",maxFilesize:50,maxFiles:1,acceptedFiles:"image/*",autoProcessQueue:!1,addRemoveLinks:!0};let jt=(()=>{class e{}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(t){return new(t||e)},providers:[{provide:g,useValue:Lt}],imports:[[i.c,It,Oe.OpenviduSessionModule,Dt.b,M.c.forRoot(),_,At.a]]}),e})()},"8KVD":function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=function(e){function t(t,n,i,o,r){var s=e.call(this,t,n,i)||this;return s.connection=o,s.reason=r,s}return o(t,e),t.prototype.callDefaultBehavior=function(){},t}(n("hzOQ").Event);t.ConnectionEvent=r},"9m68":function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(){this.logger=window.console,this.LOG_FNS=[this.logger.log,this.logger.debug,this.logger.info,this.logger.warn,this.logger.error],this.isProdMode=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.LOG_FNS[0].apply(this.logger,arguments)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.LOG_FNS[1].apply(this.logger,arguments)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.LOG_FNS[2].apply(this.logger,arguments)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.LOG_FNS[3].apply(this.logger,arguments)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.LOG_FNS[4].apply(this.logger,arguments)},e.prototype.enableProdMode=function(){this.isProdMode=!0},e}();t.OpenViduLogger=i},AeG9:function(e,t,n){var i=!1;if(Object.defineProperty)try{Object.defineProperty({},"x",{})}catch(p){i=!0}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o});var o=n("txJ/").EventEmitter,r=n("HgqT"),s=n("0wxW"),a=n("gUCu");function c(e){if(e){if(e instanceof Function)return{send:e};if(e.send instanceof Function)return e;if(e.postMessage instanceof Function)return e.send=e.postMessage,e;if(e.write instanceof Function)return e.send=e.write,e;if(void 0===e.onmessage&&!(e.pause instanceof Function))throw new SyntaxError("Transport is not a function nor a valid object")}}function l(e,t){i?(this.method=e,this.params=t):(Object.defineProperty(this,"method",{value:e,enumerable:!0}),Object.defineProperty(this,"params",{value:t,enumerable:!0}))}function u(e,t,n,s){var u=this;if(!e)throw new SyntaxError("Packer is not defined");if(!e.pack||!e.unpack)throw new SyntaxError("Packer is invalid");var d=function(e){if(!e)return{};for(var t in e){var n=e[t];"string"==typeof n&&(e[t]={response:n})}return e}(e.responseMethods);if(t instanceof Function){if(null!=n)throw new SyntaxError("There can't be parameters after onRequest");s=t,n=void 0,t=void 0}if(t&&t.send instanceof Function){if(n&&!(n instanceof Function))throw new SyntaxError("Only a function can be after transport");s=n,n=t,t=void 0}if(n instanceof Function){if(null!=s)throw new SyntaxError("There can't be parameters after onRequest");s=n,n=void 0}if(n&&n.send instanceof Function&&s&&!(s instanceof Function))throw new SyntaxError("Only a function can be after transport");t=t||{},o.call(this),s&&this.on("request",s),i?this.peerID=t.peerID:Object.defineProperty(this,"peerID",{value:t.peerID});var h=t.max_retries||0;function f(e){u.decode(e.data||e)}this.getTransport=function(){return n},this.setTransport=function(e){n&&(n.removeEventListener?n.removeEventListener("message",f):n.removeListener&&n.removeListener("data",f)),e&&(e.addEventListener?e.addEventListener("message",f):e.addListener&&e.addListener("data",f)),n=c(e)},i||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)}),this.setTransport(n);var g=t.request_timeout||5e3,m=t.ping_request_timeout||g,v=t.response_timeout||5e3,b=t.duplicates_timeout||5e3,y=0,_=new a,S=new a,C=new a,O={};function w(e,t){var n=setTimeout((function(){C.remove(e,t)}),b);C.set(n,e,t)}function x(t,n,o,r,s){l.call(this,t,n),this.getTransport=function(){return s},this.setTransport=function(e){s=c(e)},i||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)});var a=S.get(o,r);s||u.getTransport()||(i?this.duplicated=Boolean(a):Object.defineProperty(this,"duplicated",{value:Boolean(a)}));var h=d[t];this.pack=e.pack.bind(e,this,o),this.reply=function(t,n,i){if(t instanceof Function||t&&t.send instanceof Function){if(null!=n)throw new SyntaxError("There can't be parameters after callback");i=t,n=null,t=void 0}else if(n instanceof Function||n&&n.send instanceof Function){if(null!=i)throw new SyntaxError("There can't be parameters after callback");i=n,n=null}var s;return i=c(i),a&&clearTimeout(a.timeout),null!=r&&(t&&(t.dest=r),n&&(n.dest=r)),t||null!=n?(null!=u.peerID&&(t?t.from=u.peerID:n.from=u.peerID),s=e.pack(s=h?null==h.error&&t?{error:t}:{method:t?h.error:h.response,params:t||n}:{error:t,result:n},o)):s=a?a.message:e.pack({result:null},o),function(e,t,n){var i={message:e,timeout:setTimeout((function(){S.remove(t,n)}),v)};S.set(i,t,n)}(s,o,r),(i=i||this.getTransport()||u.getTransport())?i.send(s):s}}function E(e){var t=O[e];if(t){delete O[e];var n=_.pop(t.id,t.dest);n&&(clearTimeout(n.timeout),w(t.id,t.dest))}}r(x,l),this.cancel=function(e){if(e)return E(e);for(var e in O)E(e)},this.close=function(){var e=this.getTransport();e&&e.close&&e.close(4003,"Cancel request"),this.cancel(),C.forEach(clearTimeout),S.forEach((function(e){clearTimeout(e.timeout)}))},this.encode=function(t,n,i,o,r){if(n instanceof Function){if(null!=i)throw new SyntaxError("There can't be parameters after callback");r=n,o=void 0,i=void 0,n=void 0}else if(i instanceof Function){if(null!=o)throw new SyntaxError("There can't be parameters after callback");r=i,o=void 0,i=void 0}else if(o instanceof Function){if(null!=r)throw new SyntaxError("There can't be parameters after callback");r=o,o=void 0}null!=u.peerID&&((n=n||{}).from=u.peerID),null!=i&&((n=n||{}).dest=i);var s={method:t,params:n};if(r){var a=y++,l=0;function p(e,t){u.cancel(s),r(e,t)}var f={message:s=e.pack(s,a),callback:p,responseMethods:d[t]||{}},v=c(o);function b(e){return f.timeout=setTimeout(w,("ping"===t?m:g)*Math.pow(2,l++)),O[s]={id:a,dest:i},_.set(f,a,i),(e=e||v||u.getTransport())?e.send(s):s}function S(e){e=c(e),console.warn(l+" retry for request message:",s);var t=C.pop(a,i);return clearTimeout(t),b(e)}function w(){if(l<h)return S(o);var e=new Error("Request has timed out");e.request=s,e.retry=S,p(e)}return b(o)}return s=e.pack(s),(o=o||this.getTransport())?o.send(s):s},this.decode=function(t,n){if(!t)throw new TypeError("Message is not defined");try{t=e.unpack(t)}catch(p){return console.debug(p,t)}var i=t.id,o=t.ack,r=t.method,s=t.params||{},a=s.from,d=s.dest;if(null==u.peerID||a!=u.peerID){if(null==i&&null==o){var h=new l(r,s);if(u.emit("request",h))return;return h}if(r){if(null==d||d==u.peerID){if(v=_.get(o,a)){var f=v.responseMethods;return r==f.error?O(v,s):r==f.response?O(v,null,s):y()}if(b=C.get(o,a))return E(b)}return y()}var g=t.error,m=t.result;if(!(g&&g.dest&&g.dest!=u.peerID||m&&m.dest&&m.dest!=u.peerID)){var v,b;if(!(v=_.get(o,a)))return(b=C.get(o,a))?E(b):console.warn("No callback was defined for this message",t);O(v,g,m)}}function y(){if(n=c(n)||u.getTransport()){var e=S.get(i,a);if(e)return n.send(e.message)}var t=new x(r,s,null!=i?i:o,a,n);if(!u.emit("request",t))return t}function O(e,t,n){e.callback(t,n)}function E(e){console.warn("Response already processed",t),clearTimeout(e),w(o,a)}}}r(u,o),u.RpcNotification=l,e.exports=u;var d=n("SYuc"),h=n("ee8k");(u.clients=d).transports=h,u.packers=s},BwMD:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=function(e){function t(t,n,i,o,r,s){var a=e.call(this,!1,t,"streamPropertyChanged")||this;return a.stream=n,a.changedProperty=i,a.newValue=o,a.oldValue=r,a.reason=s,a}return o(t,e),t.prototype.callDefaultBehavior=function(){},t}(n("hzOQ").Event);t.StreamPropertyChangedEvent=r},DPKQ:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n("74bm"),s=n("bk74"),a=n("Dztv"),c=n("5kmN"),l=n("+FKC"),u=n("e8ps"),d=n("HxXY"),h=n("BwMD"),p=n("Tt94"),f=n("ttXH"),g=n("bDgZ"),m=n("9m68").OpenViduLogger.getInstance(),v=function(e){function t(t,n){var i=e.call(this)||this;return i.isSubscribeToRemote=!1,i.isLocalStreamReadyToPublish=!1,i.isLocalStreamPublished=!1,i.publishedOnce=!1,i.publisherStartSpeakingEventEnabled=!1,i.publisherStartSpeakingEventEnabledOnce=!1,i.publisherStopSpeakingEventEnabled=!1,i.publisherStopSpeakingEventEnabledOnce=!1,i.volumeChangeEventEnabled=!1,i.volumeChangeEventEnabledOnce=!1,i.session=t,n.hasOwnProperty("id")?(i.inboundStreamOpts=n,i.streamId=i.inboundStreamOpts.id,i.creationTime=i.inboundStreamOpts.createdAt,i.hasAudio=i.inboundStreamOpts.hasAudio,i.hasVideo=i.inboundStreamOpts.hasVideo,i.hasAudio&&(i.audioActive=i.inboundStreamOpts.audioActive),i.hasVideo&&(i.videoActive=i.inboundStreamOpts.videoActive,i.typeOfVideo=i.inboundStreamOpts.typeOfVideo?i.inboundStreamOpts.typeOfVideo:void 0,i.frameRate=-1===i.inboundStreamOpts.frameRate?void 0:i.inboundStreamOpts.frameRate,i.videoDimensions=i.inboundStreamOpts.videoDimensions),i.inboundStreamOpts.filter&&Object.keys(i.inboundStreamOpts.filter).length>0&&(i.inboundStreamOpts.filter.lastExecMethod&&0===Object.keys(i.inboundStreamOpts.filter.lastExecMethod).length&&delete i.inboundStreamOpts.filter.lastExecMethod,i.filter=i.inboundStreamOpts.filter)):(i.outboundStreamOpts=n,i.hasAudio=i.isSendAudio(),i.hasVideo=i.isSendVideo(),i.hasAudio&&(i.audioActive=!!i.outboundStreamOpts.publisherProperties.publishAudio),i.hasVideo&&(i.videoActive=!!i.outboundStreamOpts.publisherProperties.publishVideo,i.frameRate=i.outboundStreamOpts.publisherProperties.frameRate,i.typeOfVideo="undefined"!=typeof MediaStreamTrack&&i.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?"CUSTOM":i.isSendScreen()?"SCREEN":"CAMERA"),i.outboundStreamOpts.publisherProperties.filter&&(i.filter=i.outboundStreamOpts.publisherProperties.filter)),i.ee.on("mediastream-updated",(function(){i.streamManager.updateMediaStream(i.mediaStream),m.debug("Video srcObject ["+i.mediaStream+"] updated in stream ["+i.streamId+"]")})),i}return o(t,e),t.prototype.on=function(t,n){return e.prototype.onAux.call(this,t,"Event '"+t+"' triggered by stream '"+this.streamId+"'",n),this},t.prototype.once=function(t,n){return e.prototype.onceAux.call(this,t,"Event '"+t+"' triggered once by stream '"+this.streamId+"'",n),this},t.prototype.off=function(t,n){return e.prototype.off.call(this,t,n),this},t.prototype.applyFilter=function(e,t){var n=this;return new Promise((function(i,o){m.info("Applying filter to stream "+n.streamId),"string"!=typeof(t=t||{})&&(t=JSON.stringify(t)),n.session.openvidu.sendRequest("applyFilter",{streamId:n.streamId,type:e,options:t},(function(s,a){if(s)m.error("Error applying filter for Stream "+n.streamId,s),o(401===s.code?new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to apply a filter"):s);else{m.info("Filter successfully applied on Stream "+n.streamId);var c=n.filter;n.filter=new r.Filter(e,t),n.filter.stream=n,n.session.emitEvent("streamPropertyChanged",[new h.StreamPropertyChangedEvent(n.session,n,"filter",n.filter,c,"applyFilter")]),n.streamManager.emitEvent("streamPropertyChanged",[new h.StreamPropertyChangedEvent(n.streamManager,n,"filter",n.filter,c,"applyFilter")]),i(n.filter)}}))}))},t.prototype.removeFilter=function(){var e=this;return new Promise((function(t,n){m.info("Removing filter of stream "+e.streamId),e.session.openvidu.sendRequest("removeFilter",{streamId:e.streamId},(function(i,o){if(i)m.error("Error removing filter for Stream "+e.streamId,i),n(401===i.code?new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to remove a filter"):i);else{m.info("Filter successfully removed from Stream "+e.streamId);var r=e.filter;delete e.filter,e.session.emitEvent("streamPropertyChanged",[new h.StreamPropertyChangedEvent(e.session,e,"filter",e.filter,r,"applyFilter")]),e.streamManager.emitEvent("streamPropertyChanged",[new h.StreamPropertyChangedEvent(e.streamManager,e,"filter",e.filter,r,"applyFilter")]),t()}}))}))},t.prototype.getRTCPeerConnection=function(){return this.webRtcPeer.pc},t.prototype.getMediaStream=function(){return this.mediaStream},t.prototype.setMediaStream=function(e){this.mediaStream=e},t.prototype.updateMediaStreamInVideos=function(){this.ee.emitEvent("mediastream-updated",[])},t.prototype.getWebRtcPeer=function(){return this.webRtcPeer},t.prototype.subscribeToMyRemote=function(e){this.isSubscribeToRemote=e},t.prototype.setOutboundStreamOptions=function(e){this.outboundStreamOpts=e},t.prototype.subscribe=function(){var e=this;return new Promise((function(t,n){e.initWebRtcPeerReceive(!1).then((function(){t()})).catch((function(e){n(e)}))}))},t.prototype.publish=function(){var e=this;return new Promise((function(t,n){e.isLocalStreamReadyToPublish?e.initWebRtcPeerSend(!1).then((function(){t()})).catch((function(e){n(e)})):e.ee.once("stream-ready-to-publish",(function(){e.publish().then((function(){t()})).catch((function(e){n(e)}))}))}))},t.prototype.disposeWebRtcPeer=function(){this.webRtcPeer&&(this.webRtcPeer.dispose(),this.stopWebRtcStats()),m.info((this.outboundStreamOpts?"Outbound ":"Inbound ")+"WebRTCPeer from 'Stream' with id ["+this.streamId+"] is now closed")},t.prototype.disposeMediaStream=function(){this.mediaStream&&(this.mediaStream.getAudioTracks().forEach((function(e){e.stop()})),this.mediaStream.getVideoTracks().forEach((function(e){e.stop()})),delete this.mediaStream),this.localMediaStreamWhenSubscribedToRemote&&(this.localMediaStreamWhenSubscribedToRemote.getAudioTracks().forEach((function(e){e.stop()})),this.localMediaStreamWhenSubscribedToRemote.getVideoTracks().forEach((function(e){e.stop()})),delete this.localMediaStreamWhenSubscribedToRemote),this.speechEvent&&(this.speechEvent.stop&&this.speechEvent.stop(),delete this.speechEvent),m.info((this.outboundStreamOpts?"Local ":"Remote ")+"MediaStream from 'Stream' with id ["+this.streamId+"] is now disposed")},t.prototype.displayMyRemote=function(){return this.isSubscribeToRemote},t.prototype.isSendAudio=function(){return!!this.outboundStreamOpts&&null!==this.outboundStreamOpts.publisherProperties.audioSource&&!1!==this.outboundStreamOpts.publisherProperties.audioSource},t.prototype.isSendVideo=function(){return!!this.outboundStreamOpts&&null!==this.outboundStreamOpts.publisherProperties.videoSource&&!1!==this.outboundStreamOpts.publisherProperties.videoSource},t.prototype.isSendScreen=function(){var e="screen"===this.outboundStreamOpts.publisherProperties.videoSource;return"Electron"===g.name&&(e="string"==typeof this.outboundStreamOpts.publisherProperties.videoSource&&this.outboundStreamOpts.publisherProperties.videoSource.startsWith("screen:")),!!this.outboundStreamOpts&&e},t.prototype.enableStartSpeakingEvent=function(){var e=this;this.setSpeechEventIfNotExists(),this.publisherStartSpeakingEventEnabled||(this.publisherStartSpeakingEventEnabled=!0,this.speechEvent.on("speaking",(function(){e.session.emitEvent("publisherStartSpeaking",[new u.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.publisherStartSpeakingEventEnabledOnce=!1})))},t.prototype.enableOnceStartSpeakingEvent=function(){var e=this;this.setSpeechEventIfNotExists(),this.publisherStartSpeakingEventEnabledOnce||(this.publisherStartSpeakingEventEnabledOnce=!0,this.speechEvent.once("speaking",(function(){e.publisherStartSpeakingEventEnabledOnce&&e.session.emitEvent("publisherStartSpeaking",[new u.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.disableStartSpeakingEvent(!0)})))},t.prototype.disableStartSpeakingEvent=function(e){if(this.speechEvent){if(this.publisherStartSpeakingEventEnabledOnce=!1,e){if(this.publisherStartSpeakingEventEnabled)return}else this.publisherStartSpeakingEventEnabled=!1;this.volumeChangeEventEnabled||this.volumeChangeEventEnabledOnce||this.publisherStopSpeakingEventEnabled||this.publisherStopSpeakingEventEnabledOnce?this.speechEvent.off("speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.enableStopSpeakingEvent=function(){var e=this;this.setSpeechEventIfNotExists(),this.publisherStopSpeakingEventEnabled||(this.publisherStopSpeakingEventEnabled=!0,this.speechEvent.on("stopped_speaking",(function(){e.session.emitEvent("publisherStopSpeaking",[new u.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.publisherStopSpeakingEventEnabledOnce=!1})))},t.prototype.enableOnceStopSpeakingEvent=function(){var e=this;this.setSpeechEventIfNotExists(),this.publisherStopSpeakingEventEnabledOnce||(this.publisherStopSpeakingEventEnabledOnce=!0,this.speechEvent.once("stopped_speaking",(function(){e.publisherStopSpeakingEventEnabledOnce&&e.session.emitEvent("publisherStopSpeaking",[new u.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.disableStopSpeakingEvent(!0)})))},t.prototype.disableStopSpeakingEvent=function(e){if(this.speechEvent){if(this.publisherStopSpeakingEventEnabledOnce=!1,e){if(this.publisherStopSpeakingEventEnabled)return}else this.publisherStopSpeakingEventEnabled=!1;this.volumeChangeEventEnabled||this.volumeChangeEventEnabledOnce||this.publisherStartSpeakingEventEnabled||this.publisherStartSpeakingEventEnabledOnce?this.speechEvent.off("stopped_speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.enableVolumeChangeEvent=function(e){var t=this;this.setSpeechEventIfNotExists()?this.volumeChangeEventEnabled&&!e||(this.volumeChangeEventEnabled=!0,this.speechEvent.on("volume_change",(function(e){var n={newValue:e,oldValue:t.speechEvent.oldVolumeValue};t.speechEvent.oldVolumeValue=e,t.streamManager.emitEvent("streamAudioVolumeChange",[new d.StreamManagerEvent(t.streamManager,"streamAudioVolumeChange",n)])}))):this.volumeChangeEventEnabled=!0},t.prototype.enableOnceVolumeChangeEvent=function(e){var t=this;this.setSpeechEventIfNotExists()?this.volumeChangeEventEnabledOnce&&!e||(this.volumeChangeEventEnabledOnce=!0,this.speechEvent.once("volume_change",(function(e){var n={newValue:e,oldValue:t.speechEvent.oldVolumeValue};t.speechEvent.oldVolumeValue=e,t.disableVolumeChangeEvent(!0),t.streamManager.emitEvent("streamAudioVolumeChange",[new d.StreamManagerEvent(t.streamManager,"streamAudioVolumeChange",n)])}))):this.volumeChangeEventEnabledOnce=!0},t.prototype.disableVolumeChangeEvent=function(e){if(this.speechEvent){if(this.volumeChangeEventEnabledOnce=!1,e){if(this.volumeChangeEventEnabled)return}else this.volumeChangeEventEnabled=!1;this.publisherStartSpeakingEventEnabled||this.publisherStartSpeakingEventEnabledOnce||this.publisherStopSpeakingEventEnabled||this.publisherStopSpeakingEventEnabledOnce?this.speechEvent.off("volume_change"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.isLocal=function(){return!this.inboundStreamOpts&&!!this.outboundStreamOpts},t.prototype.getSelectedIceCandidate=function(){var e=this;return new Promise((function(t,n){e.webRtcStats.getSelectedIceCandidateInfo().then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},t.prototype.getRemoteIceCandidateList=function(){return this.webRtcPeer.remoteCandidatesQueue},t.prototype.getLocalIceCandidateList=function(){return this.webRtcPeer.localCandidatesQueue},t.prototype.streamIceConnectionStateBroken=function(){if(!this.getWebRtcPeer()||!this.getRTCPeerConnection())return!1;if(this.isLocal&&this.session.openvidu.advancedConfiguration.forceMediaReconnectionAfterNetworkDrop)return m.warn('OpenVidu Browser advanced configuration option "forceMediaReconnectionAfterNetworkDrop" is enabled. Publisher stream '+this.streamId+"will force a reconnection"),!0;var e=this.getRTCPeerConnection().iceConnectionState;return"disconnected"===e||"failed"===e},t.prototype.setSpeechEventIfNotExists=function(){if(this.mediaStream){if(!this.speechEvent){var e=this.harkOptions?this.harkOptions:this.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{};e.interval="number"==typeof e.interval?e.interval:100,e.threshold="number"==typeof e.threshold?e.threshold:-50,this.speechEvent=f(this.mediaStream,e)}return!0}return!1},t.prototype.initWebRtcPeerSend=function(e){var t=this;return new Promise((function(n,i){e||t.initHarkEvents();var o={audio:t.isSendAudio(),video:t.isSendVideo()},r={mediaStream:t.mediaStream,mediaConstraints:o,onicecandidate:t.connection.sendIceCandidate.bind(t.connection),iceServers:t.getIceServersConf(),simulcast:!1};e&&t.disposeWebRtcPeer(),t.webRtcPeer=t.displayMyRemote()?new c.WebRtcPeerSendrecv(r):new c.WebRtcPeerSendonly(r),t.webRtcPeer.addIceConnectionStateChangeListener("publisher of "+t.connection.connectionId),t.webRtcPeer.generateOffer().then((function(o){!function(o){m.debug("Sending SDP offer to publish as "+t.streamId,o);var r,s=e?"reconnectStream":"publishVideo";if(e)r={stream:t.streamId};else{var a="";t.isSendVideo()&&(a="undefined"!=typeof MediaStreamTrack&&t.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?"CUSTOM":t.isSendScreen()?"SCREEN":"CAMERA"),r={doLoopback:t.displayMyRemote()||!1,hasAudio:t.isSendAudio(),hasVideo:t.isSendVideo(),audioActive:t.audioActive,videoActive:t.videoActive,typeOfVideo:a,frameRate:t.frameRate?t.frameRate:-1,videoDimensions:JSON.stringify(t.videoDimensions),filter:t.outboundStreamOpts.publisherProperties.filter}}r.sdpOffer=o,t.session.openvidu.sendRequest(s,r,(function(o,r){o?i(401===o.code?new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to publish"):"Error on publishVideo: "+JSON.stringify(o)):t.webRtcPeer.processAnswer(r.sdpAnswer,!1).then((function(){t.streamId=r.id,t.creationTime=r.createdAt,t.isLocalStreamPublished=!0,t.publishedOnce=!0,t.displayMyRemote()&&(t.localMediaStreamWhenSubscribedToRemote=t.mediaStream,t.remotePeerSuccessfullyEstablished()),t.ee.emitEvent(e?"stream-reconnected-by-publisher":"stream-created-by-publisher",[]),t.initWebRtcStats(),m.info("'Publisher' ("+t.streamId+") successfully "+(e?"reconnected":"published")+" to session"),n()})).catch((function(e){i(e)}))}))}(o)})).catch((function(e){i(new Error("(publish) SDP offer error: "+JSON.stringify(e)))}))}))},t.prototype.initWebRtcPeerReceive=function(e){var t=this;return new Promise((function(n,i){var o={audio:t.inboundStreamOpts.hasAudio,video:t.inboundStreamOpts.hasVideo};m.debug("'Session.subscribe(Stream)' called. Constraints of generate SDP offer",o);var r={onicecandidate:t.connection.sendIceCandidate.bind(t.connection),mediaConstraints:o,iceServers:t.getIceServersConf(),simulcast:!1};t.webRtcPeer=new c.WebRtcPeerRecvonly(r),t.webRtcPeer.addIceConnectionStateChangeListener(t.streamId),t.webRtcPeer.generateOffer().then((function(o){!function(o){m.debug("Sending SDP offer to subscribe to "+t.streamId,o);var r=e?"reconnectStream":"receiveVideoFrom",s={sdpOffer:o};s[e?"stream":"sender"]=t.streamId,t.session.openvidu.sendRequest(r,s,(function(o,r){o?i(new Error("Error on recvVideoFrom: "+JSON.stringify(o))):(t.session.isFirstIonicIosSubscriber&&(t.session.isFirstIonicIosSubscriber=!1,setTimeout((function(){t.session.countDownForIonicIosSubscribersActive=!1}),400)),t.webRtcPeer.processAnswer(r.sdpAnswer,t.session.countDownForIonicIosSubscribersActive).then((function(){m.info("'Subscriber' ("+t.streamId+") successfully "+(e?"reconnected":"subscribed")),t.remotePeerSuccessfullyEstablished(),t.initWebRtcStats(),n()})).catch((function(e){i(e)})))}))}(o)})).catch((function(e){i(new Error("(subscribe) SDP offer error: "+JSON.stringify(e)))}))}))},t.prototype.remotePeerSuccessfullyEstablished=function(){var e;this.mediaStream=new MediaStream;for(var t=0,n=this.webRtcPeer.pc.getReceivers();t<n.length;t++)(e=n[t]).track&&this.mediaStream.addTrack(e.track);if(m.debug("Peer remote stream",this.mediaStream),this.mediaStream){if(this.streamManager instanceof s.Subscriber){if(this.mediaStream.getAudioTracks()[0]){var i=!!this.streamManager.properties.subscribeToAudio;this.mediaStream.getAudioTracks()[0].enabled=i}this.mediaStream.getVideoTracks()[0]&&(i=!!this.streamManager.properties.subscribeToVideo,this.mediaStream.getVideoTracks()[0].enabled=i)}this.updateMediaStreamInVideos(),this.initHarkEvents()}},t.prototype.initHarkEvents=function(){this.mediaStream.getAudioTracks()[0]&&(this.streamManager.remote&&(this.session.startSpeakingEventsEnabled&&this.enableStartSpeakingEvent(),this.session.startSpeakingEventsEnabledOnce&&this.enableOnceStartSpeakingEvent(),this.session.stopSpeakingEventsEnabled&&this.enableStopSpeakingEvent(),this.session.stopSpeakingEventsEnabledOnce&&this.enableOnceStopSpeakingEvent()),this.volumeChangeEventEnabled&&this.enableVolumeChangeEvent(!0),this.volumeChangeEventEnabledOnce&&this.enableOnceVolumeChangeEvent(!0))},t.prototype.initWebRtcStats=function(){this.webRtcStats=new l.WebRtcStats(this),this.webRtcStats.initWebRtcStats()},t.prototype.stopWebRtcStats=function(){this.webRtcStats&&this.webRtcStats.isEnabled()&&this.webRtcStats.stopWebRtcStats()},t.prototype.getIceServersConf=function(){return this.session.openvidu.advancedConfiguration.iceServers?"freeice"===this.session.openvidu.advancedConfiguration.iceServers?void 0:this.session.openvidu.advancedConfiguration.iceServers:this.session.openvidu.iceServers?this.session.openvidu.iceServers:void 0},t.prototype.gatherStatsForPeer=function(){var e=this;return new Promise((function(t,n){e.isLocal()?e.getRTCPeerConnection().getSenders().forEach((function(t){return t.getStats().then((function(t){t.forEach((function(t){if(e.isReportWanted(t)){var n={};n.type=t.type,n.timestamp=t.timestamp,n.id=t.id,"outbound-rtp"===t.type&&(n.ssrc=t.ssrc,n.firCount=t.firCount,n.pliCount=t.pliCount,n.nackCount=t.nackCount,n.qpSum=t.qpSum,n.mediaType=t.kind?t.kind:t.mediaType?t.mediaType:-1!==t.id.indexOf("VideoStream")?"video":"audio","video"===n.mediaType&&(n.framesEncoded=t.framesEncoded),n.packetsSent=t.packetsSent,n.bytesSent=t.bytesSent),"candidate-pair"===t.type&&void 0!==t.totalRoundTripTime&&(n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.rtt=t.currentRoundTripTime,n.averageRtt=t.totalRoundTripTime/t.responsesReceived),m.log(n)}}))}))})):e.getRTCPeerConnection().getReceivers().forEach((function(t){return t.getStats().then((function(t){t.forEach((function(t){if(e.isReportWanted(t)){var n={};n.type=t.type,n.timestamp=t.timestamp,n.id=t.id,"inbound-rtp"===t.type&&(n.ssrc=t.ssrc,n.firCount=t.firCount,n.pliCount=t.pliCount,n.nackCount=t.nackCount,n.qpSum=t.qpSum,n.mediaType=t.kind?t.kind:t.mediaType?t.mediaType:-1!==t.id.indexOf("VideoStream")?"video":"audio","video"===n.mediaType&&(n.framesDecoded=t.framesDecoded),n.packetsReceived=t.packetsReceived,n.packetsLost=t.packetsLost,n.jitter=t.jitter,n.bytesReceived=t.bytesReceived),"candidate-pair"===t.type&&void 0!==t.totalRoundTripTime&&(n.availableIncomingBitrate=t.availableIncomingBitrate,n.rtt=t.currentRoundTripTime,n.averageRtt=t.totalRoundTripTime/t.responsesReceived),m.log(n)}}))}))}))}))},t.prototype.isReportWanted=function(e){return"inbound-rtp"===e.type&&!this.isLocal()||"outbound-rtp"===e.type&&this.isLocal()||"candidate-pair"===e.type&&e.nominated&&e.bytesSent>0},t}(a.EventDispatcher);t.Stream=v},Dztv:function(e,t,n){"use strict";t.__esModule=!0;var i=n("6+/i"),o=n("9m68").OpenViduLogger.getInstance(),r=function(){function e(){this.userHandlerArrowHandler=new WeakMap,this.ee=new i}return e.prototype.off=function(e,t){if(t){var n=this.userHandlerArrowHandler.get(t);n&&this.ee.off(e,n),this.userHandlerArrowHandler.delete(t)}else this.ee.removeAllListeners(e);return this},e.prototype.onAux=function(e,t,n){var i=function(e){e?o.info(t,e):o.info(t),n(e)};return this.userHandlerArrowHandler.set(n,i),this.ee.on(e,i),this},e.prototype.onceAux=function(e,t,n){var i=this,r=function(e){e?o.info(t,e):o.info(t),n(e),i.userHandlerArrowHandler.delete(n)};return this.userHandlerArrowHandler.set(n,r),this.ee.once(e,r),this},e}();t.EventDispatcher=r},EDod:function(e,t,n){var i=n("AeG9"),o=n("cUzU");Date.now=Date.now||function(){return+new Date};var r=console;e.exports=function(e){var t,n=this,s=e.ws,a=-1,c=0,l=!0,u=!1,d="DISCONNECTED",h=s.onreconnecting,p=s.onreconnected,f=s.onconnected,g=s.onerror;e.rpc.pull=function(e,t){t.reply(null,"push")},s.onreconnecting=function(){r.debug("--------- ONRECONNECTING -----------"),"RECONNECTING"!==d?(S(),d="RECONNECTING",h&&h()):r.error("Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it")},s.onreconnected=function(){r.debug("--------- ONRECONNECTED -----------"),"CONNECTED"!==d?(d="CONNECTED",b(),p&&p()):r.error("Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it")},s.onconnected=function(){r.debug("--------- ONCONNECTED -----------"),"CONNECTED"!==d?(d="CONNECTED",l=!0,_(),f&&f()):r.error("Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it")},s.onerror=function(e){r.debug("--------- ONERROR -----------"),d="DISCONNECTED",S(),g&&g(e)};var m=new o(s);r.debug("Connecting websocket to URI: "+s.uri);var v=new i(i.packers.JsonRPC,{request_timeout:e.rpc.requestTimeout,ping_request_timeout:e.rpc.heartbeatRequestTimeout},m,(function(t){r.debug("Received request: "+JSON.stringify(t));try{var n=e.rpc[t.method];void 0===n?r.error("Method "+t.method+" not registered in client"):n(t.params,t)}catch(i){r.error("Exception processing request: "+JSON.stringify(t)),r.error(i)}}));function b(){r.debug("notReconnectIfNumLessThan = "+c+" (old="+a+")"),a=c}function y(){if(l){var t=null;0!=c&&c!=a||(t={interval:e.heartbeat||5e3}),c++,n.send("ping",t,(i=c,function(e,t){e&&(r.debug("Error in ping request #"+i+" ("+e.message+")"),i>a&&(l=!1,b(),r.debug("Server did not respond to ping message #"+i+". Reconnecting... "),m.reconnectWs()))}))}else r.debug("Trying to send ping, but ping is not enabled");var i}function _(){u||(r.debug("Starting ping (if configured)"),u=!0,null!=e.heartbeat&&(t=setInterval(y,e.heartbeat),y()))}function S(){clearInterval(t),u=!1,l=!1,c=-1,v.cancel()}this.send=function(e,t,n){"ping"!==e&&r.debug("Request: method:"+e+" params:"+JSON.stringify(t));var i=Date.now();v.encode(e,t,(function(o,s){if(o){try{r.error("ERROR:"+o.message+" in Request: method:"+e+" params:"+JSON.stringify(t)+" request:"+o.request),o.data&&r.error("ERROR DATA:"+JSON.stringify(o.data))}catch(a){}o.requestTime=i}n&&(null!=s&&"pong"!==s.value&&r.debug("Response: "+JSON.stringify(s)),n(o,s))}))},this.close=function(n,i){r.debug("Closing  with code: "+n+" because: "+i),null!=t&&(r.debug("Clearing ping interval"),clearInterval(t)),u=!1,l=!1,e.sendCloseMessage?(r.debug("Sending close message"),this.send("closeSession",null,(function(e,t){e&&r.error("Error sending close message: "+JSON.stringify(e)),m.close(n,i)}))):m.close(n,i)},this.forceClose=function(e){m.forceClose(e)},this.reconnect=function(){m.reconnectWs()},this.resetPing=function(){l=!0,c=0,_()}}},EcWD:function(e,t){var n,i,o="screen";if("undefined"!=typeof window&&"undefined"!=typeof navigator&&void 0!==navigator.userAgent){var r=void 0!==window.InstallTrigger;window.opera||navigator.userAgent.indexOf(" OPR/"),window,window.addEventListener("message",(function(e){e.origin==window.location.origin&&function(e){if("PermissionDeniedError"==e){if(i)return i("PermissionDeniedError");throw new Error("PermissionDeniedError")}"rtcmulticonnection-extension-loaded"==e&&(o="desktop"),e.sourceId&&i&&i(n=e.sourceId,!0===e.canRequestAudioTrack)}(e.data)}))}function s(e){if(!e)throw'"callback" parameter is mandatory.';if(n)return e(n);i=e,window.postMessage("get-sourceId","*")}function a(e,t){if(n="",r)return e(null,{mozMediaSource:"window",mediaSource:"window"});var a={mandatory:{chromeMediaSource:o,maxWidth:screen.width>1920?screen.width:1920,maxHeight:screen.height>1080?screen.height:1080},optional:[]};"desktop"!=o||n?("desktop"==o&&(a.mandatory.chromeMediaSourceId=n),e(null,a)):t?function(e){if(!e)throw'"callback" parameter is mandatory.';if(n)return e(n);i=e,window.postMessage("audio-plus-tab","*")}((function(t,n){a.mandatory.chromeMediaSourceId=t,n&&(a.canRequestAudioTrack=!0),e("PermissionDeniedError"==t?t:null,a)})):s((function(t){a.mandatory.chromeMediaSourceId=t,e("PermissionDeniedError"==t?t:null,a)}))}t.getScreenConstraints=a,t.getScreenConstraintsWithAudio=function(e){a(e,!0)},t.isChromeExtensionAvailable=function(e){if(e){if("desktop"==o)return e(!0);window.postMessage("are-you-there","*"),setTimeout((function(){e("screen"!=o)}),2e3)}},t.getChromeExtensionStatus=function(e,t){if(r)return t("not-chrome");2!=arguments.length&&(t=e,e="lfcgfepafnobdloecchnfaclibenjold");var n=document.createElement("img");n.src="chrome-extension://"+e+"/icon.png",n.onload=function(){o="screen",window.postMessage("are-you-there","*"),setTimeout((function(){t("screen"==o?"installed-disabled":"installed-enabled")}),2e3)},n.onerror=function(){t("not-installed")}},t.getSourceId=s},FlKs:function(e,t,n){"use strict";t.__esModule=!0,t.stateify=t.TokenState=t.CharacterState=void 0;var i=n("JUw6"),o=function(e){this.j=[],this.T=e||null};o.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],i=n[1];if(this.test(e,n[0]))return i}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var r=(0,i.inherits)(o,(function(e){this.j=[],this.T=e||null}),{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),s=(0,i.inherits)(o,(function(e){this.j=[],this.T=e||null}),{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}});t.CharacterState=r,t.TokenState=s,t.stateify=function(e,t,n,i){for(var o=0,s=e.length,a=t,c=[],l=void 0;o<s&&(l=a.next(e[o]));)a=l,o++;if(o>=s)return[];for(;o<s-1;)l=new r(i),c.push(l),a.on(e[o],l),a=l,o++;return l=new r(n),c.push(l),a.on(e[s-1],l),c}},HgqT:function(e,t){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},HxXY:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=function(e){function t(t,n,i){var o=e.call(this,!1,t,n)||this;return o.value=i,o}return o(t,e),t.prototype.callDefaultBehavior=function(){},t}(n("hzOQ").Event);t.StreamManagerEvent=r},IXxz:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.scanner.TOKENS,n=e.parser,i=n.State,o=e.parser.start,r=t.DOMAIN,s=t.LOCALHOST,a=t.NUM,c=t.SLASH,l=t.TLD,u=t.UNDERSCORE,d=t.DOT,h=t.AT;function p(e){this.v=e}e.inherits(n.TOKENS.Base,p,{type:"mention",isLink:!0,toHref:function(){return"/"+this.toString().substr(1)}});var f=o.jump(t.AT),g=new i,m=new i(p),v=new i,b=new i;f.on(u,g),g.on(u,g).on(d,g),f.on(r,m).on(s,m).on(l,m).on(a,m),g.on(r,m).on(s,m).on(l,m).on(a,m),m.on(r,m).on(s,m).on(l,m).on(a,m).on(u,m),m.on(c,v).on(d,v).on(h,v),v.on(u,b),b.on(u,b),v.on(r,m).on(s,m).on(l,m).on(a,m),b.on(r,m).on(s,m).on(l,m).on(a,m)}},JTMn:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n("ryRr"),s=n("74bm"),a=n("bk74"),c=n("Dztv"),l=n("8KVD"),u=n("+ig+"),d=n("rUL0"),h=n("ksJj"),p=n("suHS"),f=n("Te8r"),g=n("BwMD"),m=n("Tt94"),v=n("/dLB"),b=n("bDgZ"),y=n("9m68").OpenViduLogger.getInstance(),_=function(e){function t(t){var n=e.call(this)||this;return n.streamManagers=[],n.remoteStreamsCreated={},n.isFirstIonicIosSubscriber=!0,n.countDownForIonicIosSubscribersActive=!0,n.remoteConnections={},n.startSpeakingEventsEnabled=!1,n.startSpeakingEventsEnabledOnce=!1,n.stopSpeakingEventsEnabled=!1,n.stopSpeakingEventsEnabledOnce=!1,n.openvidu=t,n}return o(t,e),t.prototype.connect=function(e,t){var n=this;return new Promise((function(i,o){n.processToken(e),n.openvidu.checkSystemRequirements()?(n.options={sessionId:n.sessionId,participantId:e,metadata:t?n.stringClientMetadata(t):""},n.connectAux(e).then((function(){i()})).catch((function(e){o(e)}))):o(new m.OpenViduError(m.OpenViduErrorName.BROWSER_NOT_SUPPORTED,"Browser "+b.name+" (version "+b.version+") for "+b.os.family+" is not supported in OpenVidu"))}))},t.prototype.disconnect=function(){this.leave(!1,"disconnect")},t.prototype.subscribe=function(e,t,n,i){var o,r={};r=n&&"function"!=typeof n?{insertMode:void 0!==n.insertMode?"string"==typeof n.insertMode?v.VideoInsertMode[n.insertMode]:r.insertMode:v.VideoInsertMode.APPEND,subscribeToAudio:void 0===n.subscribeToAudio||n.subscribeToAudio,subscribeToVideo:void 0===n.subscribeToVideo||n.subscribeToVideo}:{insertMode:v.VideoInsertMode.APPEND,subscribeToAudio:!0,subscribeToVideo:!0},n&&"function"==typeof n?o=n:i&&(o=i),y.info("Subscribing to "+e.connection.connectionId),e.subscribe().then((function(){y.info("Subscribed correctly to "+e.connection.connectionId),void 0!==o&&o(void 0)})).catch((function(e){void 0!==o&&o(e)}));var s=new a.Subscriber(e,t,r);return s.targetElement&&e.streamManager.createVideoElement(s.targetElement,r.insertMode),s},t.prototype.subscribeAsync=function(e,t,n){var i=this;return new Promise((function(o,r){var s,a=function(e){e?r(e):o(s)};s=n?i.subscribe(e,t,n,a):i.subscribe(e,t,a)}))},t.prototype.unsubscribe=function(e){var t=e.stream.connection.connectionId;y.info("Unsubscribing from "+t),this.openvidu.sendRequest("unsubscribeFromVideo",{sender:e.stream.connection.connectionId},(function(n,i){n?y.error("Error unsubscribing from "+t,n):y.info("Unsubscribed correctly from "+t),e.stream.disposeWebRtcPeer(),e.stream.disposeMediaStream()})),e.stream.streamManager.removeAllVideos()},t.prototype.publish=function(e){var t=this;return new Promise((function(n,i){e.session=t,e.stream.session=t,e.stream.publishedOnce?e.initialize().then((function(){t.connection.addStream(e.stream),e.reestablishStreamPlayingEvent(),e.stream.publish().then((function(){n()})).catch((function(e){i(e)}))})).catch((function(e){i(e)})):(t.connection.addStream(e.stream),e.stream.publish().then((function(){n()})).catch((function(e){i(e)})))}))},t.prototype.unpublish=function(e){var t=e.stream;if(t.connection)if(t.connection===this.connection){y.info("Unpublishing local media ("+t.connection.connectionId+")"),this.openvidu.sendRequest("unpublishVideo",(function(e,t){e?y.error(e):y.info("Media unpublished correctly")})),t.disposeWebRtcPeer(),delete t.connection.stream;var n=new f.StreamEvent(!0,e,"streamDestroyed",e.stream,"unpublish");e.emitEvent("streamDestroyed",[n]),n.callDefaultBehavior()}else y.error("The associated Connection object of this Publisher is not your local Connection.Only moderators can force unpublish on remote Streams via 'forceUnpublish' method",t);else y.error("The associated Connection object of this Publisher is null",t)},t.prototype.forceDisconnect=function(e){var t=this;return new Promise((function(n,i){y.info("Forcing disconnect for connection "+e.connectionId),t.openvidu.sendRequest("forceDisconnect",{connectionId:e.connectionId},(function(t,o){t?(y.error("Error forcing disconnect for Connection "+e.connectionId,t),i(401===t.code?new m.OpenViduError(m.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force a disconnection"):t)):(y.info("Forcing disconnect correctly for Connection "+e.connectionId),n())}))}))},t.prototype.forceUnpublish=function(e){var t=this;return new Promise((function(n,i){y.info("Forcing unpublish for stream "+e.streamId),t.openvidu.sendRequest("forceUnpublish",{streamId:e.streamId},(function(t,o){t?(y.error("Error forcing unpublish for Stream "+e.streamId,t),i(401===t.code?new m.OpenViduError(m.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force an unpublishing"):t)):(y.info("Forcing unpublish correctly for Stream "+e.streamId),n())}))}))},t.prototype.signal=function(e){var t=this;return new Promise((function(n,i){var o={};if(e.to&&e.to.length>0){var r=[];e.to.forEach((function(e){e.connectionId&&r.push(e.connectionId)})),o.to=r}else o.to=[];o.data=e.data?e.data:"";var s=e.type?e.type:"signal";s&&"signal:"!==s.substring(0,7)&&(s="signal:"+s),o.type=s,t.openvidu.sendRequest("sendMessage",{message:JSON.stringify(o)},(function(e,t){e?i(e):n()}))}))},t.prototype.on=function(t,n){if(e.prototype.onAux.call(this,t,"Event '"+t+"' triggered by 'Session'",n),"publisherStartSpeaking"===t)for(var i in this.startSpeakingEventsEnabled=!0,this.remoteConnections)(o=this.remoteConnections[i].stream)&&o.hasAudio&&o.enableStartSpeakingEvent();if("publisherStopSpeaking"===t)for(var i in this.stopSpeakingEventsEnabled=!0,this.remoteConnections){var o;(o=this.remoteConnections[i].stream)&&o.hasAudio&&o.enableStopSpeakingEvent()}return this},t.prototype.once=function(t,n){if(e.prototype.onceAux.call(this,t,"Event '"+t+"' triggered once by 'Session'",n),"publisherStartSpeaking"===t)for(var i in this.startSpeakingEventsEnabledOnce=!0,this.remoteConnections)(o=this.remoteConnections[i].stream)&&o.hasAudio&&o.enableOnceStartSpeakingEvent();if("publisherStopSpeaking"===t)for(var i in this.stopSpeakingEventsEnabledOnce=!0,this.remoteConnections){var o;(o=this.remoteConnections[i].stream)&&o.hasAudio&&o.enableOnceStopSpeakingEvent()}return this},t.prototype.off=function(t,n){if(e.prototype.off.call(this,t,n),"publisherStartSpeaking"===t&&0===this.ee.getListeners(t).length)for(var i in this.startSpeakingEventsEnabled=!1,this.remoteConnections)(o=this.remoteConnections[i].stream)&&o.disableStartSpeakingEvent(!1);if("publisherStopSpeaking"===t&&0===this.ee.getListeners(t).length)for(var i in this.stopSpeakingEventsEnabled=!1,this.remoteConnections){var o;(o=this.remoteConnections[i].stream)&&o.disableStopSpeakingEvent(!1)}return this},t.prototype.onParticipantJoined=function(e){var t=this;this.getConnection(e.id,"").then((function(t){y.warn("Connection "+e.id+" already exists in connections list")})).catch((function(n){var i=new r.Connection(t,e);t.remoteConnections[e.id]=i,t.ee.emitEvent("connectionCreated",[new l.ConnectionEvent(!1,t,"connectionCreated",i,"")])}))},t.prototype.onParticipantLeft=function(e){var t=this;this.getRemoteConnection(e.connectionId,"Remote connection "+e.connectionId+" unknown when 'onParticipantLeft'. Existing remote connections: "+JSON.stringify(Object.keys(this.remoteConnections))).then((function(n){if(n.stream){var i=n.stream,o=new f.StreamEvent(!0,t,"streamDestroyed",i,e.reason);t.ee.emitEvent("streamDestroyed",[o]),o.callDefaultBehavior(),delete t.remoteStreamsCreated[i.streamId],0===Object.keys(t.remoteStreamsCreated).length&&(t.isFirstIonicIosSubscriber=!0,t.countDownForIonicIosSubscribersActive=!0)}delete t.remoteConnections[n.connectionId],t.ee.emitEvent("connectionDestroyed",[new l.ConnectionEvent(!1,t,"connectionDestroyed",n,e.reason)])})).catch((function(e){y.error(e)}))},t.prototype.onParticipantPublished=function(e){var t,n=this,i=function(e){n.remoteConnections[e.connectionId]=e,n.remoteStreamsCreated[e.stream.streamId]||n.ee.emitEvent("streamCreated",[new f.StreamEvent(!1,n,"streamCreated",e.stream,"")]),n.remoteStreamsCreated[e.stream.streamId]=!0};this.getRemoteConnection(e.id,"Remote connection '"+e.id+"' unknown when 'onParticipantPublished'. Existing remote connections: "+JSON.stringify(Object.keys(this.remoteConnections))).then((function(n){t=n,e.metadata=n.data,t.options=e,t.initRemoteStreams(e.streams),i(t)})).catch((function(o){t=new r.Connection(n,e),i(t)}))},t.prototype.onParticipantUnpublished=function(e){var t=this;e.connectionId===this.connection.connectionId?this.stopPublisherStream(e.reason):this.getRemoteConnection(e.connectionId,"Remote connection '"+e.connectionId+"' unknown when 'onParticipantUnpublished'. Existing remote connections: "+JSON.stringify(Object.keys(this.remoteConnections))).then((function(n){var i=new f.StreamEvent(!0,t,"streamDestroyed",n.stream,e.reason);t.ee.emitEvent("streamDestroyed",[i]),i.callDefaultBehavior();var o=n.stream.streamId;delete t.remoteStreamsCreated[o],0===Object.keys(t.remoteStreamsCreated).length&&(t.isFirstIonicIosSubscriber=!0,t.countDownForIonicIosSubscribersActive=!0),n.removeStream(o)})).catch((function(e){y.error(e)}))},t.prototype.onParticipantEvicted=function(e){e.connectionId===this.connection.connectionId&&this.sessionId&&!this.connection.disposed&&this.leave(!0,e.reason)},t.prototype.onNewMessage=function(e){var t=this;y.info("New signal: "+JSON.stringify(e));var n=e.type?e.type.replace(/^(signal:)/,""):void 0;e.from?this.getConnection(e.from,"Connection '"+e.from+"' unknow when 'onNewMessage'. Existing remote connections: "+JSON.stringify(Object.keys(this.remoteConnections))+". Existing local connection: "+this.connection.connectionId).then((function(i){t.ee.emitEvent("signal",[new p.SignalEvent(t,n,e.data,i)]),"signal"!==e.type&&t.ee.emitEvent(e.type,[new p.SignalEvent(t,n,e.data,i)])})).catch((function(e){y.error(e)})):(this.ee.emitEvent("signal",[new p.SignalEvent(this,n,e.data,void 0)]),"signal"!==e.type&&this.ee.emitEvent(e.type,[new p.SignalEvent(this,n,e.data,void 0)]))},t.prototype.onStreamPropertyChanged=function(e){var t=this,n=function(n){if(n.stream&&n.stream.streamId===e.streamId){var i=n.stream,o=void 0;switch(e.property){case"audioActive":o=i.audioActive,e.newValue="true"===e.newValue,i.audioActive=e.newValue;break;case"videoActive":o=i.videoActive,e.newValue="true"===e.newValue,i.videoActive=e.newValue;break;case"videoDimensions":o=i.videoDimensions,e.newValue=JSON.parse(JSON.parse(e.newValue)),i.videoDimensions=e.newValue;break;case"filter":o=i.filter,e.newValue=Object.keys(e.newValue).length>0?e.newValue:void 0,void 0!==e.newValue?(i.filter=new s.Filter(e.newValue.type,e.newValue.options),i.filter.stream=i,e.newValue.lastExecMethod&&(i.filter.lastExecMethod=e.newValue.lastExecMethod)):delete i.filter,e.newValue=i.filter}t.ee.emitEvent("streamPropertyChanged",[new g.StreamPropertyChangedEvent(t,i,e.property,e.newValue,o,e.reason)]),i.streamManager&&i.streamManager.emitEvent("streamPropertyChanged",[new g.StreamPropertyChangedEvent(i.streamManager,i,e.property,e.newValue,o,e.reason)])}else y.error("No stream with streamId '"+e.streamId+"' found for connection '"+e.connectionId+"' on 'streamPropertyChanged' event")};e.connectionId===this.connection.connectionId?n(this.connection):this.getRemoteConnection(e.connectionId,"Remote connection "+e.connectionId+" unknown when 'onStreamPropertyChanged'. Existing remote connections: "+JSON.stringify(Object.keys(this.remoteConnections))).then((function(e){n(e)})).catch((function(e){y.error(e)}))},t.prototype.recvIceCandidate=function(e){var t={candidate:e.candidate,component:e.component,foundation:e.foundation,port:e.port,priority:e.priority,protocol:e.protocol,relatedAddress:e.relatedAddress,relatedPort:e.relatedPort,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex,tcpType:e.tcpType,usernameFragment:e.usernameFragment,type:e.type,toJSON:function(){return{candidate:e.candidate}}};this.getConnection(e.senderConnectionId,"Connection not found for connectionId "+e.senderConnectionId+" owning endpoint "+e.endpointName+". Ice candidate will be ignored: "+t).then((function(n){var i=n.stream;i.getWebRtcPeer().addIceCandidate(t).catch((function(t){y.error("Error adding candidate for "+i.streamId+" stream of endpoint "+e.endpointName+": "+t)}))})).catch((function(e){y.error(e)}))},t.prototype.onSessionClosed=function(e){y.info("Session closed: "+JSON.stringify(e));var t=e.sessionId;void 0!==t?this.ee.emitEvent("session-closed",[{session:t}]):y.warn("Session undefined on session closed",e)},t.prototype.onLostConnection=function(e){y.warn("Lost connection in Session "+this.sessionId),this.sessionId&&!this.connection.disposed&&this.leave(!0,e)},t.prototype.onRecoveredConnection=function(){y.info("Recovered connection in Session "+this.sessionId),this.reconnectBrokenStreams(),this.ee.emitEvent("reconnected",[])},t.prototype.onMediaError=function(e){y.error("Media error: "+JSON.stringify(e));var t=e.error;t?this.ee.emitEvent("error-media",[{error:t}]):y.warn("Received undefined media error. Params:",e)},t.prototype.onRecordingStarted=function(e){this.ee.emitEvent("recordingStarted",[new d.RecordingEvent(this,"recordingStarted",e.id,e.name)])},t.prototype.onRecordingStopped=function(e){this.ee.emitEvent("recordingStopped",[new d.RecordingEvent(this,"recordingStopped",e.id,e.name,e.reason)])},t.prototype.onFilterEventDispatched=function(e){var t=e.connectionId;this.getConnection(t,"No connection found for connectionId "+t).then((function(t){y.info("Filter event dispatched");var n=t.stream;n.filter.handlers[e.eventType](new u.FilterEvent(n.filter,e.eventType,e.data))}))},t.prototype.reconnectBrokenStreams=function(){y.info("Re-establishing media connections...");var e=!1;this.connection.stream&&this.connection.stream.streamIceConnectionStateBroken()&&(y.warn("Re-establishing Publisher "+this.connection.stream.streamId),this.connection.stream.initWebRtcPeerSend(!0),e=!0);for(var t=0,n=Object.values(this.remoteConnections);t<n.length;t++){var i=n[t];i.stream&&i.stream.streamIceConnectionStateBroken()&&(y.warn("Re-establishing Subscriber "+i.stream.streamId),i.stream.initWebRtcPeerReceive(!0),e=!0)}e||y.info("There were no media streams in need of a reconnection")},t.prototype.emitEvent=function(e,t){this.ee.emitEvent(e,t)},t.prototype.leave=function(e,t){var n=this;if(y.info("Leaving Session (forced="+(e=!!e)+")"),this.connection){if(this.connection.disposed||e?this.openvidu.closeWs():this.openvidu.sendRequest("leaveRoom",(function(e,t){e&&y.error(e),n.openvidu.closeWs()})),this.stopPublisherStream(t),!this.connection.disposed){var i=new h.SessionDisconnectedEvent(this,t);this.ee.emitEvent("sessionDisconnected",[i]),i.callDefaultBehavior()}}else y.warn("You were not connected to the session "+this.sessionId)},t.prototype.initializeParams=function(e){return{token:e||"",session:this.sessionId,platform:b.description?b.description:"unknown",metadata:this.options.metadata?this.options.metadata:"",secret:this.openvidu.getSecret(),recorder:this.openvidu.getRecorder()}},t.prototype.connectAux=function(e){var t=this;return new Promise((function(n,i){t.openvidu.startWs((function(o){if(o)i(o);else{var s=t.initializeParams(e);t.openvidu.sendRequest("joinRoom",s,(function(e,o){if(e)i(e);else{t.capabilities={subscribe:!0,publish:"SUBSCRIBER"!==t.openvidu.role,forceUnpublish:"MODERATOR"===t.openvidu.role,forceDisconnect:"MODERATOR"===t.openvidu.role},t.connection=new r.Connection(t),t.connection.connectionId=o.id,t.connection.creationTime=o.createdAt,t.connection.data=o.metadata,t.connection.rpcSessionId=o.sessionId;var s={connections:new Array,streams:new Array};o.value.forEach((function(e){var n=new r.Connection(t,e);t.remoteConnections[n.connectionId]=n,s.connections.push(n),n.stream&&(t.remoteStreamsCreated[n.stream.streamId]=!0,s.streams.push(n.stream))})),t.ee.emitEvent("connectionCreated",[new l.ConnectionEvent(!1,t,"connectionCreated",t.connection,"")]),s.connections.forEach((function(e){t.ee.emitEvent("connectionCreated",[new l.ConnectionEvent(!1,t,"connectionCreated",e,"")])})),s.streams.forEach((function(e){t.ee.emitEvent("streamCreated",[new f.StreamEvent(!1,t,"streamCreated",e,"")])})),n()}}))}}))}))},t.prototype.stopPublisherStream=function(e){this.connection.stream&&(this.connection.stream.disposeWebRtcPeer(),this.connection.stream.isLocalStreamPublished&&this.connection.stream.ee.emitEvent("local-stream-destroyed",[e]))},t.prototype.stringClientMetadata=function(e){return"string"!=typeof e?JSON.stringify(e):e},t.prototype.getConnection=function(e,t){var n=this;return new Promise((function(i,o){var r=n.remoteConnections[e];r?i(r):n.connection.connectionId===e?i(n.connection):o(new m.OpenViduError(m.OpenViduErrorName.GENERIC_ERROR,t))}))},t.prototype.getRemoteConnection=function(e,t){var n=this;return new Promise((function(i,o){var r=n.remoteConnections[e];r?i(r):o(new m.OpenViduError(m.OpenViduErrorName.GENERIC_ERROR,t))}))},t.prototype.processToken=function(e){var t=e.match(/^(wss?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]},i=e.split("?"),o=decodeURI(i[1]).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return e[t[0]]=t[1],e}),{});this.sessionId=o.sessionId;var r=o.secret,s=o.recorder,a=o.coturnIp,c=o.turnUsername,l=o.turnCredential,u=o.role,d=o.webrtcStatsInterval,h=o.version;if(r&&(this.openvidu.secret=r),s&&(this.openvidu.recorder=!0),c&&l){var p="turn:"+a+":3478";this.openvidu.iceServers=[{urls:["stun:"+a+":3478"]},{urls:[p,p+"?transport=tcp"],username:c,credential:l}],y.log("STUN/TURN server IP: "+a),y.log("TURN temp credentials ["+c+":"+l+"]")}u&&(this.openvidu.role=u),d&&(this.openvidu.webrtcStatsInterval=+d),h&&(y.info("openvidu-server version: "+h),h!==this.openvidu.libraryVersion&&y.error("OpenVidu Server ("+h+") and OpenVidu Browser ("+this.openvidu.libraryVersion+") versions do NOT match. There may be incompatibilities")),this.openvidu.wsUri="wss://"+n.host+"/openvidu",this.openvidu.httpUri="https://"+n.host}else y.error('Token "'+e+'" is not valid')},t}(c.EventDispatcher);t.Session=_},JUw6:function(e,t,n){"use strict";t.__esModule=!0,t.inherits=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.create(e.prototype);for(var o in n)i[o]=n[o];return i.constructor=t,t.prototype=i,t}},KFtI:function(e){e.exports=JSON.parse('["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"]')},LXjW:function(e,t,n){"use strict";t.__esModule=!0,t.tokenize=t.test=t.scanner=t.parser=t.options=t.inherits=t.find=void 0;var i=n("JUw6"),o=a(n("MW5i")),r=a(n("t/6/")),s=a(n("QSjB"));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var c=function(e){return s.run(r.run(e))};t.find=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c(e),i=[],o=0;o<n.length;o++){var r=n[o];!r.isLink||t&&r.type!==t||i.push(r.toObject())}return i},t.inherits=i.inherits,t.options=o,t.parser=s,t.scanner=r,t.test=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)},t.tokenize=c},MW5i:function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={defaultProtocol:"http",events:null,format:s,formatHref:s,nl2br:!1,tagName:"a",target:function(e,t){return"url"===t?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function r(e){this.defaultProtocol=(e=e||{}).hasOwnProperty("defaultProtocol")?e.defaultProtocol:o.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:o.events,this.format=e.hasOwnProperty("format")?e.format:o.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:o.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:o.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:o.tagName,this.target=e.hasOwnProperty("target")?e.target:o.target,this.validate=e.hasOwnProperty("validate")?e.validate:o.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||o.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||o.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:o.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function s(e){return e}t.defaults=o,t.Options=r,t.contains=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},r.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var r=void 0,s=this[e];if(!s)return s;switch(void 0===s?"undefined":i(s)){case"function":return s(t,n.type);case"object":return"function"==typeof(r=s.hasOwnProperty(n.type)?s[n.type]:o[e])?r(t,n.type):r}return s},getObject:function(e,t,n){var i=this[e];return"function"==typeof i?i(t,n.type):i}}},OWZb:function(module,exports,__webpack_require__){var factory;window,factory=function(__WEBPACK_EXTERNAL_MODULE_recordrtc__,__WEBPACK_EXTERNAL_MODULE_video_js__){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,(function(t){return e[t]}).bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(module,exports){eval("function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/assertThisInitialized.js?")},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":function(module,exports){eval('function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/asyncToGenerator.js?')},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(module,exports){eval('function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/classCallCheck.js?')},"./node_modules/@babel/runtime/helpers/createClass.js":function(module,exports){eval('function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if ("value" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/createClass.js?')},"./node_modules/@babel/runtime/helpers/get.js":function(module,exports,__webpack_require__){eval('var superPropBase = __webpack_require__(/*! ./superPropBase */ "./node_modules/@babel/runtime/helpers/superPropBase.js");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== "undefined" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/get.js?')},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(module,exports){eval("function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/getPrototypeOf.js?")},"./node_modules/@babel/runtime/helpers/inherits.js":function(module,exports,__webpack_require__){eval('var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ "./node_modules/@babel/runtime/helpers/setPrototypeOf.js");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== "function" && superClass !== null) {\n    throw new TypeError("Super expression must either be null or a function");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/inherits.js?')},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(module,exports){eval('function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    "default": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/interopRequireDefault.js?')},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(module,exports,__webpack_require__){eval('var _typeof = __webpack_require__(/*! ../helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");\n\nvar assertThisInitialized = __webpack_require__(/*! ./assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === "object" || typeof call === "function")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js?')},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(module,exports){eval("function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/setPrototypeOf.js?")},"./node_modules/@babel/runtime/helpers/superPropBase.js":function(module,exports,__webpack_require__){eval('var getPrototypeOf = __webpack_require__(/*! ./getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/superPropBase.js?')},"./node_modules/@babel/runtime/helpers/typeof.js":function(module,exports){eval('function _typeof(obj) {\n  "@babel/helpers - typeof";\n\n  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/typeof.js?')},"./node_modules/@babel/runtime/regenerator/index.js":function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! regenerator-runtime */ "./node_modules/regenerator-runtime/runtime.js");\n\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/regenerator/index.js?')},"./node_modules/add-zero/index.js":function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;(function(exports) {\n\n  'use strict';\n\n  function addZero(value, digits) {\n    digits = digits || 2;\n\n    var isNegative = Number(value) < 0;\n    var buffer = value.toString();\n    var size = 0;\n\n    // Strip minus sign if number is negative\n    if(isNegative) {\n      buffer = buffer.slice(1);\n    }\n\n    size = digits - buffer.length + 1;\n    buffer = new Array(size).join('0').concat(buffer);\n\n    // Adds back minus sign if needed\n    return (isNegative ? '-' : '') + buffer;\n  }\n\n  if(true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return addZero; }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n})(this);\n\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/add-zero/index.js?")},"./node_modules/global/window.js":function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(global) {var win;\n\nif (typeof window !== "undefined") {\n    win = window;\n} else if (typeof global !== "undefined") {\n    win = global;\n} else if (typeof self !== "undefined"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/global/window.js?')},"./node_modules/parse-ms/index.js":function(module,exports,__webpack_require__){"use strict";eval("\nmodule.exports = milliseconds => {\n\tif (typeof milliseconds !== 'number') {\n\t\tthrow new TypeError('Expected a number');\n\t}\n\n\tconst roundTowardsZero = milliseconds > 0 ? Math.floor : Math.ceil;\n\n\treturn {\n\t\tdays: roundTowardsZero(milliseconds / 86400000),\n\t\thours: roundTowardsZero(milliseconds / 3600000) % 24,\n\t\tminutes: roundTowardsZero(milliseconds / 60000) % 60,\n\t\tseconds: roundTowardsZero(milliseconds / 1000) % 60,\n\t\tmilliseconds: roundTowardsZero(milliseconds) % 1000,\n\t\tmicroseconds: roundTowardsZero(milliseconds * 1000) % 1000,\n\t\tnanoseconds: roundTowardsZero(milliseconds * 1e6) % 1000\n\t};\n};\n\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/parse-ms/index.js?")},"./node_modules/regenerator-runtime/runtime.js":function(module,exports,__webpack_require__){eval('/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  "use strict";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === "function" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || "@@iterator";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";\n  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there\'s no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don\'t have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: "normal", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: "throw", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = "suspendedStart";\n  var GenStateSuspendedYield = "suspendedYield";\n  var GenStateExecuting = "executing";\n  var GenStateCompleted = "completed";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don\'t natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = "GeneratorFunction";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    ["next", "throw", "return"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === "function" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === "GeneratorFunction"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = "GeneratorFunction";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, "__await")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === "throw") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === "object" &&\n            hasOwn.call(value, "__await")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke("next", value, resolve, reject);\n          }, function(err) {\n            invoke("throw", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke("throw", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error("Generator is already running");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === "throw") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === "next") {\n          // Setting context._sent for legacy support of Babel\'s\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === "throw") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === "return") {\n          context.abrupt("return", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === "normal") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === "throw") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = "throw";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === "throw") {\n        // Note: ["return"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator["return"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = "return";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === "throw") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // "return" to "throw", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = "throw";\n        context.arg = new TypeError(\n          "The iterator does not provide a \'throw\' method");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === "throw") {\n      context.method = "throw";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = "throw";\n      context.arg = new TypeError("iterator result is not an object");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was "throw" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was "next", forget context.arg since it has been\n      // "consumed" by the delegate iterator. If context.method was\n      // "return", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== "return") {\n        context.method = "next";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = "Generator";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers\' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn\'t happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return "[object Generator]";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = "normal";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: "root" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === "function") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel\'s\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = "next";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === "t" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === "throw") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = "throw";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = "next";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === "root") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle("end");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, "catchLoc");\n          var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error("try statement without catch or finally");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, "finallyLoc") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === "break" ||\n           type === "continue") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = "next";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === "throw") {\n        throw record.arg;\n      }\n\n      if (record.type === "break" ||\n          record.type === "continue") {\n        this.next = record.arg;\n      } else if (record.type === "return") {\n        this.rval = this.arg = record.arg;\n        this.method = "return";\n        this.next = "end";\n      } else if (record.type === "normal" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    "catch": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === "throw") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error("illegal catch attempt");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === "next") {\n        // Deliberately forget the last sent value so that we don\'t\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : undefined\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you\'ve misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you\'re not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function("r", "regeneratorRuntime = r")(runtime);\n}\n\n\n//# sourceURL=webpack://VideojsRecord/./node_modules/regenerator-runtime/runtime.js?')},"./node_modules/webpack/buildin/global.js":function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack://VideojsRecord/(webpack)/buildin/global.js?')},"./src/css/videojs.record.scss":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://VideojsRecord/./src/css/videojs.record.scss?")},"./src/js/controls/animation-display.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar AnimationDisplay = function (_Component) {\n  (0, _inherits2.default)(AnimationDisplay, _Component);\n\n  var _super = _createSuper(AnimationDisplay);\n\n  function AnimationDisplay() {\n    (0, _classCallCheck2.default)(this, AnimationDisplay);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(AnimationDisplay, [{\n    key: "createEl",\n    value: function createEl() {\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(AnimationDisplay.prototype), "createEl", this).call(this, \'div\', {\n        className: \'vjs-animation-display\',\n        innerHTML: \'<img />\'\n      });\n    }\n  }]);\n  return AnimationDisplay;\n}(Component);\n\nComponent.registerComponent(\'AnimationDisplay\', AnimationDisplay);\nvar _default = AnimationDisplay;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/animation-display.js?')},"./src/js/controls/camera-button.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ "./src/js/event.js"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Button = _video.default.getComponent(\'Button\');\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar CameraButton = function (_Button) {\n  (0, _inherits2.default)(CameraButton, _Button);\n\n  var _super = _createSuper(CameraButton);\n\n  function CameraButton() {\n    (0, _classCallCheck2.default)(this, CameraButton);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(CameraButton, [{\n    key: "buildCSSClass",\n    value: function buildCSSClass() {\n      return \'vjs-camera-button vjs-control vjs-button vjs-icon-photo-camera\';\n    }\n  }, {\n    key: "enable",\n    value: function enable() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), "enable", this).call(this);\n      this.on(this.player_, _event.default.START_RECORD, this.onStart);\n      this.on(this.player_, _event.default.STOP_RECORD, this.onStop);\n    }\n  }, {\n    key: "disable",\n    value: function disable() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), "disable", this).call(this);\n      this.off(this.player_, _event.default.START_RECORD, this.onStart);\n      this.off(this.player_, _event.default.STOP_RECORD, this.onStop);\n    }\n  }, {\n    key: "show",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), "show", this).call(this);\n    }\n  }, {\n    key: "handleClick",\n    value: function handleClick(event) {\n      var recorder = this.player_.record();\n\n      if (!recorder.isProcessing()) {\n        recorder.start();\n      } else {\n        recorder.retrySnapshot();\n        this.onStop();\n        this.player_.trigger(_event.default.RETRY);\n      }\n    }\n  }, {\n    key: "onStart",\n    value: function onStart(event) {\n      this.removeClass(\'vjs-icon-photo-camera\');\n      this.addClass(\'vjs-icon-replay\');\n      this.controlText(\'Retry\');\n    }\n  }, {\n    key: "onStop",\n    value: function onStop(event) {\n      this.removeClass(\'vjs-icon-replay\');\n      this.addClass(\'vjs-icon-photo-camera\');\n      this.controlText(\'Image\');\n    }\n  }]);\n  return CameraButton;\n}(Button);\n\nCameraButton.prototype.controlText_ = \'Image\';\nComponent.registerComponent(\'CameraButton\', CameraButton);\nvar _default = CameraButton;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/camera-button.js?')},"./src/js/controls/device-button.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Button = _video.default.getComponent(\'Button\');\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar DeviceButton = function (_Button) {\n  (0, _inherits2.default)(DeviceButton, _Button);\n\n  var _super = _createSuper(DeviceButton);\n\n  function DeviceButton() {\n    (0, _classCallCheck2.default)(this, DeviceButton);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(DeviceButton, [{\n    key: "handleClick",\n    value: function handleClick(event) {\n      this.player_.record().getDevice();\n    }\n  }, {\n    key: "show",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(DeviceButton.prototype), "show", this).call(this);\n    }\n  }]);\n  return DeviceButton;\n}(Button);\n\nDeviceButton.prototype.controlText_ = \'Device\';\nComponent.registerComponent(\'DeviceButton\', DeviceButton);\nvar _default = DeviceButton;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/device-button.js?')},"./src/js/controls/picture-in-picture-toggle.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ "./src/js/event.js"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Button = _video.default.getComponent(\'Button\');\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar PictureInPictureToggle = function (_Button) {\n  (0, _inherits2.default)(PictureInPictureToggle, _Button);\n\n  var _super = _createSuper(PictureInPictureToggle);\n\n  function PictureInPictureToggle(player, options) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, PictureInPictureToggle);\n    _this = _super.call(this, player, options);\n\n    _this.on(_this.player_, _event.default.ENTER_PIP, _this.onStart);\n\n    _this.on(_this.player_, _event.default.LEAVE_PIP, _this.onStop);\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(PictureInPictureToggle, [{\n    key: "buildCSSClass",\n    value: function buildCSSClass() {\n      return \'vjs-pip-button vjs-control vjs-button vjs-icon-picture-in-picture-start\';\n    }\n  }, {\n    key: "show",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(PictureInPictureToggle.prototype), "show", this).call(this);\n    }\n  }, {\n    key: "handleClick",\n    value: function () {\n      var _handleClick = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee(event) {\n        var recorder;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                recorder = this.player_.record();\n                this.disable();\n                _context.prev = 2;\n\n                if (!(recorder.mediaElement !== document.pictureInPictureElement)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 6;\n                return recorder.mediaElement.requestPictureInPicture();\n\n              case 6:\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.next = 10;\n                return document.exitPictureInPicture();\n\n              case 10:\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context["catch"](2);\n                this.player_.trigger(_event.default.ERROR, _context.t0);\n\n              case 15:\n                _context.prev = 15;\n                this.enable();\n                return _context.finish(15);\n\n              case 18:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 12, 15, 18]]);\n      }));\n\n      function handleClick(_x) {\n        return _handleClick.apply(this, arguments);\n      }\n\n      return handleClick;\n    }()\n  }, {\n    key: "onStart",\n    value: function onStart(event) {\n      this.removeClass(\'vjs-icon-picture-in-picture-start\');\n      this.addClass(\'vjs-icon-picture-in-picture-stop\');\n    }\n  }, {\n    key: "onStop",\n    value: function onStop(event) {\n      this.removeClass(\'vjs-icon-picture-in-picture-stop\');\n      this.addClass(\'vjs-icon-picture-in-picture-start\');\n    }\n  }]);\n  return PictureInPictureToggle;\n}(Button);\n\nPictureInPictureToggle.prototype.controlText_ = \'Picture in Picture\';\nComponent.registerComponent(\'PictureInPictureToggle\', PictureInPictureToggle);\nvar _default = PictureInPictureToggle;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/picture-in-picture-toggle.js?')},"./src/js/controls/record-canvas.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar RecordCanvas = function (_Component) {\n  (0, _inherits2.default)(RecordCanvas, _Component);\n\n  var _super = _createSuper(RecordCanvas);\n\n  function RecordCanvas() {\n    (0, _classCallCheck2.default)(this, RecordCanvas);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(RecordCanvas, [{\n    key: "createEl",\n    value: function createEl() {\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(RecordCanvas.prototype), "createEl", this).call(this, \'div\', {\n        className: \'vjs-record-canvas\',\n        innerHTML: \'<canvas></canvas>\'\n      });\n    }\n  }]);\n  return RecordCanvas;\n}(Component);\n\nComponent.registerComponent(\'RecordCanvas\', RecordCanvas);\nvar _default = RecordCanvas;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/record-canvas.js?')},"./src/js/controls/record-indicator.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ "./src/js/event.js"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar RecordIndicator = function (_Component) {\n  (0, _inherits2.default)(RecordIndicator, _Component);\n\n  var _super = _createSuper(RecordIndicator);\n\n  function RecordIndicator(player, options) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, RecordIndicator);\n    _this = _super.call(this, player, options);\n\n    _this.enable();\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(RecordIndicator, [{\n    key: "createEl",\n    value: function createEl() {\n      var props = {\n        className: \'vjs-record-indicator vjs-control\',\n        dir: \'ltr\'\n      };\n      var attr = {\n        \'data-label\': this.localize(\'REC\')\n      };\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(RecordIndicator.prototype), "createEl", this).call(this, \'div\', props, attr);\n    }\n  }, {\n    key: "enable",\n    value: function enable() {\n      this.on(this.player_, _event.default.START_RECORD, this.show);\n      this.on(this.player_, _event.default.STOP_RECORD, this.hide);\n    }\n  }, {\n    key: "disable",\n    value: function disable() {\n      this.off(this.player_, _event.default.START_RECORD, this.show);\n      this.off(this.player_, _event.default.STOP_RECORD, this.hide);\n    }\n  }, {\n    key: "show",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordIndicator.prototype), "show", this).call(this);\n    }\n  }]);\n  return RecordIndicator;\n}(Component);\n\nComponent.registerComponent(\'RecordIndicator\', RecordIndicator);\nvar _default = RecordIndicator;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/record-indicator.js?')},"./src/js/controls/record-toggle.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ "./src/js/event.js"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Button = _video.default.getComponent(\'Button\');\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar RecordToggle = function (_Button) {\n  (0, _inherits2.default)(RecordToggle, _Button);\n\n  var _super = _createSuper(RecordToggle);\n\n  function RecordToggle() {\n    (0, _classCallCheck2.default)(this, RecordToggle);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(RecordToggle, [{\n    key: "buildCSSClass",\n    value: function buildCSSClass() {\n      return \'vjs-record-button vjs-control vjs-button vjs-icon-record-start\';\n    }\n  }, {\n    key: "enable",\n    value: function enable() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), "enable", this).call(this);\n      this.on(this.player_, _event.default.START_RECORD, this.onStart);\n      this.on(this.player_, _event.default.STOP_RECORD, this.onStop);\n    }\n  }, {\n    key: "disable",\n    value: function disable() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), "disable", this).call(this);\n      this.off(this.player_, _event.default.START_RECORD, this.onStart);\n      this.off(this.player_, _event.default.STOP_RECORD, this.onStop);\n    }\n  }, {\n    key: "show",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), "show", this).call(this);\n    }\n  }, {\n    key: "handleClick",\n    value: function handleClick(event) {\n      var recorder = this.player_.record();\n\n      if (!recorder.isRecording()) {\n        recorder.start();\n      } else {\n        recorder.stop();\n      }\n    }\n  }, {\n    key: "onStart",\n    value: function onStart(event) {\n      this.removeClass(\'vjs-icon-record-start\');\n      this.addClass(\'vjs-icon-record-stop\');\n      this.controlText(\'Stop\');\n    }\n  }, {\n    key: "onStop",\n    value: function onStop(event) {\n      this.removeClass(\'vjs-icon-record-stop\');\n      this.addClass(\'vjs-icon-record-start\');\n      this.controlText(\'Record\');\n    }\n  }]);\n  return RecordToggle;\n}(Button);\n\nRecordToggle.prototype.controlText_ = \'Record\';\nComponent.registerComponent(\'RecordToggle\', RecordToggle);\nvar _default = RecordToggle;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/record-toggle.js?')},"./src/js/defaults.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar pluginDefaultOptions = {\n  image: false,\n  audio: false,\n  video: false,\n  animation: false,\n  screen: false,\n  maxLength: 10,\n  maxFileSize: 0,\n  displayMilliseconds: false,\n  frameWidth: 320,\n  frameHeight: 240,\n  debug: false,\n  pip: false,\n  autoMuteDevice: false,\n  videoBitRate: 1200,\n  videoEngine: 'recordrtc',\n  videoFrameRate: 30,\n  videoMimeType: 'video/webm',\n  videoRecorderType: 'auto',\n  videoWorkerURL: '',\n  videoWebAssemblyURL: '',\n  audioEngine: 'recordrtc',\n  audioRecorderType: 'auto',\n  audioMimeType: 'auto',\n  audioBufferSize: 4096,\n  audioSampleRate: 44100,\n  audioBitRate: 128,\n  audioChannels: 2,\n  audioWorkerURL: '',\n  audioWebAssemblyURL: '',\n  audioBufferUpdate: false,\n  animationFrameRate: 200,\n  animationQuality: 10,\n  imageOutputType: 'dataURL',\n  imageOutputFormat: 'image/png',\n  imageOutputQuality: 0.92,\n  timeSlice: 0,\n  convertEngine: '',\n  convertWorkerURL: '',\n  convertOptions: [],\n  hotKeys: false,\n  pluginLibraryOptions: {}\n};\nvar _default = pluginDefaultOptions;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/defaults.js?")},"./src/js/engine/convert-engine.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.FFMPEGJS = exports.TSEBML = exports.CONVERT_PLUGINS = exports.ConvertEngine = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _fileUtil = __webpack_require__(/*! ../utils/file-util */ "./src/js/utils/file-util.js");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar TSEBML = \'ts-ebml\';\nexports.TSEBML = TSEBML;\nvar FFMPEGJS = \'ffmpeg.js\';\nexports.FFMPEGJS = FFMPEGJS;\nvar CONVERT_PLUGINS = [TSEBML, FFMPEGJS];\nexports.CONVERT_PLUGINS = CONVERT_PLUGINS;\n\nvar ConvertEngine = function (_Component) {\n  (0, _inherits2.default)(ConvertEngine, _Component);\n\n  var _super = _createSuper(ConvertEngine);\n\n  function ConvertEngine(player, options) {\n    (0, _classCallCheck2.default)(this, ConvertEngine);\n    options.evented = true;\n    return _super.call(this, player, options);\n  }\n\n  (0, _createClass2.default)(ConvertEngine, [{\n    key: "setup",\n    value: function setup(mediaType, debug) {\n      this.mediaType = mediaType;\n      this.debug = debug;\n    }\n  }, {\n    key: "loadBlob",\n    value: function loadBlob(data) {\n      return (0, _fileUtil.blobToArrayBuffer)(data);\n    }\n  }, {\n    key: "addFileInfo",\n    value: function addFileInfo(fileObj, now) {\n      (0, _fileUtil.addFileInfo)(fileObj, now);\n    }\n  }]);\n  return ConvertEngine;\n}(Component);\n\nexports.ConvertEngine = ConvertEngine;\n_video.default.ConvertEngine = ConvertEngine;\nComponent.registerComponent(\'ConvertEngine\', ConvertEngine);\n\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/convert-engine.js?')},"./src/js/engine/engine-loader.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.getConvertEngine = exports.getVideoEngine = exports.isAudioPluginActive = exports.getAudioEngine = void 0;\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _recordRtc = _interopRequireDefault(__webpack_require__(/*! ./record-rtc */ "./src/js/engine/record-rtc.js"));\n\nvar _convertEngine = __webpack_require__(/*! ./convert-engine */ "./src/js/engine/convert-engine.js");\n\nvar _recordEngine = __webpack_require__(/*! ./record-engine */ "./src/js/engine/record-engine.js");\n\nvar getAudioEngine = function getAudioEngine(audioEngine) {\n  var AudioEngineClass;\n\n  switch (audioEngine) {\n    case _recordEngine.RECORDRTC:\n      AudioEngineClass = _recordRtc.default;\n      break;\n\n    case _recordEngine.LIBVORBISJS:\n      AudioEngineClass = _video.default.LibVorbisEngine;\n      break;\n\n    case _recordEngine.RECORDERJS:\n      AudioEngineClass = _video.default.RecorderjsEngine;\n      break;\n\n    case _recordEngine.LAMEJS:\n      AudioEngineClass = _video.default.LamejsEngine;\n      break;\n\n    case _recordEngine.OPUSRECORDER:\n      AudioEngineClass = _video.default.OpusRecorderEngine;\n      break;\n\n    case _recordEngine.VMSG:\n      AudioEngineClass = _video.default.VmsgEngine;\n      break;\n\n    default:\n      throw new Error(\'Unknown audioEngine: \' + audioEngine);\n  }\n\n  return AudioEngineClass;\n};\n\nexports.getAudioEngine = getAudioEngine;\n\nvar getVideoEngine = function getVideoEngine(videoEngine) {\n  var VideoEngineClass;\n\n  switch (videoEngine) {\n    case _recordEngine.RECORDRTC:\n      VideoEngineClass = _recordRtc.default;\n      break;\n\n    case _recordEngine.WEBMWASM:\n      VideoEngineClass = _video.default.WebmWasmEngine;\n      break;\n\n    default:\n      throw new Error(\'Unknown videoEngine: \' + videoEngine);\n  }\n\n  return VideoEngineClass;\n};\n\nexports.getVideoEngine = getVideoEngine;\n\nvar isAudioPluginActive = function isAudioPluginActive(audioEngine) {\n  return _recordEngine.AUDIO_PLUGINS.indexOf(audioEngine) > -1;\n};\n\nexports.isAudioPluginActive = isAudioPluginActive;\n\nvar getConvertEngine = function getConvertEngine(convertEngine) {\n  var ConvertEngineClass;\n\n  switch (convertEngine) {\n    case \'\':\n      break;\n\n    case _convertEngine.TSEBML:\n      ConvertEngineClass = _video.default.TsEBMLEngine;\n      break;\n\n    case _convertEngine.FFMPEGJS:\n      ConvertEngineClass = _video.default.FFmpegjsEngine;\n      break;\n\n    default:\n      throw new Error(\'Unknown convertEngine: \' + convertEngine);\n  }\n\n  return ConvertEngineClass;\n};\n\nexports.getConvertEngine = getConvertEngine;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/engine-loader.js?')},"./src/js/engine/record-engine.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.WEBMWASM = exports.VMSG = exports.OPUSRECORDER = exports.LAMEJS = exports.RECORDERJS = exports.LIBVORBISJS = exports.RECORDRTC = exports.VIDEO_PLUGINS = exports.AUDIO_PLUGINS = exports.RECORD_PLUGINS = exports.RecordEngine = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ "./src/js/event.js"));\n\nvar _fileUtil = __webpack_require__(/*! ../utils/file-util */ "./src/js/utils/file-util.js");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar RECORDRTC = \'recordrtc\';\nexports.RECORDRTC = RECORDRTC;\nvar LIBVORBISJS = \'libvorbis.js\';\nexports.LIBVORBISJS = LIBVORBISJS;\nvar RECORDERJS = \'recorder.js\';\nexports.RECORDERJS = RECORDERJS;\nvar LAMEJS = \'lamejs\';\nexports.LAMEJS = LAMEJS;\nvar OPUSRECORDER = \'opus-recorder\';\nexports.OPUSRECORDER = OPUSRECORDER;\nvar VMSG = \'vmsg\';\nexports.VMSG = VMSG;\nvar WEBMWASM = \'webm-wasm\';\nexports.WEBMWASM = WEBMWASM;\nvar AUDIO_PLUGINS = [LIBVORBISJS, RECORDERJS, LAMEJS, OPUSRECORDER, VMSG];\nexports.AUDIO_PLUGINS = AUDIO_PLUGINS;\nvar VIDEO_PLUGINS = [WEBMWASM];\nexports.VIDEO_PLUGINS = VIDEO_PLUGINS;\nvar RECORD_PLUGINS = AUDIO_PLUGINS.concat(VIDEO_PLUGINS);\nexports.RECORD_PLUGINS = RECORD_PLUGINS;\n\nvar RecordEngine = function (_Component) {\n  (0, _inherits2.default)(RecordEngine, _Component);\n\n  var _super = _createSuper(RecordEngine);\n\n  function RecordEngine(player, options) {\n    (0, _classCallCheck2.default)(this, RecordEngine);\n    options.evented = true;\n    return _super.call(this, player, options);\n  }\n\n  (0, _createClass2.default)(RecordEngine, [{\n    key: "dispose",\n    value: function dispose() {\n      if (this.recordedData !== undefined) {\n        URL.revokeObjectURL(this.recordedData);\n      }\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {}\n  }, {\n    key: "addFileInfo",\n    value: function addFileInfo(fileObj) {\n      (0, _fileUtil.addFileInfo)(fileObj);\n    }\n  }, {\n    key: "onStopRecording",\n    value: function onStopRecording(data) {\n      this.recordedData = data;\n      this.addFileInfo(this.recordedData);\n      this.dispose();\n      this.trigger(_event.default.RECORD_COMPLETE);\n    }\n  }, {\n    key: "saveAs",\n    value: function saveAs(name) {\n      var fileName = name[Object.keys(name)[0]];\n      (0, _fileUtil.downloadBlob)(fileName, this.recordedData);\n    }\n  }]);\n  return RecordEngine;\n}(Component);\n\nexports.RecordEngine = RecordEngine;\n_video.default.RecordEngine = RecordEngine;\nComponent.registerComponent(\'RecordEngine\', RecordEngine);\n\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/record-engine.js?')},"./src/js/engine/record-mode.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AUDIO_SCREEN = exports.SCREEN_ONLY = exports.ANIMATION = exports.AUDIO_VIDEO = exports.VIDEO_ONLY = exports.AUDIO_ONLY = exports.IMAGE_ONLY = exports.getRecorderMode = void 0;\nvar IMAGE_ONLY = 'image_only';\nexports.IMAGE_ONLY = IMAGE_ONLY;\nvar AUDIO_ONLY = 'audio_only';\nexports.AUDIO_ONLY = AUDIO_ONLY;\nvar VIDEO_ONLY = 'video_only';\nexports.VIDEO_ONLY = VIDEO_ONLY;\nvar AUDIO_VIDEO = 'audio_video';\nexports.AUDIO_VIDEO = AUDIO_VIDEO;\nvar AUDIO_SCREEN = 'audio_screen';\nexports.AUDIO_SCREEN = AUDIO_SCREEN;\nvar ANIMATION = 'animation';\nexports.ANIMATION = ANIMATION;\nvar SCREEN_ONLY = 'screen_only';\nexports.SCREEN_ONLY = SCREEN_ONLY;\n\nvar getRecorderMode = function getRecorderMode(image, audio, video, animation, screen) {\n  if (isModeEnabled(image)) {\n    return IMAGE_ONLY;\n  } else if (isModeEnabled(animation)) {\n    return ANIMATION;\n  } else if (isModeEnabled(audio) && isModeEnabled(video)) {\n    return AUDIO_VIDEO;\n  } else if (isModeEnabled(audio) && isModeEnabled(screen)) {\n    return AUDIO_SCREEN;\n  } else if (!isModeEnabled(audio) && isModeEnabled(screen)) {\n    return SCREEN_ONLY;\n  } else if (isModeEnabled(audio) && !isModeEnabled(video)) {\n    return AUDIO_ONLY;\n  } else if (!isModeEnabled(audio) && isModeEnabled(video)) {\n    return VIDEO_ONLY;\n  }\n};\n\nexports.getRecorderMode = getRecorderMode;\n\nvar isModeEnabled = function isModeEnabled(mode) {\n  return mode === Object(mode) || mode === true;\n};\n\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/record-mode.js?")},"./src/js/engine/record-rtc.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _recordrtc = _interopRequireDefault(__webpack_require__(/*! recordrtc */ "recordrtc"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ "./src/js/event.js"));\n\nvar _recordEngine = __webpack_require__(/*! ./record-engine */ "./src/js/engine/record-engine.js");\n\nvar _detectBrowser = __webpack_require__(/*! ../utils/detect-browser */ "./src/js/utils/detect-browser.js");\n\nvar _recordMode = __webpack_require__(/*! ./record-mode */ "./src/js/engine/record-mode.js");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent(\'Component\');\n\nvar RecordRTCEngine = function (_RecordEngine) {\n  (0, _inherits2.default)(RecordRTCEngine, _RecordEngine);\n\n  var _super = _createSuper(RecordRTCEngine);\n\n  function RecordRTCEngine() {\n    (0, _classCallCheck2.default)(this, RecordRTCEngine);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(RecordRTCEngine, [{\n    key: "setup",\n    value: function setup(stream, mediaType, debug) {\n      this.inputStream = stream;\n      this.mediaType = mediaType;\n      this.debug = debug;\n\n      if (\'screen\' in this.mediaType) {\n        this.mediaType.video = true;\n      }\n\n      if (this.recorderType !== undefined) {\n        this.mediaType.video = this.recorderType;\n      }\n\n      this.engine = new _recordrtc.default.MRecordRTC();\n      this.engine.mediaType = this.mediaType;\n      this.engine.disableLogs = !this.debug;\n      this.engine.mimeType = this.mimeType;\n      this.engine.bufferSize = this.bufferSize;\n      this.engine.sampleRate = this.sampleRate;\n      this.engine.numberOfAudioChannels = this.audioChannels;\n      this.engine.video = this.video;\n      this.engine.canvas = this.canvas;\n      this.engine.bitrate = this.bitRate;\n      this.engine.quality = this.quality;\n      this.engine.frameRate = this.frameRate;\n\n      if (this.timeSlice !== undefined) {\n        this.engine.timeSlice = this.timeSlice;\n        this.engine.onTimeStamp = this.onTimeStamp.bind(this);\n      }\n\n      this.engine.workerPath = this.workerPath;\n      this.engine.webAssemblyPath = this.videoWebAssemblyURL;\n      this.engine.addStream(this.inputStream);\n    }\n  }, {\n    key: "dispose",\n    value: function dispose() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordRTCEngine.prototype), "dispose", this).call(this);\n      this.destroy();\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      if (this.engine && typeof this.engine.destroy === \'function\') {\n        this.engine.destroy();\n      }\n    }\n  }, {\n    key: "start",\n    value: function start() {\n      this.engine.startRecording();\n    }\n  }, {\n    key: "stop",\n    value: function stop() {\n      this.engine.stopRecording(this.onStopRecording.bind(this));\n    }\n  }, {\n    key: "pause",\n    value: function pause() {\n      this.engine.pauseRecording();\n    }\n  }, {\n    key: "resume",\n    value: function resume() {\n      this.engine.resumeRecording();\n    }\n  }, {\n    key: "saveAs",\n    value: function saveAs(name) {\n      if (this.engine && name !== undefined) {\n        this.engine.save(name);\n      }\n    }\n  }, {\n    key: "onStopRecording",\n    value: function onStopRecording(audioVideoURL, type) {\n      var _this = this;\n\n      URL.revokeObjectURL(audioVideoURL);\n      var recordType = this.player().record().getRecordType();\n      this.engine.getBlob(function (recording) {\n        switch (recordType) {\n          case _recordMode.AUDIO_ONLY:\n            if (recording.audio !== undefined) {\n              _this.recordedData = recording.audio;\n            }\n\n            break;\n\n          case _recordMode.VIDEO_ONLY:\n          case _recordMode.AUDIO_VIDEO:\n          case _recordMode.AUDIO_SCREEN:\n          case _recordMode.SCREEN_ONLY:\n            if (recording.video !== undefined) {\n              _this.recordedData = recording.video;\n            }\n\n            break;\n\n          case _recordMode.ANIMATION:\n            if (recording.gif !== undefined) {\n              _this.recordedData = recording.gif;\n            }\n\n            break;\n        }\n\n        _this.addFileInfo(_this.recordedData);\n\n        _this.trigger(_event.default.RECORD_COMPLETE);\n      });\n    }\n  }, {\n    key: "onTimeStamp",\n    value: function onTimeStamp(current, all) {\n      this.player().currentTimestamp = current;\n      this.player().allTimestamps = all;\n      var internal;\n\n      switch (this.player().record().getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          internal = this.engine.audioRecorder;\n          break;\n\n        case _recordMode.ANIMATION:\n          internal = this.engine.gifRecorder;\n          break;\n\n        default:\n          internal = this.engine.videoRecorder;\n      }\n\n      var maxFileSizeReached = false;\n\n      if (internal) {\n        internal = internal.getInternalRecorder();\n      }\n\n      if (internal instanceof _recordrtc.default.MediaStreamRecorder === true) {\n        this.player().recordedData = internal.getArrayOfBlobs();\n        this.addFileInfo(this.player().recordedData[this.player_.recordedData.length - 1]);\n\n        if (this.maxFileSize > 0) {\n          var currentSize = new Blob(this.player().recordedData).size;\n\n          if (currentSize >= this.maxFileSize) {\n            maxFileSizeReached = true;\n          }\n        }\n      }\n\n      this.player().trigger(_event.default.TIMESTAMP);\n\n      if (maxFileSizeReached) {\n        this.player().record().stop();\n      }\n    }\n  }]);\n  return RecordRTCEngine;\n}(_recordEngine.RecordEngine);\n\n_video.default.RecordRTCEngine = RecordRTCEngine;\nComponent.registerComponent(\'RecordRTCEngine\', RecordRTCEngine);\nvar _default = RecordRTCEngine;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/record-rtc.js?')},"./src/js/event.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar Event = function Event() {\n  (0, _classCallCheck2.default)(this, Event);\n};\n\nEvent.READY = 'ready';\nEvent.ERROR = 'error';\nEvent.PLAYING = 'playing';\nEvent.LOADEDMETADATA = 'loadedmetadata';\nEvent.LOADSTART = 'loadstart';\nEvent.USERINACTIVE = 'userinactive';\nEvent.TIMEUPDATE = 'timeupdate';\nEvent.DURATIONCHANGE = 'durationchange';\nEvent.ENDED = 'ended';\nEvent.PAUSE = 'pause';\nEvent.PLAY = 'play';\nEvent.DEVICE_READY = 'deviceReady';\nEvent.DEVICE_ERROR = 'deviceError';\nEvent.START_RECORD = 'startRecord';\nEvent.STOP_RECORD = 'stopRecord';\nEvent.FINISH_RECORD = 'finishRecord';\nEvent.RECORD_COMPLETE = 'recordComplete';\nEvent.PROGRESS_RECORD = 'progressRecord';\nEvent.TIMESTAMP = 'timestamp';\nEvent.ENUMERATE_READY = 'enumerateReady';\nEvent.ENUMERATE_ERROR = 'enumerateError';\nEvent.AUDIO_BUFFER_UPDATE = 'audioBufferUpdate';\nEvent.AUDIO_OUTPUT_READY = 'audioOutputReady';\nEvent.START_CONVERT = 'startConvert';\nEvent.FINISH_CONVERT = 'finishConvert';\nEvent.ENTER_PIP = 'enterPIP';\nEvent.LEAVE_PIP = 'leavePIP';\nEvent.RETRY = 'retry';\nEvent.ENTERPICTUREINPICTURE = 'enterpictureinpicture';\nEvent.LEAVEPICTUREINPICTURE = 'leavepictureinpicture';\nObject.freeze(Event);\nvar _default = Event;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/event.js?")},"./src/js/hot-keys.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _recordMode = __webpack_require__(/*! ./engine/record-mode */ \"./src/js/engine/record-mode.js\");\n\nvar X_KEY = 88;\nvar P_KEY = 80;\nvar C_KEY = 67;\n\nvar defaultKeyHandler = function defaultKeyHandler(event) {\n  switch (event.which) {\n    case X_KEY:\n      switch (this.player_.record().getRecordType()) {\n        case _recordMode.IMAGE_ONLY:\n          this.player_.cameraButton.trigger('click');\n          break;\n\n        default:\n          this.player_.recordToggle.trigger('click');\n      }\n\n      break;\n\n    case P_KEY:\n      if (this.player_.record().pictureInPicture === true) {\n        this.player_.pipToggle.trigger('click');\n      }\n\n      break;\n\n    case C_KEY:\n      if (this.player_.controlBar.playToggle && this.player_.controlBar.playToggle.contentEl()) {\n        player.controlBar.playToggle.trigger('click');\n      }\n\n      break;\n  }\n};\n\nvar _default = defaultKeyHandler;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/hot-keys.js?")},"./src/js/utils/browser-shim.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar setSrcObject = function setSrcObject(stream, element) {\n  if ('srcObject' in element) {\n    element.srcObject = stream;\n  } else if ('mozSrcObject' in element) {\n    element.mozSrcObject = stream;\n  } else {\n    element.srcObject = stream;\n  }\n};\n\nvar _default = setSrcObject;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/browser-shim.js?")},"./src/js/utils/compare-version.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar compareVersion = function compareVersion(v1, v2) {\n  if (typeof v1 !== 'string') return false;\n  if (typeof v2 !== 'string') return false;\n  v1 = v1.split('.');\n  v2 = v2.split('.');\n  var k = Math.min(v1.length, v2.length);\n  var i = 0;\n\n  for (i; i < k; ++i) {\n    v1[i] = parseInt(v1[i], 10);\n    v2[i] = parseInt(v2[i], 10);\n    if (v1[i] > v2[i]) return 1;\n    if (v1[i] < v2[i]) return -1;\n  }\n\n  return v1.length === v2.length ? 0 : v1.length < v2.length ? -1 : 1;\n};\n\nvar _default = compareVersion;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/compare-version.js?")},"./src/js/utils/detect-browser.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isFirefox = exports.isSafari = exports.isChrome = exports.isOpera = exports.isEdge = exports.detectBrowser = void 0;\n\nvar _window = _interopRequireDefault(__webpack_require__(/*! global/window */ \"./node_modules/global/window.js\"));\n\nvar detectBrowser = function detectBrowser() {\n  var result = {};\n  result.browser = null;\n  result.version = null;\n  result.minVersion = null;\n\n  if (typeof _window.default === 'undefined' || !_window.default.navigator) {\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  if (navigator.mozGetUserMedia) {\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n    result.minVersion = 31;\n  } else if (navigator.webkitGetUserMedia) {\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    result.minVersion = 38;\n  } else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n    result.browser = 'edge';\n    result.version = extractVersion(navigator.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);\n    result.minVersion = 10547;\n  } else if (_window.default.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n  } else {\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n};\n\nexports.detectBrowser = detectBrowser;\n\nvar extractVersion = function extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n};\n\nvar isEdge = function isEdge() {\n  return detectBrowser().browser === 'edge';\n};\n\nexports.isEdge = isEdge;\n\nvar isSafari = function isSafari() {\n  return detectBrowser().browser === 'safari';\n};\n\nexports.isSafari = isSafari;\n\nvar isOpera = function isOpera() {\n  return !!_window.default.opera || navigator.userAgent.indexOf('OPR/') !== -1;\n};\n\nexports.isOpera = isOpera;\n\nvar isChrome = function isChrome() {\n  return detectBrowser().browser === 'chrome';\n};\n\nexports.isChrome = isChrome;\n\nvar isFirefox = function isFirefox() {\n  return detectBrowser().browser === 'firefox';\n};\n\nexports.isFirefox = isFirefox;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/detect-browser.js?")},"./src/js/utils/file-util.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addFileInfo = exports.blobToArrayBuffer = exports.downloadBlob = void 0;\n\nvar _mime = _interopRequireDefault(__webpack_require__(/*! ./mime */ \"./src/js/utils/mime.js\"));\n\nvar downloadBlob = function downloadBlob(fileName, data) {\n  if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\n    return navigator.msSaveOrOpenBlob(data, fileName);\n  } else if (typeof navigator.msSaveBlob !== 'undefined') {\n    return navigator.msSaveBlob(data, fileName);\n  }\n\n  var hyperlink = document.createElement('a');\n  hyperlink.href = URL.createObjectURL(data);\n  hyperlink.download = fileName;\n  hyperlink.style = 'display:none;opacity:0;color:transparent;';\n  (document.body || document.documentElement).appendChild(hyperlink);\n\n  if (typeof hyperlink.click === 'function') {\n    hyperlink.click();\n  } else {\n    hyperlink.target = '_blank';\n    hyperlink.dispatchEvent(new MouseEvent('click', {\n      view: window,\n      bubbles: true,\n      cancelable: true\n    }));\n  }\n\n  URL.revokeObjectURL(hyperlink.href);\n};\n\nexports.downloadBlob = downloadBlob;\n\nvar blobToArrayBuffer = function blobToArrayBuffer(fileObj) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onloadend = function () {\n      resolve(reader.result);\n    };\n\n    reader.onerror = function (ev) {\n      reject(ev.error);\n    };\n\n    reader.readAsArrayBuffer(fileObj);\n  });\n};\n\nexports.blobToArrayBuffer = blobToArrayBuffer;\n\nvar addFileInfo = function addFileInfo(fileObj, dateObj, fileExtension) {\n  if (fileObj instanceof Blob || fileObj instanceof File) {\n    if (dateObj === undefined) {\n      dateObj = new Date();\n    }\n\n    try {\n      fileObj.lastModified = dateObj.getTime();\n      fileObj.lastModifiedDate = dateObj;\n    } catch (e) {\n      if (e instanceof TypeError) {} else {\n        throw e;\n      }\n    }\n\n    if (fileExtension === undefined) {\n      fileExtension = '.' + (0, _mime.default)(fileObj.type);\n    }\n\n    try {\n      fileObj.name = dateObj.getTime() + fileExtension;\n    } catch (e) {\n      if (e instanceof TypeError) {} else {\n        throw e;\n      }\n    }\n  }\n};\n\nexports.addFileInfo = addFileInfo;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/file-util.js?")},"./src/js/utils/format-time.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _parseMs = _interopRequireDefault(__webpack_require__(/*! parse-ms */ "./node_modules/parse-ms/index.js"));\n\nvar _addZero = _interopRequireDefault(__webpack_require__(/*! add-zero */ "./node_modules/add-zero/index.js"));\n\nvar formatTime = function formatTime(seconds, guide) {\n  var displayMilliseconds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  seconds = seconds < 0 ? 0 : seconds;\n\n  if (isNaN(seconds) || seconds === Infinity) {\n    seconds = 0;\n  }\n\n  var inputTime = (0, _parseMs.default)(seconds * 1000);\n  var guideTime = inputTime;\n\n  if (guide !== undefined) {\n    guideTime = (0, _parseMs.default)(guide * 1000);\n  }\n\n  var hr = (0, _addZero.default)(inputTime.hours);\n  var min = (0, _addZero.default)(inputTime.minutes);\n  var sec = (0, _addZero.default)(inputTime.seconds);\n  var ms = (0, _addZero.default)(inputTime.milliseconds, 3);\n\n  if (inputTime.days > 0 || guideTime.days > 0) {\n    var day = (0, _addZero.default)(inputTime.days);\n    return "".concat(day, ":").concat(hr, ":").concat(min, ":").concat(sec);\n  }\n\n  if (inputTime.hours > 0 || guideTime.hours > 0) {\n    return "".concat(hr, ":").concat(min, ":").concat(sec);\n  }\n\n  if (displayMilliseconds) {\n    return "".concat(min, ":").concat(sec, ":").concat(ms);\n  }\n\n  return "".concat(min, ":").concat(sec);\n};\n\nvar _default = formatTime;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/format-time.js?')},"./src/js/utils/mime.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/;\nvar Mimetypes = {\n  'video/ogg': 'ogv',\n  'video/mp4': 'mp4',\n  'video/x-matroska': 'mkv',\n  'video/webm': 'webm',\n  'audio/mp4': 'm4a',\n  'audio/mpeg': 'mp3',\n  'audio/aac': 'aac',\n  'audio/flac': 'flac',\n  'audio/ogg': 'oga',\n  'audio/wav': 'wav',\n  'audio/webm': 'webm',\n  'application/x-mpegURL': 'm3u8',\n  'image/jpeg': 'jpg',\n  'image/gif': 'gif',\n  'image/png': 'png',\n  'image/svg+xml': 'svg',\n  'image/webp': 'webp'\n};\n\nvar getExtension = function getExtension(mimeType) {\n  var match = EXTRACT_TYPE_REGEXP.exec(mimeType);\n  var result = match && match[1].toLowerCase();\n  return Mimetypes[result];\n};\n\nvar _default = getExtension;\nexports.default = _default;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/mime.js?")},"./src/js/videojs.record.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.Record = void 0;\n\nvar _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js"));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ "video.js"));\n\nvar _animationDisplay = _interopRequireDefault(__webpack_require__(/*! ./controls/animation-display */ "./src/js/controls/animation-display.js"));\n\nvar _recordCanvas = _interopRequireDefault(__webpack_require__(/*! ./controls/record-canvas */ "./src/js/controls/record-canvas.js"));\n\nvar _deviceButton = _interopRequireDefault(__webpack_require__(/*! ./controls/device-button */ "./src/js/controls/device-button.js"));\n\nvar _cameraButton = _interopRequireDefault(__webpack_require__(/*! ./controls/camera-button */ "./src/js/controls/camera-button.js"));\n\nvar _recordToggle = _interopRequireDefault(__webpack_require__(/*! ./controls/record-toggle */ "./src/js/controls/record-toggle.js"));\n\nvar _recordIndicator = _interopRequireDefault(__webpack_require__(/*! ./controls/record-indicator */ "./src/js/controls/record-indicator.js"));\n\nvar _pictureInPictureToggle = _interopRequireDefault(__webpack_require__(/*! ./controls/picture-in-picture-toggle */ "./src/js/controls/picture-in-picture-toggle.js"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ./event */ "./src/js/event.js"));\n\nvar _hotKeys = _interopRequireDefault(__webpack_require__(/*! ./hot-keys */ "./src/js/hot-keys.js"));\n\nvar _defaults = _interopRequireDefault(__webpack_require__(/*! ./defaults */ "./src/js/defaults.js"));\n\nvar _formatTime = _interopRequireDefault(__webpack_require__(/*! ./utils/format-time */ "./src/js/utils/format-time.js"));\n\nvar _browserShim = _interopRequireDefault(__webpack_require__(/*! ./utils/browser-shim */ "./src/js/utils/browser-shim.js"));\n\nvar _compareVersion = _interopRequireDefault(__webpack_require__(/*! ./utils/compare-version */ "./src/js/utils/compare-version.js"));\n\nvar _detectBrowser = __webpack_require__(/*! ./utils/detect-browser */ "./src/js/utils/detect-browser.js");\n\nvar _engineLoader = __webpack_require__(/*! ./engine/engine-loader */ "./src/js/engine/engine-loader.js");\n\nvar _recordMode = __webpack_require__(/*! ./engine/record-mode */ "./src/js/engine/record-mode.js");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Plugin = _video.default.getPlugin(\'plugin\');\n\nvar Player = _video.default.getComponent(\'Player\');\n\nvar AUTO = \'auto\';\n\nvar Record = function (_Plugin) {\n  (0, _inherits2.default)(Record, _Plugin);\n\n  var _super = _createSuper(Record);\n\n  function Record(player, options) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Record);\n    _this = _super.call(this, player, options);\n\n    Player.prototype.play = function play() {\n      var retval = this.techGet_(\'play\');\n\n      if (retval !== undefined && typeof retval.then === \'function\') {\n        retval.then(null, function (e) {});\n      }\n\n      return retval;\n    };\n\n    player.addClass(\'vjs-record\');\n\n    _this.loadOptions();\n\n    _this.resetState();\n\n    _video.default.setFormatTime(function (seconds, guide) {\n      return (0, _formatTime.default)(seconds, guide, _this.displayMilliseconds);\n    });\n\n    var deviceIcon = \'av-perm\';\n\n    switch (_this.getRecordType()) {\n      case _recordMode.IMAGE_ONLY:\n      case _recordMode.VIDEO_ONLY:\n      case _recordMode.ANIMATION:\n        deviceIcon = \'video-perm\';\n        break;\n\n      case _recordMode.AUDIO_ONLY:\n        deviceIcon = \'audio-perm\';\n        break;\n\n      case _recordMode.SCREEN_ONLY:\n        deviceIcon = \'screen-perm\';\n        break;\n\n      case _recordMode.AUDIO_SCREEN:\n        deviceIcon = \'sv-perm\';\n        break;\n    }\n\n    _deviceButton.default.prototype.buildCSSClass = function () {\n      return \'vjs-record vjs-device-button vjs-control vjs-icon-\' + deviceIcon;\n    };\n\n    player.deviceButton = new _deviceButton.default(player, options);\n    player.addChild(player.deviceButton);\n    player.recordIndicator = new _recordIndicator.default(player, options);\n    player.recordIndicator.hide();\n    player.addChild(player.recordIndicator);\n    player.recordCanvas = new _recordCanvas.default(player, options);\n    player.recordCanvas.hide();\n    player.addChild(player.recordCanvas);\n    player.animationDisplay = new _animationDisplay.default(player, options);\n    player.animationDisplay.hide();\n    player.addChild(player.animationDisplay);\n    player.cameraButton = new _cameraButton.default(player, options);\n    player.cameraButton.hide();\n    player.recordToggle = new _recordToggle.default(player, options);\n    player.recordToggle.hide();\n    var oldVideoJS = _video.default.VERSION === undefined || (0, _compareVersion.default)(_video.default.VERSION, \'7.6.0\') === -1;\n\n    if (!(\'exitPictureInPicture\' in document)) {\n      _this.pictureInPicture = false;\n    } else if (oldVideoJS) {\n      player.pipToggle = new _pictureInPictureToggle.default(player, options);\n      player.pipToggle.hide();\n    }\n\n    if (_this.pictureInPicture === true) {\n      _this.onEnterPiPHandler = _this.onEnterPiP.bind((0, _assertThisInitialized2.default)(_this));\n      _this.onLeavePiPHandler = _this.onLeavePiP.bind((0, _assertThisInitialized2.default)(_this));\n    }\n\n    if (_this.player.options_.controlBar) {\n      var customUIElements = [\'deviceButton\', \'recordIndicator\', \'cameraButton\', \'recordToggle\'];\n\n      if (player.pipToggle) {\n        customUIElements.push(\'pipToggle\');\n      }\n\n      customUIElements.forEach(function (element) {\n        if (_this.player.options_.controlBar[element] !== undefined) {\n          _this.player[element].layoutExclude = true;\n\n          _this.player[element].hide();\n        }\n      });\n    }\n\n    _this.player.one(_event.default.READY, _this.setupUI.bind((0, _assertThisInitialized2.default)(_this)));\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Record, [{\n    key: "loadOptions",\n    value: function loadOptions() {\n      var newOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var recordOptions = _video.default.mergeOptions(_defaults.default, this.player.options_.plugins.record, newOptions);\n\n      this.recordImage = recordOptions.image;\n      this.recordAudio = recordOptions.audio;\n      this.recordVideo = recordOptions.video;\n      this.recordAnimation = recordOptions.animation;\n      this.recordScreen = recordOptions.screen;\n      this.maxLength = recordOptions.maxLength;\n      this.maxFileSize = recordOptions.maxFileSize;\n      this.displayMilliseconds = recordOptions.displayMilliseconds;\n      this.debug = recordOptions.debug;\n      this.pictureInPicture = recordOptions.pip;\n      this.recordTimeSlice = recordOptions.timeSlice;\n      this.autoMuteDevice = recordOptions.autoMuteDevice;\n      this.pluginLibraryOptions = recordOptions.pluginLibraryOptions;\n      this.videoFrameWidth = recordOptions.frameWidth;\n      this.videoFrameHeight = recordOptions.frameHeight;\n      this.videoFrameRate = recordOptions.videoFrameRate;\n      this.videoBitRate = recordOptions.videoBitRate;\n      this.videoEngine = recordOptions.videoEngine;\n      this.videoRecorderType = recordOptions.videoRecorderType;\n      this.videoMimeType = recordOptions.videoMimeType;\n      this.videoWorkerURL = recordOptions.videoWorkerURL;\n      this.videoWebAssemblyURL = recordOptions.videoWebAssemblyURL;\n      this.convertEngine = recordOptions.convertEngine;\n      this.convertWorkerURL = recordOptions.convertWorkerURL;\n      this.convertOptions = recordOptions.convertOptions;\n      this.audioEngine = recordOptions.audioEngine;\n      this.audioRecorderType = recordOptions.audioRecorderType;\n      this.audioWorkerURL = recordOptions.audioWorkerURL;\n      this.audioWebAssemblyURL = recordOptions.audioWebAssemblyURL;\n      this.audioBufferSize = recordOptions.audioBufferSize;\n      this.audioSampleRate = recordOptions.audioSampleRate;\n      this.audioBitRate = recordOptions.audioBitRate;\n      this.audioChannels = recordOptions.audioChannels;\n      this.audioMimeType = recordOptions.audioMimeType;\n      this.audioBufferUpdate = recordOptions.audioBufferUpdate;\n      this.imageOutputType = recordOptions.imageOutputType;\n      this.imageOutputFormat = recordOptions.imageOutputFormat;\n      this.imageOutputQuality = recordOptions.imageOutputQuality;\n      this.animationFrameRate = recordOptions.animationFrameRate;\n      this.animationQuality = recordOptions.animationQuality;\n    }\n  }, {\n    key: "setupUI",\n    value: function setupUI() {\n      var _this2 = this;\n\n      this.player.controlBar.addChild(this.player.cameraButton);\n      this.player.controlBar.el().insertBefore(this.player.cameraButton.el(), this.player.controlBar.el().firstChild);\n      this.player.controlBar.el().insertBefore(this.player.recordToggle.el(), this.player.controlBar.el().firstChild);\n\n      if (this.pictureInPicture === true) {\n        if (this.player.controlBar.pictureInPictureToggle === undefined && this.player.pipToggle !== undefined) {\n          this.player.controlBar.addChild(this.player.pipToggle);\n        } else if (this.player.controlBar.pictureInPictureToggle !== undefined) {\n          this.player.pipToggle = this.player.controlBar.pictureInPictureToggle;\n          this.player.pipToggle.hide();\n        }\n      }\n\n      if (this.player.controlBar.remainingTimeDisplay !== undefined) {\n        this.player.controlBar.remainingTimeDisplay.el().style.display = \'none\';\n      }\n\n      if (this.player.controlBar.liveDisplay !== undefined) {\n        this.player.controlBar.liveDisplay.el().style.display = \'none\';\n      }\n\n      this.player.loop(false);\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer = this.player.wavesurfer();\n          break;\n\n        case _recordMode.IMAGE_ONLY:\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.ANIMATION:\n        case _recordMode.SCREEN_ONLY:\n        case _recordMode.AUDIO_SCREEN:\n          if (this.player.bigPlayButton !== undefined) {\n            this.player.bigPlayButton.hide();\n          }\n\n          this.player.one(_event.default.LOADEDMETADATA, function () {\n            _this2.setDuration(_this2.maxLength);\n          });\n          this.player.one(_event.default.LOADSTART, function () {\n            _this2.setDuration(_this2.maxLength);\n          });\n\n          if (this.player.usingNativeControls_ === true) {\n            if (this.player.tech_.el_ !== undefined) {\n              this.player.tech_.el_.controls = false;\n            }\n          }\n\n          this.player.removeTechControlsListeners_();\n\n          if (this.player.options_.controls) {\n            if (this.player.controlBar.progressControl !== undefined) {\n              this.player.controlBar.progressControl.hide();\n            }\n\n            this.player.on(_event.default.USERINACTIVE, function (event) {\n              _this2.player.userActive(true);\n            });\n            this.player.controlBar.show();\n            this.player.controlBar.el().style.display = \'flex\';\n          }\n\n          break;\n      }\n\n      this.player.off(_event.default.TIMEUPDATE);\n      this.player.off(_event.default.DURATIONCHANGE);\n      this.player.off(_event.default.LOADEDMETADATA);\n      this.player.off(_event.default.LOADSTART);\n      this.player.off(_event.default.ENDED);\n      this.setDuration(this.maxLength);\n\n      if (this.player.options_.plugins.record && this.player.options_.plugins.record.hotKeys && this.player.options_.plugins.record.hotKeys !== false) {\n        var handler = this.player.options_.plugins.record.hotKeys;\n\n        if (handler === true) {\n          handler = _hotKeys.default;\n        }\n\n        this.player.options_.userActions = {\n          hotkeys: handler\n        };\n      }\n\n      if (this.player.controlBar.playToggle !== undefined) {\n        this.player.controlBar.playToggle.hide();\n      }\n    }\n  }, {\n    key: "isRecording",\n    value: function isRecording() {\n      return this._recording;\n    }\n  }, {\n    key: "isProcessing",\n    value: function isProcessing() {\n      return this._processing;\n    }\n  }, {\n    key: "isDestroyed",\n    value: function isDestroyed() {\n      var destroyed = this.player === null;\n\n      if (destroyed === false) {\n        destroyed = this.player.children() === null;\n      }\n\n      return destroyed;\n    }\n  }, {\n    key: "getDevice",\n    value: function getDevice() {\n      var _this3 = this;\n\n      if (this.deviceReadyCallback === undefined) {\n        this.deviceReadyCallback = this.onDeviceReady.bind(this);\n      }\n\n      if (this.deviceErrorCallback === undefined) {\n        this.deviceErrorCallback = this.onDeviceError.bind(this);\n      }\n\n      if (this.engineStopCallback === undefined) {\n        this.engineStopCallback = this.onRecordComplete.bind(this);\n      }\n\n      if (this.streamVisibleCallback === undefined) {\n        this.streamVisibleCallback = this.onStreamVisible.bind(this);\n      }\n\n      if (this.getRecordType() === _recordMode.SCREEN_ONLY || this.getRecordType() === _recordMode.AUDIO_SCREEN) {\n        if (navigator.mediaDevices === undefined || navigator.mediaDevices.getDisplayMedia === undefined) {\n          this.player.trigger(_event.default.ERROR, \'This browser does not support navigator.mediaDevices.getDisplayMedia\');\n          return;\n        }\n      } else {\n        if (navigator.mediaDevices === undefined || navigator.mediaDevices.getUserMedia === undefined) {\n          this.player.trigger(_event.default.ERROR, \'This browser does not support navigator.mediaDevices.getUserMedia\');\n          return;\n        }\n      }\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.mediaType = {\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\n            video: false\n          };\n          this.surfer.surfer.microphone.un(_event.default.DEVICE_READY, this.deviceReadyCallback);\n          this.surfer.surfer.microphone.un(_event.default.DEVICE_ERROR, this.deviceErrorCallback);\n          this.surfer.surfer.microphone.on(_event.default.DEVICE_READY, this.deviceReadyCallback);\n          this.surfer.surfer.microphone.on(_event.default.DEVICE_ERROR, this.deviceErrorCallback);\n          this.surfer.setupPlaybackEvents(false);\n          this.surfer.liveMode = true;\n          this.surfer.surfer.microphone.paused = false;\n\n          if (this.surfer.surfer.backend.ac.state === \'suspended\') {\n            this.surfer.surfer.backend.ac.resume();\n          }\n\n          if (this.audioBufferUpdate === true) {\n            this.surfer.surfer.microphone.reloadBufferFunction = function (event) {\n              if (!_this3.surfer.surfer.microphone.paused) {\n                _this3.surfer.surfer.empty();\n\n                _this3.surfer.surfer.loadDecodedBuffer(event.inputBuffer);\n\n                _this3.player.recordedData = event.inputBuffer;\n\n                _this3.player.trigger(_event.default.AUDIO_BUFFER_UPDATE);\n              }\n            };\n          }\n\n          this.surfer.surfer.microphone.start();\n          break;\n\n        case _recordMode.IMAGE_ONLY:\n        case _recordMode.VIDEO_ONLY:\n          if (this.getRecordType() === _recordMode.IMAGE_ONLY) {\n            this.player.el().firstChild.addEventListener(_event.default.PLAYING, this.streamVisibleCallback);\n          }\n\n          this.mediaType = {\n            audio: false,\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\n          };\n          navigator.mediaDevices.getUserMedia({\n            audio: false,\n            video: this.getRecordType() === _recordMode.IMAGE_ONLY ? this.recordImage : this.recordVideo\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\n          break;\n\n        case _recordMode.AUDIO_SCREEN:\n          this.mediaType = {\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\n          };\n          var audioScreenConstraints = {};\n\n          if (this.recordScreen === true) {\n            audioScreenConstraints = {\n              video: true\n            };\n          } else if ((0, _typeof2.default)(this.recordScreen) === \'object\' && this.recordScreen.constructor === Object) {\n            audioScreenConstraints = this.recordScreen;\n          }\n\n          navigator.mediaDevices.getDisplayMedia(audioScreenConstraints).then(function (screenStream) {\n            navigator.mediaDevices.getUserMedia({\n              audio: _this3.recordAudio\n            }).then(function (mic) {\n              screenStream.addTrack(mic.getTracks()[0]);\n\n              _this3.onDeviceReady.bind(_this3)(screenStream);\n            }).catch(_this3.onDeviceError.bind(_this3));\n          }).catch(this.onDeviceError.bind(this));\n          break;\n\n        case _recordMode.AUDIO_VIDEO:\n          this.mediaType = {\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\n          };\n          navigator.mediaDevices.getUserMedia({\n            audio: this.recordAudio,\n            video: this.recordVideo\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\n          break;\n\n        case _recordMode.ANIMATION:\n          this.mediaType = {\n            audio: false,\n            video: false,\n            gif: true\n          };\n          navigator.mediaDevices.getUserMedia({\n            audio: false,\n            video: this.recordAnimation\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\n          break;\n\n        case _recordMode.SCREEN_ONLY:\n          this.mediaType = {\n            audio: false,\n            video: false,\n            screen: true,\n            gif: false\n          };\n          var screenOnlyConstraints = {};\n\n          if (this.recordScreen === true) {\n            screenOnlyConstraints = {\n              video: true\n            };\n          } else if ((0, _typeof2.default)(this.recordScreen) === \'object\' && this.recordScreen.constructor === Object) {\n            screenOnlyConstraints = this.recordScreen;\n          }\n\n          navigator.mediaDevices.getDisplayMedia(screenOnlyConstraints).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\n          break;\n      }\n    }\n  }, {\n    key: "onDeviceReady",\n    value: function onDeviceReady(stream) {\n      var _this4 = this;\n\n      this._deviceActive = true;\n      this.stream = stream;\n      this.player.deviceButton.hide();\n      this.setDuration(this.maxLength);\n      this.setCurrentTime(0);\n\n      if (this.player.controlBar.playToggle !== undefined) {\n        this.player.controlBar.playToggle.hide();\n      }\n\n      this.off(this.player, _event.default.TIMEUPDATE, this.playbackTimeUpdate);\n      this.off(this.player, _event.default.ENDED, this.playbackTimeUpdate);\n\n      if (this.getRecordType() !== _recordMode.IMAGE_ONLY) {\n        if (this.getRecordType() !== _recordMode.AUDIO_ONLY && (0, _engineLoader.isAudioPluginActive)(this.audioEngine)) {\n          throw new Error(\'Currently \' + this.audioEngine + \' is only supported in audio-only mode.\');\n        }\n\n        var EngineClass, engineType;\n\n        switch (this.getRecordType()) {\n          case _recordMode.AUDIO_ONLY:\n            EngineClass = (0, _engineLoader.getAudioEngine)(this.audioEngine);\n            engineType = this.audioEngine;\n            break;\n\n          default:\n            EngineClass = (0, _engineLoader.getVideoEngine)(this.videoEngine);\n            engineType = this.videoEngine;\n        }\n\n        try {\n          this.engine = new EngineClass(this.player, this.player.options_);\n        } catch (err) {\n          throw new Error(\'Could not load \' + engineType + \' plugin\');\n        }\n\n        this.engine.on(_event.default.RECORD_COMPLETE, this.engineStopCallback);\n        this.engine.bufferSize = this.audioBufferSize;\n        this.engine.sampleRate = this.audioSampleRate;\n        this.engine.bitRate = this.audioBitRate;\n        this.engine.audioChannels = this.audioChannels;\n        this.engine.audioWorkerURL = this.audioWorkerURL;\n        this.engine.audioWebAssemblyURL = this.audioWebAssemblyURL;\n        this.engine.mimeType = {\n          video: this.videoMimeType,\n          gif: \'image/gif\'\n        };\n\n        if (this.audioMimeType !== null && this.audioMimeType !== AUTO) {\n          this.engine.mimeType.audio = this.audioMimeType;\n        }\n\n        this.engine.videoWorkerURL = this.videoWorkerURL;\n        this.engine.videoWebAssemblyURL = this.videoWebAssemblyURL;\n        this.engine.videoBitRate = this.videoBitRate;\n        this.engine.videoFrameRate = this.videoFrameRate;\n        this.engine.video = {\n          width: this.videoFrameWidth,\n          height: this.videoFrameHeight\n        };\n        this.engine.canvas = {\n          width: this.videoFrameWidth,\n          height: this.videoFrameHeight\n        };\n        this.engine.quality = this.animationQuality;\n        this.engine.frameRate = this.animationFrameRate;\n\n        if (this.recordTimeSlice && this.recordTimeSlice > 0) {\n          this.engine.timeSlice = this.recordTimeSlice;\n          this.engine.maxFileSize = this.maxFileSize;\n        }\n\n        this.engine.pluginLibraryOptions = this.pluginLibraryOptions;\n        this.engine.setup(this.stream, this.mediaType, this.debug);\n\n        if (this.convertEngine !== \'\') {\n          var ConvertEngineClass = (0, _engineLoader.getConvertEngine)(this.convertEngine);\n\n          try {\n            this.converter = new ConvertEngineClass(this.player, this.player.options_);\n          } catch (err) {\n            throw new Error(\'Could not load \' + this.convertEngine + \' plugin\');\n          }\n\n          this.converter.convertWorkerURL = this.convertWorkerURL;\n          this.converter.convertOptions = this.convertOptions;\n          this.converter.pluginLibraryOptions = this.pluginLibraryOptions;\n          this.converter.setup(this.mediaType, this.debug);\n        }\n\n        var uiElements = [\'currentTimeDisplay\', \'timeDivider\', \'durationDisplay\'];\n        uiElements.forEach(function (element) {\n          element = _this4.player.controlBar[element];\n\n          if (element !== undefined) {\n            element.el().style.display = \'block\';\n            element.show();\n          }\n        });\n        this.player.recordToggle.show();\n      } else {\n        this.player.recordIndicator.disable();\n        this.retrySnapshot();\n      }\n\n      if (this.getRecordType() !== _recordMode.AUDIO_ONLY) {\n        this.mediaElement = this.player.el().firstChild;\n        this.mediaElement.controls = false;\n        this.mediaElement.muted = true;\n        this.displayVolumeControl(false);\n\n        if (this.pictureInPicture === true) {\n          this.player.pipToggle.show();\n          this.mediaElement.removeEventListener(_event.default.ENTERPICTUREINPICTURE, this.onEnterPiPHandler);\n          this.mediaElement.removeEventListener(_event.default.LEAVEPICTUREINPICTURE, this.onLeavePiPHandler);\n          this.mediaElement.addEventListener(_event.default.ENTERPICTUREINPICTURE, this.onEnterPiPHandler);\n          this.mediaElement.addEventListener(_event.default.LEAVEPICTUREINPICTURE, this.onLeavePiPHandler);\n        }\n\n        this.load(this.stream);\n        this.player.one(_event.default.LOADEDMETADATA, function () {\n          _this4.mediaElement.play();\n\n          _this4.player.trigger(_event.default.DEVICE_READY);\n        });\n      } else {\n        this.player.trigger(_event.default.DEVICE_READY);\n      }\n    }\n  }, {\n    key: "onDeviceError",\n    value: function onDeviceError(code) {\n      this._deviceActive = false;\n\n      if (!this.isDestroyed()) {\n        this.player.deviceErrorCode = code;\n        this.player.trigger(_event.default.DEVICE_ERROR);\n      }\n    }\n  }, {\n    key: "start",\n    value: function start() {\n      var _this5 = this;\n\n      if (!this.isProcessing()) {\n        if (this.stream && this.stream.active === false) {\n          this.getDevice();\n          return;\n        }\n\n        this._recording = true;\n\n        if (this.player.controlBar.playToggle !== undefined) {\n          this.player.controlBar.playToggle.hide();\n        }\n\n        this.off(this.player, _event.default.TIMEUPDATE, this.playbackTimeUpdate);\n        this.off(this.player, _event.default.ENDED, this.playbackTimeUpdate);\n\n        switch (this.getRecordType()) {\n          case _recordMode.AUDIO_ONLY:\n            this.surfer.setupPlaybackEvents(false);\n            this.surfer.surfer.microphone.paused = false;\n            this.surfer.liveMode = true;\n            this.surfer.surfer.microphone.play();\n            break;\n\n          case _recordMode.VIDEO_ONLY:\n          case _recordMode.AUDIO_VIDEO:\n          case _recordMode.AUDIO_SCREEN:\n          case _recordMode.SCREEN_ONLY:\n            this.startVideoPreview();\n            break;\n\n          case _recordMode.ANIMATION:\n            this.player.recordCanvas.hide();\n            this.player.animationDisplay.hide();\n            this.mediaElement.style.display = \'block\';\n            this.captureFrame().then(function (result) {\n              _this5.startVideoPreview();\n            });\n            break;\n        }\n\n        if (this.autoMuteDevice) {\n          this.muteTracks(false);\n        }\n\n        switch (this.getRecordType()) {\n          case _recordMode.IMAGE_ONLY:\n            this.createSnapshot();\n            this.player.trigger(_event.default.START_RECORD);\n            break;\n\n          case _recordMode.VIDEO_ONLY:\n          case _recordMode.AUDIO_VIDEO:\n          case _recordMode.AUDIO_SCREEN:\n          case _recordMode.ANIMATION:\n          case _recordMode.SCREEN_ONLY:\n            this.player.one(_event.default.LOADEDMETADATA, function () {\n              _this5.startRecording();\n            });\n            break;\n\n          default:\n            this.startRecording();\n        }\n      }\n    }\n  }, {\n    key: "startRecording",\n    value: function startRecording() {\n      this.paused = false;\n      this.pauseTime = this.pausedTime = 0;\n      this.startTime = performance.now();\n      var COUNTDOWN_SPEED = 100;\n      this.countDown = this.player.setInterval(this.onCountDown.bind(this), COUNTDOWN_SPEED);\n\n      if (this.engine !== undefined) {\n        this.engine.dispose();\n      }\n\n      this.engine.start();\n      this.player.trigger(_event.default.START_RECORD);\n    }\n  }, {\n    key: "stop",\n    value: function stop() {\n      if (!this.isProcessing()) {\n        this._recording = false;\n        this._processing = true;\n\n        if (this.getRecordType() !== _recordMode.IMAGE_ONLY) {\n          this.player.trigger(_event.default.STOP_RECORD);\n          this.player.clearInterval(this.countDown);\n\n          if (this.engine) {\n            this.engine.stop();\n          }\n\n          if (this.autoMuteDevice) {\n            this.muteTracks(true);\n          }\n        } else {\n          if (this.player.recordedData) {\n            this.player.trigger(_event.default.FINISH_RECORD);\n          }\n        }\n      }\n    }\n  }, {\n    key: "stopDevice",\n    value: function stopDevice() {\n      if (this.isRecording()) {\n        this.player.one(_event.default.FINISH_RECORD, this.stopStream.bind(this));\n        this.stop();\n      } else {\n        this.stopStream();\n      }\n    }\n  }, {\n    key: "stopStream",\n    value: function stopStream() {\n      if (this.stream) {\n        this._deviceActive = false;\n\n        if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\n          this.surfer.surfer.microphone.stopDevice();\n          return;\n        }\n\n        this.stream.getTracks().forEach(function (stream) {\n          stream.stop();\n        });\n      }\n    }\n  }, {\n    key: "pause",\n    value: function pause() {\n      if (!this.paused) {\n        this.pauseTime = performance.now();\n        this.paused = true;\n        this.engine.pause();\n      }\n    }\n  }, {\n    key: "resume",\n    value: function resume() {\n      if (this.paused) {\n        this.pausedTime += performance.now() - this.pauseTime;\n        this.engine.resume();\n        this.paused = false;\n      }\n    }\n  }, {\n    key: "onRecordComplete",\n    value: function onRecordComplete() {\n      var _this6 = this;\n\n      this.player.recordedData = this.engine.recordedData;\n\n      if (this.player.controlBar.playToggle !== undefined) {\n        this.player.controlBar.playToggle.removeClass(\'vjs-ended\');\n        this.player.controlBar.playToggle.show();\n      }\n\n      if (this.converter !== undefined) {\n        this.converter.convert(this.player.recordedData);\n      }\n\n      this.player.trigger(_event.default.FINISH_RECORD);\n\n      if (this.isDestroyed()) {\n        return;\n      }\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.pause();\n          this.surfer.setupPlaybackEvents(true);\n          this.player.loadingSpinner.show();\n          this.surfer.surfer.once(_event.default.READY, function () {\n            _this6._processing = false;\n          });\n          this.load(this.player.recordedData);\n          break;\n\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.AUDIO_SCREEN:\n        case _recordMode.SCREEN_ONLY:\n          this.player.one(_event.default.PAUSE, function () {\n            _this6._processing = false;\n\n            _this6.player.loadingSpinner.hide();\n\n            _this6.setDuration(_this6.streamDuration);\n\n            _this6.on(_this6.player, _event.default.TIMEUPDATE, _this6.playbackTimeUpdate);\n\n            _this6.on(_this6.player, _event.default.ENDED, _this6.playbackTimeUpdate);\n\n            if (_this6.getRecordType() === _recordMode.AUDIO_VIDEO || _this6.getRecordType() === _recordMode.AUDIO_SCREEN) {\n              _this6.mediaElement.muted = false;\n\n              _this6.displayVolumeControl(true);\n            }\n\n            _this6.load(_this6.player.recordedData);\n          });\n          this.player.pause();\n          break;\n\n        case _recordMode.ANIMATION:\n          this._processing = false;\n          this.player.loadingSpinner.hide();\n          this.setDuration(this.streamDuration);\n          this.mediaElement.style.display = \'none\';\n          this.player.recordCanvas.show();\n          this.player.pause();\n          this.on(this.player, _event.default.PLAY, this.showAnimation);\n          this.on(this.player, _event.default.PAUSE, this.hideAnimation);\n          break;\n      }\n    }\n  }, {\n    key: "onCountDown",\n    value: function onCountDown() {\n      if (!this.paused) {\n        var now = performance.now();\n        var duration = this.maxLength;\n        var currentTime = (now - (this.startTime + this.pausedTime)) / 1000;\n        this.streamDuration = currentTime;\n\n        if (currentTime >= duration) {\n          currentTime = duration;\n          this.stop();\n        }\n\n        this.setDuration(duration);\n        this.setCurrentTime(currentTime, duration);\n        this.player.trigger(_event.default.PROGRESS_RECORD);\n      }\n    }\n  }, {\n    key: "getCurrentTime",\n    value: function getCurrentTime() {\n      var currentTime = isNaN(this.streamCurrentTime) ? 0 : this.streamCurrentTime;\n\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\n        currentTime = this.surfer.getCurrentTime();\n      }\n\n      return currentTime;\n    }\n  }, {\n    key: "setCurrentTime",\n    value: function setCurrentTime(currentTime, duration) {\n      currentTime = isNaN(currentTime) ? 0 : currentTime;\n      duration = isNaN(duration) ? 0 : duration;\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.setCurrentTime(currentTime, duration);\n          break;\n\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.AUDIO_SCREEN:\n        case _recordMode.ANIMATION:\n        case _recordMode.SCREEN_ONLY:\n          if (this.player.controlBar.currentTimeDisplay && this.player.controlBar.currentTimeDisplay.contentEl() && this.player.controlBar.currentTimeDisplay.contentEl().lastChild) {\n            this.streamCurrentTime = Math.min(currentTime, duration);\n            this.player.controlBar.currentTimeDisplay.formattedTime_ = this.player.controlBar.currentTimeDisplay.contentEl().lastChild.textContent = (0, _formatTime.default)(this.streamCurrentTime, duration, this.displayMilliseconds);\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: "getDuration",\n    value: function getDuration() {\n      var duration = isNaN(this.streamDuration) ? 0 : this.streamDuration;\n      return duration;\n    }\n  }, {\n    key: "setDuration",\n    value: function setDuration(duration) {\n      duration = isNaN(duration) ? 0 : duration;\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.setDuration(duration);\n          break;\n\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.AUDIO_SCREEN:\n        case _recordMode.ANIMATION:\n        case _recordMode.SCREEN_ONLY:\n          if (this.player.controlBar.durationDisplay && this.player.controlBar.durationDisplay.contentEl() && this.player.controlBar.durationDisplay.contentEl().lastChild) {\n            this.player.controlBar.durationDisplay.formattedTime_ = this.player.controlBar.durationDisplay.contentEl().lastChild.textContent = (0, _formatTime.default)(duration, duration, this.displayMilliseconds);\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: "load",\n    value: function load(url) {\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.load(url);\n          break;\n\n        case _recordMode.IMAGE_ONLY:\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.AUDIO_SCREEN:\n        case _recordMode.ANIMATION:\n        case _recordMode.SCREEN_ONLY:\n          if (url instanceof Blob || url instanceof File) {\n            this.mediaElement.srcObject = null;\n            this.mediaElement.src = URL.createObjectURL(url);\n          } else {\n            (0, _browserShim.default)(url, this.mediaElement);\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: "saveAs",\n    value: function saveAs(name) {\n      if (this.engine && name !== undefined) {\n        this.engine.saveAs(name);\n      }\n    }\n  }, {\n    key: "dispose",\n    value: function dispose() {\n      this.player.off(_event.default.READY);\n      this.player.off(_event.default.USERINACTIVE);\n      this.player.off(_event.default.LOADEDMETADATA);\n\n      if (this.engine) {\n        this.engine.dispose();\n        this.engine.destroy();\n        this.engine.off(_event.default.RECORD_COMPLETE, this.engineStopCallback);\n      }\n\n      this.stop();\n      this.stopDevice();\n      this.removeRecording();\n      this.player.clearInterval(this.countDown);\n\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\n        if (this.surfer) {\n          this.surfer.destroy();\n        }\n      } else if (this.getRecordType() === _recordMode.IMAGE_ONLY) {\n        if (this.mediaElement && this.streamVisibleCallback) {\n          this.mediaElement.removeEventListener(_event.default.PLAYING, this.streamVisibleCallback);\n        }\n      }\n\n      this.resetState();\n      (0, _get2.default)((0, _getPrototypeOf2.default)(Record.prototype), "dispose", this).call(this);\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      this.player.dispose();\n    }\n  }, {\n    key: "reset",\n    value: function reset() {\n      var _this7 = this;\n\n      if (this.engine) {\n        this.engine.dispose();\n        this.engine.off(_event.default.RECORD_COMPLETE, this.engineStopCallback);\n      }\n\n      this.stop();\n      this.stopDevice();\n      this.player.clearInterval(this.countDown);\n      this.removeRecording();\n      this.loadOptions();\n      this.resetState();\n      this.setDuration(this.maxLength);\n      this.setCurrentTime(0);\n      this.player.reset();\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          if (this.surfer && this.surfer.surfer) {\n            this.surfer.surfer.empty();\n          }\n\n          break;\n\n        case _recordMode.IMAGE_ONLY:\n        case _recordMode.ANIMATION:\n          this.player.recordCanvas.hide();\n          this.player.cameraButton.hide();\n          break;\n      }\n\n      if (this.player.controlBar.playToggle !== undefined) {\n        this.player.controlBar.playToggle.hide();\n      }\n\n      this.player.deviceButton.show();\n      this.player.recordToggle.hide();\n      this.player.one(_event.default.LOADEDMETADATA, function () {\n        _this7.setDuration(_this7.maxLength);\n      });\n    }\n  }, {\n    key: "resetState",\n    value: function resetState() {\n      this._recording = false;\n      this._processing = false;\n      this._deviceActive = false;\n      this.devices = [];\n    }\n  }, {\n    key: "removeRecording",\n    value: function removeRecording() {\n      if (this.mediaElement && this.mediaElement.src.startsWith(\'blob:\') === true) {\n        URL.revokeObjectURL(this.mediaElement.src);\n        this.mediaElement.src = \'\';\n      }\n    }\n  }, {\n    key: "exportImage",\n    value: function exportImage() {\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'image/png\';\n      var quality = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\n        return this.surfer.surfer.exportImage(format, quality, \'blob\');\n      } else {\n        var recordCanvas = this.player.recordCanvas.el().firstChild;\n        this.drawCanvas(recordCanvas, this.mediaElement);\n        return new Promise(function (resolve) {\n          recordCanvas.toBlob(resolve, format, quality);\n        });\n      }\n    }\n  }, {\n    key: "muteTracks",\n    value: function muteTracks(mute) {\n      if ((this.getRecordType() === _recordMode.AUDIO_ONLY || this.getRecordType() === _recordMode.AUDIO_SCREEN || this.getRecordType() === _recordMode.AUDIO_VIDEO) && this.stream.getAudioTracks().length > 0) {\n        this.stream.getAudioTracks()[0].enabled = !mute;\n      }\n\n      if (this.getRecordType() !== _recordMode.AUDIO_ONLY && this.stream.getVideoTracks().length > 0) {\n        this.stream.getVideoTracks()[0].enabled = !mute;\n      }\n    }\n  }, {\n    key: "getRecordType",\n    value: function getRecordType() {\n      return (0, _recordMode.getRecorderMode)(this.recordImage, this.recordAudio, this.recordVideo, this.recordAnimation, this.recordScreen);\n    }\n  }, {\n    key: "createSnapshot",\n    value: function createSnapshot() {\n      var _this8 = this;\n\n      this.captureFrame().then(function (result) {\n        if (_this8.imageOutputType === \'blob\') {\n          result.toBlob(function (blob) {\n            _this8.player.recordedData = blob;\n\n            _this8.displaySnapshot();\n          });\n        } else if (_this8.imageOutputType === \'dataURL\') {\n          _this8.player.recordedData = result.toDataURL(_this8.imageOutputFormat, _this8.imageOutputQuality);\n\n          _this8.displaySnapshot();\n        }\n      }, this.imageOutputFormat, this.imageOutputQuality);\n    }\n  }, {\n    key: "displaySnapshot",\n    value: function displaySnapshot() {\n      this.mediaElement.style.display = \'none\';\n      this.player.recordCanvas.show();\n      this.stop();\n    }\n  }, {\n    key: "retrySnapshot",\n    value: function retrySnapshot() {\n      this._processing = false;\n      this.player.recordCanvas.hide();\n      this.player.el().firstChild.style.display = \'block\';\n    }\n  }, {\n    key: "captureFrame",\n    value: function captureFrame() {\n      var _this9 = this;\n\n      var detected = (0, _detectBrowser.detectBrowser)();\n      var recordCanvas = this.player.recordCanvas.el().firstChild;\n      recordCanvas.width = this.player.width();\n      recordCanvas.height = this.player.height();\n      return new Promise(function (resolve, reject) {\n        if (detected.browser === \'chrome\' && detected.version >= 60 && (typeof ImageCapture === "undefined" ? "undefined" : (0, _typeof2.default)(ImageCapture)) === (typeof Function === "undefined" ? "undefined" : (0, _typeof2.default)(Function))) {\n          try {\n            var track = _this9.stream.getVideoTracks()[0];\n\n            var imageCapture = new ImageCapture(track);\n            imageCapture.grabFrame().then(function (imageBitmap) {\n              _this9.drawCanvas(recordCanvas, imageBitmap);\n\n              resolve(recordCanvas);\n            }).catch(function (error) {});\n          } catch (err) {}\n        }\n\n        _this9.drawCanvas(recordCanvas, _this9.mediaElement);\n\n        resolve(recordCanvas);\n      });\n    }\n  }, {\n    key: "drawCanvas",\n    value: function drawCanvas(canvas, element) {\n      canvas.getContext(\'2d\').drawImage(element, 0, 0, canvas.width, canvas.height);\n    }\n  }, {\n    key: "startVideoPreview",\n    value: function startVideoPreview() {\n      this.off(_event.default.TIMEUPDATE);\n      this.off(_event.default.DURATIONCHANGE);\n      this.off(_event.default.LOADEDMETADATA);\n      this.off(_event.default.PLAY);\n      this.mediaElement.muted = true;\n      this.displayVolumeControl(false);\n      this.removeRecording();\n      this.load(this.stream);\n      this.mediaElement.play();\n    }\n  }, {\n    key: "showAnimation",\n    value: function showAnimation() {\n      var animationDisplay = this.player.animationDisplay.el().firstChild;\n      animationDisplay.width = this.player.width();\n      animationDisplay.height = this.player.height();\n      this.player.recordCanvas.hide();\n      (0, _browserShim.default)(this.player.recordedData, animationDisplay);\n      this.player.animationDisplay.show();\n    }\n  }, {\n    key: "hideAnimation",\n    value: function hideAnimation() {\n      this.player.recordCanvas.show();\n      this.player.animationDisplay.hide();\n    }\n  }, {\n    key: "playbackTimeUpdate",\n    value: function playbackTimeUpdate() {\n      this.setCurrentTime(this.player.currentTime(), this.streamDuration);\n    }\n  }, {\n    key: "enumerateDevices",\n    value: function enumerateDevices() {\n      var _this10 = this;\n\n      if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\n        this.player.enumerateErrorCode = \'enumerateDevices() not supported.\';\n        this.player.trigger(_event.default.ENUMERATE_ERROR);\n        return;\n      }\n\n      navigator.mediaDevices.enumerateDevices(this).then(function (devices) {\n        _this10.devices = [];\n        devices.forEach(function (device) {\n          _this10.devices.push(device);\n        });\n\n        _this10.player.trigger(_event.default.ENUMERATE_READY);\n      }).catch(function (err) {\n        _this10.player.enumerateErrorCode = err;\n\n        _this10.player.trigger(_event.default.ENUMERATE_ERROR);\n      });\n    }\n  }, {\n    key: "setVideoInput",\n    value: function setVideoInput(deviceId) {\n      if (this.recordVideo === Object(this.recordVideo)) {\n        this.recordVideo.deviceId = {\n          exact: deviceId\n        };\n      } else if (this.recordVideo === true) {\n        this.recordVideo = {\n          deviceId: {\n            exact: deviceId\n          }\n        };\n      }\n\n      this.stopDevice();\n      this.getDevice();\n    }\n  }, {\n    key: "setAudioInput",\n    value: function setAudioInput(deviceId) {\n      if (this.recordAudio === Object(this.recordAudio)) {\n        this.recordAudio.deviceId = {\n          exact: deviceId\n        };\n      } else if (this.recordAudio === true) {\n        this.recordAudio = {\n          deviceId: {\n            exact: deviceId\n          }\n        };\n      }\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.surfer.microphone.constraints = {\n            video: false,\n            audio: this.recordAudio\n          };\n          break;\n      }\n\n      this.stopDevice();\n      this.getDevice();\n    }\n  }, {\n    key: "setAudioOutput",\n    value: function setAudioOutput(deviceId) {\n      var _this11 = this;\n\n      var errorMessage;\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.surfer.setSinkId(deviceId).then(function (result) {\n            _this11.player.trigger(_event.default.AUDIO_OUTPUT_READY);\n\n            return;\n          }).catch(function (err) {\n            errorMessage = err;\n          });\n          break;\n\n        default:\n          var element = player.tech_.el_;\n\n          if (deviceId) {\n            if (typeof element.sinkId !== \'undefined\') {\n              element.setSinkId(deviceId).then(function (result) {\n                _this11.player.trigger(_event.default.AUDIO_OUTPUT_READY);\n\n                return;\n              }).catch(function (err) {\n                errorMessage = err;\n              });\n            } else {\n              errorMessage = \'Browser does not support audio output device selection.\';\n            }\n          } else {\n            errorMessage = "Invalid deviceId: ".concat(deviceId);\n          }\n\n          break;\n      }\n\n      this.player.trigger(_event.default.ERROR, errorMessage);\n    }\n  }, {\n    key: "displayVolumeControl",\n    value: function displayVolumeControl(display) {\n      if (this.player.controlBar.volumePanel !== undefined) {\n        if (display === true) {\n          display = \'flex\';\n        } else {\n          display = \'none\';\n        }\n\n        this.player.controlBar.volumePanel.el().style.display = display;\n      }\n    }\n  }, {\n    key: "onStreamVisible",\n    value: function onStreamVisible(event) {\n      this.mediaElement.removeEventListener(_event.default.PLAYING, this.streamVisibleCallback);\n      this.player.cameraButton.onStop();\n      this.player.cameraButton.show();\n    }\n  }, {\n    key: "onEnterPiP",\n    value: function onEnterPiP(event) {\n      this.player.trigger(_event.default.ENTER_PIP, event);\n    }\n  }, {\n    key: "onLeavePiP",\n    value: function onLeavePiP(event) {\n      this.player.trigger(_event.default.LEAVE_PIP);\n    }\n  }]);\n  return Record;\n}(Plugin);\n\nexports.Record = Record;\nRecord.VERSION = "4.1.0";\n_video.default.Record = Record;\n\nif (_video.default.getPlugin(\'record\') === undefined) {\n  _video.default.registerPlugin(\'record\', Record);\n}\n\n//# sourceURL=webpack://VideojsRecord/./src/js/videojs.record.js?')},0:function(module,exports,__webpack_require__){eval('__webpack_require__(/*! /Users/thijstriemstra/projects/videojs-record/src/js/videojs.record.js */"./src/js/videojs.record.js");\nmodule.exports = __webpack_require__(/*! /Users/thijstriemstra/projects/videojs-record/src/css/videojs.record.scss */"./src/css/videojs.record.scss");\n\n\n//# sourceURL=webpack://VideojsRecord/multi_./src/js/videojs.record.js_./src/css/videojs.record.scss?')},recordrtc:function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_recordrtc__;\n\n//# sourceURL=webpack://VideojsRecord/external_%7B%22commonjs%22:%22recordrtc%22,%22commonjs2%22:%22recordrtc%22,%22amd%22:%22recordrtc%22,%22root%22:%22RecordRTC%22%7D?")},"video.js":function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_video_js__;\n\n//# sourceURL=webpack://VideojsRecord/external_%7B%22commonjs%22:%22video.js%22,%22commonjs2%22:%22video.js%22,%22amd%22:%22video.js%22,%22root%22:%22videojs%22%7D?")}})},module.exports=factory(__webpack_require__("qe5e"),__webpack_require__("8OJ3"))},P3vI:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n("Dztv"),s=n("HxXY"),a=n("oIG1"),c=n("/dLB"),l=n("bDgZ"),u=n("9m68").OpenViduLogger.getInstance(),d=function(e){function t(t,n){var i=e.call(this)||this;if(i.videos=[],i.lazyLaunchVideoElementCreatedEvent=!1,i.stream=t,i.stream.streamManager=i,i.remote=!i.stream.isLocal(),n){var o=void 0;"string"==typeof n?o=document.getElementById(n):n instanceof HTMLElement&&(o=n),o&&(i.firstVideoElement={targetElement:o,video:document.createElement("video"),id:"",canplayListenerAdded:!1},"Safari"===l.name&&i.firstVideoElement.video.setAttribute("playsinline","true"),i.targetElement=o,i.element=o)}return i.canPlayListener=function(){i.stream.isLocal()?i.stream.displayMyRemote()?(u.info("Your own remote 'Stream' with id ["+i.stream.streamId+"] video is now playing"),i.ee.emitEvent("remoteVideoPlaying",[new a.VideoElementEvent(i.videos[0].video,i,"remoteVideoPlaying")])):(u.info("Your local 'Stream' with id ["+i.stream.streamId+"] video is now playing"),i.ee.emitEvent("videoPlaying",[new a.VideoElementEvent(i.videos[0].video,i,"videoPlaying")])):(u.info("Remote 'Stream' with id ["+i.stream.streamId+"] video is now playing"),i.ee.emitEvent("videoPlaying",[new a.VideoElementEvent(i.videos[0].video,i,"videoPlaying")])),i.ee.emitEvent("streamPlaying",[new s.StreamManagerEvent(i,"streamPlaying",void 0)])},i}return o(t,e),t.prototype.on=function(t,n){return e.prototype.onAux.call(this,t,"Event '"+t+"' triggered by '"+(this.remote?"Subscriber":"Publisher")+"'",n),"videoElementCreated"===t&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&(this.ee.emitEvent("videoElementCreated",[new a.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!1),"streamPlaying"!==t&&"videoPlaying"!==t||this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&!1===this.videos[0].video.paused&&!1===this.videos[0].video.ended&&4===this.videos[0].video.readyState&&(this.ee.emitEvent("streamPlaying",[new s.StreamManagerEvent(this,"streamPlaying",void 0)]),this.ee.emitEvent("videoPlaying",[new a.VideoElementEvent(this.videos[0].video,this,"videoPlaying")])),"streamAudioVolumeChange"===t&&this.stream.hasAudio&&this.stream.enableVolumeChangeEvent(!1),this},t.prototype.once=function(t,n){return e.prototype.onceAux.call(this,t,"Event '"+t+"' triggered once by '"+(this.remote?"Subscriber":"Publisher")+"'",n),"videoElementCreated"===t&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&this.ee.emitEvent("videoElementCreated",[new a.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),"streamPlaying"!==t&&"videoPlaying"!==t||this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&!1===this.videos[0].video.paused&&!1===this.videos[0].video.ended&&4===this.videos[0].video.readyState&&(this.ee.emitEvent("streamPlaying",[new s.StreamManagerEvent(this,"streamPlaying",void 0)]),this.ee.emitEvent("videoPlaying",[new a.VideoElementEvent(this.videos[0].video,this,"videoPlaying")])),"streamAudioVolumeChange"===t&&this.stream.hasAudio&&this.stream.enableOnceVolumeChangeEvent(!1),this},t.prototype.off=function(t,n){return e.prototype.off.call(this,t,n),"streamAudioVolumeChange"===t&&0===this.ee.getListeners(t).length&&this.stream.disableVolumeChangeEvent(!1),this},t.prototype.addVideoElement=function(e){this.initializeVideoProperties(e),this.stream.isLocal()&&this.stream.displayMyRemote()&&e.srcObject!==this.stream.getMediaStream()&&(e.srcObject=this.stream.getMediaStream());for(var t=0,n=this.videos;t<n.length;t++)if(n[t].video===e)return 0;for(var i=1,o=0,r=this.stream.session.streamManagers;o<r.length;o++)if(r[o].disassociateVideo(e)){i=-1;break}return this.stream.session.streamManagers.forEach((function(t){t.disassociateVideo(e)})),this.pushNewStreamManagerVideo({video:e,id:e.id,canplayListenerAdded:!1}),u.info("New video element associated to ",this),i},t.prototype.createVideoElement=function(e,t){var n;if("string"==typeof e){if(!(n=document.getElementById(e)))throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+e)}else{if(!(e instanceof HTMLElement))throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+e);n=e}var i=this.createVideo();this.initializeVideoProperties(i);var o=t||c.VideoInsertMode.APPEND;switch(o){case c.VideoInsertMode.AFTER:n.parentNode.insertBefore(i,n.nextSibling);break;case c.VideoInsertMode.APPEND:n.appendChild(i);break;case c.VideoInsertMode.BEFORE:n.parentNode.insertBefore(i,n);break;case c.VideoInsertMode.PREPEND:n.insertBefore(i,n.childNodes[0]);break;case c.VideoInsertMode.REPLACE:n.parentNode.replaceChild(i,n);break;default:o=c.VideoInsertMode.APPEND,n.appendChild(i)}var r={targetElement:n,video:i,insertMode:o,id:i.id,canplayListenerAdded:!1};return this.pushNewStreamManagerVideo(r),this.ee.emitEvent("videoElementCreated",[new a.VideoElementEvent(r.video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!!this.firstVideoElement,i},t.prototype.updatePublisherSpeakingEventsOptions=function(e){var t=this.stream.harkOptions?this.stream.harkOptions:this.stream.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{},n="number"==typeof e.interval?e.interval:"number"==typeof t.interval?t.interval:100,i="number"==typeof e.threshold?e.threshold:"number"==typeof t.threshold?t.threshold:-50;this.stream.harkOptions={interval:n,threshold:i},this.stream.speechEvent&&(this.stream.speechEvent.setInterval(n),this.stream.speechEvent.setThreshold(i))},t.prototype.initializeVideoProperties=function(e){this.stream.isLocal()&&this.stream.displayMyRemote()||e.srcObject!==this.stream.getMediaStream()&&(e.srcObject=this.stream.getMediaStream()),e.autoplay=!0,e.controls=!1,"Safari"===l.name&&e.setAttribute("playsinline","true"),e.id||(e.id=(this.remote?"remote-":"local-")+"video-"+this.stream.streamId,!this.id&&this.targetElement&&(this.id=e.id)),this.remote||this.stream.displayMyRemote()||(e.muted=!0,"rotateY(180deg)"!==e.style.transform||this.stream.outboundStreamOpts.publisherProperties.mirror?this.stream.outboundStreamOpts.publisherProperties.mirror&&!this.stream.isSendScreen()&&this.mirrorVideo(e):this.removeMirrorVideo(e))},t.prototype.removeAllVideos=function(){for(var e=this,t=this.stream.session.streamManagers.length-1;t>=0;--t)this.stream.session.streamManagers[t]===this&&this.stream.session.streamManagers.splice(t,1);this.videos.forEach((function(t){t.video&&t.video.removeEventListener&&t.video.removeEventListener("canplay",e.canPlayListener),t.canplayListenerAdded=!1,t.targetElement&&(t.video.parentNode.removeChild(t.video),e.ee.emitEvent("videoElementDestroyed",[new a.VideoElementEvent(t.video,e,"videoElementDestroyed")])),e.removeSrcObject(t),e.videos.filter((function(e){return!e.targetElement}))}))},t.prototype.disassociateVideo=function(e){for(var t=!1,n=0;n<this.videos.length;n++)if(this.videos[n].video===e){this.videos[n].video.removeEventListener("canplay",this.canPlayListener),this.videos.splice(n,1),t=!0,u.info("Video element disassociated from ",this);break}return t},t.prototype.addPlayEventToFirstVideo=function(){this.videos[0]&&this.videos[0].video&&!this.videos[0].canplayListenerAdded&&(this.videos[0].video.addEventListener("canplay",this.canPlayListener),this.videos[0].canplayListenerAdded=!0)},t.prototype.updateMediaStream=function(e){this.videos.forEach((function(t){if(t.video.srcObject=e,l.isIonicIos){var n=t.video;t.video.parentElement.replaceChild(n,t.video),t.video=n}}))},t.prototype.emitEvent=function(e,t){this.ee.emitEvent(e,t)},t.prototype.createVideo=function(){return document.createElement("video")},t.prototype.removeSrcObject=function(e){e.video.srcObject=null},t.prototype.pushNewStreamManagerVideo=function(e){this.videos.push(e),this.addPlayEventToFirstVideo(),-1===this.stream.session.streamManagers.indexOf(this)&&this.stream.session.streamManagers.push(this)},t.prototype.mirrorVideo=function(e){l.isIonicIos||(e.style.transform="rotateY(180deg)",e.style.webkitTransform="rotateY(180deg)")},t.prototype.removeMirrorVideo=function(e){e.style.transform="unset",e.style.webkitTransform="unset"},t}(r.EventDispatcher);t.StreamManager=d},PEz1:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n("JTMn"),s=n("DPKQ"),a=n("P3vI"),c=n("Te8r"),l=n("BwMD"),u=n("oIG1"),d=n("Tt94"),h=n("bDgZ"),p=n("9m68").OpenViduLogger.getInstance(),f=function(e){function t(t,n,i){var o=e.call(this,new s.Stream(i.session?i.session:new r.Session(i),{publisherProperties:n,mediaConstraints:{}}),t)||this;return o.accessAllowed=!1,o.isSubscribedToRemote=!1,o.accessDenied=!1,o.properties=n,o.openvidu=i,o.stream.ee.on("local-stream-destroyed",(function(e){o.stream.isLocalStreamPublished=!1;var t=new c.StreamEvent(!0,o,"streamDestroyed",o.stream,e);o.emitEvent("streamDestroyed",[t]),t.callDefaultBehavior()})),o}return o(t,e),t.prototype.publishAudio=function(e){var t=this;this.stream.audioActive!==e&&((this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream()).getAudioTracks().forEach((function(t){t.enabled=e})),this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"audioActive",newValue:e,reason:"publishAudio"},(function(n,i){n?p.error("Error sending 'streamPropertyChanged' event",n):(t.session.emitEvent("streamPropertyChanged",[new l.StreamPropertyChangedEvent(t.session,t.stream,"audioActive",e,!e,"publishAudio")]),t.emitEvent("streamPropertyChanged",[new l.StreamPropertyChangedEvent(t,t.stream,"audioActive",e,!e,"publishAudio")]))})),this.stream.audioActive=e,p.info("'Publisher' has "+(e?"published":"unpublished")+" its audio stream"))},t.prototype.publishVideo=function(e){var t=this;this.stream.videoActive!==e&&((this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream()).getVideoTracks().forEach((function(t){t.enabled=e})),this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"videoActive",newValue:e,reason:"publishVideo"},(function(n,i){n?p.error("Error sending 'streamPropertyChanged' event",n):(t.session.emitEvent("streamPropertyChanged",[new l.StreamPropertyChangedEvent(t.session,t.stream,"videoActive",e,!e,"publishVideo")]),t.emitEvent("streamPropertyChanged",[new l.StreamPropertyChangedEvent(t,t.stream,"videoActive",e,!e,"publishVideo")]))})),this.stream.videoActive=e,p.info("'Publisher' has "+(e?"published":"unpublished")+" its video stream"))},t.prototype.subscribeToRemote=function(e){this.isSubscribedToRemote=e=void 0===e||e,this.stream.subscribeToMyRemote(e)},t.prototype.on=function(t,n){var i=this;return e.prototype.on.call(this,t,n),"streamCreated"===t&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new c.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.on("stream-created-by-publisher",(function(){i.emitEvent("streamCreated",[new c.StreamEvent(!1,i,"streamCreated",i.stream,"")])}))),"remoteVideoPlaying"===t&&this.stream.displayMyRemote()&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&!1===this.videos[0].video.paused&&!1===this.videos[0].video.ended&&4===this.videos[0].video.readyState&&this.emitEvent("remoteVideoPlaying",[new u.VideoElementEvent(this.videos[0].video,this,"remoteVideoPlaying")]),"accessAllowed"===t&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),"accessDenied"===t&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},t.prototype.once=function(t,n){var i=this;return e.prototype.once.call(this,t,n),"streamCreated"===t&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new c.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.once("stream-created-by-publisher",(function(){i.emitEvent("streamCreated",[new c.StreamEvent(!1,i,"streamCreated",i.stream,"")])}))),"remoteVideoPlaying"===t&&this.stream.displayMyRemote()&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&!1===this.videos[0].video.paused&&!1===this.videos[0].video.ended&&4===this.videos[0].video.readyState&&this.emitEvent("remoteVideoPlaying",[new u.VideoElementEvent(this.videos[0].video,this,"remoteVideoPlaying")]),"accessAllowed"===t&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),"accessDenied"===t&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},t.prototype.replaceTrack=function(e){var t=this,n=function(){var n,i=t.stream.displayMyRemote()?t.stream.localMediaStreamWhenSubscribedToRemote:t.stream.getMediaStream();n="video"===e.kind?i.getVideoTracks()[0]:i.getAudioTracks()[0],i.removeTrack(n),n.stop(),i.addTrack(e)};return new Promise((function(i,o){if(t.stream.isLocalStreamPublished){var r=t.stream.getRTCPeerConnection().getSenders(),s=void 0;"video"===e.kind?(s=r.find((function(e){return!!e.track&&"video"===e.track.kind})))||o(new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")):"audio"===e.kind?(s=r.find((function(e){return!!e.track&&"audio"===e.track.kind})))||o(new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")):o(new Error("Unknown track kind "+e.kind)),s.replaceTrack(e).then((function(){n(),i()})).catch((function(e){o(e)}))}else n(),i()}))},t.prototype.initialize=function(){var e=this;return new Promise((function(t,n){var i,o={},r={},s=function(t){e.accessDenied=!0,e.accessAllowed=!1,n(t)},a=function(n){if(e.accessAllowed=!0,e.accessDenied=!1,"undefined"!=typeof MediaStreamTrack&&e.properties.audioSource instanceof MediaStreamTrack&&(n.removeTrack(n.getAudioTracks()[0]),n.addTrack(e.properties.audioSource)),"undefined"!=typeof MediaStreamTrack&&e.properties.videoSource instanceof MediaStreamTrack&&(n.removeTrack(n.getVideoTracks()[0]),n.addTrack(e.properties.videoSource)),n.getAudioTracks()[0]){var i=null!=e.stream.audioActive?e.stream.audioActive:!!e.stream.outboundStreamOpts.publisherProperties.publishAudio;n.getAudioTracks()[0].enabled=i}if(n.getVideoTracks()[0]&&(i=null!=e.stream.videoActive?e.stream.videoActive:!!e.stream.outboundStreamOpts.publisherProperties.publishVideo,n.getVideoTracks()[0].enabled=i),e.initializeVideoReference(n),e.stream.displayMyRemote()||e.stream.updateMediaStreamInVideos(),delete e.firstVideoElement,e.stream.isSendVideo())if(e.stream.isSendScreen())e.videoReference.addEventListener("loadedmetadata",(function(){e.stream.videoDimensions={width:e.videoReference.videoWidth,height:e.videoReference.videoHeight},e.screenShareResizeInterval=setInterval((function(){var t=n.getVideoTracks()[0].getSettings(),i="Chrome"===h.name||"Opera"===h.name?e.videoReference.videoWidth:t.width,o="Chrome"===h.name||"Opera"===h.name?e.videoReference.videoHeight:t.height;if(e.stream.isLocalStreamPublished&&(i!==e.stream.videoDimensions.width||o!==e.stream.videoDimensions.height)){var r={width:e.stream.videoDimensions.width,height:e.stream.videoDimensions.height};e.stream.videoDimensions={width:i||0,height:o||0},e.session.openvidu.sendRequest("streamPropertyChanged",{streamId:e.stream.streamId,property:"videoDimensions",newValue:JSON.stringify(e.stream.videoDimensions),reason:"screenResized"},(function(t,n){t?p.error("Error sending 'streamPropertyChanged' event",t):(e.session.emitEvent("streamPropertyChanged",[new l.StreamPropertyChangedEvent(e.session,e.stream,"videoDimensions",e.stream.videoDimensions,r,"screenResized")]),e.emitEvent("streamPropertyChanged",[new l.StreamPropertyChangedEvent(e,e.stream,"videoDimensions",e.stream.videoDimensions,r,"screenResized")]))}))}}),500),e.stream.isLocalStreamReadyToPublish=!0,e.stream.ee.emitEvent("stream-ready-to-publish",[])}));else if(h.isIonicIos||"Safari"===h.name){e.videoReference.style.display="none",document.body.appendChild(e.videoReference);var o,r=function(){e.stream.videoDimensions={width:e.videoReference.videoWidth,height:e.videoReference.videoHeight},e.stream.isLocalStreamReadyToPublish=!0,e.stream.ee.emitEvent("stream-ready-to-publish",[]),document.body.removeChild(e.videoReference)};e.videoReference.addEventListener("loadedmetadata",(function(){0===e.videoReference.videoWidth?o=setInterval((function(){0!==e.videoReference.videoWidth&&(clearInterval(o),r())}),40):r()}))}else{var s=e.getVideoDimensions(n),a=s.width,c=s.height;e.stream.videoDimensions=("iOS"===h.os.family||"Android"===h.os.family)&&window.innerHeight>window.innerWidth?{width:c||0,height:a||0}:{width:a||0,height:c||0},e.stream.isLocalStreamReadyToPublish=!0,e.stream.ee.emitEvent("stream-ready-to-publish",[])}else e.stream.isLocalStreamReadyToPublish=!0,e.stream.ee.emitEvent("stream-ready-to-publish",[]);t()},c=function(t,n){e.clearPermissionDialogTimer(i,1250),e.stream.isSendScreen()&&e.stream.isSendAudio()?(r.audio=n,r.video=!1,i=Date.now(),e.setPermissionDialogTimer(1250),navigator.mediaDevices.getUserMedia(r).then((function(n){e.clearPermissionDialogTimer(i,1250),t.addTrack(n.getAudioTracks()[0]),a(t)})).catch((function(n){e.clearPermissionDialogTimer(i,1250),t.getAudioTracks().forEach((function(e){e.stop()})),t.getVideoTracks().forEach((function(e){e.stop()})),s(e.openvidu.generateAudioDeviceError(n,o))}))):a(t)},u=function(t){var n,r;switch(p.error(t),e.clearPermissionDialogTimer(i,1250),"Error"===t.name&&(t.name=t.constructor.name),t.name.toLowerCase()){case"notfounderror":navigator.mediaDevices.getUserMedia({audio:!1,video:o.video}).then((function(e){e.getVideoTracks().forEach((function(e){e.stop()})),n=d.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,r=t.toString(),s(new d.OpenViduError(n,r))})).catch((function(e){n=d.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,r=t.toString(),s(new d.OpenViduError(n,r))}));break;case"notallowederror":n=e.stream.isSendScreen()?d.OpenViduErrorName.SCREEN_CAPTURE_DENIED:d.OpenViduErrorName.DEVICE_ACCESS_DENIED,r=t.toString(),s(new d.OpenViduError(n,r));break;case"overconstrainederror":navigator.mediaDevices.getUserMedia({audio:!1,video:o.video}).then((function(e){e.getVideoTracks().forEach((function(e){e.stop()})),"deviceid"===t.constraint.toLowerCase()?(n=d.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,r="Audio input device with deviceId '"+o.audio.deviceId.exact+"' not found"):(n=d.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,r="Audio input device doesn't support the value passed for constraint '"+t.constraint+"'"),s(new d.OpenViduError(n,r))})).catch((function(e){"deviceid"===t.constraint.toLowerCase()?(n=d.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,r="Video input device with deviceId '"+o.video.deviceId.exact+"' not found"):(n=d.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,r="Video input device doesn't support the value passed for constraint '"+t.constraint+"'"),s(new d.OpenViduError(n,r))}));break;case"aborterror":case"notreadableerror":n=d.OpenViduErrorName.DEVICE_ALREADY_IN_USE,r=t.toString(),s(new d.OpenViduError(n,r));break;default:n=d.OpenViduErrorName.GENERIC_ERROR,r=t.toString(),s(new d.OpenViduError(n,r))}};e.openvidu.generateMediaConstraints(e.properties).then((function(t){var n,s;if(t.videoTrack&&t.audioTrack||t.audioTrack&&!1===(null===(n=t.constraints)||void 0===n?void 0:n.video)||t.videoTrack&&!1===(null===(s=t.constraints)||void 0===s?void 0:s.audio))a(e.openvidu.addAlreadyProvidedTracks(t,new MediaStream));else{e.stream.setOutboundStreamOptions({mediaConstraints:o=t.constraints,publisherProperties:e.properties});var l=void 0===o.audio||o.audio;r.audio=!e.stream.isSendScreen()&&l,r.video=o.video,i=Date.now(),e.setPermissionDialogTimer(1250),e.stream.isSendScreen()&&navigator.mediaDevices.getDisplayMedia&&"Electron"!==h.name?navigator.mediaDevices.getDisplayMedia({video:!0}).then((function(n){e.openvidu.addAlreadyProvidedTracks(t,n),c(n,l)})).catch((function(e){u(e)})):navigator.mediaDevices.getUserMedia(r).then((function(n){e.openvidu.addAlreadyProvidedTracks(t,n),c(n,l)})).catch((function(e){u(e)}))}})).catch((function(e){s(e)}))}))},t.prototype.getVideoDimensions=function(e){return e.getVideoTracks()[0].getSettings()},t.prototype.reestablishStreamPlayingEvent=function(){this.ee.getListeners("streamPlaying").length>0&&this.addPlayEventToFirstVideo()},t.prototype.initializeVideoReference=function(e){this.videoReference=document.createElement("video"),"Safari"===h.name&&this.videoReference.setAttribute("playsinline","true"),this.stream.setMediaStream(e),this.firstVideoElement&&this.createVideoElement(this.firstVideoElement.targetElement,this.properties.insertMode),this.videoReference.srcObject=e},t.prototype.setPermissionDialogTimer=function(e){var t=this;this.permissionDialogTimeout=setTimeout((function(){t.emitEvent("accessDialogOpened",[])}),e)},t.prototype.clearPermissionDialogTimer=function(e,t){clearTimeout(this.permissionDialogTimeout),Date.now()-e>t&&this.emitEvent("accessDialogClosed",[])},t}(a.StreamManager);t.Publisher=f},PPcv:function(e,t,n){"use strict";t.__esModule=!0;var i=n("tInm"),o=n("PEz1"),r=n("JTMn"),s=n("BwMD"),a=n("Tt94"),c=n("/dLB"),l=n("9m68"),u=n("+27z"),d=n("EcWD"),h=n("6+/i"),p=n("AeG9"),f=n("bDgZ");f.isIonicIos=("iPhone"===f.product||"iPad"===f.product)&&-1===f.ua.indexOf("Safari"),f.isIonicAndroid="Android"===f.os.family&&"Android Browser"==f.name;var g=n("vqFl"),m=l.OpenViduLogger.getInstance(),v=function(){function e(){var e=this;this.publishers=[],this.secret="",this.recorder=!1,this.advancedConfiguration={},this.webrtcStatsInterval=0,this.ee=new h,this.libraryVersion=g.version,m.info("'OpenVidu' initialized"),m.info("openvidu-browser version: "+this.libraryVersion),"iOS"!==f.os.family&&"Android"!==f.os.family||window.addEventListener("orientationchange",(function(){e.publishers.forEach((function(t){if(t.stream.isLocalStreamPublished&&t.stream&&t.stream.hasVideo&&t.stream.streamManager.videos[0])var n=0,i=t.stream.videoDimensions.width,o=t.stream.videoDimensions.height,r=setInterval((function(){new Promise((function(e,n){if(f.isIonicIos)e({newWidth:t.stream.streamManager.videos[0].video.videoWidth,newHeight:t.stream.streamManager.videos[0].video.videoHeight});else{var i=t.stream.getMediaStream().getVideoTracks()[0].getSettings();e({newWidth:-1!==f.name.toLowerCase().indexOf("firefox")?i.width:t.videoReference.videoWidth,newHeight:-1!==f.name.toLowerCase().indexOf("firefox")?i.height:t.videoReference.videoHeight})}})).then((function(e){a(i,o,e.newWidth,e.newHeight)}))}),75),a=function(i,o,a,c){++n>10&&clearTimeout(r),a===i&&c===o||(t.stream.videoDimensions={width:a||0,height:c||0},e.sendRequest("streamPropertyChanged",{streamId:t.stream.streamId,property:"videoDimensions",newValue:JSON.stringify(t.stream.videoDimensions),reason:"deviceRotated"},(function(n,r){n?m.error("Error sending 'streamPropertyChanged' event",n):(e.session.emitEvent("streamPropertyChanged",[new s.StreamPropertyChangedEvent(e.session,t.stream,"videoDimensions",t.stream.videoDimensions,{width:i,height:o},"deviceRotated")]),t.emitEvent("streamPropertyChanged",[new s.StreamPropertyChangedEvent(t,t.stream,"videoDimensions",t.stream.videoDimensions,{width:i,height:o},"deviceRotated")]))})),clearTimeout(r))}}))}))}return e.prototype.initSession=function(){return this.session=new r.Session(this),this.session},e.prototype.initPublisher=function(e,t,n){var i;i=t&&"function"!=typeof t?{audioSource:void 0!==(i=t).audioSource?i.audioSource:void 0,frameRate:"undefined"!=typeof MediaStreamTrack&&i.videoSource instanceof MediaStreamTrack?void 0:void 0!==i.frameRate?i.frameRate:void 0,insertMode:void 0!==i.insertMode?"string"==typeof i.insertMode?c.VideoInsertMode[i.insertMode]:i.insertMode:c.VideoInsertMode.APPEND,mirror:void 0===i.mirror||i.mirror,publishAudio:void 0===i.publishAudio||i.publishAudio,publishVideo:void 0===i.publishVideo||i.publishVideo,resolution:"undefined"!=typeof MediaStreamTrack&&i.videoSource instanceof MediaStreamTrack?void 0:void 0!==i.resolution?i.resolution:"640x480",videoSource:void 0!==i.videoSource?i.videoSource:void 0,filter:i.filter}:{insertMode:c.VideoInsertMode.APPEND,mirror:!0,publishAudio:!0,publishVideo:!0,resolution:"640x480"};var r,s=new o.Publisher(e,i,this);return t&&"function"==typeof t?r=t:n&&(r=n),s.initialize().then((function(){void 0!==r&&r(void 0),s.emitEvent("accessAllowed",[])})).catch((function(e){void 0!==r&&r(e),s.emitEvent("accessDenied",[e])})),this.publishers.push(s),s},e.prototype.initPublisherAsync=function(e,t){var n=this;return new Promise((function(i,o){var r,s=function(e){e?o(e):i(r)};r=t?n.initPublisher(e,t,s):n.initPublisher(e,s)}))},e.prototype.initLocalRecorder=function(e){return new i.LocalRecorder(e)},e.prototype.checkSystemRequirements=function(){var e=f.name,t=f.ua?f.ua:navigator.userAgent;return this.isIPhoneOrIPad(t)?this.isIOSWithSafari(t)?1:0:"Safari"===e||"Chrome"===e||"Chrome Mobile"===e||"Firefox"===e||"Firefox Mobile"===e||"Opera"===e||"Opera Mobile"===e||"Android Browser"===e||"Electron"===e||"Samsung Internet Mobile"===e||"Samsung Internet"===e?1:0},e.prototype.checkScreenSharingCapabilities=function(){var e=f.name,t=(null==f?void 0:f.version)?parseFloat(f.version):-1,n=f.os.family;return"iOS"===n||"Android"===n||"Chrome"!==e&&"Firefox"!==e&&"Opera"!==e&&"Electron"!==e&&"Safari"===e&&t<13?0:1},e.prototype.getDevices=function(){return new Promise((function(e,t){navigator.mediaDevices.enumerateDevices().then((function(t){var n,i=[];f.isIonicAndroid&&"undefined"!=typeof cordova&&(null===(n=null===cordova||void 0===cordova?void 0:cordova.plugins)||void 0===n?void 0:n.EnumerateDevicesPlugin)?cordova.plugins.EnumerateDevicesPlugin.getEnumerateDevices().then((function(n){var o=[],r=[],s=[];o=n.filter((function(e){return"audioinput"===e.kind})),r=t.filter((function(e){return"videoinput"===e.kind})),s=t.filter((function(e){return"audioinput"===e.kind})),r.forEach((function(e,t){i.push(e.label?{kind:e.kind,deviceId:e.deviceId,label:e.label}:{kind:e.kind,deviceId:e.deviceId,label:0===t?"Front Camera":1===t?"Back Camera":"Unknown Camera"})})),s.forEach((function(e,t){if(e.label)i.push({kind:e.kind,deviceId:e.deviceId,label:e.label});else{var n="";switch(t){case 0:n="Default";break;case 1:var r=o.filter((function(e){return e.label.includes("Built")}))[0];n=r?r.label:"Built-in Microphone";break;case 2:var s=o.filter((function(e){return e.label.includes("Wired")}))[0];n=s?s.label:"Headset earpiece";break;case 3:var a=o.filter((function(e){return e.label.includes("Bluetooth")}))[0];n=a?a.label:"Wireless";break;default:n="Unknown Microphone"}i.push({kind:e.kind,deviceId:e.deviceId,label:n})}})),e(i)})):(t.forEach((function(e){"audioinput"!==e.kind&&"videoinput"!==e.kind||i.push({kind:e.kind,deviceId:e.deviceId,label:e.label})})),e(i))})).catch((function(e){m.error("Error getting devices",e),t(e)}))}))},e.prototype.getUserMedia=function(e){var t=this;return new Promise((function(n,i){var o=function(e,o){var r={audio:void 0===o.audio||o.audio,video:!1};navigator.mediaDevices.getUserMedia(r).then((function(t){e.addTrack(t.getAudioTracks()[0]),n(e)})).catch((function(n){e.getAudioTracks().forEach((function(e){e.stop()})),e.getVideoTracks().forEach((function(e){e.stop()})),i(t.generateAudioDeviceError(n,r))}))};t.generateMediaConstraints(e).then((function(r){var s,c;if(r.videoTrack&&r.audioTrack||r.audioTrack&&!1===(null===(s=r.constraints)||void 0===s?void 0:s.video)||r.videoTrack&&!1===(null===(c=r.constraints)||void 0===c?void 0:c.audio))n(t.addAlreadyProvidedTracks(r,new MediaStream));else{r.videoTrack&&delete r.constraints.video,r.audioTrack&&delete r.constraints.audio;var l=!1;if("string"==typeof e.videoSource&&("screen"===e.videoSource||"window"===e.videoSource||"Electron"===f.name&&e.videoSource.startsWith("screen:"))&&(l=!r.audioTrack&&null!==e.audioSource&&!1!==e.audioSource,navigator.mediaDevices.getDisplayMedia&&"Electron"!==f.name))return void navigator.mediaDevices.getDisplayMedia({video:!0}).then((function(e){t.addAlreadyProvidedTracks(r,e),l?o(e,r.constraints):n(e)})).catch((function(e){var t=a.OpenViduErrorName.SCREEN_CAPTURE_DENIED,n=e.toString();i(new a.OpenViduError(t,n))}));navigator.mediaDevices.getUserMedia(l?{video:r.constraints.video}:r.constraints).then((function(e){t.addAlreadyProvidedTracks(r,e),l?o(e,r.constraints):n(e)})).catch((function(t){var n=t.toString();i(new a.OpenViduError("screen"!==e.videoSource?a.OpenViduErrorName.DEVICE_ACCESS_DENIED:a.OpenViduErrorName.SCREEN_CAPTURE_DENIED,n))}))}})).catch((function(e){i(e)}))}))},e.prototype.enableProdMode=function(){m.enableProdMode()},e.prototype.setAdvancedConfiguration=function(e){this.advancedConfiguration=e},e.prototype.generateMediaConstraints=function(e){var t=this;return new Promise((function(n,i){var o={audioTrack:void 0,videoTrack:void 0,constraints:{audio:void 0,video:void 0}},r=e.audioSource,s=e.videoSource;if(null!==r&&!1!==r||(o.constraints.audio=!1),null!==s&&!1!==s||(o.constraints.video=!1),!1===o.constraints.audio&&!1===o.constraints.video&&i(new a.OpenViduError(a.OpenViduErrorName.NO_INPUT_SOURCE_SET,"Properties 'audioSource' and 'videoSource' cannot be set to false or null at the same time")),"undefined"!=typeof MediaStreamTrack&&r instanceof MediaStreamTrack&&(o.audioTrack=r),"undefined"!=typeof MediaStreamTrack&&s instanceof MediaStreamTrack&&(o.videoTrack=s),void 0===r&&(o.constraints.audio=!0),void 0===s&&(o.constraints.video={width:{ideal:640},height:{ideal:480}}),null!==s&&!1!==s){if(e.resolution){var c=e.resolution.toLowerCase().split("x"),l=Number(c[0]),u=Number(c[1]);o.constraints.video={width:{ideal:l},height:{ideal:u}}}e.frameRate&&(o.constraints.video.frameRate={ideal:e.frameRate})}t.configureDeviceIdOrScreensharing(o,e,n,i),n(o)}))},e.prototype.startWs=function(e){var t={heartbeat:5e3,sendCloseMessage:!1,ws:{uri:this.wsUri,onconnected:e,ondisconnect:this.disconnectCallback.bind(this),onreconnecting:this.reconnectingCallback.bind(this),onreconnected:this.reconnectedCallback.bind(this)},rpc:{requestTimeout:1e4,participantJoined:this.session.onParticipantJoined.bind(this.session),participantPublished:this.session.onParticipantPublished.bind(this.session),participantUnpublished:this.session.onParticipantUnpublished.bind(this.session),participantLeft:this.session.onParticipantLeft.bind(this.session),participantEvicted:this.session.onParticipantEvicted.bind(this.session),recordingStarted:this.session.onRecordingStarted.bind(this.session),recordingStopped:this.session.onRecordingStopped.bind(this.session),sendMessage:this.session.onNewMessage.bind(this.session),streamPropertyChanged:this.session.onStreamPropertyChanged.bind(this.session),filterEventDispatched:this.session.onFilterEventDispatched.bind(this.session),iceCandidate:this.session.recvIceCandidate.bind(this.session),mediaError:this.session.onMediaError.bind(this.session)}};this.jsonRpcClient=new p.clients.JsonRpcClient(t)},e.prototype.closeWs=function(){this.jsonRpcClient.close(4102,"Connection closed by client")},e.prototype.sendRequest=function(e,t,n){t&&t instanceof Function&&(n=t,t={}),m.debug('Sending request: {method:"'+e+'", params: '+JSON.stringify(t)+"}"),this.jsonRpcClient.send(e,t,n)},e.prototype.getWsUri=function(){return this.wsUri},e.prototype.getSecret=function(){return this.secret},e.prototype.getRecorder=function(){return this.recorder},e.prototype.generateAudioDeviceError=function(e,t){var n,i;switch("Error"===e.name&&(e.name=e.constructor.name),e.name.toLowerCase()){case"notfounderror":return n=a.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i=e.toString(),new a.OpenViduError(n,i);case"notallowederror":return n=a.OpenViduErrorName.DEVICE_ACCESS_DENIED,i=e.toString(),new a.OpenViduError(n,i);case"overconstrainederror":return"deviceid"===e.constraint.toLowerCase()?(n=a.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i="Audio input device with deviceId '"+t.audio.deviceId.exact+"' not found"):(n=a.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,i="Audio input device doesn't support the value passed for constraint '"+e.constraint+"'"),new a.OpenViduError(n,i);case"notreadableerror":return n=a.OpenViduErrorName.DEVICE_ALREADY_IN_USE,i=e.toString(),new a.OpenViduError(n,i);default:return new a.OpenViduError(a.OpenViduErrorName.INPUT_AUDIO_DEVICE_GENERIC_ERROR,e.toString())}},e.prototype.addAlreadyProvidedTracks=function(e,t){return e.videoTrack&&t.addTrack(e.videoTrack),e.audioTrack&&t.addTrack(e.audioTrack),t},e.prototype.configureDeviceIdOrScreensharing=function(e,t,n,i){var o=this,r=t.audioSource,s=t.videoSource;if("string"==typeof r&&(e.constraints.audio={deviceId:{exact:r}}),"string"==typeof s)if(this.isScreenShare(s))if(this.checkScreenSharingCapabilities())if("Electron"===f.name){var c=s.substr(s.indexOf("screen:")+"screen:".length);e.constraints.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:c}},n(e)}else{if(this.advancedConfiguration.screenShareChromeExtension&&-1===f.name.indexOf("Firefox")&&!navigator.mediaDevices.getDisplayMedia)return void d.getScreenConstraints((function(t,r){if(t||r.mandatory&&"screen"===r.mandatory.chromeMediaSource){if("permission-denied"!==t&&"PermissionDeniedError"!==t){var s=o.advancedConfiguration.screenShareChromeExtension.split("/").pop().trim();return void d.getChromeExtensionStatus(s,(function(e){if("installed-disabled"===e){var t=new a.OpenViduError(a.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");m.error(t),i(t)}if("not-installed"===e){var n=new a.OpenViduError(a.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,o.advancedConfiguration.screenShareChromeExtension);m.error(n),i(n)}}))}var c=new a.OpenViduError(a.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");m.error(c),i(c)}else e.constraints.video=r,n(e)}));if(!navigator.mediaDevices.getDisplayMedia){var l=-1!==f.name.indexOf("Firefox")?t.videoSource:void 0;return void u.getScreenId(l,(function(t,r,s){if(t)if("not-installed"===t){var c=new a.OpenViduError(a.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,o.advancedConfiguration.screenShareChromeExtension?o.advancedConfiguration.screenShareChromeExtension:"https://chrome.google.com/webstore/detail/openvidu-screensharing/lfcgfepafnobdloecchnfaclibenjold");m.error(c),i(c)}else"installed-disabled"===t?(c=new a.OpenViduError(a.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension"),m.error(c),i(c)):"permission-denied"===t?(c=new a.OpenViduError(a.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop"),m.error(c),i(c)):(c=new a.OpenViduError(a.OpenViduErrorName.GENERIC_ERROR,"Unknown error when accessing screen share"),m.error(c),m.error(t),i(c));else e.constraints.video=s.video,n(e)}))}n(e)}else{var h=new a.OpenViduError(a.OpenViduErrorName.SCREEN_SHARING_NOT_SUPPORTED,"You can only screen share in desktop Chrome, Firefox, Opera, Safari (>=13.0) or Electron. Detected client: "+f.name);m.error(h),i(h)}else this.setVideoSource(e,s)},e.prototype.setVideoSource=function(e,t){e.constraints.video||(e.constraints.video={}),e.constraints.video.deviceId={exact:t}},e.prototype.disconnectCallback=function(){m.warn("Websocket connection lost"),this.isRoomAvailable()?this.session.onLostConnection("networkDisconnect"):alert("Connection error. Please reload page.")},e.prototype.reconnectingCallback=function(){m.warn("Websocket connection lost (reconnecting)"),this.isRoomAvailable()?this.session.emitEvent("reconnecting",[]):alert("Connection error. Please reload page.")},e.prototype.reconnectedCallback=function(){var e=this;m.warn("Websocket reconnected"),this.isRoomAvailable()?this.sendRequest("connect",{sessionId:this.session.connection.rpcSessionId},(function(t,n){t?(m.error(t),m.warn("Websocket was able to reconnect to OpenVidu Server, but your Connection was already destroyed due to timeout. You are no longer a participant of the Session and your media streams have been destroyed"),e.session.onLostConnection("networkDisconnect"),e.jsonRpcClient.close(4101,"Reconnection fault")):(e.jsonRpcClient.resetPing(),e.session.onRecoveredConnection())})):alert("Connection error. Please reload page.")},e.prototype.isRoomAvailable=function(){return void 0!==this.session&&this.session instanceof r.Session||(m.warn("Session instance not found"),!1)},e.prototype.isScreenShare=function(e){return"screen"===e||"window"===e||"Electron"===f.name&&e.startsWith("screen:")},e.prototype.isIPhoneOrIPad=function(e){var t="ontouchend"in document,n=/\b(\w*Macintosh\w*)\b/.test(e)&&t,i=/\b(\w*iPhone\w*)\b/.test(e)&&/\b(\w*Mobile\w*)\b/.test(e)&&t;return n||i},e.prototype.isIOSWithSafari=function(e){return/\b(\w*Apple\w*)\b/.test(navigator.vendor)&&/\b(\w*Safari\w*)\b/.test(e)&&!/\b(\w*CriOS\w*)\b/.test(e)&&!/\b(\w*FxiOS\w*)\b/.test(e)},e}();t.OpenVidu=v},PZzU:function(e,t,n){"use strict";t.__esModule=!0;var i=n("PPcv");t.OpenVidu=i.OpenVidu;var o=n("JTMn");t.Session=o.Session;var r=n("PEz1");t.Publisher=r.Publisher;var s=n("bk74");t.Subscriber=s.Subscriber;var a=n("P3vI");t.StreamManager=a.StreamManager;var c=n("DPKQ");t.Stream=c.Stream;var l=n("ryRr");t.Connection=l.Connection;var u=n("tInm");t.LocalRecorder=u.LocalRecorder;var d=n("74bm");t.Filter=d.Filter;var h=n("Yn0Z");t.LocalRecorderState=h.LocalRecorderState;var p=n("Tt94");t.OpenViduError=p.OpenViduError;var f=n("/dLB");t.VideoInsertMode=f.VideoInsertMode;var g=n("hzOQ");t.Event=g.Event;var m=n("8KVD");t.ConnectionEvent=m.ConnectionEvent;var v=n("e8ps");t.PublisherSpeakingEvent=v.PublisherSpeakingEvent;var b=n("rUL0");t.RecordingEvent=b.RecordingEvent;var y=n("ksJj");t.SessionDisconnectedEvent=y.SessionDisconnectedEvent;var _=n("suHS");t.SignalEvent=_.SignalEvent;var S=n("Te8r");t.StreamEvent=S.StreamEvent;var C=n("HxXY");t.StreamManagerEvent=C.StreamManagerEvent;var O=n("oIG1");t.VideoElementEvent=O.VideoElementEvent;var w=n("BwMD");t.StreamPropertyChangedEvent=w.StreamPropertyChangedEvent;var x=n("+ig+");t.FilterEvent=x.FilterEvent;var E=n("Dztv");t.EventDispatcher=E.EventDispatcher},QSjB:function(e,t,n){"use strict";t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var i=n("FlKs"),o=n("vqGb"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=n("dlaP"),a=function(e){return new i.TokenState(e)},c=a(),l=a(),u=a(),d=a(),h=a(),p=a(),f=a(),g=a(o.URL),m=a(),v=a(o.URL),b=a(o.URL),y=a(),_=a(),S=a(),C=a(),O=a(),w=a(o.URL),x=a(o.URL),E=a(o.URL),M=a(o.URL),R=a(),k=a(),P=a(),T=a(),I=a(),A=a(),D=a(o.EMAIL),L=a(),j=a(o.EMAIL),N=a(o.MAILTOEMAIL),U=a(),V=a(),z=a(),F=a(),B=a(o.NL);c.on(s.NL,B).on(s.PROTOCOL,l).on(s.MAILTO,u).on(s.SLASH,d),l.on(s.SLASH,d),d.on(s.SLASH,h),c.on(s.TLD,p).on(s.DOMAIN,p).on(s.LOCALHOST,g).on(s.NUM,p),h.on(s.TLD,b).on(s.DOMAIN,b).on(s.NUM,b).on(s.LOCALHOST,b),p.on(s.DOT,f),I.on(s.DOT,A),f.on(s.TLD,g).on(s.DOMAIN,p).on(s.NUM,p).on(s.LOCALHOST,p),A.on(s.TLD,D).on(s.DOMAIN,I).on(s.NUM,I).on(s.LOCALHOST,I),g.on(s.DOT,f),D.on(s.DOT,A),g.on(s.COLON,m).on(s.SLASH,b),m.on(s.NUM,v),v.on(s.SLASH,b),D.on(s.COLON,L),L.on(s.NUM,j);var W=[s.DOMAIN,s.AT,s.LOCALHOST,s.NUM,s.PLUS,s.POUND,s.PROTOCOL,s.SLASH,s.TLD,s.UNDERSCORE,s.SYM,s.AMPERSAND],q=[s.COLON,s.DOT,s.QUERY,s.PUNCTUATION,s.CLOSEBRACE,s.CLOSEBRACKET,s.CLOSEANGLEBRACKET,s.CLOSEPAREN,s.OPENBRACE,s.OPENBRACKET,s.OPENANGLEBRACKET,s.OPENPAREN];b.on(s.OPENBRACE,_).on(s.OPENBRACKET,S).on(s.OPENANGLEBRACKET,C).on(s.OPENPAREN,O),y.on(s.OPENBRACE,_).on(s.OPENBRACKET,S).on(s.OPENANGLEBRACKET,C).on(s.OPENPAREN,O),_.on(s.CLOSEBRACE,b),S.on(s.CLOSEBRACKET,b),C.on(s.CLOSEANGLEBRACKET,b),O.on(s.CLOSEPAREN,b),w.on(s.CLOSEBRACE,b),x.on(s.CLOSEBRACKET,b),E.on(s.CLOSEANGLEBRACKET,b),M.on(s.CLOSEPAREN,b),R.on(s.CLOSEBRACE,b),k.on(s.CLOSEBRACKET,b),P.on(s.CLOSEANGLEBRACKET,b),T.on(s.CLOSEPAREN,b),_.on(W,w),S.on(W,x),C.on(W,E),O.on(W,M),_.on(q,R),S.on(q,k),C.on(q,P),O.on(q,T),w.on(W,w),x.on(W,x),E.on(W,E),M.on(W,M),w.on(q,w),x.on(q,x),E.on(q,E),M.on(q,M),R.on(W,w),k.on(W,x),P.on(W,E),T.on(W,M),R.on(q,R),k.on(q,k),P.on(q,P),T.on(q,T),b.on(W,b),y.on(W,b),b.on(q,y),y.on(q,y),u.on(s.TLD,N).on(s.DOMAIN,N).on(s.NUM,N).on(s.LOCALHOST,N),N.on(W,N).on(q,U),U.on(W,N).on(q,U);var G=[s.DOMAIN,s.NUM,s.PLUS,s.POUND,s.QUERY,s.UNDERSCORE,s.SYM,s.AMPERSAND,s.TLD];p.on(G,V).on(s.AT,z),g.on(G,V).on(s.AT,z),f.on(G,V),V.on(G,V).on(s.AT,z).on(s.DOT,F),F.on(G,V),z.on(s.TLD,I).on(s.DOMAIN,I).on(s.LOCALHOST,D),t.State=i.TokenState,t.TOKENS=r,t.run=function(e){for(var t=e.length,n=0,i=[],r=[];n<t;){for(var s=c,a=null,l=null,u=0,d=null,h=-1;n<t&&!(a=s.next(e[n]));)r.push(e[n++]);for(;n<t&&(l=a||s.next(e[n]));)a=null,(s=l).accepts()?(h=0,d=s):h>=0&&h++,n++,u++;if(h<0)for(var p=n-u;p<n;p++)r.push(e[p]);else{r.length>0&&(i.push(new o.TEXT(r)),r=[]),n-=h,u-=h;var f=d.emit();i.push(new f(e.slice(n-u,n)))}}return r.length>0&&i.push(new o.TEXT(r)),i},t.start=c},RvMX:function(e,t,n){"use strict";t.__esModule=!0,t.createTokenClass=function(){return function(e){e&&(this.v=e)}}},SYuc:function(e,t,n){var i=n("EDod");t.JsonRpcClient=i},TDwH:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.scanner.TOKENS,n=e.parser.start;function i(e){this.v=e}e.inherits(e.parser.TOKENS.Base,i,{type:"hashtag",isLink:!0});var o=n.jump(t.POUND),r=new e.parser.State(i);o.on(t.DOMAIN,r),o.on(t.TLD,r),o.on(t.LOCALHOST,r)}},TIDz:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var i=n("ofXK"),o=n("fXoL"),r=n("dP7y"),s=n("joaK"),a=n.n(s),c=n("bGVd"),l=n.n(c);n("mgp7");let u=(()=>{class e{constructor(){}linkify(e,t){return e.linkify(t)}find(e){return Object(r.find)(e)}test(e){return"string"==typeof e?Object(r.test)(e):Object(r.test)(...e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Nb({token:e,factory:e.\u0275fac}),e})();const d=new o.r("NgxLinkifyjsConfig"),h={enableHash:!0,enableMention:!0};let p=(()=>{class e{constructor(e){this.config=e,e.enableHash&&a()(r),e.enableMention&&l()(r)}static forRoot(t=h){return{ngModule:e,providers:[u,{provide:d,useValue:t}]}}}return e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({factory:function(t){return new(t||e)(o.fc(d))},imports:[[i.c]]}),e})()},Te8r:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n("hzOQ"),s=n("PEz1"),a=n("JTMn"),c=n("9m68").OpenViduLogger.getInstance(),l=function(e){function t(t,n,i,o,r){var s=e.call(this,t,n,i)||this;return s.stream=o,s.reason=r,s}return o(t,e),t.prototype.callDefaultBehavior=function(){if("streamDestroyed"===this.type){if(this.target instanceof a.Session)c.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'"),this.stream.disposeWebRtcPeer();else if(this.target instanceof s.Publisher){c.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Publisher'"),clearInterval(this.target.screenShareResizeInterval),this.stream.isLocalStreamReadyToPublish=!1;for(var e=this.target.openvidu.publishers,t=0;t<e.length;t++)if(e[t]===this.target){e.splice(t,1);break}}this.stream.disposeMediaStream(),this.stream.streamManager&&this.stream.streamManager.removeAllVideos(),delete this.stream.session.remoteStreamsCreated[this.stream.streamId];var n=this.stream.session.remoteConnections[this.stream.connection.connectionId];if(n&&n.options){var i=n.options.streams;for(t=i.length-1;t>=0;--t)i[t].id===this.stream.streamId&&i.splice(t,1)}}},t}(r.Event);t.StreamEvent=l},Tt94:function(e,t,n){"use strict";var i;t.__esModule=!0,(i=t.OpenViduErrorName||(t.OpenViduErrorName={})).BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED",i.DEVICE_ACCESS_DENIED="DEVICE_ACCESS_DENIED",i.DEVICE_ALREADY_IN_USE="DEVICE_ALREADY_IN_USE",i.SCREEN_CAPTURE_DENIED="SCREEN_CAPTURE_DENIED",i.SCREEN_SHARING_NOT_SUPPORTED="SCREEN_SHARING_NOT_SUPPORTED",i.SCREEN_EXTENSION_NOT_INSTALLED="SCREEN_EXTENSION_NOT_INSTALLED",i.SCREEN_EXTENSION_DISABLED="SCREEN_EXTENSION_DISABLED",i.INPUT_VIDEO_DEVICE_NOT_FOUND="INPUT_VIDEO_DEVICE_NOT_FOUND",i.INPUT_AUDIO_DEVICE_NOT_FOUND="INPUT_AUDIO_DEVICE_NOT_FOUND",i.INPUT_AUDIO_DEVICE_GENERIC_ERROR="INPUT_AUDIO_DEVICE_GENERIC_ERROR",i.NO_INPUT_SOURCE_SET="NO_INPUT_SOURCE_SET",i.PUBLISHER_PROPERTIES_ERROR="PUBLISHER_PROPERTIES_ERROR",i.OPENVIDU_PERMISSION_DENIED="OPENVIDU_PERMISSION_DENIED",i.OPENVIDU_NOT_CONNECTED="OPENVIDU_NOT_CONNECTED",i.GENERIC_ERROR="GENERIC_ERROR",t.OpenViduError=function(e,t){this.name=e,this.message=t}},XiUz:function(e,t,n){"use strict";n.d(t,"g",(function(){return pe})),n.d(t,"a",(function(){return L})),n.d(t,"f",(function(){return J})),n.d(t,"b",(function(){return X})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return ie})),n.d(t,"e",(function(){return O}));var i=n("fXoL"),o=n("pD6V"),r=n("cH1L"),s=n("XNiG"),a=n("1G5W");const c=["row","column","row-reverse","column-reverse"];function l(e){e=e?e.toLowerCase():"";let[t,n,i]=e.split(" ");return c.find(e=>e===t)||(t=c[0]),"inline"===n&&(n="inline"!==i?i:"",i="inline"),[t,d(n),!!i]}function u(e){let[t]=l(e);return t.indexOf("row")>-1}function d(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap"}return e}let h=(()=>{class e extends o.h{buildStyles(e){return function(e){let[t,n,i]=l(e);return function(e,t=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":t||null}}(t,n,i)}(e)}}return e.\u0275fac=function(t){return p(t||e)},e.\u0275prov=Object(i.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const p=i.Zb(h),f=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let g=(()=>{class e extends o.b{constructor(e,t,n,i){super(e,n,t,i),this.DIRECTIVE_KEY="layout",this.styleCache=b,this.init()}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(i.l),i.Rb(o.i),i.Rb(h),i.Rb(o.f))},e.\u0275dir=i.Mb({type:e,features:[i.zb]}),e})(),m=(()=>{class e extends g{constructor(){super(...arguments),this.inputs=f}}return e.\u0275fac=function(t){return v(t||e)},e.\u0275dir=i.Mb({type:e,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[i.zb]}),e})();const v=i.Zb(m),b=new Map,y={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let _=(()=>{class e extends o.h{constructor(e){super(),this._styler=e}buildStyles(e,t){return e.endsWith(k)?function(e,t){let n="0px",i="0px";return"rtl"===t?i="-"+e:n="-"+e,{margin:`0px ${n} ${"-"+e} ${i}`}}(e=e.slice(0,e.indexOf(k)),t.directionality):{}}sideEffect(e,t,n){const i=n.items;if(e.endsWith(k)){const t=function(e,t){let n="0px",i="0px";return"rtl"===t?i=e:n=e,{padding:`0px ${n} ${e} ${i}`}}(e=e.slice(0,e.indexOf(k)),n.directionality);this._styler.applyStyleToElements(t,n.items)}else{const t=i.pop(),o=function(e,t){const n=P(t.directionality,t.layout),i=Object.assign({},y);return i[n]=e,i}(e,n);this._styler.applyStyleToElements(o,i),this._styler.applyStyleToElements(y,[t])}}}return e.\u0275fac=function(t){return new(t||e)(i.fc(o.i))},e.\u0275prov=Object(i.Nb)({factory:function(){return new e(Object(i.fc)(o.i))},token:e,providedIn:"root"}),e})();const S=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let C=(()=>{class e extends o.b{constructor(e,t,n,i,o,r){super(e,o,i,r),this.zone=t,this.directionality=n,this.styleUtils=i,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new s.a;const c=[this.directionality.change,this.observerSubject.asObservable()];this.init(c),this.marshal.trackValue(this.nativeElement,"layout").pipe(Object(a.a)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,t=[];for(let n=e.length;n--;)t[n]=e[n];return t}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const t=e.value.split(" ");this.layout=t[0],c.find(e=>e===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const t=this.childrenNodes.filter(e=>1===e.nodeType&&this.willDisplay(e)).sort((e,t)=>{const n=+this.styler.lookupStyle(e,"order"),i=+this.styler.lookupStyle(t,"order");return isNaN(n)||isNaN(i)||n===i?0:n>i?1:-1});if(t.length>0){const n=this.directionality.value,i=this.layout;"row"===i&&"rtl"===n?this.styleCache=x:"row"===i&&"rtl"!==n?this.styleCache=M:"column"===i&&"rtl"===n?this.styleCache=E:"column"===i&&"rtl"!==n&&(this.styleCache=R),this.addStyles(e,{directionality:n,items:t,layout:i})}}clearStyles(){const e=Object.keys(this.mru).length>0,t=e?"padding":P(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[t]:""},this.childrenNodes)}willDisplay(e){const t=this.marshal.getValue(e,"show-hide");return!0===t||void 0===t&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(e=>e.addedNodes&&e.addedNodes.length>0||e.removedNodes&&e.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(i.l),i.Rb(i.A),i.Rb(r.b),i.Rb(o.i),i.Rb(_),i.Rb(o.f))},e.\u0275dir=i.Mb({type:e,features:[i.zb]}),e})(),O=(()=>{class e extends C{constructor(){super(...arguments),this.inputs=S}}return e.\u0275fac=function(t){return w(t||e)},e.\u0275dir=i.Mb({type:e,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[i.zb]}),e})();const w=i.Zb(O),x=new Map,E=new Map,M=new Map,R=new Map,k=" grid";function P(e,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===e?"margin-left":"margin-right";case"row-reverse":return"rtl"===e?"margin-right":"margin-left";default:return"rtl"===e?"margin-left":"margin-right"}}function T(e,...t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let n of t)if(null!=n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}let I=(()=>{class e extends o.h{constructor(e){super(),this.layoutConfig=e}buildStyles(e,t){let[n,i,...o]=e.split(" "),r=o.join(" ");const s=t.direction.indexOf("column")>-1?"column":"row",a=u(s)?"max-width":"max-height",c=u(s)?"min-width":"min-height",l=String(r).indexOf("calc")>-1,d=l||"auto"===r,h=String(r).indexOf("%")>-1&&!l,p=String(r).indexOf("px")>-1||String(r).indexOf("rem")>-1||String(r).indexOf("em")>-1||String(r).indexOf("vw")>-1||String(r).indexOf("vh")>-1;let f=l||p;n="0"==n?0:n,i="0"==i?0:i;const g=!n&&!i;let m={};const v={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(r||""){case"":const e=!1!==this.layoutConfig.useColumnBasisZero;r="row"===s?"0%":e?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,r="auto";break;case"grow":r="100%";break;case"noshrink":i=0,r="auto";break;case"auto":break;case"none":n=0,i=0,r="auto";break;default:f||h||isNaN(r)||(r+="%"),"0%"===r&&(f=!0),"0px"===r&&(r="0%"),m=T(v,l?{"flex-grow":n,"flex-shrink":i,"flex-basis":f?r:"100%"}:{flex:`${n} ${i} ${f?r:"100%"}`})}return m.flex||m["flex-grow"]||(m=T(v,l?{"flex-grow":n,"flex-shrink":i,"flex-basis":r}:{flex:`${n} ${i} ${r}`})),"0%"!==r&&"0px"!==r&&"0.000000001px"!==r&&"auto"!==r&&(m[c]=g||f&&n?r:null,m[a]=g||!d&&i?r:null),m[c]||m[a]?t.hasWrap&&(m[l?"flex-basis":"flex"]=m[a]?l?m[a]:`${n} ${i} ${m[a]}`:l?m[c]:`${n} ${i} ${m[c]}`):m=T(v,l?{"flex-grow":n,"flex-shrink":i,"flex-basis":r}:{flex:`${n} ${i} ${r}`}),T(m,{"box-sizing":"border-box"})}}return e.\u0275fac=function(t){return new(t||e)(i.fc(o.e))},e.\u0275prov=Object(i.Nb)({factory:function(){return new e(Object(i.fc)(o.e))},token:e,providedIn:"root"}),e})();const A=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let D=(()=>{class e extends o.b{constructor(e,t,n,i,o){super(e,i,t,o),this.layoutConfig=n,this.DIRECTIVE_KEY="flex",this.direction="",this.wrap=!1,this.flexGrow="1",this.flexShrink="1",this.init(),this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Object(a.a)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Object(a.a)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}onLayoutChange(e){const t=e.value.split(" ");this.direction=t[0],this.wrap=void 0!==t[1]&&"wrap"===t[1],this.triggerUpdate()}updateWithValue(e){this.direction||(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent));const t=this.direction,n=t.startsWith("row"),i=this.wrap;n&&i?this.styleCache=V:n&&!i?this.styleCache=N:!n&&i?this.styleCache=z:n||i||(this.styleCache=U);const r=String(e).replace(";",""),s=Object(o.j)(r,this.flexGrow,this.flexShrink);this.addStyles(s.join(" "),{direction:t,hasWrap:i})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const t=Object(o.j)(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,t.join(" "))}}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(i.l),i.Rb(o.i),i.Rb(o.e),i.Rb(I),i.Rb(o.f))},e.\u0275dir=i.Mb({type:e,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[i.zb]}),e})(),L=(()=>{class e extends D{constructor(){super(...arguments),this.inputs=A}}return e.\u0275fac=function(t){return j(t||e)},e.\u0275dir=i.Mb({type:e,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[i.zb]}),e})();const j=i.Zb(L),N=new Map,U=new Map,V=new Map,z=new Map;let F=(()=>{class e extends o.h{buildStyles(e){return{order:e&&parseInt(e,10)||""}}}return e.\u0275fac=function(t){return B(t||e)},e.\u0275prov=Object(i.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const B=i.Zb(F),W=["fxFlexOrder","fxFlexOrder.xs","fxFlexOrder.sm","fxFlexOrder.md","fxFlexOrder.lg","fxFlexOrder.xl","fxFlexOrder.lt-sm","fxFlexOrder.lt-md","fxFlexOrder.lt-lg","fxFlexOrder.lt-xl","fxFlexOrder.gt-xs","fxFlexOrder.gt-sm","fxFlexOrder.gt-md","fxFlexOrder.gt-lg"];let q=(()=>{class e extends o.b{constructor(e,t,n,i){super(e,n,t,i),this.DIRECTIVE_KEY="flex-order",this.styleCache=G,this.init()}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(i.l),i.Rb(o.i),i.Rb(F),i.Rb(o.f))},e.\u0275dir=i.Mb({type:e,features:[i.zb]}),e})();const G=new Map;let X=(()=>{class e extends q{constructor(){super(...arguments),this.inputs=W}}return e.\u0275fac=function(t){return Y(t||e)},e.\u0275dir=i.Mb({type:e,selectors:[["","fxFlexOrder",""],["","fxFlexOrder.xs",""],["","fxFlexOrder.sm",""],["","fxFlexOrder.md",""],["","fxFlexOrder.lg",""],["","fxFlexOrder.xl",""],["","fxFlexOrder.lt-sm",""],["","fxFlexOrder.lt-md",""],["","fxFlexOrder.lt-lg",""],["","fxFlexOrder.lt-xl",""],["","fxFlexOrder.gt-xs",""],["","fxFlexOrder.gt-sm",""],["","fxFlexOrder.gt-md",""],["","fxFlexOrder.gt-lg",""]],inputs:{fxFlexOrder:"fxFlexOrder","fxFlexOrder.xs":"fxFlexOrder.xs","fxFlexOrder.sm":"fxFlexOrder.sm","fxFlexOrder.md":"fxFlexOrder.md","fxFlexOrder.lg":"fxFlexOrder.lg","fxFlexOrder.xl":"fxFlexOrder.xl","fxFlexOrder.lt-sm":"fxFlexOrder.lt-sm","fxFlexOrder.lt-md":"fxFlexOrder.lt-md","fxFlexOrder.lt-lg":"fxFlexOrder.lt-lg","fxFlexOrder.lt-xl":"fxFlexOrder.lt-xl","fxFlexOrder.gt-xs":"fxFlexOrder.gt-xs","fxFlexOrder.gt-sm":"fxFlexOrder.gt-sm","fxFlexOrder.gt-md":"fxFlexOrder.gt-md","fxFlexOrder.gt-lg":"fxFlexOrder.gt-lg"},features:[i.zb]}),e})();const Y=i.Zb(X),H={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let Z=(()=>{class e extends o.h{buildStyles(e){return H}}return e.\u0275fac=function(t){return Q(t||e)},e.\u0275prov=Object(i.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Q=i.Zb(Z);let J=(()=>{class e extends o.b{constructor(e,t,n,i){super(e,n,t,i),this.styleCache=K,this.addStyles("")}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(i.l),i.Rb(o.i),i.Rb(Z),i.Rb(o.f))},e.\u0275dir=i.Mb({type:e,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[i.zb]}),e})();const K=new Map;let $=(()=>{class e extends o.h{buildStyles(e,t){const n={},[i,o]=e.split(" ");switch(i){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;case"start":case"flex-start":default:n["justify-content"]="flex-start"}switch(o){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;case"stretch":default:n["align-items"]=n["align-content"]="stretch"}return T(n,{display:t.inline?"inline-flex":"flex","flex-direction":t.layout,"box-sizing":"border-box","max-width":"stretch"===o?u(t.layout)?null:"100%":null,"max-height":"stretch"===o&&u(t.layout)?"100%":null})}}return e.\u0275fac=function(t){return ee(t||e)},e.\u0275prov=Object(i.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const ee=i.Zb($),te=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let ne=(()=>{class e extends o.b{constructor(e,t,n,i){super(e,n,t,i),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Object(a.a)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const t=this.layout||"row",n=this.inline;"row"===t&&n?this.styleCache=le:"row"!==t||n?"row-reverse"===t&&n?this.styleCache=de:"row-reverse"!==t||n?"column"===t&&n?this.styleCache=ue:"column"!==t||n?"column-reverse"===t&&n?this.styleCache=he:"column-reverse"!==t||n||(this.styleCache=ce):this.styleCache=se:this.styleCache=ae:this.styleCache=re,this.addStyles(e,{layout:t,inline:n})}onLayoutChange(e){const t=e.value.split(" ");this.layout=t[0],this.inline=e.value.includes("inline"),c.find(e=>e===this.layout)||(this.layout="row"),this.triggerUpdate()}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(i.l),i.Rb(o.i),i.Rb($),i.Rb(o.f))},e.\u0275dir=i.Mb({type:e,features:[i.zb]}),e})(),ie=(()=>{class e extends ne{constructor(){super(...arguments),this.inputs=te}}return e.\u0275fac=function(t){return oe(t||e)},e.\u0275dir=i.Mb({type:e,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[i.zb]}),e})();const oe=i.Zb(ie),re=new Map,se=new Map,ae=new Map,ce=new Map,le=new Map,ue=new Map,de=new Map,he=new Map;let pe=(()=>{class e{}return e.\u0275mod=i.Pb({type:e}),e.\u0275inj=i.Ob({factory:function(t){return new(t||e)},imports:[[o.c,r.a]]}),e})()},YUcS:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),o=n("ofXK"),r=n("pD6V"),s=n("znSr"),a=n("XiUz");n("8LU1");let c=(()=>{class e{}return e.\u0275mod=i.Pb({type:e}),e.\u0275inj=i.Ob({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})(),l=(()=>{class e{constructor(e,t){Object(o.C)(t)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,n=[]){return{ngModule:e,providers:t.serverLoaded?[{provide:r.e,useValue:Object.assign(Object.assign({},r.d),t)},{provide:r.a,useValue:n,multi:!0},{provide:r.g,useValue:!0}]:[{provide:r.e,useValue:Object.assign(Object.assign({},r.d),t)},{provide:r.a,useValue:n,multi:!0}]}}}return e.\u0275mod=i.Pb({type:e}),e.\u0275inj=i.Ob({factory:function(t){return new(t||e)(i.fc(r.g),i.fc(i.C))},imports:[[a.g,s.c,c],a.g,s.c,c]}),e})()},Yn0Z:function(e,t,n){"use strict";var i;t.__esModule=!0,(i=t.LocalRecorderState||(t.LocalRecorderState={})).READY="READY",i.RECORDING="RECORDING",i.PAUSED="PAUSED",i.FINISHED="FINISHED"},bDgZ:function(e,t,n){(function(e){var i;(function(){"use strict";var o={function:!0,object:!0},r=o[typeof window]&&window||this,s=o[typeof t]&&t&&o[typeof e]&&e&&!e.nodeType&&e&&"object"==typeof global&&global;!s||s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a=Math.pow(2,53)-1,c=/\bOpera/,l=Object.prototype,u=l.hasOwnProperty,d=l.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function p(e){return e=b(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function f(e,t){for(var n in e)u.call(e,n)&&t(e[n],n,e)}function g(e){return null==e?h(e):d.call(e).slice(8,-1)}function m(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function v(e,t){var n=null;return function(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i&&i>-1&&i<=a)for(;++n<i;)t(e[n],n);else f(e,t)}(e,(function(i,o){n=t(n,i,o,e)})),n}function b(e){return String(e).replace(/^ +| +$/g,"")}var y=function e(t){var n=r,i=t&&"object"==typeof t&&"String"!=g(t);i&&(n=t,t=null);var o=n.navigator||{},s=o.userAgent||"";t||(t=s);var a,l,u,h,y=i?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(d.toString()),_=i?"Object":"ScriptBridgingProxyObject",S=i?"Object":"Environment",C=i&&n.java?"JavaPackage":g(n.java),O=i?"Object":"RuntimeObject",w=/\bJava/.test(C)&&n.java,x=w&&g(n.environment)==S,E=w?"a":"\u03b1",M=w?"b":"\u03b2",R=n.document||{},k=n.operamini||n.opera,P=c.test(P=i&&k?k["[[Class]]"]:g(k))?P:k=null,T=t,I=[],A=null,D=t==s,L=D&&k&&"function"==typeof k.version&&k.version(),j=v([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||m(n))+"\\b","i").exec(t)&&(n.label||n)})),N=v(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,n){return e||RegExp("\\b"+(n.pattern||m(n))+"\\b","i").exec(t)&&(n.label||n)})),U=F([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=v({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},(function(e,n,i){return e||(n[U]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(U)]||RegExp("\\b"+m(i)+"(?:\\b|\\w*\\d)","i").exec(t))&&i})),z=v(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,n){var i=n.pattern||m(n);return!e&&(e=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(i=i[/[\d.]+$/.exec(e)])&&(e="Windows "+i),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),p(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,i,n.label||n)),e}));function F(e){return v(e,(function(e,n){var i=n.pattern||m(n);return!e&&(e=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(i,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=p(e[0].replace(RegExp(i,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}if(j&&(j=[j]),V&&!U&&(U=F([V])),(a=/\bGoogle TV\b/.exec(U))&&(U=a[0]),/\bSimulator\b/i.test(t)&&(U=(U?U+" ":"")+"Simulator"),"Opera Mini"==N&&/\bOPiOS\b/.test(t)&&I.push("running in Turbo/Uncompressed mode"),"IE"==N&&/\blike iPhone OS\b/.test(t)?(V=(a=e(t.replace(/like iPhone OS/,""))).manufacturer,U=a.product):/^iP/.test(U)?(N||(N="Safari"),z="iOS"+((a=/ OS ([\d_]+)/i.exec(t))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"!=N||/buntu/i.test(z)?V&&"Google"!=V&&(/Chrome/.test(N)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(U))||/\bAndroid\b/.test(z)&&/^Chrome/.test(N)&&/\bVersion\//i.test(t)?(N="Android Browser",z=/\bAndroid\b/.test(z)?z:"Android"):"Silk"==N?(/\bMobi/i.test(t)||(z="Android",I.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&I.unshift("accelerated")):"PaleMoon"==N&&(a=/\bFirefox\/([\d.]+)\b/.exec(t))?I.push("identifying as Firefox "+a[1]):"Firefox"==N&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(z||(z="Firefox OS"),U||(U=a[1])):!N||(a=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(N))?(N&&!U&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(a+"/")+8))&&(N=null),(a=U||V||z)&&(U||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(z))&&(N=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(z)?z:a)+" Browser")):"Electron"==N&&(a=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&I.push("Chromium "+a):z="Kubuntu",L||(L=v(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",m(N),"(?:Firefox|Minefield|NetFront)"],(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))),(a=("iCab"==j&&parseFloat(L)>3?"WebKit":/\bOpera\b/.test(N)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(t)&&("Mac OS"==z?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(N)&&"NetFront")&&(j=[a]),"IE"==N&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(N+=" Mobile",z="Windows Phone "+(/\+$/.test(a)?a:a+".x"),I.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(N="IE Mobile",z="Windows Phone 8.x",I.unshift("desktop mode"),L||(L=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=N&&"Trident"==j&&(a=/\brv:([\d.]+)/.exec(t))&&(N&&I.push("identifying as "+N+(L?" "+L:"")),N="IE",L=a[1]),D){if(/^(?:boolean|number|string|undefined)$/.test(h=null!=(u=n)?typeof u.global:"number")||"object"==h&&!u.global)g(a=n.runtime)==_?(N="Adobe AIR",z=a.flash.system.Capabilities.os):g(a=n.phantom)==O?(N="PhantomJS",L=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof R.documentMode&&(a=/\bTrident\/(\d+)/i.exec(t))?((a=+a[1]+4)!=(L=[L,R.documentMode])[1]&&(I.push("IE "+L[1]+" mode"),j&&(j[1]=""),L[1]=a),L="IE"==N?String(L[1].toFixed(1)):L[0]):"number"==typeof R.documentMode&&/^(?:Chrome|Firefox)\b/.test(N)&&(I.push("masking as "+N+" "+L),N="IE",L="11.0",j=["Trident"],z="Windows");else if(w&&(T=(a=w.lang.System).getProperty("os.arch"),z=z||a.getProperty("os.name")+" "+a.getProperty("os.version")),x){try{L=n.require("ringo/engine").version.join("."),N="RingoJS"}catch(W){(a=n.system)&&a.global.system==n.system&&(N="Narwhal",z||(z=a[0].os||null))}N||(N="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(a=n.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(I.push("Node "+a.versions.node),N="Electron",L=a.versions.electron):"string"==typeof a.versions.nw&&(I.push("Chromium "+L,"Node "+a.versions.node),N="NW.js",L=a.versions.nw)),N||(N="Node.js",T=a.arch,z=a.platform,L=(L=/[\d.]+/.exec(a.version))?L[0]:null));z=z&&p(z)}if(L&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(L)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(D&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(A=/b/i.test(a)?"beta":"alpha",L=L.replace(RegExp(a+"\\+?$"),"")+("beta"==A?M:E)+(/\d+\+?/.exec(a)||"")),"Fennec"==N||"Firefox"==N&&/\b(?:Android|Firefox OS)\b/.test(z))N="Firefox Mobile";else if("Maxthon"==N&&L)L=L.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(U))"Xbox 360"==U&&(z=null),"Xbox 360"==U&&/\bIEMobile\b/.test(t)&&I.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(N)&&(!N||U||/Browser|Mobi/.test(N))||"Windows CE"!=z&&!/Mobi/i.test(t))if("IE"==N&&D)try{null===n.external&&I.unshift("platform preview")}catch(W){I.unshift("embedded")}else(/\bBlackBerry\b/.test(U)||/\bBB10\b/.test(t))&&(a=(RegExp(U.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||L)?(z=((a=[a,/BB10/.test(t)])[1]?(U=null,V="BlackBerry"):"Device Software")+" "+a[0],L=null):this!=f&&"Wii"!=U&&(D&&k||/Opera/.test(N)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==N&&/\bOS X (?:\d+\.){2,}/.test(z)||"IE"==N&&(z&&!/^Win/.test(z)&&L>5.5||/\bWindows XP\b/.test(z)&&L>8||8==L&&!/\bTrident\b/.test(t)))&&!c.test(a=e.call(f,t.replace(c,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),c.test(N)?(/\bIE\b/.test(a)&&"Mac OS"==z&&(z=null),a="identify"+a):(a="mask"+a,N=P?p(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(z=null),D||(L=null)),j=["Presto"],I.push(a));else N+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==N&&"+"==a[1].slice(-1)?(N="WebKit Nightly",A="alpha",L=a[1].slice(0,-1)):L!=a[1]&&L!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(L=null),a[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==a[0]&&537.36==a[2]&&parseFloat(a[1])>=28&&"WebKit"==j&&(j=["Blink"]),D&&(y||a[1])?(j&&(j[1]="like Chrome"),a=a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),a=(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:"8"),j&&(j[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==N&&(!L||parseInt(L)>45)&&(L=a)),"Opera"==N&&(a=/\bzbov|zvav$/.exec(z))?(N+=" ",I.unshift("desktop mode"),"zvav"==a?(N+="Mini",L=null):N+="Mobile",z=z.replace(RegExp(" *"+a+"$"),"")):"Safari"==N&&/\bChrome\b/.exec(j&&j[1])&&(I.unshift("desktop mode"),N="Chrome Mobile",L=null,/\bOS X\b/.test(z)?(V="Apple",z="iOS 4.3+"):z=null),L&&0==L.indexOf(a=/[\d.]+$/.exec(z))&&t.indexOf("/"+a+"-")>-1&&(z=b(z.replace(a,""))),j&&!/\b(?:Avant|Nook)\b/.test(N)&&(/Browser|Lunascape|Maxthon/.test(N)||"Safari"!=N&&/^iOS/.test(z)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(N)&&j[1])&&(a=j[j.length-1])&&I.push(a),I.length&&(I=["("+I.join("; ")+")"]),V&&U&&U.indexOf(V)<0&&I.push("on "+V),U&&I.push((/^on /.test(I[I.length-1])?"":"on ")+U),z&&(a=/ ([\d.+]+)$/.exec(z),l=a&&"/"==z.charAt(z.length-a[0].length-1),z={architecture:32,family:a&&!l?z.replace(a[0],""):z,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(T))&&!/\bi686\b/i.test(T)?(z&&(z.architecture=64,z.family=z.family.replace(RegExp(" *"+a),"")),N&&(/\bWOW64\b/i.test(t)||D&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&I.unshift("32-bit")):z&&/^OS X/.test(z.family)&&"Chrome"==N&&parseFloat(L)>=39&&(z.architecture=64),t||(t=null);var B={};return B.description=t,B.layout=j&&j[0],B.manufacturer=V,B.name=N,B.prerelease=A,B.product=U,B.ua=t,B.version=N&&L,B.os=z||{architecture:null,family:null,version:null,toString:function(){return"null"}},B.parse=e,B.toString=function(){return this.description||""},B.version&&I.unshift(L),B.name&&I.unshift(N),z&&N&&(z!=String(z).split(" ")[0]||z!=N.split(" ")[0]&&!U)&&I.push(U?"("+z+")":"on "+z),I.length&&(B.description=I.join(" ")),B}();r.platform=y,void 0===(i=(function(){return y}).call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n("YuTi")(e))},bGVd:function(e,t,n){e.exports=n("IXxz").default},bk74:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n("P3vI"),s=n("9m68").OpenViduLogger.getInstance(),a=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.element=o.targetElement,o.stream=t,o.properties=i,o}return o(t,e),t.prototype.subscribeToAudio=function(e){return this.stream.getMediaStream().getAudioTracks().forEach((function(t){t.enabled=e})),this.stream.audioActive=e,s.info("'Subscriber' has "+(e?"subscribed to":"unsubscribed from")+" its audio stream"),this},t.prototype.subscribeToVideo=function(e){return this.stream.getMediaStream().getVideoTracks().forEach((function(t){t.enabled=e})),this.stream.videoActive=e,s.info("'Subscriber' has "+(e?"subscribed to":"unsubscribed from")+" its video stream"),this},t}(r.StreamManager);t.Subscriber=a},cUzU:function(e,t,n){"use strict";var i=console;e.exports=function(e){var t,n=!1,o=e.uri,r=!1,s=new WebSocket(o);s.onopen=function(){i.debug("WebSocket connected to "+o),e.onconnected&&e.onconnected()},s.onerror=function(t){i.error("Could not connect to "+o+" (invoking onerror if defined)",t),e.onerror&&e.onerror(t)};var a=function(){3===s.readyState?n?i.debug("Connection closed by user"):(i.debug("Connection closed unexpectecly. Reconnecting..."),c(2e3,1)):i.debug("Close callback from previous websocket. Ignoring it")};function c(n,l){if(i.debug("reconnect (attempt #"+l+", max="+n+")"),1===l){if(r)return void i.warn("Trying to reconnect when already reconnecting... Ignoring this reconnection.");r=!0,e.onreconnecting&&e.onreconnecting()}!function(n,l){i.debug("Reconnection attempt #"+l),s.close(),(s=new WebSocket(o)).onopen=function(){i.debug("Reconnected to "+o+" after "+l+" attempts..."),r=!1,t(),e.onreconnected()&&e.onreconnected(),s.onclose=a},s.onerror=function(t){i.warn("Reconnection error: ",t),l===n?e.ondisconnect&&e.ondisconnect():setTimeout((function(){c(n,l+1)}),3e3)}}(n,l)}s.onclose=a,this.close=function(){n=!0,s.close()},this.reconnectWs=function(){i.debug("reconnectWs"),c(2e3,1)},this.send=function(e){s.send(e)},this.addEventListener=function(e,n){(t=function(){s.addEventListener(e,n)})()}}},dNgK:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return w}));var i=n("rDax"),o=n("+rOU"),r=n("ofXK"),s=n("fXoL"),a=n("FKr1"),c=n("bTqV"),l=n("XNiG"),u=n("IzEk"),d=n("1G5W"),h=n("R0Ic"),p=n("u47x"),f=n("0MNC");function g(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",1),s.Xb(1,"button",2),s.jc("click",(function(){return s.Ic(e),s.nc().action()})),s.Rc(2),s.Wb(),s.Wb()}if(2&e){const e=s.nc();s.Cb(2),s.Sc(e.data.action)}}function m(e,t){}const v=Math.pow(2,31)-1;class b{constructor(e,t){this._overlayRef=t,this._afterDismissed=new l.a,this._afterOpened=new l.a,this._onAction=new l.a,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,v))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const y=new s.r("MatSnackBarData");class _{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let S=(()=>{class e{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(b),s.Rb(y))},e.\u0275cmp=s.Lb({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(s.Xb(0,"span"),s.Rc(1),s.Wb(),s.Pc(2,g,3,1,"div",0)),2&e&&(s.Cb(1),s.Sc(t.data.message),s.Cb(1),s.uc("ngIf",t.hasAction))},directives:[r.m,c.a],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),e})();const C={snackBarState:Object(h.n)("state",[Object(h.k)("void, hidden",Object(h.l)({transform:"scale(0.8)",opacity:0})),Object(h.k)("visible",Object(h.l)({transform:"scale(1)",opacity:1})),Object(h.m)("* => visible",Object(h.e)("150ms cubic-bezier(0, 0, 0.2, 1)")),Object(h.m)("* => void, * => hidden",Object(h.e)("75ms cubic-bezier(0.4, 0.0, 1, 1)",Object(h.l)({opacity:0})))])};let O=(()=>{class e extends o.a{constructor(e,t,n,i){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=n,this.snackBarConfig=i,this._destroyed=!1,this._onExit=new l.a,this._onEnter=new l.a,this._animationState="void",this.attachDomPortal=e=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(e)),this._role="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?null:"status":"alert"}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:t,toState:n}=e;if(("void"===n&&"void"!==t||"hidden"===n)&&this._completeExit(),"visible"===n){const e=this._onEnter;this._ngZone.run(()=>{e.next(),e.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(u.a)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(t=>e.classList.add(t)):e.classList.add(t)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(s.A),s.Rb(s.l),s.Rb(s.h),s.Rb(_))},e.\u0275cmp=s.Lb({type:e,selectors:[["snack-bar-container"]],viewQuery:function(e,t){var n;1&e&&s.Nc(o.c,!0),2&e&&s.Dc(n=s.kc())&&(t._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(e,t){1&e&&s.Ib("@state.done",(function(e){return t.onAnimationEnd(e)})),2&e&&(s.Db("role",t._role),s.Vc("@state",t._animationState))},features:[s.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&s.Pc(0,m,0,0,"ng-template",0)},directives:[o.c],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[C.snackBarState]}}),e})(),w=(()=>{class e{}return e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({factory:function(t){return new(t||e)},imports:[[i.f,o.h,r.c,c.b,a.i],a.i]}),e})();const x=new s.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new _}});let E=(()=>{class e{constructor(e,t,n,i,o,r){this._overlay=e,this._live=t,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=o,this._defaultConfig=r,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:e,action:t},i.announcementMessage||(i.announcementMessage=e),this.openFromComponent(S,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){const n=new o.g(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[_,t]])),i=new o.d(O,t.viewContainerRef,n),r=e.attach(i);return r.instance.snackBarConfig=t,r.instance}_attach(e,t){const n=Object.assign(Object.assign(Object.assign({},new _),this._defaultConfig),t),i=this._createOverlay(n),r=this._attachSnackBarContainer(i,n),a=new b(r,i);if(e instanceof s.M){const t=new o.i(e,null,{$implicit:n.data,snackBarRef:a});a.instance=r.attachTemplatePortal(t)}else{const t=this._createInjector(n,a),i=new o.d(e,void 0,t),s=r.attachComponentPortal(i);a.instance=s.instance}return this._breakpointObserver.observe(f.b.HandsetPortrait).pipe(Object(d.a)(i.detachments())).subscribe(e=>{const t=i.overlayElement.classList;e.matches?t.add("mat-snack-bar-handset"):t.remove("mat-snack-bar-handset")}),this._animateSnackBar(a,n),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration)),t.announcementMessage&&this._live.announce(t.announcementMessage,t.politeness)}_createOverlay(e){const t=new i.d;t.direction=e.direction;let n=this._overlay.position().global();const o="rtl"===e.direction,r="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,s=!r&&"center"!==e.horizontalPosition;return r?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===e.verticalPosition?n.top("0"):n.bottom("0"),t.positionStrategy=n,this._overlay.create(t)}_createInjector(e,t){return new o.g(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[b,t],[y,e.data]]))}}return e.\u0275fac=function(t){return new(t||e)(s.fc(i.c),s.fc(p.k),s.fc(s.s),s.fc(f.a),s.fc(e,12),s.fc(x))},e.\u0275prov=Object(s.Nb)({factory:function(){return new e(Object(s.fc)(i.c),Object(s.fc)(p.k),Object(s.fc)(s.p),Object(s.fc)(f.a),Object(s.fc)(e,12),Object(s.fc)(x))},token:e,providedIn:w}),e})()},dP7y:function(e,t,n){e.exports=n("LXjW")},"dY/r":function(e,t){var n=["stun:","turn:"];e.exports=function(e){var t,i,o=(e||{}).url||e,r={};return"string"==typeof o||o instanceof String?(o=o.trim(),(t=n[n.indexOf(o.slice(0,5))])?(i=(o=o.slice(5)).split("@"),r.username=e.username,r.credential=e.credential,i.length>1&&(o=i[1],i=i[0].split(":"),r.username=i[0],r.credential=(e||{}).credential||i[1]||""),r.url=t+o,r.urls=[r.url],r):e):e}},de4E:function(e,t){t.pack=function(e,t){var n={jsonrpc:"2.0"};if(e.method)n.method=e.method,e.params&&(n.params=e.params),null!=t&&(n.id=t);else if(null!=t){if(e.error){if(void 0!==e.result)throw new TypeError("Both result and error are defined");n.error=e.error}else{if(void 0===e.result)throw new TypeError("No result or error is defined");n.result=e.result}n.id=t}return JSON.stringify(n)},t.unpack=function(e){var t=e;("string"==typeof e||e instanceof String)&&(t=JSON.parse(e));var n=t.jsonrpc;if("2.0"!==n)throw new TypeError("Invalid JsonRPC version '"+n+"': "+e);if(null==t.method){if(null==t.id)throw new TypeError("Invalid message: "+e);var i=void 0!==t.result,o=void 0!==t.error;if(i&&o)throw new TypeError("Both result and error are defined: "+e);if(!i&&!o)throw new TypeError("No result or error is defined: "+e);t.ack=t.id,delete t.id}return t}},dlaP:function(e,t,n){"use strict";t.__esModule=!0,t.AMPERSAND=t.CLOSEPAREN=t.CLOSEANGLEBRACKET=t.CLOSEBRACKET=t.CLOSEBRACE=t.OPENPAREN=t.OPENANGLEBRACKET=t.OPENBRACKET=t.OPENBRACE=t.WS=t.TLD=t.SYM=t.UNDERSCORE=t.SLASH=t.MAILTO=t.PROTOCOL=t.QUERY=t.POUND=t.PLUS=t.NUM=t.NL=t.LOCALHOST=t.PUNCTUATION=t.DOT=t.COLON=t.AT=t.DOMAIN=t.Base=void 0;var i=n("RvMX"),o=n("JUw6"),r=(0,i.createTokenClass)();function s(e){var t=e?{v:e}:{};return(0,o.inherits)(r,(0,i.createTokenClass)(),t)}r.prototype={toString:function(){return this.v+""}};var a=s(),c=s("@"),l=s(":"),u=s("."),d=s(),h=s(),p=s("\n"),f=s(),g=s("+"),m=s("#"),v=s(),b=s("mailto:"),y=s("?"),_=s("/"),S=s("_"),C=s(),O=s(),w=s(),x=s("{"),E=s("["),M=s("<"),R=s("("),k=s("}"),P=s("]"),T=s(">"),I=s(")"),A=s("&");t.Base=r,t.DOMAIN=a,t.AT=c,t.COLON=l,t.DOT=u,t.PUNCTUATION=d,t.LOCALHOST=h,t.NL=p,t.NUM=f,t.PLUS=g,t.POUND=m,t.QUERY=y,t.PROTOCOL=v,t.MAILTO=b,t.SLASH=_,t.UNDERSCORE=S,t.SYM=C,t.TLD=O,t.WS=w,t.OPENBRACE=x,t.OPENBRACKET=E,t.OPENANGLEBRACKET=M,t.OPENPAREN=R,t.CLOSEBRACE=k,t.CLOSEBRACKET=P,t.CLOSEANGLEBRACKET=T,t.CLOSEPAREN=I,t.AMPERSAND=A},e8ps:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=function(e){function t(t,n,i,o){var r=e.call(this,!1,t,n)||this;return r.type=n,r.connection=i,r.streamId=o,r}return o(t,e),t.prototype.callDefaultBehavior=function(){},t}(n("hzOQ").Event);t.PublisherSpeakingEvent=r},ee8k:function(e,t,n){var i=n("cUzU");t.WebSocketWithReconnection=i},eeMe:function(e,t,n){var i;window,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,(function(t){return e[t]}).bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=94)}([function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var i,o=n(78),r=n(8),s=n(2),a=n(9),c=n(7),l=n(30),u=n(11),d=n(14),h=n(12).f,p=n(27),f=n(29),g=n(3),m=n(46),v=s.Int8Array,b=v&&v.prototype,y=s.Uint8ClampedArray,_=y&&y.prototype,S=v&&p(v),C=b&&p(b),O=Object.prototype,w=O.isPrototypeOf,x=g("toStringTag"),E=m("TYPED_ARRAY_TAG"),M=o&&!!f&&"Opera"!==l(s.opera),R=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},T=function(e){if(!a(e))return!1;var t=l(e);return c(k,t)||c(P,t)};for(i in k)s[i]||(M=!1);if((!M||"function"!=typeof S||S===Function.prototype)&&(S=function(){throw TypeError("Incorrect invocation")},M))for(i in k)s[i]&&f(s[i],S);if((!M||!C||C===O)&&(C=S.prototype,M))for(i in k)s[i]&&f(s[i].prototype,C);if(M&&p(_)!==C&&f(_,C),r&&!c(C,x))for(i in R=!0,h(C,x,{get:function(){return a(this)?this[E]:void 0}}),k)s[i]&&u(s[i],E,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:R&&E,aTypedArray:function(e){if(T(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(f){if(w.call(S,e))return e}else for(var t in k)if(c(k,i)){var n=s[t];if(n&&(e===n||w.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(r){if(n)for(var i in k){var o=s[i];o&&c(o.prototype,e)&&delete o.prototype[e]}C[e]&&!n||d(C,e,n?t:M&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,o;if(r){if(f){if(n)for(i in k)(o=s[i])&&c(o,e)&&delete o[e];if(S[e]&&!n)return;try{return d(S,e,n?t:M&&v[e]||t)}catch(a){}}for(i in k)!(o=s[i])||o[e]&&!n||d(o,e,t)}},isView:function(e){if(!a(e))return!1;var t=l(e);return"DataView"===t||c(k,t)||c(P,t)},isTypedArray:T,TypedArray:S,TypedArrayPrototype:C}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(96))},function(e,t,n){var i=n(2),o=n(65),r=n(7),s=n(46),a=n(68),c=n(102),l=o("wks"),u=i.Symbol,d=c?u:u&&u.withoutSetter||s;e.exports=function(e){return r(l,e)||(l[e]=a&&r(u,e)?u[e]:d("Symbol."+e)),l[e]}},function(e,t,n){var i=n(15),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,t,n){var i=n(2),o=n(42).f,r=n(11),s=n(14),a=n(43),c=n(98),l=n(101);e.exports=function(e,t){var n,u,d,h,p,f=e.target,g=e.global,m=e.stat;if(n=g?i:m?i[f]||a(f,{}):(i[f]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(p=o(n,u))&&p.value:n[u],!l(g?u:f+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&r(h,"sham",!0),s(n,u,h,e)}}},function(e,t,n){var i=n(9);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(0);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(16);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(8),o=n(12),r=n(20);e.exports=i?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(8),o=n(62),r=n(6),s=n(32),a=Object.defineProperty;t.f=i?a:function(e,t,n){if(r(e),t=s(t,!0),r(n),o)try{return a(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(36),o=n(31),r=n(10),s=n(4),a=n(51),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,g,m,v){for(var b,y,_=r(f),S=o(_),C=i(g,m,3),O=s(S.length),w=0,x=v||a,E=t?x(f,O):n||h?x(f,0):void 0;O>w;w++)if((p||w in S)&&(y=C(b=S[w],w,_),e))if(t)E[w]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return w;case 2:c.call(E,b)}else switch(e){case 4:return!1;case 7:c.call(E,b)}return d?-1:l||u?u:E}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},function(e,t,n){var i=n(2),o=n(11),r=n(7),s=n(43),a=n(64),c=n(17),l=c.get,u=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,a){var c,l=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||r(n,"name")||o(n,"name",t),(c=u(n)).source||(c.source=d.join("string"==typeof t?t:""))),e!==i?(l?!p&&e[t]&&(h=!0):delete e[t],h?e[t]=n:o(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i,o,r,s=n(97),a=n(2),c=n(9),l=n(11),u=n(7),d=n(44),h=n(45),p=n(47);if(s){var f=d.state||(d.state=new(0,a.WeakMap)),g=f.get,m=f.has,v=f.set;i=function(e,t){return t.facade=e,v.call(f,e,t),t},o=function(e){return g.call(f,e)||{}},r=function(e){return m.call(f,e)}}else{var b=h("state");p[b]=!0,i=function(e,t){return t.facade=e,l(e,b,t),t},o=function(e){return u(e,b)?e[b]:{}},r=function(e){return u(e,b)}}e.exports={set:i,get:o,has:r,enforce:function(e){return r(e)?o(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(15),o=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?o(n+t,0):r(n,t)}},function(e,t,n){var i=n(8),o=n(0),r=n(7),s=Object.defineProperty,a={},c=function(e){throw e};e.exports=function(e,t){if(r(a,e))return a[e];t||(t={});var n=[][e],l=!!r(t,"ACCESSORS")&&t.ACCESSORS,u=r(t,0)?t[0]:c,d=r(t,1)?t[1]:void 0;return a[e]=!!n&&!o((function(){if(l&&!i)return!0;var e={length:-1};l?s(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,d)}))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(31),o=n(16);e.exports=function(e){return i(o(e))}},function(e,t,n){var i=n(6),o=n(52),r=n(3)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||null==(n=i(s)[r])?t:o(n)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(100),o=n(2),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},function(e,t,n){var i=n(0),o=n(3),r=n(69),s=o("species");e.exports=function(e){return r>=51||!i((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t){e.exports={}},function(e,t,n){var i=n(7),o=n(10),r=n(45),s=n(76),a=r("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=o(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){var i=n(12).f,o=n(7),r=n(3)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t,n){var i=n(6),o=n(109);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return i(n),o(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var i=n(55),o=n(23),r=n(3)("toStringTag"),s="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),r))?n:s?o(t):"Object"==(i=o(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var i=n(0),o=n(23),r="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?r.call(e,""):Object(e)}:Object},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=!1},function(e,t,n){var i=n(21),o=n(4),r=n(18),s=function(e){return function(t,n,s){var a,c=i(t),l=o(c.length),u=r(s,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){"use strict";var i=n(32),o=n(12),r=n(20);e.exports=function(e,t,n){var s=i(t);s in e?o.f(e,s,r(0,n)):e[s]=n}},function(e,t,n){var i=n(52);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var i=n(21),o=n(107),r=n(26),s=n(17),a=n(73),c=s.set,l=s.getterFor("Array Iterator");e.exports=a(Array,"Array",(function(e,t){c(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var i,o=n(6),r=n(71),s=n(49),a=n(47),c=n(108),l=n(63),u=n(45)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(o){}var e,t;p=i?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete p.prototype[s[n]];return p()};a[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[u]=e):n=p(),void 0===t?n:r(n,t)}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){"use strict";var i,o,r=n(84),s=n(118),a=RegExp.prototype.exec,c=String.prototype.replace,l=a,u=(o=/b*/g,a.call(i=/a/,"a"),a.call(o,"a"),0!==i.lastIndex||0!==o.lastIndex),d=s.UNSUPPORTED_Y||s.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(u||h||d)&&(l=function(e){var t,n,i,o,s=this,l=d&&s.sticky,p=r.call(s),f=s.source,g=0,m=e;return l&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,g++),n=new RegExp("^(?:"+f+")",p)),h&&(n=new RegExp("^"+f+"$(?!\\s)",p)),u&&(t=s.lastIndex),i=a.call(l?n:s,m),l?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:u&&i&&(s.lastIndex=s.global?i.index+i[0].length:t),h&&i&&i.length>1&&c.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=l},function(e,t,n){var i=n(30),o=n(26),r=n(3)("iterator");e.exports=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i=n(8),o=n(61),r=n(20),s=n(21),a=n(32),c=n(7),l=n(62),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=s(e),t=a(t,!0),l)try{return u(e,t)}catch(n){}if(c(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t,n){var i=n(2),o=n(11);e.exports=function(e,t){try{o(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(2),o=n(43),r=i["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=r},function(e,t,n){var i=n(65),o=n(46),r=i("keys");e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var i=n(66),o=n(49).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var i=n(23);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(9),o=n(50),r=n(3)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var i=n(0);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){"use strict";var i=n(2),o=n(8),r=n(78),s=n(11),a=n(79),c=n(0),l=n(39),u=n(15),d=n(4),h=n(80),p=n(113),f=n(27),g=n(29),m=n(48).f,v=n(12).f,b=n(81),y=n(28),_=n(17),S=_.get,C=_.set,O=i.ArrayBuffer,w=O,x=i.DataView,E=x&&x.prototype,M=Object.prototype,R=i.RangeError,k=p.pack,P=p.unpack,T=function(e){return[255&e]},I=function(e){return[255&e,e>>8&255]},A=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},D=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},L=function(e){return k(e,23,4)},j=function(e){return k(e,52,8)},N=function(e,t){v(e.prototype,t,{get:function(){return S(this)[t]}})},U=function(e,t,n,i){var o=h(n),r=S(e);if(o+t>r.byteLength)throw R("Wrong index");var s=S(r.buffer).bytes,a=o+r.byteOffset,c=s.slice(a,a+t);return i?c:c.reverse()},V=function(e,t,n,i,o,r){var s=h(n),a=S(e);if(s+t>a.byteLength)throw R("Wrong index");for(var c=S(a.buffer).bytes,l=s+a.byteOffset,u=i(+o),d=0;d<t;d++)c[l+d]=u[r?d:t-d-1]};if(r){if(!c((function(){O(1)}))||!c((function(){new O(-1)}))||c((function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name}))){for(var z,F=(w=function(e){return l(this,w),new O(h(e))}).prototype=O.prototype,B=m(O),W=0;B.length>W;)(z=B[W++])in w||s(w,z,O[z]);F.constructor=w}g&&f(E)!==M&&g(E,M);var q=new x(new w(2)),G=E.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||a(E,{setInt8:function(e,t){G.call(this,e,t<<24>>24)},setUint8:function(e,t){G.call(this,e,t<<24>>24)}},{unsafe:!0})}else w=function(e){l(this,w,"ArrayBuffer");var t=h(e);C(this,{bytes:b.call(new Array(t),0),byteLength:t}),o||(this.byteLength=t)},x=function(e,t,n){l(this,x,"DataView"),l(e,w,"DataView");var i=S(e).byteLength,r=u(t);if(r<0||r>i)throw R("Wrong offset");if(r+(n=void 0===n?i-r:d(n))>i)throw R("Wrong length");C(this,{buffer:e,byteLength:n,byteOffset:r}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=r)},o&&(N(w,"byteLength"),N(x,"buffer"),N(x,"byteLength"),N(x,"byteOffset")),a(x.prototype,{getInt8:function(e){return U(this,1,e)[0]<<24>>24},getUint8:function(e){return U(this,1,e)[0]},getInt16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return D(U(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return D(U(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return P(U(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return P(U(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){V(this,1,e,T,t)},setUint8:function(e,t){V(this,1,e,T,t)},setInt16:function(e,t){V(this,2,e,I,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){V(this,2,e,I,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){V(this,4,e,A,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){V(this,4,e,A,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){V(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){V(this,8,e,j,t,arguments.length>2?arguments[2]:void 0)}});y(w,"ArrayBuffer"),y(x,"DataView"),e.exports={ArrayBuffer:w,DataView:x}},function(e,t,n){var i={};i[n(3)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){"use strict";var i=n(5),o=n(40);i({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var i=n(15),o=n(16),r=function(e){return function(t,n){var r,s,a=String(o(t)),c=i(n),l=a.length;return c<0||c>=l?e?"":void 0:(r=a.charCodeAt(c))<55296||r>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):r:e?a.slice(c,c+2):s-56320+(r-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},function(e,t,n){"use strict";n(56);var i=n(14),o=n(0),r=n(3),s=n(40),a=n(11),c=r("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=r("replace"),h=!!/./[d]&&""===/./[d]("a","$0"),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var f=r(e),g=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=g&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!g||!m||"replace"===e&&(!l||!u||h)||"split"===e&&!p){var v=/./[f],b=n(f,""[e],(function(e,t,n,i,o){return t.exec===s?g&&!o?{done:!0,value:v.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),y=b[1];i(String.prototype,e,b[0]),i(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}d&&a(RegExp.prototype[f],"sham",!0)}},function(e,t,n){"use strict";var i=n(57).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){var i=n(23),o=n(40);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!i.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(8),o=n(0),r=n(63);e.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(2),o=n(9),r=i.document,s=o(r)&&o(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},function(e,t,n){var i=n(44),o=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return o.call(e)}),e.exports=i.inspectSource},function(e,t,n){var i=n(33),o=n(44);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:i?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var i=n(7),o=n(21),r=n(34).indexOf,s=n(47);e.exports=function(e,t){var n,a=o(e),c=0,l=[];for(n in a)!i(s,n)&&i(a,n)&&l.push(n);for(;t.length>c;)i(a,n=t[c++])&&(~r(l,n)||l.push(n));return l}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(0);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(e,t,n){var i,o,r=n(2),s=n(103),a=r.process,c=a&&a.versions,l=c&&c.v8;l?o=(i=l.split("."))[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(o=i[1]),e.exports=o&&+o},function(e,t,n){"use strict";var i=n(13).forEach,o=n(53),r=n(19),s=o("forEach"),a=r("forEach");e.exports=s&&a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var i=n(8),o=n(12),r=n(6),s=n(72);e.exports=i?Object.defineProperties:function(e,t){r(e);for(var n,i=s(t),a=i.length,c=0;a>c;)o.f(e,n=i[c++],t[n]);return e}},function(e,t,n){var i=n(66),o=n(49);e.exports=Object.keys||function(e){return i(e,o)}},function(e,t,n){"use strict";var i=n(5),o=n(74),r=n(27),s=n(29),a=n(28),c=n(11),l=n(14),u=n(3),d=n(33),h=n(26),p=n(75),f=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v=function(){return this};e.exports=function(e,t,n,u,p,b,y){o(n,t,u);var _,S,C,O=function(e){if(e===p&&R)return R;if(!g&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},w=t+" Iterator",x=!1,E=e.prototype,M=E[m]||E["@@iterator"]||p&&E[p],R=!g&&M||O(p),k="Array"==t&&E.entries||M;if(k&&(_=r(k.call(new e)),f!==Object.prototype&&_.next&&(d||r(_)===f||(s?s(_,f):"function"!=typeof _[m]&&c(_,m,v)),a(_,w,!0,!0),d&&(h[w]=v))),"values"==p&&M&&"values"!==M.name&&(x=!0,R=function(){return M.call(this)}),d&&!y||E[m]===R||c(E,m,R),h[t]=R,p)if(S={values:O("values"),keys:b?R:O("keys"),entries:O("entries")},y)for(C in S)(g||x||!(C in E))&&l(E,C,S[C]);else i({target:t,proto:!0,forced:g||x},S);return S}},function(e,t,n){"use strict";var i=n(75).IteratorPrototype,o=n(38),r=n(20),s=n(28),a=n(26),c=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=o(i,{next:r(1,n)}),s(e,l,!1,!0),a[l]=c,e}},function(e,t,n){"use strict";var i,o,r,s=n(0),a=n(27),c=n(11),l=n(7),u=n(3),d=n(33),h=u("iterator"),p=!1;[].keys&&("next"in(r=[].keys())?(o=a(a(r)))!==Object.prototype&&(i=o):p=!0);var f=null==i||s((function(){var e={};return i[h].call(e)!==e}));f&&(i={}),d&&!f||l(i,h)||c(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var i=n(0);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){"use strict";var i=n(5),o=n(18),r=n(15),s=n(4),a=n(10),c=n(51),l=n(35),u=n(25),d=n(19),h=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,g=Math.min;i({target:"Array",proto:!0,forced:!h||!p},{splice:function(e,t){var n,i,u,d,h,p,m=a(this),v=s(m.length),b=o(e,v),y=arguments.length;if(0===y?n=i=0:1===y?(n=0,i=v-b):(n=y-2,i=g(f(r(t),0),v-b)),v+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=c(m,i),d=0;d<i;d++)(h=b+d)in m&&l(u,d,m[h]);if(u.length=i,n<i){for(d=b;d<v-i;d++)p=d+n,(h=d+i)in m?m[p]=m[h]:delete m[p];for(d=v;d>v-i+n;d--)delete m[d-1]}else if(n>i)for(d=v-i;d>b;d--)p=d+n-1,(h=d+i-1)in m?m[p]=m[h]:delete m[p];for(d=0;d<n;d++)m[d+b]=arguments[d+2];return m.length=v-i+n,u}})},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var i=n(14);e.exports=function(e,t,n){for(var o in t)i(e,o,t[o],n);return e}},function(e,t,n){var i=n(15),o=n(4);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=o(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var i=n(10),o=n(18),r=n(4);e.exports=function(e){for(var t=i(this),n=r(t.length),s=arguments.length,a=o(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);l>a;)t[a++]=e;return t}},function(e,t,n){"use strict";var i=n(24),o=n(12),r=n(3),s=n(8),a=r("species");e.exports=function(e){var t=i(e);s&&t&&!t[a]&&(0,o.f)(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(8),o=n(12).f,r=Function.prototype,s=r.toString,a=/^\s*function ([^ (]*)/;i&&!("name"in r)&&o(r,"name",{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var i=n(6);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var i=n(57).charAt,o=n(17),r=n(73),s=o.set,a=o.getterFor("String Iterator");r(String,"String",(function(e){s(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=a(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=i(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var i=n(58),o=n(6),r=n(4),s=n(16),a=n(59),c=n(60);i("match",1,(function(e,t,n){return[function(t){var n=s(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var s=o(e),l=String(this);if(!s.global)return c(s,l);var u=s.unicode;s.lastIndex=0;for(var d,h=[],p=0;null!==(d=c(s,l));){var f=String(d[0]);h[p]=f,""===f&&(s.lastIndex=a(l,r(s.lastIndex),u)),p++}return 0===p?null:h}]}))},function(e,t,n){"use strict";var i=n(5),o=n(124).trim;i({target:"String",proto:!0,forced:n(125)("trim")},{trim:function(){return o(this)}})},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){var i=n(130);e.exports=function(e,t){var n=i(e);if(n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var i=n(3),o=n(26),r=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[r]===e)}},function(e,t,n){var i=n(52),o=n(10),r=n(31),s=n(4),a=function(e){return function(t,n,a,c){i(n);var l=o(t),u=r(l),d=s(l.length),h=e?d-1:0,p=e?-1:1;if(a<2)for(;;){if(h in u){c=u[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in u&&(c=n(c,u[h],h,l));return c}};e.exports={left:a(!1),right:a(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var i=n(0),o=n(3),r=n(33),s=o("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){e.exports=n(168)},function(e,t,n){"use strict";var i=n(5),o=n(0),r=n(50),s=n(9),a=n(10),c=n(4),l=n(35),u=n(51),d=n(25),h=n(3),p=n(69),f=h("isConcatSpreadable"),g=p>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),m=d("concat"),v=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)};i({target:"Array",proto:!0,forced:!g||!m},{concat:function(e){var t,n,i,o,r,s=a(this),d=u(s,0),h=0;for(t=-1,i=arguments.length;t<i;t++)if(v(r=-1===t?s:arguments[t])){if(h+(o=c(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,h++)n in r&&l(d,h,r[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,h++,r)}return d.length=h,d}})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(2),o=n(64),r=i.WeakMap;e.exports="function"==typeof r&&/native code/.test(o(r))},function(e,t,n){var i=n(7),o=n(99),r=n(42),s=n(12);e.exports=function(e,t){for(var n=o(t),a=s.f,c=r.f,l=0;l<n.length;l++){var u=n[l];i(e,u)||a(e,u,c(t,u))}}},function(e,t,n){var i=n(24),o=n(48),r=n(67),s=n(6);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){var i=n(2);e.exports=i},function(e,t,n){var i=n(0),o=/#|\.prototype\./,r=function(e,t){var n=a[s(e)];return n==l||n!=c&&("function"==typeof t?i(t):!!t)},s=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},a=r.data={},c=r.NATIVE="N",l=r.POLYFILL="P";e.exports=r},function(e,t,n){var i=n(68);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(24);e.exports=i("navigator","userAgent")||""},function(e,t,n){"use strict";var i=n(5),o=n(13).filter,r=n(25),s=n(19),a=r("filter"),c=s("filter");i({target:"Array",proto:!0,forced:!a||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(5),o=n(70);i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,t,n){"use strict";var i=n(5),o=n(34).indexOf,r=n(53),s=n(19),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(e){return c?a.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(3),o=n(38),r=n(12),s=i("unscopables"),a=Array.prototype;null==a[s]&&r.f(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},function(e,t,n){var i=n(24);e.exports=i("document","documentElement")},function(e,t,n){var i=n(9);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var i=n(5),o=n(13).map,r=n(25),s=n(19),a=r("map"),c=s("map");i({target:"Array",proto:!0,forced:!a||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(5),o=n(9),r=n(50),s=n(18),a=n(4),c=n(21),l=n(35),u=n(3),d=n(25),h=n(19),p=d("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),m=[].slice,v=Math.max;i({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var n,i,u,d=c(this),h=a(d.length),p=s(e,h),f=s(void 0===t?h:t,h);if(r(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!r(n.prototype)?o(n)&&null===(n=n[g])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(d,p,f);for(i=new(void 0===n?Array:n)(v(f-p,0)),u=0;p<f;p++,u++)p in d&&l(i,u,d[p]);return i.length=u,i}})},function(e,t,n){"use strict";var i=n(5),o=n(2),r=n(54),s=n(82),a=r.ArrayBuffer;i({global:!0,forced:o.ArrayBuffer!==a},{ArrayBuffer:a}),s("ArrayBuffer")},function(e,t){var n=Math.abs,i=Math.pow,o=Math.floor,r=Math.log,s=Math.LN2;e.exports={pack:function(e,t,a){var c,l,u,d=new Array(a),h=8*a-t-1,p=(1<<h)-1,f=p>>1,g=23===t?i(2,-24)-i(2,-77):0,m=e<0||0===e&&1/e<0?1:0,v=0;for((e=n(e))!=e||e===1/0?(l=e!=e?1:0,c=p):(c=o(r(e)/s),e*(u=i(2,-c))<1&&(c--,u*=2),(e+=c+f>=1?g/u:g*i(2,1-f))*u>=2&&(c++,u/=2),c+f>=p?(l=0,c=p):c+f>=1?(l=(e*u-1)*i(2,t),c+=f):(l=e*i(2,f-1)*i(2,t),c=0));t>=8;d[v++]=255&l,l/=256,t-=8);for(c=c<<t|l,h+=t;h>0;d[v++]=255&c,c/=256,h-=8);return d[--v]|=128*m,d},unpack:function(e,t){var n,o=e.length,r=8*o-t-1,s=(1<<r)-1,a=s>>1,c=r-7,l=o-1,u=e[l--],d=127&u;for(u>>=7;c>0;d=256*d+e[l],l--,c-=8);for(n=d&(1<<-c)-1,d>>=-c,c+=t;c>0;n=256*n+e[l],l--,c-=8);if(0===d)d=1-a;else{if(d===s)return n?NaN:u?-1/0:1/0;n+=i(2,t),d-=a}return(u?-1:1)*n*i(2,d-t)}}},function(e,t,n){"use strict";var i=n(5),o=n(0),r=n(54),s=n(6),a=n(18),c=n(4),l=n(22),u=r.ArrayBuffer,d=r.DataView,h=u.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(s(this),e);for(var n=s(this).byteLength,i=a(e,n),o=a(void 0===t?n:t,n),r=new(l(this,u))(c(o-i)),p=new d(this),f=new d(r),g=0;i<o;)f.setUint8(g++,p.getUint8(i++));return r}})},function(e,t,n){var i=n(5),o=n(0),r=n(10),s=n(27),a=n(76);i({target:"Object",stat:!0,forced:o((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(r(e))}})},function(e,t,n){var i=n(55),o=n(14),r=n(117);i||o(Object.prototype,"toString",r,{unsafe:!0})},function(e,t,n){"use strict";var i=n(55),o=n(30);e.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){"use strict";var i=n(0);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){"use strict";var i=n(14),o=n(6),r=n(0),s=n(84),a=RegExp.prototype,c=a.toString;(r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))||"toString"!=c.name)&&i(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in a)?s.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";var i=n(58),o=n(6),r=n(4),s=n(15),a=n(16),c=n(59),l=n(121),u=n(60),d=Math.max,h=Math.min;i("replace",2,(function(e,t,n,i){var p=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=i.REPLACE_KEEPS_$0,g=p?"$":"$0";return[function(n,i){var o=a(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,o,i):t.call(String(o),n,i)},function(e,i){if(!p&&f||"string"==typeof i&&-1===i.indexOf(g)){var a=n(t,e,this,i);if(a.done)return a.value}var m=o(e),v=String(this),b="function"==typeof i;b||(i=String(i));var y=m.global;if(y){var _=m.unicode;m.lastIndex=0}for(var S=[];;){var C=u(m,v);if(null===C)break;if(S.push(C),!y)break;""===String(C[0])&&(m.lastIndex=c(v,r(m.lastIndex),_))}for(var O,w="",x=0,E=0;E<S.length;E++){C=S[E];for(var M=String(C[0]),R=d(h(s(C.index),v.length),0),k=[],P=1;P<C.length;P++)k.push(void 0===(O=C[P])?O:String(O));var T=C.groups;if(b){var I=[M].concat(k,R,v);void 0!==T&&I.push(T);var A=String(i.apply(void 0,I))}else A=l(M,v,R,k,T,i);R>=x&&(w+=v.slice(x,R)+A,x=R+M.length)}return w+v.slice(x)}]}))},function(e,t,n){var i=n(10),o=Math.floor,r="".replace,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,a=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,c,l,u){var d=n+e.length,h=c.length,p=a;return void 0!==l&&(l=i(l),p=s),r.call(u,p,(function(i,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":s=l[r.slice(1,-1)];break;default:var a=+r;if(0===a)return i;if(a>h){var u=o(a/10);return 0===u?i:u<=h?void 0===c[u-1]?r.charAt(1):c[u-1]+r.charAt(1):i}s=c[a-1]}return void 0===s?"":s}))}},function(e,t,n){"use strict";var i=n(58),o=n(123),r=n(6),s=n(16),a=n(22),c=n(59),l=n(4),u=n(60),d=n(40),h=n(0),p=[].push,f=Math.min,g=!h((function(){return!RegExp(4294967295,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(s(this)),r=void 0===n?4294967295:n>>>0;if(0===r)return[];if(void 0===e)return[i];if(!o(e))return t.call(i,e,r);for(var a,c,l,u=[],h=0,f=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(a=d.call(f,i))&&!((c=f.lastIndex)>h&&(u.push(i.slice(h,a.index)),a.length>1&&a.index<i.length&&p.apply(u,a.slice(1)),l=a[0].length,h=c,u.length>=r));)f.lastIndex===a.index&&f.lastIndex++;return h===i.length?!l&&f.test("")||u.push(""):u.push(i.slice(h)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=s(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,o,n):i.call(String(o),t,n)},function(e,o){var s=n(i,e,this,o,i!==t);if(s.done)return s.value;var d=r(e),h=String(this),p=a(d,RegExp),m=d.unicode,v=new p(g?d:"^(?:"+d.source+")",(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g")),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===h.length)return null===u(v,h)?[h]:[];for(var y=0,_=0,S=[];_<h.length;){v.lastIndex=g?_:0;var C,O=u(v,g?h:h.slice(_));if(null===O||(C=f(l(v.lastIndex+(g?0:_)),h.length))===y)_=c(h,_,m);else{if(S.push(h.slice(y,_)),S.length===b)return S;for(var w=1;w<=O.length-1;w++)if(S.push(O[w]),S.length===b)return S;_=y=C}}return S.push(h.slice(y)),S}]}),!g)},function(e,t,n){var i=n(9),o=n(23),r=n(3)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==o(e))}},function(e,t,n){var i=n(16),o="["+n(88)+"]",r=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),a=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},function(e,t,n){var i=n(0),o=n(88);e.exports=function(e){return i((function(){return!!o[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||o[e].name!==e}))}},function(e,t,n){n(127)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){"use strict";var i=n(5),o=n(2),r=n(8),s=n(128),a=n(1),c=n(54),l=n(39),u=n(20),d=n(11),h=n(4),p=n(80),f=n(89),g=n(32),m=n(7),v=n(30),b=n(9),y=n(38),_=n(29),S=n(48).f,C=n(131),O=n(13).forEach,w=n(82),x=n(12),E=n(42),M=n(17),R=n(132),k=M.get,P=M.set,T=x.f,I=E.f,A=Math.round,D=o.RangeError,L=c.ArrayBuffer,j=c.DataView,N=a.NATIVE_ARRAY_BUFFER_VIEWS,U=a.TYPED_ARRAY_TAG,V=a.TypedArray,z=a.TypedArrayPrototype,F=a.aTypedArrayConstructor,B=a.isTypedArray,W=function(e,t){for(var n=0,i=t.length,o=new(F(e))(i);i>n;)o[n]=t[n++];return o},q=function(e,t){T(e,t,{get:function(){return k(this)[t]}})},G=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},X=function(e,t){return B(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return X(e,t=g(t,!0))?u(2,e[t]):I(e,t)},H=function(e,t,n){return!(X(e,t=g(t,!0))&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?T(e,t,n):(e[t]=n.value,e)};r?(N||(E.f=Y,x.f=H,q(z,"buffer"),q(z,"byteOffset"),q(z,"byteLength"),q(z,"length")),i({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:Y,defineProperty:H}),e.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,a=e+(n?"Clamped":"")+"Array",c="get"+e,u="set"+e,g=o[a],m=g,v=m&&m.prototype,x={},E=function(e,t){T(e,t,{get:function(){return function(e,t){var n=k(e);return n.view[c](t*r+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var o=k(e);n&&(i=(i=A(i))<0?0:i>255?255:255&i),o.view[u](t*r+o.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};N?s&&(m=t((function(e,t,n,i){return l(e,m,a),R(b(t)?G(t)?void 0!==i?new g(t,f(n,r),i):void 0!==n?new g(t,f(n,r)):new g(t):B(t)?W(m,t):C.call(m,t):new g(p(t)),e,m)})),_&&_(m,V),O(S(g),(function(e){e in m||d(m,e,g[e])})),m.prototype=v):(m=t((function(e,t,n,i){l(e,m,a);var o,s,c,u=0,d=0;if(b(t)){if(!G(t))return B(t)?W(m,t):C.call(m,t);o=t,d=f(n,r);var g=t.byteLength;if(void 0===i){if(g%r)throw D("Wrong length");if((s=g-d)<0)throw D("Wrong length")}else if((s=h(i)*r)+d>g)throw D("Wrong length");c=s/r}else c=p(t),o=new L(s=c*r);for(P(e,{buffer:o,byteOffset:d,byteLength:s,length:c,view:new j(o)});u<c;)E(e,u++)})),_&&_(m,V),v=m.prototype=y(z)),v.constructor!==m&&d(v,"constructor",m),U&&d(v,U,a),x[a]=m,i({global:!0,forced:m!=g,sham:!N},x),"BYTES_PER_ELEMENT"in m||d(m,"BYTES_PER_ELEMENT",r),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",r),w(a)}):e.exports=function(){}},function(e,t,n){var i=n(2),o=n(0),r=n(129),s=n(1).NATIVE_ARRAY_BUFFER_VIEWS,a=i.ArrayBuffer,c=i.Int8Array;e.exports=!s||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!r((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||o((function(){return 1!==new c(new a(2),1,void 0).length}))},function(e,t,n){var i=n(3)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(a){}return n}},function(e,t,n){var i=n(15);e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,n){var i=n(10),o=n(4),r=n(41),s=n(90),a=n(36),c=n(1).aTypedArrayConstructor;e.exports=function(e){var t,n,l,u,d,h,p=i(e),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=r(p);if(null!=v&&!s(v))for(h=(d=v.call(p)).next,p=[];!(u=h.call(d)).done;)p.push(u.value);for(m&&f>2&&(g=a(g,arguments[2],2)),n=o(p.length),l=new(c(this))(n),t=0;n>t;t++)l[t]=m?g(p[t],t):p[t];return l}},function(e,t,n){var i=n(9),o=n(29);e.exports=function(e,t,n){var r,s;return o&&"function"==typeof(r=t.constructor)&&r!==n&&i(s=r.prototype)&&s!==n.prototype&&o(e,s),e}},function(e,t,n){"use strict";var i=n(1),o=n(134),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return o.call(r(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,n){"use strict";var i=n(10),o=n(18),r=n(4),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),a=r(n.length),c=o(e,a),l=o(t,a),u=arguments.length>2?arguments[2]:void 0,d=s((void 0===u?a:o(u,a))-l,a-c),h=1;for(l<c&&c<l+d&&(h=-1,l+=d-1,c+=d-1);d-- >0;)l in n?n[c]=n[l]:delete n[c],c+=h,l+=h;return n}},function(e,t,n){"use strict";var i=n(1),o=n(13).every,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(1),o=n(81),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",(function(e){return o.apply(r(this),arguments)}))},function(e,t,n){"use strict";var i=n(1),o=n(13).filter,r=n(22),s=i.aTypedArray,a=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("filter",(function(e){for(var t=o(s(this),e,arguments.length>1?arguments[1]:void 0),n=r(this,this.constructor),i=0,c=t.length,l=new(a(n))(c);c>i;)l[i]=t[i++];return l}))},function(e,t,n){"use strict";var i=n(1),o=n(13).find,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(1),o=n(13).findIndex,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(1),o=n(13).forEach,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(e){o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(1),o=n(34).includes,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(1),o=n(34).indexOf,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(2),o=n(1),r=n(37),s=n(3)("iterator"),a=i.Uint8Array,c=r.values,l=r.keys,u=r.entries,d=o.aTypedArray,h=o.exportTypedArrayMethod,p=a&&a.prototype[s],f=!!p&&("values"==p.name||null==p.name),g=function(){return c.call(d(this))};h("entries",(function(){return u.call(d(this))})),h("keys",(function(){return l.call(d(this))})),h("values",g,!f),h(s,g,!f)},function(e,t,n){"use strict";var i=n(1),o=i.aTypedArray,r=[].join;(0,i.exportTypedArrayMethod)("join",(function(e){return r.apply(o(this),arguments)}))},function(e,t,n){"use strict";var i=n(1),o=n(146),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(e){return o.apply(r(this),arguments)}))},function(e,t,n){"use strict";var i=n(21),o=n(15),r=n(4),s=n(53),a=n(19),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),h=a("indexOf",{ACCESSORS:!0,1:0});e.exports=!u&&d&&h?l:function(e){if(u)return l.apply(this,arguments)||0;var t=i(this),n=r(t.length),s=n-1;for(arguments.length>1&&(s=c(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}},function(e,t,n){"use strict";var i=n(1),o=n(13).map,r=n(22),s=i.aTypedArray,a=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",(function(e){return o(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(r(e,e.constructor)))(t)}))}))},function(e,t,n){"use strict";var i=n(1),o=n(91).left,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(e){return o(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(1),o=n(91).right,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(e){return o(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(1),o=i.aTypedArray,r=Math.floor;(0,i.exportTypedArrayMethod)("reverse",(function(){for(var e,t=o(this).length,n=r(t/2),i=0;i<n;)e=this[i],this[i++]=this[--t],this[t]=e;return this}))},function(e,t,n){"use strict";var i=n(1),o=n(4),r=n(89),s=n(10),a=n(0),c=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(e){c(this);var t=r(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=s(e),a=o(i.length),l=0;if(a+t>n)throw RangeError("Wrong length");for(;l<a;)this[t+l]=i[l++]}),a((function(){new Int8Array(1).set({})})))},function(e,t,n){"use strict";var i=n(1),o=n(22),r=n(0),s=i.aTypedArray,a=i.aTypedArrayConstructor,c=[].slice;(0,i.exportTypedArrayMethod)("slice",(function(e,t){for(var n=c.call(s(this),e,t),i=o(this,this.constructor),r=0,l=n.length,u=new(a(i))(l);l>r;)u[r]=n[r++];return u}),r((function(){new Int8Array(1).slice()})))},function(e,t,n){"use strict";var i=n(1),o=n(13).some,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(1),o=i.aTypedArray,r=[].sort;(0,i.exportTypedArrayMethod)("sort",(function(e){return r.call(o(this),e)}))},function(e,t,n){"use strict";var i=n(1),o=n(4),r=n(18),s=n(22),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(e,t){var n=a(this),i=n.length,c=r(e,i);return new(s(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===t?i:r(t,i))-c))}))},function(e,t,n){"use strict";var i=n(2),o=n(1),r=n(0),s=i.Int8Array,a=o.aTypedArray,c=o.exportTypedArrayMethod,l=[].toLocaleString,u=[].slice,d=!!s&&r((function(){l.call(new s(1))}));c("toLocaleString",(function(){return l.apply(d?u.call(a(this)):a(this),arguments)}),r((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!r((function(){s.prototype.toLocaleString.call([1,2])})))},function(e,t,n){"use strict";var i=n(1).exportTypedArrayMethod,o=n(0),r=n(2).Uint8Array,s=r&&r.prototype||{},a=[].toString,c=[].join;o((function(){a.call({})}))&&(a=function(){return c.call(this)}),i("toString",a,s.toString!=a)},function(e,t,n){var i=n(2),o=n(92),r=n(70),s=n(11);for(var a in o){var c=i[a],l=c&&c.prototype;if(l&&l.forEach!==r)try{s(l,"forEach",r)}catch(u){l.forEach=r}}},function(e,t,n){var i=n(2),o=n(92),r=n(37),s=n(11),a=n(3),c=a("iterator"),l=a("toStringTag"),u=r.values;for(var d in o){var h=i[d],p=h&&h.prototype;if(p){if(p[c]!==u)try{s(p,c,u)}catch(g){p[c]=u}if(p[l]||s(p,l,d),o[d])for(var f in r)if(p[f]!==r[f])try{s(p,f,r[f])}catch(g){p[f]=r[f]}}}},function(e,t,n){"use strict";n(85);var i,o=n(5),r=n(8),s=n(93),a=n(2),c=n(71),l=n(14),u=n(39),d=n(7),h=n(161),p=n(162),f=n(57).codeAt,g=n(165),m=n(28),v=n(166),b=n(17),y=a.URL,_=v.URLSearchParams,S=v.getState,C=b.set,O=b.getterFor("URL"),w=Math.floor,x=Math.pow,E=/[A-Za-z]/,M=/[\d+-.A-Za-z]/,R=/\d/,k=/^(0x|0X)/,P=/^[0-7]+$/,T=/^\d+$/,I=/^[\dA-Fa-f]+$/,A=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,L=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,j=/[\u0009\u000A\u000D]/g,N=function(e,t){var n,i,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=V(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Y(e)){if(t=g(t),A.test(t))return"Invalid host";if(null===(n=U(t)))return"Invalid host";e.host=n}else{if(D.test(t))return"Invalid host";for(n="",i=p(t),o=0;o<i.length;o++)n+=G(i[o],F);e.host=n}},U=function(e){var t,n,i,o,r,s,a,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(o=c[i]))return e;if(r=10,o.length>1&&"0"==o.charAt(0)&&(r=k.test(o)?16:8,o=o.slice(8==r?1:2)),""===o)s=0;else{if(!(10==r?T:8==r?P:I).test(o))return e;s=parseInt(o,r)}n.push(s)}for(i=0;i<t;i++)if(s=n[i],i==t-1){if(s>=x(256,5-t))return null}else if(s>255)return null;for(a=n.pop(),i=0;i<n.length;i++)a+=n[i]*x(256,3-i);return a},V=function(e){var t,n,i,o,r,s,a,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(t=n=0;n<4&&I.test(h());)t=16*t+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(i=0;h();){if(o=null,i>0){if(!("."==h()&&i<4))return;d++}if(!R.test(h()))return;for(;R.test(h());){if(r=parseInt(h(),10),null===o)o=r;else{if(0==o)return;o=10*o+r}if(o>255)return;d++}c[l]=256*c[l]+o,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(s=l-u,l=7;0!=l&&s>0;)a=c[l],c[l--]=c[u+s-1],c[u+--s]=a;else if(8!=l)return;return c},z=function(e){var t,n,i,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=w(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,o=0,r=0;r<8;r++)0!==e[r]?(o>n&&(t=i,n=o),i=null,o=0):(null===i&&(i=r),++o);return o>n&&(t=i,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),i===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},F={},B=h({},F,{" ":1,'"':1,"<":1,">":1,"`":1}),W=h({},B,{"#":1,"?":1,"{":1,"}":1}),q=h({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var n=f(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return d(X,e.scheme)},H=function(e){return""!=e.username||""!=e.password},Z=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var n;return 2==e.length&&E.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},J=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},K=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Q(t[0],!0)||t.pop()},$=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},ie={},oe={},re={},se={},ae={},ce={},le={},ue={},de={},he={},pe={},fe={},ge={},me={},ve={},be={},ye={},_e={},Se=function(e,t,n,o){var r,s,a,c,l,u=n||ee,h=0,f="",g=!1,m=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(L,"")),t=t.replace(j,""),r=p(t);h<=r.length;){switch(s=r[h],u){case ee:if(!s||!E.test(s)){if(n)return"Invalid scheme";u=ne;continue}f+=s.toLowerCase(),u=te;break;case te:if(s&&(M.test(s)||"+"==s||"-"==s||"."==s))f+=s.toLowerCase();else{if(":"!=s){if(n)return"Invalid scheme";f="",u=ne,h=0;continue}if(n&&(Y(e)!=d(X,f)||"file"==f&&(H(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(Y(e)&&X[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=pe:Y(e)&&o&&o.scheme==e.scheme?u=ie:Y(e)?u=ae:"/"==r[h+1]?(u=oe,h++):(e.cannotBeABaseURL=!0,e.path.push(""),u=be)}break;case ne:if(!o||o.cannotBeABaseURL&&"#"!=s)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==s){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,u=_e;break}u="file"==o.scheme?pe:re;continue;case ie:if("/"!=s||"/"!=r[h+1]){u=re;continue}u=ce,h++;break;case oe:if("/"==s){u=le;break}u=ve;continue;case re:if(e.scheme=o.scheme,s==i)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==s||"\\"==s&&Y(e))u=se;else if("?"==s)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",u=ye;else{if("#"!=s){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),u=ve;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",u=_e}break;case se:if(!Y(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,u=ve;continue}u=le}else u=ce;break;case ae:if(u=ce,"/"!=s||"/"!=f.charAt(h+1))continue;h++;break;case ce:if("/"!=s&&"\\"!=s){u=le;continue}break;case le:if("@"==s){g&&(f="%40"+f),g=!0,a=p(f);for(var b=0;b<a.length;b++){var y=a[b];if(":"!=y||v){var _=G(y,q);v?e.password+=_:e.username+=_}else v=!0}f=""}else if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&Y(e)){if(g&&""==f)return"Invalid authority";h-=p(f).length+1,f="",u=ue}else f+=s;break;case ue:case de:if(n&&"file"==e.scheme){u=ge;continue}if(":"!=s||m){if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&Y(e)){if(Y(e)&&""==f)return"Invalid host";if(n&&""==f&&(H(e)||null!==e.port))return;if(c=N(e,f))return c;if(f="",u=me,n)return;continue}"["==s?m=!0:"]"==s&&(m=!1),f+=s}else{if(""==f)return"Invalid host";if(c=N(e,f))return c;if(f="",u=he,n==de)return}break;case he:if(!R.test(s)){if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&Y(e)||n){if(""!=f){var S=parseInt(f,10);if(S>65535)return"Invalid port";e.port=Y(e)&&S===X[e.scheme]?null:S,f=""}if(n)return;u=me;continue}return"Invalid port"}f+=s;break;case pe:if(e.scheme="file","/"==s||"\\"==s)u=fe;else{if(!o||"file"!=o.scheme){u=ve;continue}if(s==i)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==s)e.host=o.host,e.path=o.path.slice(),e.query="",u=ye;else{if("#"!=s){J(r.slice(h).join(""))||(e.host=o.host,e.path=o.path.slice(),K(e)),u=ve;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",u=_e}}break;case fe:if("/"==s||"\\"==s){u=ge;break}o&&"file"==o.scheme&&!J(r.slice(h).join(""))&&(Q(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),u=ve;continue;case ge:if(s==i||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&Q(f))u=ve;else if(""==f){if(e.host="",n)return;u=me}else{if(c=N(e,f))return c;if("localhost"==e.host&&(e.host=""),n)return;f="",u=me}continue}f+=s;break;case me:if(Y(e)){if(u=ve,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=i&&(u=ve,"/"!=s))continue}else e.fragment="",u=_e;else e.query="",u=ye;break;case ve:if(s==i||"/"==s||"\\"==s&&Y(e)||!n&&("?"==s||"#"==s)){if(".."===(l=(l=f).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(K(e),"/"==s||"\\"==s&&Y(e)||e.path.push("")):$(f)?"/"==s||"\\"==s&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(s==i||"?"==s||"#"==s))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==s?(e.query="",u=ye):"#"==s&&(e.fragment="",u=_e)}else f+=G(s,W);break;case be:"?"==s?(e.query="",u=ye):"#"==s?(e.fragment="",u=_e):s!=i&&(e.path[0]+=G(s,F));break;case ye:n||"#"!=s?s!=i&&("'"==s&&Y(e)?e.query+="%27":e.query+="#"==s?"%23":G(s,F)):(e.fragment="",u=_e);break;case _e:s!=i&&(e.fragment+=G(s,B))}h++}},Ce=function(e){var t,n,i=u(this,Ce,"URL"),o=arguments.length>1?arguments[1]:void 0,s=String(e),a=C(i,{type:"URL"});if(void 0!==o)if(o instanceof Ce)t=O(o);else if(n=Se(t={},String(o)))throw TypeError(n);if(n=Se(a,s,null,t))throw TypeError(n);var c=a.searchParams=new _,l=S(c);l.updateSearchParams(a.query),l.updateURL=function(){a.query=String(c)||null},r||(i.href=we.call(i),i.origin=xe.call(i),i.protocol=Ee.call(i),i.username=Me.call(i),i.password=Re.call(i),i.host=ke.call(i),i.hostname=Pe.call(i),i.port=Te.call(i),i.pathname=Ie.call(i),i.search=Ae.call(i),i.searchParams=De.call(i),i.hash=Le.call(i))},Oe=Ce.prototype,we=function(){var e=O(this),t=e.scheme,n=e.username,i=e.password,o=e.host,r=e.port,s=e.path,a=e.query,c=e.fragment,l=t+":";return null!==o?(l+="//",H(e)&&(l+=n+(i?":"+i:"")+"@"),l+=z(o),null!==r&&(l+=":"+r)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(l+="?"+a),null!==c&&(l+="#"+c),l},xe=function(){var e=O(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(i){return"null"}return"file"!=t&&Y(e)?t+"://"+z(e.host)+(null!==n?":"+n:""):"null"},Ee=function(){return O(this).scheme+":"},Me=function(){return O(this).username},Re=function(){return O(this).password},ke=function(){var e=O(this),t=e.host,n=e.port;return null===t?"":null===n?z(t):z(t)+":"+n},Pe=function(){var e=O(this).host;return null===e?"":z(e)},Te=function(){var e=O(this).port;return null===e?"":String(e)},Ie=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ae=function(){var e=O(this).query;return e?"?"+e:""},De=function(){return O(this).searchParams},Le=function(){var e=O(this).fragment;return e?"#"+e:""},je=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(r&&c(Oe,{href:je(we,(function(e){var t=O(this),n=String(e),i=Se(t,n);if(i)throw TypeError(i);S(t.searchParams).updateSearchParams(t.query)})),origin:je(xe),protocol:je(Ee,(function(e){var t=O(this);Se(t,String(e)+":",ee)})),username:je(Me,(function(e){var t=O(this),n=p(String(e));if(!Z(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=G(n[i],q)}})),password:je(Re,(function(e){var t=O(this),n=p(String(e));if(!Z(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=G(n[i],q)}})),host:je(ke,(function(e){var t=O(this);t.cannotBeABaseURL||Se(t,String(e),ue)})),hostname:je(Pe,(function(e){var t=O(this);t.cannotBeABaseURL||Se(t,String(e),de)})),port:je(Te,(function(e){var t=O(this);Z(t)||(""==(e=String(e))?t.port=null:Se(t,e,he))})),pathname:je(Ie,(function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],Se(t,e+"",me))})),search:je(Ae,(function(e){var t=O(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,ye)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:je(De),hash:je(Le,(function(e){var t=O(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,_e)):t.fragment=null}))}),l(Oe,"toJSON",(function(){return we.call(this)}),{enumerable:!0}),l(Oe,"toString",(function(){return we.call(this)}),{enumerable:!0}),y){var Ne=y.createObjectURL,Ue=y.revokeObjectURL;Ne&&l(Ce,"createObjectURL",(function(e){return Ne.apply(y,arguments)})),Ue&&l(Ce,"revokeObjectURL",(function(e){return Ue.apply(y,arguments)}))}m(Ce,"URL"),o({global:!0,forced:!s,sham:!r},{URL:Ce})},function(e,t,n){"use strict";var i=n(8),o=n(0),r=n(72),s=n(67),a=n(61),c=n(10),l=n(31),u=Object.assign,d=Object.defineProperty;e.exports=!u||o((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=r(u({},t)).join("")}))?function(e,t){for(var n=c(e),o=arguments.length,u=1,d=s.f,h=a.f;o>u;)for(var p,f=l(arguments[u++]),g=d?r(f).concat(d(f)):r(f),m=g.length,v=0;m>v;)p=g[v++],i&&!h.call(f,p)||(n[p]=f[p]);return n}:u},function(e,t,n){"use strict";var i=n(36),o=n(10),r=n(163),s=n(90),a=n(4),c=n(35),l=n(41);e.exports=function(e){var t,n,u,d,h,p,f=o(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,y=l(f),_=0;if(b&&(v=i(v,m>2?arguments[2]:void 0,2)),null==y||g==Array&&s(y))for(n=new g(t=a(f.length));t>_;_++)p=b?v(f[_],_):f[_],c(n,_,p);else for(h=(d=y.call(f)).next,n=new g;!(u=h.call(d)).done;_++)p=b?r(d,v,[u.value,_],!0):u.value,c(n,_,p);return n.length=_,n}},function(e,t,n){var i=n(6),o=n(164);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(s){throw o(e),s}}},function(e,t,n){var i=n(6);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},function(e,t,n){"use strict";var i=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",s=Math.floor,a=String.fromCharCode,c=function(e){return e+22+75*(e<26)},l=function(e,t,n){var i=0;for(e=n?s(e/700):e>>1,e+=s(e/t);e>455;i+=36)e=s(e/35);return s(i+36*e/(e+38))},u=function(e){var t,n,i=[],o=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<i){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,u=128,d=0,h=72;for(t=0;t<e.length;t++)(n=e[t])<128&&i.push(a(n));var p=i.length,f=p;for(p&&i.push("-");f<o;){var g=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=u&&n<g&&(g=n);var m=f+1;if(g-u>s((2147483647-d)/m))throw RangeError(r);for(d+=(g-u)*m,u=g,t=0;t<e.length;t++){if((n=e[t])<u&&++d>2147483647)throw RangeError(r);if(n==u){for(var v=d,b=36;;b+=36){var y=b<=h?1:b>=h+26?26:b-h;if(v<y)break;var _=v-y,S=36-y;i.push(a(c(y+_%S))),v=s(_/S)}i.push(a(c(v))),h=l(d,m,f==p),d=0,++f}}++d,++u}return i.join("")};e.exports=function(e){var t,n,r=[],s=e.toLowerCase().replace(o,".").split(".");for(t=0;t<s.length;t++)r.push(i.test(n=s[t])?"xn--"+u(n):n);return r.join(".")}},function(e,t,n){"use strict";n(37);var i=n(5),o=n(24),r=n(93),s=n(14),a=n(79),c=n(28),l=n(74),u=n(17),d=n(39),h=n(7),p=n(36),f=n(30),g=n(6),m=n(9),v=n(38),b=n(20),y=n(167),_=n(41),S=n(3),C=o("fetch"),O=o("Headers"),w=S("iterator"),x=u.set,E=u.getterFor("URLSearchParams"),M=u.getterFor("URLSearchParamsIterator"),R=/\+/g,k=Array(4),P=function(e){return k[e-1]||(k[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},T=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(R," "),n=4;try{return decodeURIComponent(t)}catch(i){for(;n;)t=t.replace(P(n--),T);return t}},A=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(e){return D[e]},j=function(e){return encodeURIComponent(e).replace(A,L)},N=function(e,t){if(t)for(var n,i,o=t.split("&"),r=0;r<o.length;)(n=o[r++]).length&&(i=n.split("="),e.push({key:I(i.shift()),value:I(i.join("="))}))},U=function(e){this.entries.length=0,N(this.entries,e)},V=function(e,t){if(e<t)throw TypeError("Not enough arguments")},z=l((function(e,t){x(this,{type:"URLSearchParamsIterator",iterator:y(E(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),F=function(){d(this,F,"URLSearchParams");var e,t,n,i,o,r,s,a,c,l=arguments.length>0?arguments[0]:void 0,u=this,p=[];if(x(u,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:U}),void 0!==l)if(m(l))if("function"==typeof(e=_(l)))for(n=(t=e.call(l)).next;!(i=n.call(t)).done;){if((s=(r=(o=y(g(i.value))).next).call(o)).done||(a=r.call(o)).done||!r.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:s.value+"",value:a.value+""})}else for(c in l)h(l,c)&&p.push({key:c,value:l[c]+""});else N(p,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},B=F.prototype;a(B,{append:function(e,t){V(arguments.length,2);var n=E(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){V(arguments.length,1);for(var t=E(this),n=t.entries,i=e+"",o=0;o<n.length;)n[o].key===i?n.splice(o,1):o++;t.updateURL()},get:function(e){V(arguments.length,1);for(var t=E(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){V(arguments.length,1);for(var t=E(this).entries,n=e+"",i=[],o=0;o<t.length;o++)t[o].key===n&&i.push(t[o].value);return i},has:function(e){V(arguments.length,1);for(var t=E(this).entries,n=e+"",i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){V(arguments.length,1);for(var n,i=E(this),o=i.entries,r=!1,s=e+"",a=t+"",c=0;c<o.length;c++)(n=o[c]).key===s&&(r?o.splice(c--,1):(r=!0,n.value=a));r||o.push({key:s,value:a}),i.updateURL()},sort:function(){var e,t,n,i=E(this),o=i.entries,r=o.slice();for(o.length=0,n=0;n<r.length;n++){for(e=r[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}i.updateURL()},forEach:function(e){for(var t,n=E(this).entries,i=p(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)i((t=n[o++]).value,t.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),s(B,w,B.entries),s(B,"toString",(function(){for(var e,t=E(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(j(e.key)+"="+j(e.value));return n.join("&")}),{enumerable:!0}),c(F,"URLSearchParams"),i({global:!0,forced:!r},{URLSearchParams:F}),r||"function"!=typeof C||"function"!=typeof O||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,i,o=[e];return arguments.length>1&&(m(t=arguments[1])&&"URLSearchParams"===f(n=t.body)&&((i=t.headers?new O(t.headers):new O).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:b(0,String(n)),headers:b(0,i)})),o.push(t)),C.apply(this,o)}}),e.exports={URLSearchParams:F,getState:E}},function(e,t,n){var i=n(6),o=n(41);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},function(e,t,n){"use strict";function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.r(t),n.d(t,"Dropzone",(function(){return y})),n(95),n(104),n(105),n(106),n(37),n(110),n(111),n(77),n(112),n(114),n(83),n(115),n(116),n(56),n(119),n(85),n(86),n(120),n(122),n(87),n(126),n(133),n(135),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var s,a=i(t,!0);try{for(a.s();!(s=a.n()).done;){var c=s.value;c.apply(this,o)}}catch(l){a.e(l)}finally{a.f()}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var i=0;i<n.length;i++){var o=n[i];if(o===t){n.splice(i,1);break}}return this}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var t,n=s(this.element.getElementsByTagName("div"),!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(/(^| )dz-message($| )/.test(i.className)){e=i,i.className="dz-message";break}}}catch(r){n.e(r)}finally{n.f()}e||(e=y.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var o=e.getElementsByTagName("span")[0];return o&&(null!=o.textContent?o.textContent=this.options.dictFallbackMessage:null!=o.innerText&&(o.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,i){var o={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},r=e.width/e.height;null==t&&null==n?(t=o.srcWidth,n=o.srcHeight):null==t?t=n*r:null==n&&(n=t/r);var s=(t=Math.min(t,o.srcWidth))/(n=Math.min(n,o.srcHeight));if(o.srcWidth>t||o.srcHeight>n)if("crop"===i)r>s?(o.srcHeight=e.height,o.srcWidth=o.srcHeight*s):(o.srcWidth=e.width,o.srcHeight=o.srcWidth/s);else{if("contain"!==i)throw new Error("Unknown resizeMethod '".concat(i,"'"));r>s?n=t/r:t=n*r}return o.srcX=(e.width-o.srcWidth)/2,o.srcY=(e.height-o.srcHeight)/2,o.trgWidth=t,o.trgHeight=n,o},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n<div class="dz-image"><img data-dz-thumbnail /></div>\n<div class="dz-details">\n<div class="dz-size"><span data-dz-size></span></div>\n<div class="dz-filename"><span data-dz-name></span></div>\n</div>\n<div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n<div class="dz-error-message"><span data-dz-errormessage></span></div>\n<div class="dz-success-mark">\n<svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <title>Check</title>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n  </g>\n</svg>\n</div>\n<div class="dz-error-mark">\n<svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <title>Error</title>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n      <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n    </g>\n  </g>\n</svg>\n</div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){e.previewElement=y.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var n,i=s(e.previewElement.querySelectorAll("[data-dz-name]"),!0);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.textContent=e.name}}catch(d){i.e(d)}finally{i.f()}var r,a=s(e.previewElement.querySelectorAll("[data-dz-size]"),!0);try{for(a.s();!(r=a.n()).done;)(o=r.value).innerHTML=this.filesize(e.size)}catch(d){a.e(d)}finally{a.f()}this.options.addRemoveLinks&&(e._removeLink=y.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var c,l=function(n){return n.preventDefault(),n.stopPropagation(),e.status===y.UPLOADING?y.confirm(t.options.dictCancelUploadConfirmation,(function(){return t.removeFile(e)})):t.options.dictRemoveFileConfirmation?y.confirm(t.options.dictRemoveFileConfirmation,(function(){return t.removeFile(e)})):t.removeFile(e)},u=s(e.previewElement.querySelectorAll("[data-dz-remove]"),!0);try{for(u.s();!(c=u.n()).done;)c.value.addEventListener("click",l)}catch(d){u.e(d)}finally{u.f()}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n,i=s(e.previewElement.querySelectorAll("[data-dz-thumbnail]"),!0);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.alt=e.name,o.src=t}}catch(r){i.e(r)}finally{i.f()}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"string"!=typeof t&&t.error&&(t=t.error);var n,i=s(e.previewElement.querySelectorAll("[data-dz-errormessage]"),!0);try{for(i.s();!(n=i.n()).done;)n.value.textContent=t}catch(o){i.e(o)}finally{i.f()}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement){var i,o=s(e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),!0);try{for(o.s();!(i=o.n()).done;){var r=i.value;"PROGRESS"===r.nodeName?r.value=t:r.style.width="".concat(t,"%")}}catch(a){o.e(a)}finally{o.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var t,n,i=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=b(t);if(n){var o=b(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return m(this,e)});function o(e,t){var n,r,s;if(h(this,o),(n=i.call(this)).element=e,n.version=o.version,n.clickableElements=[],n.listeners=[],n.files=[],"string"==typeof n.element&&(n.element=document.querySelector(n.element)),!n.element||null==n.element.nodeType)throw new Error("Invalid dropzone element.");if(n.element.dropzone)throw new Error("Dropzone already attached.");o.instances.push(v(n)),n.element.dropzone=v(n);var a=null!=(s=o.optionsForElement(n.element))?s:{};if(n.options=o.extend({},c,a,null!=t?t:{}),n.options.previewTemplate=n.options.previewTemplate.replace(/\n*/g,""),n.options.forceFallback||!o.isBrowserSupported())return m(n,n.options.fallback.call(v(n)));if(null==n.options.url&&(n.options.url=n.element.getAttribute("action")),!n.options.url)throw new Error("No URL provided.");if(n.options.acceptedFiles&&n.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(n.options.uploadMultiple&&n.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return n.options.acceptedMimeTypes&&(n.options.acceptedFiles=n.options.acceptedMimeTypes,delete n.options.acceptedMimeTypes),null!=n.options.renameFilename&&(n.options.renameFile=function(e){return n.options.renameFilename.call(v(n),e.name,e)}),"string"==typeof n.options.method&&(n.options.method=n.options.method.toUpperCase()),(r=n.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==n.options.previewsContainer&&(n.previewsContainer=n.options.previewsContainer?o.getElement(n.options.previewsContainer,"previewsContainer"):n.element),n.options.clickable&&(n.clickableElements=!0===n.options.clickable?[n.element]:o.getElements(n.options.clickable,"clickable")),n.init(),n}return f(o,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(o.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(o.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(o.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===o.UPLOADING||e.status===o.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function t(){e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.setAttribute("tabindex","-1"),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",o.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var n=e.hiddenFileInput.files;if(n.length){var i,o=u(n,!0);try{for(o.s();!(i=o.n()).done;)e.addFile(i.value)}catch(r){o.e(r)}finally{o.f()}}e.emit("addedfiles",n),t()}))}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var t,n=u(this.events,!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.on(i,this.options[i])}}catch(s){n.e(s)}finally{n.f()}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var r=function(e){if(function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return r(t),e.emit("dragenter",t)},dragover:function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(i){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",r(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return r(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||o.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var i,o=u(this.getActiveFiles(),!0);try{for(o.s();!(i=o.n()).done;){var r=i.value;t+=r.upload.bytesSent,n+=r.upload.total}}catch(s){o.e(s)}finally{o.f()}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>".concat(this.options.dictFallbackText,"</p>")),n+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var i=o.createElement(n);return"FORM"!==this.element.tagName?(t=o.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:i}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(/(^| )fallback($| )/.test(i.className))return i}}catch(o){n.e(o)}finally{n.f()}},t=0,n=["div","form"];t<n.length;t++){var i;if(i=e(this.element.getElementsByTagName(n[t])))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events)t.push(e.element.addEventListener(n,e.events[n],!1));return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events)t.push(e.element.removeEventListener(n,e.events[n],!1));return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],o=0;o<i.length;o++){var r=i[o];if(e>=Math.pow(this.options.filesizeBase,4-o)/10){t=e/Math.pow(this.options.filesizeBase,4-o),n=r;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(t.length){var i=e.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function(e){if(null!=(null!=(t=null!=e?e.clipboardData:void 0)?t.items:void 0)){var t;this.emit("paste",e);var n=e.clipboardData.items;return n.length?this._addFilesFromItems(n):void 0}}},{key:"handleFiles",value:function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;)this.addFile(t.value)}catch(i){n.e(i)}finally{n.f()}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n,i=[],o=u(e,!0);try{for(o.s();!(n=o.n()).done;){var r,s=n.value;null!=s.webkitGetAsEntry&&(r=s.webkitGetAsEntry())?i.push(r.isFile?t.addFile(s.getAsFile()):r.isDirectory?t._addFilesFromDirectory(r,r.name):void 0):i.push(null==s.getAsFile||null!=s.kind&&"file"!==s.kind?void 0:t.addFile(s.getAsFile()))}}catch(a){o.e(a)}finally{o.f()}return i}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,i=e.createReader(),o=function(e){return null!=(t=console)&&"function"==typeof t.log?t.log(e):void 0;var t};return function e(){return i.readEntries((function(i){if(i.length>0){var o,r=u(i,!0);try{for(r.s();!(o=r.n()).done;){var s=o.value;s.isFile?s.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),n.addFile(e)})):s.isDirectory&&n._addFilesFromDirectory(s,"".concat(t,"/").concat(s.name))}}catch(a){r.e(a)}finally{r.f()}e()}return null}),o)}()}},{key:"accept",value:function(e,t){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;e.upload={uuid:o.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(n){n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;)this.enqueueFile(t.value)}catch(i){n.e(i)}finally{n.f()}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==o.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=o.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return t.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===o.UPLOADING&&this.cancelUpload(e),this.files=_(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var t,n=u(this.files.slice(),!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;(i.status!==o.UPLOADING||e)&&this.removeFile(i)}}catch(r){n.e(r)}finally{n.f()}return null}},{key:"resizeImage",value:function(e,t,n,i,r){var s=this;return this.createThumbnail(e,t,n,i,!0,(function(t,n){if(null==n)return r(e);var i=s.options.resizeMimeType;null==i&&(i=e.type);var a=n.toDataURL(i,s.options.resizeQuality);return"image/jpeg"!==i&&"image/jpg"!==i||(a=O.restore(e.dataURL,a)),r(o.dataURItoBlob(a))}))}},{key:"createThumbnail",value:function(e,t,n,i,o,r){var s=this,a=new FileReader;a.onload=function(){e.dataURL=a.result,"image/svg+xml"!==e.type?s.createThumbnailFromUrl(e,t,n,i,o,r):null!=r&&r(a.result)},a.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,n,i){var o=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",e),this.emit("complete",e),r){var s=function(t){o.emit("thumbnail",e,t),n&&n()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,s,i)}else this.emit("thumbnail",e,t),n&&n()}},{key:"createThumbnailFromUrl",value:function(e,t,n,i,o,r,s){var a=this,c=document.createElement("img");return s&&(c.crossOrigin=s),o="from-image"!=getComputedStyle(document.body).imageOrientation&&o,c.onload=function(){var s=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(s=function(e){return EXIF.getData(c,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),s((function(o){e.width=c.width,e.height=c.height;var s=a.options.resize.call(a,e,t,n,i),l=document.createElement("canvas"),u=l.getContext("2d");switch(l.width=s.trgWidth,l.height=s.trgHeight,o>4&&(l.width=s.trgHeight,l.height=s.trgWidth),o){case 2:u.translate(l.width,0),u.scale(-1,1);break;case 3:u.translate(l.width,l.height),u.rotate(Math.PI);break;case 4:u.translate(0,l.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-l.width);break;case 7:u.rotate(.5*Math.PI),u.translate(l.height,-l.width),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-l.height,0)}C(u,c,null!=s.srcX?s.srcX:0,null!=s.srcY?s.srcY:0,s.srcWidth,s.srcHeight,null!=s.trgX?s.trgX:0,null!=s.trgY?s.trgY:0,s.trgWidth,s.trgHeight);var d=l.toDataURL("image/png");if(null!=r)return r(d,l)}))},null!=r&&(c.onerror=r),c.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.processing=!0,i.status=o.UPLOADING,this.emit("processing",i)}}catch(r){n.e(r)}finally{n.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===o.UPLOADING){var t,n=this._getFilesWithXhr(e.xhr),i=u(n,!0);try{for(i.s();!(t=i.n()).done;)t.value.status=o.CANCELED}catch(a){i.e(a)}finally{i.f()}void 0!==e.xhr&&e.xhr.abort();var r,s=u(n,!0);try{for(s.s();!(r=s.n()).done;)this.emit("canceled",r.value)}catch(a){s.e(a)}finally{s.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else e.status!==o.ADDED&&e.status!==o.QUEUED||(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,(function(n){if(t.options.chunking){var i=n[0];e[0].upload.chunked=t.options.chunking&&(t.options.forceChunking||i.size>t.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(i.size/t.options.chunkSize)}if(e[0].upload.chunked){var r=e[0],s=n[0];r.upload.chunks=[];var a=function(){for(var n=0;void 0!==r.upload.chunks[n];)n++;if(!(n>=r.upload.totalChunkCount)){var i=n*t.options.chunkSize,a=Math.min(i+t.options.chunkSize,s.size),c={name:t._getParamName(0),data:s.webkitSlice?s.webkitSlice(i,a):s.slice(i,a),filename:r.upload.filename,chunkIndex:n};r.upload.chunks[n]={file:r,index:n,dataBlock:c,status:o.UPLOADING,progress:0,retries:0},t._uploadData(e,[c])}};if(r.upload.finishedChunkUpload=function(n){var i=!0;n.status=o.SUCCESS,n.dataBlock=null,n.xhr=null;for(var s=0;s<r.upload.totalChunkCount;s++){if(void 0===r.upload.chunks[s])return a();r.upload.chunks[s].status!==o.SUCCESS&&(i=!1)}i&&t.options.chunksUploaded(r,(function(){t._finished(e,"",null)}))},t.options.parallelChunkUploads)for(var c=0;c<r.upload.totalChunkCount;c++)a();else a()}else{for(var l=[],u=0;u<e.length;u++)l[u]={name:t._getParamName(u),data:n[u],filename:e[u].upload.filename};t._uploadData(e,l)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){var n,i=this,r=new XMLHttpRequest,s=u(e,!0);try{for(s.s();!(n=s.n()).done;)n.value.xhr=r}catch(C){s.e(C)}finally{s.f()}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=r);var a=this.resolveOption(this.options.method,e),c=this.resolveOption(this.options.url,e);r.open(a,c,!0),r.timeout=this.resolveOption(this.options.timeout,e),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){i._finishedUploading(e,r,t)},r.ontimeout=function(){i._handleUploadError(e,r,"Request timedout after ".concat(i.options.timeout/1e3," seconds"))},r.onerror=function(){i._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return i._updateFilesUploadProgress(e,r,t)};var l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&o.extend(l,this.options.headers),l){var h=l[d];h&&r.setRequestHeader(d,h)}var p=new FormData;if(this.options.params){var f=this.options.params;for(var g in"function"==typeof f&&(f=f.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null)),f){var m=f[g];if(Array.isArray(m))for(var v=0;v<m.length;v++)p.append(g,m[v]);else p.append(g,m)}}var b,y=u(e,!0);try{for(y.s();!(b=y.n()).done;)this.emit("sending",b.value,r,p)}catch(C){y.e(C)}finally{y.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,p),this._addFormElementData(p);for(var _=0;_<t.length;_++){var S=t[_];p.append(S.name,S.data,S.filename)}this.submitRequest(r,p,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,i=[],o=0,r=function(r){n.options.transformFile.call(n,e[r],(function(n){i[r]=n,++o===e.length&&t(i)}))},s=0;s<e.length;s++)r(s)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t,n=u(this.element.querySelectorAll("input, textarea, select, button"),!0);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.getAttribute("name"),r=i.getAttribute("type");if(r&&(r=r.toLowerCase()),null!=o)if("SELECT"===i.tagName&&i.hasAttribute("multiple")){var s,a=u(i.options,!0);try{for(a.s();!(s=a.n()).done;){var c=s.value;c.selected&&e.append(o,c.value)}}catch(l){a.e(l)}finally{a.f()}}else(!r||"checkbox"!==r&&"radio"!==r||i.checked)&&e.append(o,i.value)}}catch(l){n.e(l)}finally{n.f()}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var i;if(void 0!==n){if(i=100*n.loaded/n.total,e[0].upload.chunked){var o=e[0],r=this._getChunk(o,t);r.progress=i,r.total=n.total,r.bytesSent=n.loaded,o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var s=0;s<o.upload.totalChunkCount;s++)void 0!==o.upload.chunks[s]&&void 0!==o.upload.chunks[s].progress&&(o.upload.progress+=o.upload.chunks[s].progress,o.upload.total+=o.upload.chunks[s].total,o.upload.bytesSent+=o.upload.chunks[s].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else{var a,c=u(e,!0);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.upload.progress=i,l.upload.total=n.total,l.upload.bytesSent=n.loaded}}catch(S){c.e(S)}finally{c.f()}}var d,h=u(e,!0);try{for(h.s();!(d=h.n()).done;){var p=d.value;this.emit("uploadprogress",p,p.upload.progress,p.upload.bytesSent)}}catch(S){h.e(S)}finally{h.f()}}else{var f=!0;i=100;var g,m=u(e,!0);try{for(m.s();!(g=m.n()).done;){var v=g.value;100===v.upload.progress&&v.upload.bytesSent===v.upload.total||(f=!1),v.upload.progress=i,v.upload.bytesSent=v.upload.total}}catch(S){m.e(S)}finally{m.f()}if(f)return;var b,y=u(e,!0);try{for(y.s();!(b=y.n()).done;){var _=b.value;this.emit("uploadprogress",_,i,_.upload.bytesSent)}}catch(S){y.e(S)}finally{y.f()}}}},{key:"_finishedUploading",value:function(e,t,n){var i;if(e[0].status!==o.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(i=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(r){n=r,i="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,i,n):this._handleUploadError(e,t,i)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==o.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var i=this._getChunk(e[0],t);if(i.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[i.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,t,n){var i,r=u(e,!0);try{for(r.s();!(i=r.n()).done;){var s=i.value;s.status=o.SUCCESS,this.emit("success",s,t,n),this.emit("complete",s)}}catch(a){r.e(a)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){var i,r=u(e,!0);try{for(r.s();!(i=r.n()).done;){var s=i.value;s.status=o.ERROR,this.emit("error",s,t,n),this.emit("complete",s)}}catch(a){r.e(a)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=r,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var o=0,r=n;o<r.length;o++){var s=r[o];for(var a in s){var c=s[a];e[a]=c}}return e}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),o}(r);y.initClass(),y.version="5.7.6",y.options={},y.optionsForElement=function(e){return e.getAttribute("id")?y.options[S(e.getAttribute("id"))]:void 0},y.instances=[],y.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},y.autoDiscover=!0,y.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n,i=[],o=u(t,!0);try{for(o.s();!(n=o.n()).done;){var r=n.value;/(^| )dropzone($| )/.test(r.className)?i.push(e.push(r)):i.push(void 0)}}catch(s){o.e(s)}finally{o.f()}return i}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t,n=[],i=u(e,!0);try{for(i.s();!(t=i.n()).done;){var o=t.value;!1!==y.optionsForElement(o)?n.push(new y(o)):n.push(void 0)}}catch(r){i.e(r)}finally{i.f()}return n}()},y.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],y.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==y.blacklistedBrowsers&&(y.blockedBrowsers=y.blacklistedBrowsers);var t,n=u(y.blockedBrowsers,!0);try{for(n.s();!(t=n.n()).done;)t.value.test(navigator.userAgent)&&(e=!1)}catch(i){n.e(i)}finally{n.f()}}else e=!1;else e=!1;return e},y.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),o=new Uint8Array(i),r=0,s=t.length,a=0<=s;a?r<=s:r>=s;a?r++:r--)o[r]=t.charCodeAt(r);return new Blob([i],{type:n})};var _=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},S=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};y.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},y.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},y.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},y.getElements=function(e,t){var n;if(e instanceof Array){n=[];try{var i,o=u(e,!0);try{for(o.s();!(i=o.n()).done;)n.push(this.getElement(i.value,t))}catch(a){o.e(a)}finally{o.f()}}catch(c){n=null}}else if("string"==typeof e){n=[];var r,s=u(document.querySelectorAll(e),!0);try{for(s.s();!(r=s.n()).done;)n.push(r.value)}catch(a){s.e(a)}finally{s.f()}}else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return n},y.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},y.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n,i=e.type,o=i.replace(/\/.*$/,""),r=u(t,!0);try{for(r.s();!(n=r.n()).done;){var s=n.value;if("."===(s=s.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(o===s.replace(/\/.*$/,""))return!0}else if(i===s)return!0}}catch(a){r.e(a)}finally{r.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new y(this,e)}))}),y.ADDED="added",y.QUEUED="queued",y.ACCEPTED=y.QUEUED,y.UPLOADING="uploading",y.PROCESSING=y.UPLOADING,y.CANCELED="canceled",y.ERROR="error",y.SUCCESS="success";var C=function(e,t,n,i,o,r,s,a,c,l){var u=function(e){var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var i=n.getContext("2d");i.drawImage(e,0,0);for(var o=i.getImageData(1,0,1,t).data,r=0,s=t,a=t;a>r;)0===o[4*(a-1)+3]?s=a:r=a,a=s+r>>1;var c=a/t;return 0===c?1:c}(t);return e.drawImage(t,n,i,o,r,s,a,c,l/u)},O=function(){function e(){h(this,e)}return f(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,i=void 0,o="",r=void 0,s=void 0,a=void 0,c="",l=0;r=(n=e[l++])>>2,s=(3&n)<<4|(i=e[l++])>>4,a=(15&i)<<2|(o=e[l++])>>6,c=63&o,isNaN(i)?a=c=64:isNaN(o)&&(c=64),t=t+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(c),n=i=o="",r=s=a=c="",l<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),o=this.exifManipulation(t,i);return"data:image/jpeg;base64,".concat(this.encode64(o))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),o=i.indexOf(255,3),r=i.slice(0,o),s=i.slice(o);return r.concat(t).concat(s)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var i=t+(256*e[t+2]+e[t+3])+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n="",i=void 0,o=void 0,r=void 0,s="",a=0,c=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");i=this.KEY_STR.indexOf(e.charAt(a++)),t=(15&(o=this.KEY_STR.indexOf(e.charAt(a++))))<<4|(r=this.KEY_STR.indexOf(e.charAt(a++)))>>2,n=(3&r)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),c.push(i<<2|o>>4),64!==r&&c.push(t),64!==s&&c.push(n),t=n="",i=o=r=s="",a<e.length;);return c}}]),e}();O.initClass(),y._autoDiscoverFunction=function(){if(y.autoDiscover)return y.discover()},function(e,t){var n=!1,i=!0,o=e.document,r=o.documentElement,s=o.addEventListener?"addEventListener":"attachEvent",a=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on",l=function i(r){if("readystatechange"!==r.type||"complete"===o.readyState)return("load"===r.type?e:o)[a](c+r.type,i,!1),!n&&(n=!0)?t.call(e,r.type||r):void 0};if("complete"!==o.readyState){if(o.createEventObject&&r.doScroll){try{i=!e.frameElement}catch(u){}i&&function e(){try{r.doScroll("left")}catch(t){return void setTimeout(e,50)}return l("poll")}()}o[s](c+"DOMContentLoaded",l,!1),o[s](c+"readystatechange",l,!1),e[s](c+"load",l,!1)}}(window,y._autoDiscoverFunction),window.Dropzone=y,t.default=y}])},e.exports=i()},gUCu:function(e,t){function n(){var e={};this.forEach=function(t){for(var n in e){var i=e[n];for(var o in i)t(i[o])}},this.get=function(t,n){var i=e[n];if(null!=i)return i[t]},this.remove=function(t,n){var i=e[n];if(null!=i){for(var o in delete i[t],i)return!1;delete e[n]}},this.set=function(t,n,i){if(null==t)return this.remove(n,i);var o=e[i];null==o&&(e[i]=o={}),o[n]=t}}n.prototype.pop=function(e,t){var n=this.get(e,t);if(null!=n)return this.remove(e,t),n},e.exports=n},hw9W:function(e){e.exports=JSON.parse("[]")},hzOQ:function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t,n){this.hasBeenPrevented=!1,this.cancelable=e,this.target=t,this.type=n}return e.prototype.isDefaultPrevented=function(){return this.hasBeenPrevented},e.prototype.preventDefault=function(){this.callDefaultBehavior=function(){},this.hasBeenPrevented=!0},e}();t.Event=i},joaK:function(e,t,n){e.exports=n("TDwH").default},ksJj:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n("hzOQ"),s=n("9m68").OpenViduLogger.getInstance(),a=function(e){function t(t,n){var i=e.call(this,!0,t,"sessionDisconnected")||this;return i.reason=n,i}return o(t,e),t.prototype.callDefaultBehavior=function(){s.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'");var e=this.target;for(var t in e.remoteConnections)e.remoteConnections[t].stream&&(e.remoteConnections[t].stream.disposeWebRtcPeer(),e.remoteConnections[t].stream.disposeMediaStream(),e.remoteConnections[t].stream.streamManager&&e.remoteConnections[t].stream.streamManager.removeAllVideos(),delete e.remoteStreamsCreated[e.remoteConnections[t].stream.streamId],e.remoteConnections[t].dispose()),delete e.remoteConnections[t]},t}(r.Event);t.SessionDisconnectedEvent=a},mgp7:function(e,t,n){e.exports=n("/u9M").default},oIG1:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=function(e){function t(t,n,i){var o=e.call(this,!1,n,i)||this;return o.element=t,o}return o(t,e),t.prototype.callDefaultBehavior=function(){},t}(n("hzOQ").Event);t.VideoElementEvent=r},pD6V:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"i",(function(){return W})),n.d(t,"h",(function(){return q})),n.d(t,"j",(function(){return G})),n.d(t,"f",(function(){return Y}));var i=n("fXoL"),o=n("ofXK"),r=n("XNiG"),s=n("2Vo4"),a=n("HDdC"),c=n("VRyK"),l=(n("7Hc7"),n("LRne"),n("xgIS"),n("pLZG")),u=(n("lJxs"),n("Kj3r"),n("eIep"),n("1G5W"),n("IzEk"),n("vkgz"));const d={provide:i.b,useFactory:function(e,t){return()=>{if(Object(o.B)(t)){const t=Array.from(e.querySelectorAll(`[class*=${h}]`)),n=/\bflex-layout-.+?\b/g;t.forEach(e=>{e.classList.contains(h+"ssr")&&e.parentNode?e.parentNode.removeChild(e):e.className.replace(n,"")})}}},deps:[o.d,i.C],multi:!0},h="flex-layout-";let p=(()=>{class e{}return e.\u0275mod=i.Pb({type:e}),e.\u0275inj=i.Ob({factory:function(t){return new(t||e)},providers:[d]}),e})();class f{constructor(e=!1,t="all",n="",i="",o=0){this.matches=e,this.mediaQuery=t,this.mqAlias=n,this.suffix=i,this.priority=o,this.property=""}clone(){return new f(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let g=(()=>{class e{constructor(){this.stylesheet=new Map}addStyleToElement(e,t,n){const i=this.stylesheet.get(e);i?i.set(t,n):this.stylesheet.set(e,new Map([[t,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,t){const n=this.stylesheet.get(e);let i="";if(n){const e=n.get(t);"number"!=typeof e&&"string"!=typeof e||(i=e+"")}return i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const m={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},v=new i.r("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>m}),b=new i.r("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),y=new i.r("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function _(e,t){return e=e?e.clone():new f,t&&(e.mqAlias=t.alias,e.mediaQuery=t.mediaQuery,e.suffix=t.suffix,e.priority=t.priority),e}const S=["row","column","row-reverse","column-reverse"];function C(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap"}return e}let O=(()=>{class e{constructor(e,t,n,i){this.elementRef=e,this.styleBuilder=t,this.styler=n,this.marshal=i,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new r.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(t=>{if(-1!==this.inputs.indexOf(t)){const n=t.split(".").slice(1).join(".");this.setValue(e[t].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,t){const n=this.styleBuilder,i=n.shouldCache;let o=this.styleCache.get(e);o&&i||(o=n.buildStyles(e,t),i&&this.styleCache.set(e,o)),this.mru=Object.assign({},o),this.applyStyleToElement(o),n.sideEffect(e,o,t)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,t=!1){if(e){const[n,i]=this.styler.getFlowDirection(e);if(!i&&t){const t=function(e){let[t,n,i]=function(e){e=e?e.toLowerCase():"";let[t,n,i]=e.split(" ");return S.find(e=>e===t)||(t=S[0]),"inline"===n&&(n="inline"!==i?i:"",i="inline"),[t,C(n),!!i]}(e);return function(e,t=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":t||null}}(t,n,i)}(n);this.styler.applyStyleToElements(t,[e])}return n.trim()}return"row"}applyStyleToElement(e,t,n=this.nativeElement){this.styler.applyStyleToElement(n,e,t)}setValue(e,t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,t)}updateWithValue(e){this.addStyles(e)}}return e.\u0275fac=function(e){i.ic()},e.\u0275dir=i.Mb({type:e,features:[i.Ab]}),e})();const w=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],x="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",E="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",M="(orientation: portrait) and (min-width: 840px)",R="(orientation: landscape) and (min-width: 1280px)",k={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:`${x} , ${E}`,WEB:`${M}, ${R} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:x+" ",WEB_PORTRAIT:""+M,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)]",TABLET_LANDSCAPE:""+E,WEB_LANDSCAPE:""+R},P=[{alias:"handset",priority:2e3,mediaQuery:k.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:k.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:k.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:k.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:k.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:k.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:k.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:k.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:k.WEB_PORTRAIT,overlapping:!0}],T=/(\.|-|_)/g;function I(e){let t=e.length>0?e.charAt(0):"",n=e.length>1?e.slice(1):"";return t.toUpperCase()+n}const A=new i.r("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const e=Object(i.V)(y),t=Object(i.V)(v),n=[].concat.apply([],(e||[]).map(e=>Array.isArray(e)?e:[e]));return function(e,t=[]){const n={};return e.forEach(e=>{n[e.alias]=e}),t.forEach(e=>{n[e.alias]?function(e,...t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let n of t)if(null!=n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}(n[e.alias],e):n[e.alias]=e}),(i=Object.keys(n).map(e=>n[e])).forEach(e=>{e.suffix||(e.suffix=e.alias.replace(T,"|").split("|").map(I).join(""),e.overlapping=!!e.overlapping)}),i;var i}((t.disableDefaultBps?[]:w).concat(t.addOrientationBps?P:[]),n)}});function D(e,t){return(t&&t.priority||0)-(e&&e.priority||0)}function L(e,t){return(e.priority||0)-(t.priority||0)}let j=(()=>{class e{constructor(e){this.findByMap=new Map,this.items=[...e].sort(L)}findByAlias(e){return e?this.findWithPredicate(e,t=>t.alias==e):null}findByQuery(e){return this.findWithPredicate(e,t=>t.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,t){let n=this.findByMap.get(e);return n||(n=this.items.find(t)||null,this.findByMap.set(e,n)),n||null}}return e.\u0275fac=function(t){return new(t||e)(i.fc(A))},e.\u0275prov=Object(i.Nb)({factory:function(){return new e(Object(i.fc)(A))},token:e,providedIn:"root"}),e})(),N=(()=>{class e{constructor(e,t,n){this._zone=e,this._platformId=t,this._document=n,this.source=new s.a(new f(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((t,n)=>{t.matches&&e.push(n)}),e}isActive(e){const t=this.registry.get(e);return!!t&&t.matches}observe(e,t=!1){if(e&&e.length){const n=this._observable$.pipe(Object(l.a)(n=>!t||e.indexOf(n.mediaQuery)>-1)),i=new a.a(t=>{const n=this.registerQuery(e);if(n.length){const e=n.pop();n.forEach(e=>{t.next(e)}),this.source.next(e)}t.complete()});return Object(c.a)(i,n)}return this._observable$}registerQuery(e){const t=Array.isArray(e)?e:[e],n=[];return function(e,t){const n=e.filter(e=>!U[e]);if(n.length>0){const e=n.join(", ");try{const i=t.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${e} {.fx-query-test{ }}\n`)),t.head.appendChild(i),n.forEach(e=>U[e]=i)}catch(i){console.error(i)}}}(t,this._document),t.forEach(e=>{let t=this.registry.get(e);t||(t=this.buildMQL(e),t.addListener(t=>{this._zone.run(()=>this.source.next(new f(t.matches,e)))}),this.registry.set(e,t)),t.matches&&n.push(new f(!0,e))}),n}buildMQL(e){return function(e,t){return t&&window.matchMedia("all").addListener?window.matchMedia(e):{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}(e,Object(o.B)(this._platformId))}}return e.\u0275fac=function(t){return new(t||e)(i.fc(i.A),i.fc(i.C),i.fc(o.d))},e.\u0275prov=Object(i.Nb)({factory:function(){return new e(Object(i.fc)(i.A),Object(i.fc)(i.C),Object(i.fc)(o.d))},token:e,providedIn:"root"}),e})();const U={},V={alias:"print",mediaQuery:"print",priority:1e3};let z=(()=>{class e{constructor(e,t,n){this.breakpoints=e,this.layoutConfig=t,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.isPrinting=!1,this.queue=new F,this.deactivations=[]}withPrintQuery(e){return[...e,"print"]}isPrintEvent(e){return e.mediaQuery.startsWith("print")}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const t=this.breakpoints.findByQuery(e);return(t?[...this.printBreakPoints,t]:this.printBreakPoints).sort(D)}updateEvent(e){let t=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(t=this.getEventBreakpoints(e)[0],e.mediaQuery=t?t.mediaQuery:""),_(e,t)}registerBeforeAfterPrintHooks(e){this._document.defaultView&&!this.registeredBeforeAfterPrintHooks&&(this.registeredBeforeAfterPrintHooks=!0,this._document.defaultView.addEventListener("beforeprint",()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new f(!0,"print"))),e.updateStyles())}),this._document.defaultView.addEventListener("afterprint",()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())}))}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),t=>{this.isPrintEvent(t)?t.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(t)),e.updateStyles()):t.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(e),e.updateStyles()):this.collectActivations(t)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,t){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(t)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const t=this.breakpoints.findByQuery(e.mediaQuery);t&&(this.deactivations.push(t),this.deactivations.sort(D))}}}return e.\u0275fac=function(t){return new(t||e)(i.fc(j),i.fc(v),i.fc(o.d))},e.\u0275prov=Object(i.Nb)({factory:function(){return new e(Object(i.fc)(j),Object(i.fc)(v),Object(i.fc)(o.d))},token:e,providedIn:"root"}),e})();class F{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(V),e.sort(D),e.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(t=>t.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function(e){return!!e&&e.mediaQuery.startsWith("print")}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}function B(e){for(let t in e){let n=e[t]||"";switch(t){case"display":e.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":e["-webkit-"+t]=n;break;case"flex-direction":n=n||"row",e["-webkit-flex-direction"]=n,e["flex-direction"]=n;break;case"order":e.order=e["-webkit-"+t]=isNaN(+n)?"0":n}}return e}let W=(()=>{class e{constructor(e,t,n,i){this._serverStylesheet=e,this._serverModuleLoaded=t,this._platformId=n,this.layoutConfig=i}applyStyleToElement(e,t,n=null){let i={};"string"==typeof t&&(i[t]=n,t=i),i=this.layoutConfig.disableVendorPrefixes?t:B(t),this._applyMultiValueStyleToElement(i,e)}applyStyleToElements(e,t=[]){const n=this.layoutConfig.disableVendorPrefixes?e:B(e);t.forEach(e=>{this._applyMultiValueStyleToElement(n,e)})}getFlowDirection(e){let t=this.lookupStyle(e,"flex-direction");return[t||"row",this.lookupInlineStyle(e,"flex-direction")||Object(o.C)(this._platformId)&&this._serverModuleLoaded?t:""]}lookupAttributeValue(e,t){return e.getAttribute(t)||""}lookupInlineStyle(e,t){return Object(o.B)(this._platformId)?e.style.getPropertyValue(t):this._getServerStyle(e,t)}lookupStyle(e,t,n=!1){let i="";return e&&((i=this.lookupInlineStyle(e,t))||(Object(o.B)(this._platformId)?n||(i=getComputedStyle(e).getPropertyValue(t)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(e,t)))),i?i.trim():""}_applyMultiValueStyleToElement(e,t){Object.keys(e).sort().forEach(n=>{const i=e[n],r=Array.isArray(i)?i:[i];r.sort();for(let e of r)e=e?e+"":"",Object(o.B)(this._platformId)||!this._serverModuleLoaded?Object(o.B)(this._platformId)?t.style.setProperty(n,e):this._setServerStyle(t,n,e):this._serverStylesheet.addStyleToElement(t,n,e)})}_setServerStyle(e,t,n){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=this._readStyleAttribute(e);i[t]=n||"",this._writeStyleAttribute(e,i)}_getServerStyle(e,t){return this._readStyleAttribute(e)[t]||""}_readStyleAttribute(e){const t={},n=e.getAttribute("style");if(n){const e=n.split(/;+/g);for(let n=0;n<e.length;n++){const i=e[n].trim();if(i.length>0){const e=i.indexOf(":");if(-1===e)throw new Error("Invalid CSS style: "+i);t[i.substr(0,e).trim()]=i.substr(e+1).trim()}}}return t}_writeStyleAttribute(e,t){let n="";for(const i in t)t[i]&&(n+=i+":"+t[i]+";");e.setAttribute("style",n)}}return e.\u0275fac=function(t){return new(t||e)(i.fc(g),i.fc(b),i.fc(i.C),i.fc(v))},e.\u0275prov=Object(i.Nb)({factory:function(){return new e(Object(i.fc)(g),Object(i.fc)(b),Object(i.fc)(i.C),Object(i.fc)(v))},token:e,providedIn:"root"}),e})();class q{constructor(){this.shouldCache=!0}sideEffect(e,t,n){}}function G(e,t="1",n="1"){let i=[t,n,e],o=e.indexOf("calc");if(o>0){i[2]=X(e.substring(o).trim());let t=e.substr(0,o).trim().split(" ");2==t.length&&(i[0]=t[0],i[1]=t[1])}else if(0==o)i[2]=X(e.trim());else{let o=e.split(" ");i=3===o.length?o:[t,n,e]}return i}function X(e){return e.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Y=(()=>{class e{constructor(e,t,n){this.matchMedia=e,this.breakpoints=t,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new r.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const t=this.findByQuery(e.mediaQuery);t&&((e=_(e,t)).matches&&-1===this.activatedBreakpoints.indexOf(t)?(this.activatedBreakpoints.push(t),this.activatedBreakpoints.sort(D),this.updateStyles()):e.matches||-1===this.activatedBreakpoints.indexOf(t)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(t),1),this.activatedBreakpoints.sort(D),this.updateStyles()))}init(e,t,n,i,o=[]){H(this.updateMap,e,t,n),H(this.clearMap,e,t,i),this.buildElementKeyMap(e,t),this.watchExtraTriggers(e,t,o)}getValue(e,t,n){const i=this.elementMap.get(e);if(i){const e=void 0!==n?i.get(n):this.getActivatedValues(i,t);if(e)return e.get(t)}}hasValue(e,t){const n=this.elementMap.get(e);if(n){const e=this.getActivatedValues(n,t);if(e)return void 0!==e.get(t)||!1}return!1}setValue(e,t,n,i){let o=this.elementMap.get(e);if(o){const r=(o.get(i)||new Map).set(t,n);o.set(i,r),this.elementMap.set(e,o)}else o=(new Map).set(i,(new Map).set(t,n)),this.elementMap.set(e,o);const r=this.getValue(e,t);void 0!==r&&this.updateElement(e,t,r)}trackValue(e,t){return this.subject.asObservable().pipe(Object(l.a)(n=>n.element===e&&n.key===t))}updateStyles(){this.elementMap.forEach((e,t)=>{const n=new Set(this.elementKeyMap.get(t));let i=this.getActivatedValues(e);i&&i.forEach((e,i)=>{this.updateElement(t,i,e),n.delete(i)}),n.forEach(n=>{if(i=this.getActivatedValues(e,n),i){const e=i.get(n);this.updateElement(t,n,e)}else this.clearElement(t,n)})})}clearElement(e,t){const n=this.clearMap.get(e);if(n){const i=n.get(t);i&&(i(),this.subject.next({element:e,key:t,value:""}))}}updateElement(e,t,n){const i=this.updateMap.get(e);if(i){const o=i.get(t);o&&(o(n),this.subject.next({element:e,key:t,value:n}))}}releaseElement(e){const t=this.watcherMap.get(e);t&&(t.forEach(e=>e.unsubscribe()),this.watcherMap.delete(e));const n=this.elementMap.get(e);n&&(n.forEach((e,t)=>n.delete(t)),this.elementMap.delete(e))}triggerUpdate(e,t){const n=this.elementMap.get(e);if(n){const i=this.getActivatedValues(n,t);i&&(t?this.updateElement(e,t,i.get(t)):i.forEach((t,n)=>this.updateElement(e,n,t)))}}buildElementKeyMap(e,t){let n=this.elementKeyMap.get(e);n||(n=new Set,this.elementKeyMap.set(e,n)),n.add(t)}watchExtraTriggers(e,t,n){if(n&&n.length){let i=this.watcherMap.get(e);if(i||(i=new Map,this.watcherMap.set(e,i)),!i.get(t)){const o=Object(c.a)(...n).subscribe(()=>{const n=this.getValue(e,t);this.updateElement(e,t,n)});i.set(t,o)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,t){for(let i=0;i<this.activatedBreakpoints.length;i++){const n=e.get(this.activatedBreakpoints[i].alias);if(n&&(void 0===t||n.has(t)))return n}const n=e.get("");return void 0===t||n&&n.has(t)?n:void 0}observeActivations(){const e=this.breakpoints.items.map(e=>e.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(Object(u.a)(this.hook.interceptEvents(this)),Object(l.a)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return e.\u0275fac=function(t){return new(t||e)(i.fc(N),i.fc(j),i.fc(z))},e.\u0275prov=Object(i.Nb)({factory:function(){return new e(Object(i.fc)(N),Object(i.fc)(j),Object(i.fc)(z))},token:e,providedIn:"root"}),e})();function H(e,t,n,i){if(void 0!==i){let o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(n,i)}}},pLL0:function(e,t){t.pack=function(e){throw new TypeError("Not yet implemented")},t.unpack=function(e){throw new TypeError("Not yet implemented")}},qe5e:function(e,t,n){"use strict";var i,o;function r(e,t){if(!e)throw"First parameter is required.";t=new s(e,t=t||{type:"video"});var n=this;function i(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var i=new a(e,t);(h=new i(e,t)).record(),d("recording"),t.disableLogs||console.log("Initialized recorderType:",h.constructor.name,"for output-type:",t.type)}function o(e){if(e=e||function(){},h){if("paused"===n.state)return n.resumeRecording(),void setTimeout((function(){o(e)}),1);"recording"===n.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',n.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?h.stop(i):(h.stop(),i()),d("stopped")}else g();function i(i){if(h){Object.keys(h).forEach((function(e){"function"!=typeof h[e]&&(n[e]=h[e])}));var o=h.blob;if(!o){if(!i)throw"Recording failed.";h.blob=o=i}if(o&&!t.disableLogs&&console.log(o.type,"->",_(o.size)),e){var r;try{r=p.createObjectURL(o)}catch(s){}"function"==typeof e.call?e.call(n,r):e(r)}t.autoWriteToDisk&&l((function(e){var n={};n[t.type+"Blob"]=e,I.Store(n)}))}else"function"==typeof e.call?e.call(n,""):e("")}}function c(e){postMessage((new FileReaderSync).readAsDataURL(e))}function l(e,n){if(!e)throw"Pass a callback function over getDataURL.";var i=n?n.blob:(h||{}).blob;if(!i)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){l(e,n)}),1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var o=new FileReader;o.readAsDataURL(i),o.onload=function(t){e(t.target.result)}}else{var r=function(e){try{var t=p.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return p.revokeObjectURL(t),n}catch(i){}}(c);r.onmessage=function(t){e(t.data)},r.postMessage(i)}}function u(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?o(n.onRecordingStopped):(e+=1e3,setTimeout((function(){u(e)}),1e3))):setTimeout((function(){u(e)}),1e3)}function d(e){n&&(n.state=e,"function"==typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var h,f='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function g(){!0!==t.disableLogs&&console.warn(f)}var m={startRecording:function(o){return t.disableLogs||console.log("RecordRTC version: ",n.version),o&&(t=new s(e,o)),t.disableLogs||console.log("started recording "+t.type+" stream."),h?(h.clearRecordedData(),h.record(),d("recording"),n.recordingDuration&&u(),n):(i((function(){n.recordingDuration&&u()})),n)},stopRecording:o,pauseRecording:function(){h?"recording"===n.state?(d("paused"),h.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",n.state):g()},resumeRecording:function(){h?"paused"===n.state?(d("recording"),h.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",n.state):g()},initRecorder:i,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){h?(h.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):g()},getBlob:function(){if(h)return h.blob;g()},getDataURL:l,toURL:function(){if(h)return p.createObjectURL(h.blob);g()},getInternalRecorder:function(){return h},save:function(e){h?S(h.blob,e):g()},getFromDisk:function(e){h?r.getFromDisk(t.type,e):g()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,i=0;i<n;i++)t.advertisement.push({duration:i,image:e[i]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==n.state||t.disableLogs||console.warn("Stop an active recorder."),h&&"function"==typeof h.clearRecordedData&&h.clearRecordedData(),h=null,d("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),d("destroyed"),m=n=null,x.AudioContextConstructor&&(x.AudioContextConstructor.close(),x.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.1"};if(!this)return n=m,m;for(var v in m)this[v]=m[v];return n=this,m}function s(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===P||t.recorderType===k||void 0!==j&&t.recorderType===j?t.type="video":t.recorderType===A?t.type="gif":t.recorderType===R?t.type="audio":t.recorderType===M&&(O(e,"audio").length&&O(e,"video").length||!O(e,"audio").length&&O(e,"video").length?t.type="video":O(e,"audio").length&&!O(e,"video").length&&(t.type="audio"))),void 0!==M&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0])),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function a(e,t){var n;return(v||f||g)&&(n=R),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!v&&(n=M),"video"===t.type&&(v||g)&&(n=P,void 0!==j&&"undefined"!=typeof ReadableStream&&(n=j)),"gif"===t.type&&(n=A),"canvas"===t.type&&(n=k),E()&&n!==k&&n!==A&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(O(e,"video").length||O(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=M):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=M)),e instanceof Array&&e.length&&(n=L),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&b&&(n=M),n}function c(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,i=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&E()&&!O(e,"audio").length&&(n.audio=!1),"function"!=typeof n.video&&E()&&!O(e,"video").length&&(n.video=!1),"function"!=typeof n.gif&&E()&&!O(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new r(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:i.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var o=e;if(E()&&n.audio&&"function"==typeof n.audio){var s=O(e,"video")[0];m?((o=new y).addTrack(s),t&&t===P&&(t=M)):(o=new y).addTrack(s)}this.videoRecorder=new r(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var a=this,c=!0===E();(n.audio instanceof R&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(c=!1),!0===c?(a.audioRecorder=null,a.videoRecorder.startRecording()):a.videoRecorder.initRecorder((function(){a.audioRecorder.initRecorder((function(){a.videoRecorder.startRecording(),a.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new r(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var n=function(e){var t,n=p.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(n);if(void 0!==p)t=p;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),i}((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var i=new FileReader;i.readAsDataURL(e),i.onload=function(e){t(e.target.result)}}}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(i){t(n.video,(function(t){e({audio:i,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){r.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}r.version="5.6.1",e.exports=r,void 0===(i=(function(){return r}).apply(t,[]))||(e.exports=i),r.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),I.Fetch((function(n,i){"all"!==e&&i===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,i.replace("Blob",""))}))},r.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){I.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){I.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){I.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){I.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){I.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){I.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){I.Store({gifBlob:e})}))},c.getFromDisk=r.getFromDisk,c.writeToDisk=r.writeToDisk,void 0!==r&&(r.MRecordRTC=c),(o="undefined"!=typeof global?global:null)&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(o.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},o.HTMLVideoElement=function(){}),"undefined"==typeof location&&(o.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(o.screen={width:0,height:0}),void 0===p&&(o.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),o.window=global);var l=window.requestAnimationFrame;if(void 0===l)if("undefined"!=typeof webkitRequestAnimationFrame)l=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)l=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)l=msRequestAnimationFrame;else if(void 0===l){var u=0;l=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-u)),o=setTimeout((function(){e(n+i)}),i);return u=n+i,o}}var d=window.cancelAnimationFrame;void 0===d&&("undefined"!=typeof webkitCancelAnimationFrame?d=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?d=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?d=msCancelAnimationFrame:void 0===d&&(d=function(e){clearTimeout(e)}));var h=window.AudioContext;void 0===h&&("undefined"!=typeof webkitAudioContext&&(h=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(h=mozAudioContext));var p=window.URL;void 0===p&&"undefined"!=typeof webkitURL&&(p=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var f=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),g=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),v=!g&&!f&&!!navigator.webkitGetUserMedia||C()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);b&&!v&&-1!==navigator.userAgent.indexOf("CriOS")&&(b=!1,v=!0);var y=window.MediaStream;function _(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function S(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(s){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var i=t.split(".");t=i[0],n=i[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var r=document.createElement("a");r.href=p.createObjectURL(e),r.download=o,r.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(r),"function"==typeof r.click?r.click():(r.target="_blank",r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),p.revokeObjectURL(r.href)}function C(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}function O(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function w(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}void 0===y&&"undefined"!=typeof webkitMediaStream&&(y=webkitMediaStream),void 0!==y&&void 0===y.prototype.stop&&(y.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),void 0!==r&&(r.invokeSaveAsDialog=S,r.getTracks=O,r.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,i=new EBML.Decoder,o=EBML.tools,r=new FileReader;r.onload=function(e){i.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var r=o.makeMetadataSeekable(n.metadatas,n.duration,n.cues),s=this.result.slice(n.metadataSize),a=new Blob([r,s],{type:"video/webm"});t(a)},r.readAsArrayBuffer(e)},r.bytesToSize=_,r.isElectron=C);var x={};function E(){if(m||b||f)return!0;navigator;var e,t,n=navigator.userAgent,i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return(v||g)&&(e=n.indexOf("Chrome"),i=n.substring(e+7)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),o=parseInt(""+i,10),isNaN(o)&&(i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),o>=49}function M(e,t){var n,i=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";"audio"===(t=t||{mimeType:"video/webm"}).type&&(O(e,"video").length&&O(e,"audio").length&&(navigator.mozGetUserMedia?(n=new y).addTrack(O(e,"audio")[0]):n=new y(O(e,"audio")),e=n),t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=v?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg"));var o,r=[];function s(){i.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(i.timestamps[i.timestamps.length-1],i.timestamps)}function a(e){return o&&o.mimeType?o.mimeType:e.mimeType||"video/webm"}function c(){r=[],o=null,i.timestamps=[]}this.getArrayOfBlobs=function(){return r},this.record=function(){i.blob=null,i.clearRecordedData(),i.timestamps=[],l=[],r=[];var n=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",n),o&&(o=null),v&&!E()&&(n="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&n.mimeType&&(MediaRecorder.isTypeSupported(n.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType),n.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{o=new MediaRecorder(e,n),t.mimeType=n.mimeType}catch(c){o=new MediaRecorder(e)}n.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in o&&!1===o.canRecordMimeType(n.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType)),o.ondataavailable=function(e){if(e.data&&l.push("ondataavailable: "+_(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||i.blob?i.recordingCallback&&(i.recordingCallback(new Blob([],{type:a(n)})),i.recordingCallback=null):(i.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:a(n)}),i.recordingCallback&&(i.recordingCallback(i.blob),i.recordingCallback=null));else if(e.data&&e.data.size&&e.data.size>100&&(r.push(e.data),s(),"function"==typeof t.ondataavailable)){var o=t.getNativeBlob?e.data:new Blob([e.data],{type:a(n)});t.ondataavailable(o)}},o.onstart=function(){l.push("started")},o.onpause=function(){l.push("paused")},o.onresume=function(){l.push("resumed")},o.onstop=function(){l.push("stopped")},o.onerror=function(e){e&&(e.name||(e.name="UnknownError"),l.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",n.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!i.manuallyStopped&&o&&"inactive"===o.state)return delete t.timeslice,void o.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==o.state&&"stopped"!==o.state&&o.stop())},"number"==typeof t.timeSlice?(s(),o.start(t.timeSlice)):o.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},i.manuallyStopped=!0,o&&(this.recordingCallback=e,"recording"===o.state&&o.stop(),"number"==typeof t.timeSlice&&setTimeout((function(){i.blob=new Blob(r,{type:a(t)}),i.recordingCallback(i.blob)}),100))},this.pause=function(){o&&"recording"===o.state&&o.pause()},this.resume=function(){o&&"paused"===o.state&&o.resume()},this.clearRecordedData=function(){o&&"recording"===o.state&&i.stop(c),c()},this.getInternalRecorder=function(){return o},this.blob=null,this.getState=function(){return o&&o.state||"inactive"};var l=[];this.getAllStates=function(){return l},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1),i=this,function n(){if(o&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void i.stop()):void setTimeout(n,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function R(e,t){if(!O(e,"audio").length)throw"Your stream has no audio tracks.";var n,i=this,o=[],s=[],a=!1,c=0,l=2,u=(t=t||{}).desiredSampRate;function d(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function h(e,t){function n(e,t){var n,i=e.numberOfAudioChannels,o=e.leftBuffers.slice(0),r=e.rightBuffers.slice(0),s=e.sampleRate,a=e.internalInterleavedLength,c=e.desiredSampRate;function l(e,t,n){var i=Math.round(e.length*(t/n)),o=[],r=Number((e.length-1)/(i-1));o[0]=e[0];for(var s=1;s<i-1;s++){var a=s*r,c=Number(Math.floor(a)).toFixed(),l=Number(Math.ceil(a)).toFixed();o[s]=u(e[c],e[l],a-c)}return o[i-1]=e[e.length-1],o}function u(e,t,n){return e+(t-e)*n}function d(e,t){for(var n=new Float64Array(t),i=0,o=e.length,r=0;r<o;r++){var s=e[r];n.set(s,i),i+=s.length}return n}function h(e,t,n){for(var i=n.length,o=0;o<i;o++)e.setUint8(t+o,n.charCodeAt(o))}2===i&&(o=d(o,a),r=d(r,a),c&&(o=l(o,c,s),r=l(r,c,s))),1===i&&(o=d(o,a),c&&(o=l(o,c,s))),c&&(s=c),2===i&&(n=function(e,t){for(var n=e.length+t.length,i=new Float64Array(n),o=0,r=0;r<n;)i[r++]=e[o],i[r++]=t[o],o++;return i}(o,r)),1===i&&(n=o);var p=n.length,f=new ArrayBuffer(44+2*p),g=new DataView(f);h(g,0,"RIFF"),g.setUint32(4,36+2*p,!0),h(g,8,"WAVE"),h(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,i,!0),g.setUint32(24,s,!0),g.setUint32(28,2*s,!0),g.setUint16(32,2*i,!0),g.setUint16(34,16,!0),h(g,36,"data"),g.setUint32(40,2*p,!0);for(var m=p,v=44,b=0;b<m;b++)g.setInt16(v,32767*n[b],!0),v+=2;if(t)return t({buffer:f,view:g});postMessage({buffer:f,view:g})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var i,o,r,s=(i=n,o=p.createObjectURL(new Blob([i.toString(),";this.onmessage =  function (eee) {"+i.name+"(eee.data);}"],{type:"application/javascript"})),(r=new Worker(o)).workerURL=o,r);s.onmessage=function(e){t(e.data.buffer,e.data.view),p.revokeObjectURL(s.workerURL),s.terminate()},s.postMessage(e)}}!0===t.leftChannel&&(l=1),1===t.numberOfAudioChannels&&(l=1),(!l||l<1)&&(l=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+l),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===d())throw"Please make sure MediaStream is active.";_(),C=y=!1,a=!0,void 0!==t.timeSlice&&x()},this.stop=function(e){e=e||function(){},a=!1,h({desiredSampRate:u,sampleRate:b,numberOfAudioChannels:l,internalInterleavedLength:c,leftBuffers:o,rightBuffers:1===l?[]:s,noWorker:t.noWorker},(function(t,n){i.blob=new Blob([n],{type:"audio/wav"}),i.buffer=new ArrayBuffer(n.buffer.byteLength),i.view=n,i.sampleRate=u||b,i.bufferSize=v,i.length=c,C=!1,e&&e(i.blob)}))},void 0===r.Storage&&(r.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),r.Storage.AudioContextConstructor&&"closed"!==r.Storage.AudioContextConstructor.state||(r.Storage.AudioContextConstructor=new r.Storage.AudioContext);var f=r.Storage.AudioContextConstructor,g=f.createMediaStreamSource(e),m=[0,256,512,1024,2048,4096,8192,16384],v=void 0===t.bufferSize?4096:t.bufferSize;if(-1===m.indexOf(v)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(m,null,"\t"))),f.createJavaScriptNode)n=f.createJavaScriptNode(v,l,l);else{if(!f.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=f.createScriptProcessor(v,l,l)}g.connect(n),t.bufferSize||(v=n.bufferSize);var b=void 0!==t.sampleRate?t.sampleRate:f.sampleRate||44100;(b<22050||b>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var y=!1;function _(){s=[],c=0,C=!1,a=!1,y=!1,f=null,i.leftchannel=o=[],i.rightchannel=s,i.numberOfAudioChannels=l,i.desiredSampRate=u,i.sampleRate=b,i.recordingLength=c,w={left:[],right:[],recordingLength:0}}function S(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),g&&(g.disconnect(),g=null),_()}this.pause=function(){y=!0},this.resume=function(){if(!1===d())throw"Please make sure MediaStream is active.";if(!a)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();y=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,a&&this.stop(S),S()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var C=!1;n.onaudioprocess=function(e){if(!y)if(!1===d()&&(t.disableLogs||console.log("MediaStream seems stopped."),n.disconnect(),a=!1),a){C||(C=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var r=e.inputBuffer.getChannelData(0),u=new Float32Array(r);if(o.push(u),2===l){var h=e.inputBuffer.getChannelData(1),p=new Float32Array(h);s.push(p)}i.recordingLength=c+=v,void 0!==t.timeSlice&&(w.recordingLength+=v,w.left.push(u),2===l&&w.right.push(p))}else g&&(g.disconnect(),g=null)},n.connect(f.createMediaStreamDestination?f.createMediaStreamDestination():f.destination),this.leftchannel=o,this.rightchannel=s,this.numberOfAudioChannels=l,this.desiredSampRate=u,this.sampleRate=b,i.recordingLength=c;var w={left:[],right:[],recordingLength:0};function x(){a&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(w.left.length?(h({desiredSampRate:u,sampleRate:b,numberOfAudioChannels:l,internalInterleavedLength:w.recordingLength,leftBuffers:w.left,rightBuffers:1===l?[]:w.right},(function(e,n){var i=new Blob([n],{type:"audio/wav"});t.ondataavailable(i),setTimeout(x,t.timeSlice)})),w={left:[],right:[],recordingLength:0}):setTimeout(x,t.timeSlice))}}function k(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(n=!0)}));var i,o,r,s=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),a=50,c=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(s&&c&&c[2]&&(a=parseInt(c[2],10)),s&&a<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)i=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";i=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(r=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in i?e=i.captureStream(25):"mozCaptureStream"in i?e=i.mozCaptureStream(25):"webkitCaptureStream"in i&&(e=i.webkitCaptureStream(25));try{var s=new y;s.addTrack(O(e,"video")[0]),e=s}catch(a){}if(!e)throw"captureStream API are NOT available.";(o=new M(e,{mimeType:t.mimeType||"video/webm"})).record()}else p.frames=[],h=(new Date).getTime(),d();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var i=p.frames.length;p.frames.forEach((function(e,n){var o=i-n;t.disableLogs||console.log(o+"/"+i+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(o,i);var r=e.image.toDataURL("image/webp",1);p.frames[n].image=r})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){r=!1;var i=this;n&&o?o.stop(e):this.getWebPImages((function(){p.compile((function(n){t.disableLogs||console.log("Recording finished!"),i.blob=n,i.blob.forEach&&(i.blob=new Blob([],{type:"video/webm"})),e&&e(i.blob),p.frames=[]}))}))};var l=!1;function u(){p.frames=[],r=!1,l=!1}function d(){if(l)return h=(new Date).getTime(),setTimeout(d,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-h;return h=(new Date).getTime(),p.frames.push({image:(i=document.createElement("canvas"),o=i.getContext("2d"),i.width=e.width,i.height=e.height,o.drawImage(e,0,0),i),duration:n}),void(r&&setTimeout(d,t.frameInterval))}var i,o;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-h;if(!n)return setTimeout(d,t.frameInterval);h=(new Date).getTime(),p.frames.push({image:e.toDataURL("image/webp",1),duration:n}),r&&setTimeout(d,t.frameInterval)}})}this.pause=function(){l=!0,o instanceof M&&o.pause()},this.resume=function(){l=!1,o instanceof M?o.resume():r||this.record()},this.clearRecordedData=function(){r&&this.stop(u),u()},this.name="CanvasRecorder",this.toString=function(){return this.name};var h=(new Date).getTime(),p=new T.Video(100)}function P(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-a;return t?o?(a=(new Date).getTime(),setTimeout(n,100)):(a=(new Date).getTime(),s.paused&&s.play(),u.drawImage(s,0,0,l.width,l.height),c.frames.push({duration:t,image:l.toDataURL("image/webp")}),void(i||setTimeout(n,e,e))):setTimeout(n,e,e)}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),l.width=t.canvas.width||320,l.height=t.canvas.height||240,u=l.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(s=t.video.cloneNode(),t.initCallback&&t.initCallback()):(s=document.createElement("video"),w(e,s),s.onloadedmetadata=function(){t.initCallback&&t.initCallback()},s.width=t.video.width,s.height=t.video.height),s.muted=!0,s.play(),a=(new Date).getTime(),c=new T.Video,t.disableLogs||(console.log("canvas resolutions",l.width,"*",l.height),console.log("video width/height",s.width||l.width,"*",s.height||l.height)),n(t.frameInterval)};var i=!1;this.stop=function(e){e=e||function(){},i=!0;var n=this;setTimeout((function(){!function(e,t,n,i,o){var r=document.createElement("canvas");r.width=l.width,r.height=l.height;var s,a,c,u=r.getContext("2d"),d=[],h=e.length,p=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),f=!1;a=-1,c=(s={length:h,functionToLoop:function(t,n){var i,o,r,s=function(){!f&&r-i<=0*r||(f=!0,d.push(e[n])),t()};if(f)s();else{var a=new Image;a.onload=function(){u.drawImage(a,0,0,l.width,l.height);var e=u.getImageData(0,0,l.width,l.height);i=0,o=e.data.length,r=e.data.length/4;for(var t=0;t<o;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-0,2)+Math.pow(n.g-0,2)+Math.pow(n.b-0,2))<=0*p&&i++}s()},a.src=e[n].image}},callback:function(){(d=d.concat(e.slice(h))).length<=0&&d.push(e[e.length-1]),o(d)}}).length,function e(){++a!==c?setTimeout((function(){s.functionToLoop(e,a)}),1):s.callback()}()}(c.frames,0,0,0,(function(i){c.frames=i,t.advertisement&&t.advertisement.length&&(c.frames=t.advertisement.concat(c.frames)),c.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var o=!1;function r(){c.frames=[],i=!0,o=!1}this.pause=function(){o=!0},this.resume=function(){o=!1,i&&this.record()},this.clearRecordedData=function(){i||this.stop(r),r()},this.name="WhammyRecorder",this.toString=function(){return this.name};var s,a,c,l=document.createElement("canvas"),u=l.getContext("2d")}void 0!==h?x.AudioContext=h:"undefined"!=typeof webkitAudioContext&&(x.AudioContext=webkitAudioContext),void 0!==r&&(r.Storage=x),void 0!==r&&(r.MediaStreamRecorder=M),void 0!==r&&(r.StereoAudioRecorder=R),void 0!==r&&(r.CanvasRecorder=k),void 0!==r&&(r.WhammyRecorder=P);var T=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=function(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function i(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function o(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}var r=new function(e){var o=function(e){if(e[0]){for(var t=e[0].width,n=e[0].height,i=e[0].duration,o=1;o<e.length;o++)i+=e[o].duration;return{duration:i,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}(e);if(!o)return[];for(var r,s=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(r=o.duration,[].slice.call(new Uint8Array(new Float64Array([r]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:o.width,id:176},{data:o.height,id:186}]}]}]}]}],a=0,c=0;a<e.length;){var l=[],u=0;do{l.push(e[a]),u+=e[a].duration,a++}while(a<e.length&&u<3e4);var d={id:524531317,data:t(c,0,l)};s[1].data.push(d),c+=u}return function e(t){for(var o=[],r=0;r<t.length;r++){var s=t[r].data;"object"==typeof s&&(s=e(s)),"number"==typeof s&&(s=i(s.toString(2))),"string"==typeof s&&(s=new Uint8Array(s.split("").map((function(e){return e.charCodeAt(0)}))));var a=s.size||s.byteLength||s.length,c=Math.ceil(Math.ceil(Math.log(a)/Math.log(2))/8),l=a.toString(2),u=new Array(7*c+7+1-l.length).join("0")+l,d=new Array(c).join("0")+"1"+u;o.push(n(t[r].id)),o.push(i(d)),o.push(s)}return new Blob(o,{type:"video/webm"})}(s)}(e.map((function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("\x9d\x01*"),i=0,o=[];i<4;i++)o[i]=t.charCodeAt(n+3+i);return{width:16383&(o[1]<<8|o[0]),height:16383&(o[3]<<8|o[2]),data:t,riff:e}}(function e(t){for(var n=0,i={};n<t.length;){var r=t.substr(n,4),s=o(t,n),a=t.substr(n+4+4,s);n+=8+s,i[r]=i[r]||[],i[r].push("RIFF"===r||"LIST"===r?e(a):a)}return i}(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(r)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n,i,o,r=(n=t,i=p.createObjectURL(new Blob([n.toString(),"this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:"application/javascript"})),o=new Worker(i),p.revokeObjectURL(i),o);r.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},r.postMessage(this.frames)},{Video:e}}();void 0!==r&&(r.Whammy=T);var I={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),i=indexedDB.open(n,1);i.onerror=e.onError,i.onsuccess=function(){(t=i.result).onerror=e.onError,t.setVersion&&1!==t.version?t.setVersion(1).onsuccess=function(){o(t),r()}:r()},i.onupgradeneeded=function(e){o(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function o(t){t.createObjectStore(e.dataStoreName)}function r(){var n=t.transaction([e.dataStoreName],"readwrite");function i(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),i("audioBlob"),i("videoBlob"),i("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function A(e,t){if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var i=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&a?(i||(t.width||(t.width=c.offsetWidth||320),t.height||(t.height=c.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),r.width=t.canvas.width||320,r.height=t.canvas.height||240,c.width=t.video.width||320,c.height=t.video.height||240),(h=new GIFEncoder).setRepeat(0),h.setDelay(t.frameRate||200),h.setQuality(t.quality||10),h.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),p=l((function e(n){if(!0!==f.clearedRecordedData){if(o)return setTimeout((function(){e(n)}),100);p=l(e),void 0===typeof u&&(u=n),n-u<90||(!i&&c.paused&&c.play(),i||s.drawImage(c,0,0,r.width,r.height),t.onGifPreview&&t.onGifPreview(r.toDataURL("image/png")),h.addFrame(s),u=n)}})),t.initCallback&&t.initCallback()):setTimeout(f.record,1e3)},this.stop=function(e){e=e||function(){},p&&d(p),Date.now(),this.blob=new Blob([new Uint8Array(h.stream().bin)],{type:"image/gif"}),e(this.blob),h.stream().bin=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){f.clearedRecordedData=!0,h&&(h.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var r=document.createElement("canvas"),s=r.getContext("2d");i&&(e instanceof CanvasRenderingContext2D?r=(s=e).canvas:e instanceof HTMLCanvasElement&&(s=e.getContext("2d"),r=e));var a=!0;if(!i){var c=document.createElement("video");c.muted=!0,c.autoplay=!0,c.playsInline=!0,a=!1,c.onloadedmetadata=function(){a=!0},w(e,c),c.play()}var u,h,p=null,f=this}function D(e,t){!function(e){void 0===r&&e&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(e.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},e.HTMLVideoElement=function(){}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}),void 0===l&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=global)}("undefined"!=typeof global?global:null),t=t||"multi-streams-mixer";var n=[],i=!1,o=document.createElement("canvas"),s=o.getContext("2d");o.style.opacity=0,o.style.position="absolute",o.style.zIndex=-1,o.style.top="-1000em",o.style.left="-1000em",o.className=t,(document.body||document.documentElement).appendChild(o),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var a=this,c=window.AudioContext;void 0===c&&("undefined"!=typeof webkitAudioContext&&(c=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(c=mozAudioContext));var l=window.URL;void 0===l&&"undefined"!=typeof webkitURL&&(l=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var u=window.MediaStream;void 0===u&&"undefined"!=typeof webkitMediaStream&&(u=webkitMediaStream),void 0!==u&&void 0===u.prototype.stop&&(u.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var d={};function h(){if(!i){var e=n.length,t=!1,r=[];if(n.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:r.push(e)})),t)o.width=t.stream.width,o.height=t.stream.height;else if(r.length){o.width=e>1?2*r[0].width:r[0].width;var s=1;3!==e&&4!==e||(s=2),5!==e&&6!==e||(s=3),7!==e&&8!==e||(s=4),9!==e&&10!==e||(s=5),o.height=r[0].height*s}else o.width=a.width||360,o.height=a.height||240;t&&t instanceof HTMLVideoElement&&p(t),r.forEach((function(e,t){p(e,t)})),setTimeout(h,a.frameInterval)}}function p(e,t){if(!i){var n=0,o=0,r=e.width,a=e.height;1===t&&(n=e.width),2===t&&(o=e.height),3===t&&(n=e.width,o=e.height),4===t&&(o=2*e.height),5===t&&(n=e.width,o=2*e.height),6===t&&(o=3*e.height),7===t&&(n=e.width,o=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(o=e.stream.top),void 0!==e.stream.width&&(r=e.stream.width),void 0!==e.stream.height&&(a=e.stream.height),s.drawImage(e,n,o,r,a),"function"==typeof e.stream.onRender&&e.stream.onRender(s,n,o,r,a,t)}}function f(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||a.width||360,n.height=e.height||a.height||240,n.play(),n}function g(t){n=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=f(e);t.stream=e,n.push(t)}}))}void 0!==c?d.AudioContext=c:"undefined"!=typeof webkitAudioContext&&(d.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){h()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach((function(t){var i=new u;if(t.getTracks().filter((function(e){return"video"===e.kind})).length){var o=f(t);o.stream=t,n.push(o),i.addTrack(t.getTracks().filter((function(e){return"video"===e.kind}))[0])}if(t.getTracks().filter((function(e){return"audio"===e.kind})).length){var r=a.audioContext.createMediaStreamSource(t);a.audioDestination=a.audioContext.createMediaStreamDestination(),r.connect(a.audioDestination),i.addTrack(a.audioDestination.stream.getTracks().filter((function(e){return"audio"===e.kind}))[0])}e.push(i)}))},this.releaseStreams=function(){n=[],i=!0,a.gainNode&&(a.gainNode.disconnect(),a.gainNode=null),a.audioSources.length&&(a.audioSources.forEach((function(e){e.disconnect()})),a.audioSources=[]),a.audioDestination&&(a.audioDestination.disconnect(),a.audioDestination=null),a.audioContext&&a.audioContext.close(),a.audioContext=null,s.clearRect(0,0,o.width,o.height),o.stream&&(o.stream.stop(),o.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),g(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){i=!1;var t=function(){var e;g(),"captureStream"in o?e=o.captureStream():"mozCaptureStream"in o?e=o.mozCaptureStream():a.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new u;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),o.stream=t,t}(),n=function(){d.AudioContextConstructor||(d.AudioContextConstructor=new d.AudioContext),a.audioContext=d.AudioContextConstructor,a.audioSources=[],!0===a.useGainNode&&(a.gainNode=a.audioContext.createGain(),a.gainNode.connect(a.audioContext.destination),a.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=a.audioContext.createMediaStreamSource(e);!0===a.useGainNode&&n.connect(a.gainNode),a.audioSources.push(n)}})),t)return a.audioDestination=a.audioContext.createMediaStreamDestination(),a.audioSources.forEach((function(e){e.connect(a.audioDestination)})),a.audioDestination.stream}();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){})),t}}function L(e,t){e=e||[];var n,i,o=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var o;n=new D(e,t.elementClass||"multi-streams-mixer"),(o=[],e.forEach((function(e){O(e,"video").forEach((function(e){o.push(e)}))})),o).length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),(i=new M(n.getMixedStream(),t)).record()},this.stop=function(e){i&&i.stop((function(t){o.blob=t,e(t),o.clearRecordedData()}))},this.pause=function(){i&&i.pause()},this.resume=function(){i&&i.resume()},this.clearRecordedData=function(){i&&(i.clearRecordedData(),i=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(o){if(!o)throw"First parameter is required.";o instanceof Array||(o=[o]),e.concat(o),i&&n&&(n.appendStreams(o),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function j(e,t){var n,i,o;function r(){return new ReadableStream({start:function(i){var o=document.createElement("canvas"),r=document.createElement("video"),s=!0;r.srcObject=e,r.muted=!0,r.height=t.height,r.width=t.width,r.volume=0,r.onplaying=function(){o.width=t.width,o.height=t.height;var e=o.getContext("2d"),a=setInterval((function(){if(n&&(clearInterval(a),i.close()),s&&(s=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),e.drawImage(r,0,0),"closed"!==i._controlledReadableStream.state)try{i.enqueue(e.getImageData(0,0,t.width,t.height))}catch(o){}}),1e3/t.frameRate)},r.play()}})}"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0,this.record=function(){s=[],o=!1,this.blob=null,function e(a,c){if(!t.workerPath&&!c)return n=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){e(a,t)}))}));if(!t.workerPath&&c instanceof ArrayBuffer){var l=new Blob([c],{type:"text/javascript"});t.workerPath=p.createObjectURL(l)}t.workerPath||console.error("workerPath parameter is missing."),(i=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),i.addEventListener("message",(function(e){"READY"===e.data?(i.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),r().pipeTo(new WritableStream({write:function(e){n?console.error("Got image, but recorder is finished!"):i.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(o||s.push(e.data))}))}(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){o=!0},this.resume=function(){o=!1};var s=[];this.stop=function(e){n=!0;var t=this;!function(e){i?(i.addEventListener("message",(function(t){null===t.data&&(i.terminate(),i=null,e&&e())})),i.postMessage(null)):e&&e()}((function(){t.blob=new Blob(s,{type:"video/webm"}),e(t.blob)}))},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){s=[],o=!1,this.blob=null},this.blob=null}void 0!==r&&(r.DiskStorage=I),void 0!==r&&(r.GifRecorder=A),void 0===r&&(e.exports=D,void 0===(i=(function(){return D}).apply(t,[]))||(e.exports=i)),void 0!==r&&(r.MultiStreamRecorder=L),void 0!==r&&(r.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new r(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(i){t(i)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(i){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(i):t("Empty blob.",n.blob)}))}catch(i){t(i)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(i){t(i)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(i){t(i)}}))},this.getDataURL=function(e){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(i){t(i)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(i){t(i)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(i){t(i)}}))},this.reset=function(){return new Promise((function(e,t){try{e(n.recordRTC.reset())}catch(i){t(i)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(n.recordRTC.destroy())}catch(i){t(i)}}))},this.getState=function(){return new Promise((function(e,t){try{e(n.recordRTC.getState())}catch(i){t(i)}}))},this.blob=null,this.version="5.6.1"}),void 0!==r&&(r.WebAssemblyRecorder=j)},rUL0:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=function(e){function t(t,n,i,o,r){var s=e.call(this,!1,t,n)||this;return s.id=i,o!==i&&(s.name=o),s.reason=r,s}return o(t,e),t.prototype.callDefaultBehavior=function(){},t}(n("hzOQ").Event);t.RecordingEvent=r},ryRr:function(e,t,n){"use strict";t.__esModule=!0;var i=n("DPKQ"),o=n("9m68").OpenViduLogger.getInstance(),r=function(){function e(e,t){this.session=e,this.disposed=!1;var n="'Connection' created ";t?(n+="(remote) with 'connectionId' ["+t.id+"]",this.options=t,this.connectionId=t.id,this.creationTime=t.createdAt,t.metadata&&(this.data=t.metadata),t.streams&&this.initRemoteStreams(t.streams)):n+="(local)",o.info(n)}return e.prototype.sendIceCandidate=function(e){o.debug((this.stream.outboundStreamOpts?"Local":"Remote")+"candidate for"+this.connectionId,e),this.session.openvidu.sendRequest("onIceCandidate",{endpointName:this.connectionId,candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex},(function(e,t){e&&o.error("Error sending ICE candidate: "+JSON.stringify(e))}))},e.prototype.initRemoteStreams=function(e){var t=this;e.forEach((function(e){var n={id:e.id,createdAt:e.createdAt,connection:t,hasAudio:e.hasAudio,hasVideo:e.hasVideo,audioActive:e.audioActive,videoActive:e.videoActive,typeOfVideo:e.typeOfVideo,frameRate:e.frameRate,videoDimensions:e.videoDimensions?JSON.parse(e.videoDimensions):void 0,filter:e.filter?e.filter:void 0},o=new i.Stream(t.session,n);t.addStream(o)})),o.info("Remote 'Connection' with 'connectionId' ["+this.connectionId+"] is now configured for receiving Streams with options: ",this.stream.inboundStreamOpts)},e.prototype.addStream=function(e){e.connection=this,this.stream=e},e.prototype.removeStream=function(e){delete this.stream},e.prototype.dispose=function(){this.stream&&delete this.stream,this.disposed=!0},e}();t.Connection=r},suHS:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=function(e){function t(t,n,i,o){var r=e.call(this,!1,t,"signal")||this;return n&&(r.type="signal:"+n),r.data=i,r.from=o,r}return o(t,e),t.prototype.callDefaultBehavior=function(){},t}(n("hzOQ").Event);t.SignalEvent=r},"t/6/":function(e,t,n){"use strict";t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var i=n("FlKs"),o=n("dlaP"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),a="0123456789".split(""),c="0123456789abcdefghijklmnopqrstuvwxyz".split(""),l=[" ","\f","\r","\t","\v","\xa0","\u1680","\u180e"],u=[],d=function(e){return new i.CharacterState(e)},h=d(),p=d(o.NUM),f=d(o.DOMAIN),g=d(),m=d(o.WS);h.on("@",d(o.AT)).on(".",d(o.DOT)).on("+",d(o.PLUS)).on("#",d(o.POUND)).on("?",d(o.QUERY)).on("/",d(o.SLASH)).on("_",d(o.UNDERSCORE)).on(":",d(o.COLON)).on("{",d(o.OPENBRACE)).on("[",d(o.OPENBRACKET)).on("<",d(o.OPENANGLEBRACKET)).on("(",d(o.OPENPAREN)).on("}",d(o.CLOSEBRACE)).on("]",d(o.CLOSEBRACKET)).on(">",d(o.CLOSEANGLEBRACKET)).on(")",d(o.CLOSEPAREN)).on("&",d(o.AMPERSAND)).on([",",";","!",'"',"'"],d(o.PUNCTUATION)),h.on("\n",d(o.NL)).on(l,m),m.on(l,m);for(var v=0;v<s.length;v++){var b=(0,i.stateify)(s[v],h,o.TLD,o.DOMAIN);u.push.apply(u,b)}var y=(0,i.stateify)("file",h,o.DOMAIN,o.DOMAIN),_=(0,i.stateify)("ftp",h,o.DOMAIN,o.DOMAIN),S=(0,i.stateify)("http",h,o.DOMAIN,o.DOMAIN),C=(0,i.stateify)("mailto",h,o.DOMAIN,o.DOMAIN);u.push.apply(u,y),u.push.apply(u,_),u.push.apply(u,S),u.push.apply(u,C);var O=y.pop(),w=_.pop(),x=S.pop(),E=C.pop(),M=d(o.DOMAIN),R=d(o.PROTOCOL),k=d(o.MAILTO);w.on("s",M).on(":",R),x.on("s",M).on(":",R),u.push(M),O.on(":",R),M.on(":",R),E.on(":",k);var P=(0,i.stateify)("localhost",h,o.LOCALHOST,o.DOMAIN);u.push.apply(u,P),h.on(a,p),p.on("-",g).on(a,p).on(c,f),f.on("-",g).on(c,f);for(var T=0;T<u.length;T++)u[T].on("-",g).on(c,f);g.on("-",g).on(a,f).on(c,f),h.defaultTransition=d(o.SYM);var I=h;t.State=i.CharacterState,t.TOKENS=r,t.run=function(e){for(var t=e.replace(/[A-Z]/g,(function(e){return e.toLowerCase()})),n=e.length,i=[],o=0;o<n;){for(var r=h,s=null,a=0,c=null,l=-1;o<n&&(s=r.next(t[o]));)(r=s).accepts()?(l=0,c=r):l>=0&&l++,a++,o++;if(!(l<0)){o-=l,a-=l;var u=c.emit();i.push(new u(e.substr(o-a,a)))}}return i},t.start=I},tInm:function(e,t,n){"use strict";t.__esModule=!0;var i=n("Yn0Z"),o=n("bDgZ"),r=n("9m68").OpenViduLogger.getInstance(),s=function(){function e(e){this.stream=e,this.chunks=[],this.connectionId=this.stream.connection?this.stream.connection.connectionId:"default-connection",this.id=this.stream.streamId+"_"+this.connectionId+"_localrecord",this.state=i.LocalRecorderState.READY}return e.prototype.record=function(e){var t=this;return new Promise((function(n,o){try{if("undefined"==typeof MediaRecorder)throw r.error("MediaRecorder not supported on your browser. See compatibility in https://caniuse.com/#search=MediaRecorder"),Error("MediaRecorder not supported on your browser. See compatibility in https://caniuse.com/#search=MediaRecorder");if(t.state!==i.LocalRecorderState.READY)throw Error("'LocalRecord.record()' needs 'LocalRecord.state' to be 'READY' (current value: '"+t.state+"'). Call 'LocalRecorder.clean()' or init a new LocalRecorder before");r.log("Starting local recording of stream '"+t.stream.streamId+"' of connection '"+t.connectionId+"'");var s={};"function"==typeof MediaRecorder.isTypeSupported?e?(MediaRecorder.isTypeSupported(e)||o(new Error('mimeType "'+e+'" is not supported')),s={mimeType:e}):r.log("No mimeType parameter provided. Using default codecs"):r.warn("MediaRecorder#isTypeSupported is not supported. Using default codecs"),t.mediaRecorder=new MediaRecorder(t.stream.getMediaStream(),s),t.mediaRecorder.start(10)}catch(a){o(a)}t.mediaRecorder.ondataavailable=function(e){t.chunks.push(e.data)},t.mediaRecorder.onerror=function(e){r.error("MediaRecorder error: ",e)},t.mediaRecorder.onstart=function(){r.log("MediaRecorder started (state="+t.mediaRecorder.state+")")},t.mediaRecorder.onstop=function(){t.onStopDefault()},t.mediaRecorder.onpause=function(){r.log("MediaRecorder paused (state="+t.mediaRecorder.state+")")},t.mediaRecorder.onresume=function(){r.log("MediaRecorder resumed (state="+t.mediaRecorder.state+")")},t.mediaRecorder.onwarning=function(e){r.log("MediaRecorder warning: "+e)},t.state=i.LocalRecorderState.RECORDING,n()}))},e.prototype.stop=function(){var e=this;return new Promise((function(t,n){try{if(e.state===i.LocalRecorderState.READY||e.state===i.LocalRecorderState.FINISHED)throw Error("'LocalRecord.stop()' needs 'LocalRecord.state' to be 'RECORDING' or 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' before");e.mediaRecorder.onstop=function(){e.onStopDefault(),t()},e.mediaRecorder.stop()}catch(o){n(o)}}))},e.prototype.pause=function(){var e=this;return new Promise((function(t,n){try{e.state!==i.LocalRecorderState.RECORDING&&n(Error("'LocalRecord.pause()' needs 'LocalRecord.state' to be 'RECORDING' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' or 'LocalRecorder.resume()' before")),e.mediaRecorder.pause(),e.state=i.LocalRecorderState.PAUSED}catch(o){n(o)}}))},e.prototype.resume=function(){var e=this;return new Promise((function(t,n){try{if(e.state!==i.LocalRecorderState.PAUSED)throw Error("'LocalRecord.resume()' needs 'LocalRecord.state' to be 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.pause()' before");e.mediaRecorder.resume(),e.state=i.LocalRecorderState.RECORDING}catch(o){n(o)}}))},e.prototype.preview=function(e){if(this.state!==i.LocalRecorderState.FINISHED)throw Error("'LocalRecord.preview()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");if(this.videoPreview=document.createElement("video"),this.videoPreview.id=this.id,this.videoPreview.autoplay=!0,"Safari"===o.name&&this.videoPreview.setAttribute("playsinline","true"),"string"==typeof e){var t=document.getElementById(e);t&&(this.videoPreview=t.appendChild(this.videoPreview))}else this.videoPreview=e.appendChild(this.videoPreview);return this.videoPreview.src=this.videoPreviewSrc,this.videoPreview},e.prototype.clean=function(){var e=this,t=function(){delete e.blob,e.chunks=[],delete e.mediaRecorder,e.state=i.LocalRecorderState.READY};this.state===i.LocalRecorderState.RECORDING||this.state===i.LocalRecorderState.PAUSED?this.stop().then((function(){return t()})).catch((function(){return t()})):t()},e.prototype.download=function(){if(this.state!==i.LocalRecorderState.FINISHED)throw Error("'LocalRecord.download()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");var e=document.createElement("a");e.style.display="none",document.body.appendChild(e);var t=window.URL.createObjectURL(this.blob);e.href=t,e.download=this.id+".webm",e.click(),window.URL.revokeObjectURL(t),document.body.removeChild(e)},e.prototype.getBlob=function(){if(this.state!==i.LocalRecorderState.FINISHED)throw Error("Call 'LocalRecord.stop()' before getting Blob file");return this.blob},e.prototype.uploadAsBinary=function(e,t){var n=this;return new Promise((function(o,r){if(n.state!==i.LocalRecorderState.FINISHED)r(Error("'LocalRecord.uploadAsBinary()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+n.state+"'). Call 'LocalRecorder.stop()' before"));else{var s=new XMLHttpRequest;if(s.open("POST",e,!0),"object"==typeof t)for(var a=0,c=Object.keys(t);a<c.length;a++){var l=c[a];s.setRequestHeader(l,t[l])}s.onreadystatechange=function(){4===s.readyState&&("2"===s.status.toString().charAt(0)?o(s.responseText):r(s.status))},s.send(n.blob)}}))},e.prototype.uploadAsMultipartfile=function(e,t){var n=this;return new Promise((function(o,r){if(n.state!==i.LocalRecorderState.FINISHED)r(Error("'LocalRecord.uploadAsMultipartfile()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+n.state+"'). Call 'LocalRecorder.stop()' before"));else{var s=new XMLHttpRequest;if(s.open("POST",e,!0),"object"==typeof t)for(var a=0,c=Object.keys(t);a<c.length;a++){var l=c[a];s.setRequestHeader(l,t[l])}var u=new FormData;u.append("file",n.blob,n.id+".webm"),s.onreadystatechange=function(){4===s.readyState&&("2"===s.status.toString().charAt(0)?o(s.responseText):r(s.status))},s.send(u)}}))},e.prototype.onStopDefault=function(){r.log("MediaRecorder stopped  (state="+this.mediaRecorder.state+")"),this.blob=new Blob(this.chunks,{type:"video/webm"}),this.chunks=[],this.videoPreviewSrc=window.URL.createObjectURL(this.blob),this.state=i.LocalRecorderState.FINISHED},e}();t.LocalRecorder=s},tMSY:function(e,t){function n(){}e.exports=n,n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,n){this.callbacks=this.callbacks||{};var i=3===arguments.length,o=i?arguments[1]:void 0,r=i?arguments[2]:arguments[1];return r._groupName=o,(this.callbacks[e]=this.callbacks[e]||[]).push(r),this},t.once=function(e,t,n){var i=this,o=3===arguments.length,r=o?arguments[1]:void 0,s=o?arguments[2]:arguments[1];function a(){i.off(e,a),s.apply(this,arguments)}return this.on(e,r,a),this},t.releaseGroup=function(e){var t,n,i,o;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,i=(o=this.callbacks[t]).length;n<i;n++)o[n]._groupName===e&&(o.splice(n,1),n--,i--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,i=this.callbacks[e];return i?1===arguments.length?(delete this.callbacks[e],this):(-1!==(n=i.indexOf(t))&&(i.splice(n,1),0===i.length&&delete this.callbacks[e]),this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,i,o=[].slice.call(arguments,1),r=this.callbacks[e],s=this.getWildcardCallbacks(e);if(r)for(t=0,n=(i=r.slice()).length;t<n&&i[t];++t)i[t].apply(this,o);if(s)for(n=s.length,t=0,n=(i=s.slice()).length;t<n&&i[t];++t)i[t].apply(this,[e].concat(o));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,i=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(i=i.concat(this.callbacks[t]));return i}},n.mixin(n)},ttXH:function(e,t,n){var i,o=n("tMSY");"undefined"!=typeof window&&(i=window.AudioContext||window.webkitAudioContext);var r=null;e.exports=function(e,t){var n=new o;if(!i)return n;var s,a,c,l=(t=t||{}).smoothing||.1,u=t.interval||50,d=t.threshold,h=t.play,p=t.history||10,f=!0;r=t.audioContext||r||new i,(c=r.createAnalyser()).fftSize=512,c.smoothingTimeConstant=l,a=new Float32Array(c.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(s=r.createMediaElementSource(e),void 0===h&&(h=!0),d=d||-50):(s=r.createMediaStreamSource(e),d=d||-50),s.connect(c),h&&c.connect(r.destination),n.speaking=!1,n.suspend=function(){return r.suspend()},n.resume=function(){return r.resume()},Object.defineProperty(n,"state",{get:function(){return r.state}}),r.onstatechange=function(){n.emit("state_change",r.state)},n.setThreshold=function(e){d=e},n.setInterval=function(e){u=e},n.stop=function(){f=!1,n.emit("volume_change",-100,d),n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),c.disconnect(),s.disconnect()},n.speakingHistory=[];for(var g=0;g<p;g++)n.speakingHistory.push(0);var m=function(){setTimeout((function(){if(f){var e=function(e,t){var n=-1/0;e.getFloatFrequencyData(t);for(var i=4,o=t.length;i<o;i++)t[i]>n&&t[i]<0&&(n=t[i]);return n}(c,a);n.emit("volume_change",e,d);var t=0;if(e>d&&!n.speaking){for(var i=n.speakingHistory.length-3;i<n.speakingHistory.length;i++)t+=n.speakingHistory[i];t>=2&&(n.speaking=!0,n.emit("speaking"))}else if(e<d&&n.speaking){for(i=0;i<n.speakingHistory.length;i++)t+=n.speakingHistory[i];0==t&&(n.speaking=!1,n.emit("stopped_speaking"))}n.speakingHistory.shift(),n.speakingHistory.push(0+(e>d)),m()}}),u)};return m(),n}},"txJ/":function(e,t){var n=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0;var s,a=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),s=0===c.x}catch(S){s=!1}function l(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function u(e,t,n){if(t)e.call(n);else for(var i=e.length,o=_(e,i),r=0;r<i;++r)o[r].call(n)}function d(e,t,n,i){if(t)e.call(n,i);else for(var o=e.length,r=_(e,o),s=0;s<o;++s)r[s].call(n,i)}function h(e,t,n,i,o){if(t)e.call(n,i,o);else for(var r=e.length,s=_(e,r),a=0;a<r;++a)s[a].call(n,i,o)}function p(e,t,n,i,o,r){if(t)e.call(n,i,o,r);else for(var s=e.length,a=_(e,s),c=0;c<s;++c)a[c].call(n,i,o,r)}function f(e,t,n,i){if(t)e.apply(n,i);else for(var o=e.length,r=_(e,o),s=0;s<o;++s)r[s].apply(n,i)}function g(e,t,i,o){var r,s,a;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),a=s[t]):(s=e._events=n(null),e._eventsCount=0),a){if("function"==typeof a?a=s[t]=o?[i,a]:[a,i]:o?a.unshift(i):a.push(i),!a.warned&&(r=l(e))&&r>0&&a.length>r){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",c.name,c.message)}}else a=s[t]=i,++e._eventsCount;return e}function m(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function v(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=o.call(m,i);return r.listener=n,i.wrapFn=r,r}function b(e,t,n){var i=e._events;if(!i)return[];var o=i[t];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):_(o,o.length):[]}function y(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function _(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}s?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');a=e}}):r.defaultMaxListeners=a,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return l(this)},r.prototype.emit=function(e){var t,n,i,o,r,s,a="error"===e;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var c=new Error('Unhandled "error" event. ('+t+")");throw c.context=t,c}if(!(n=s[e]))return!1;var l="function"==typeof n;switch(i=arguments.length){case 1:u(n,l,this);break;case 2:d(n,l,this,arguments[1]);break;case 3:h(n,l,this,arguments[1],arguments[2]);break;case 4:p(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),r=1;r<i;r++)o[r-1]=arguments[r];f(n,l,this,o)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return g(this,e,t,!1)},r.prototype.prependListener=function(e,t){return g(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,v(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,v(this,e,t)),this},r.prototype.removeListener=function(e,t){var i,o,r,s,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(i=o[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=n(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){a=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():function(e,t){for(var n=t,i=n+1,o=e.length;i<o;n+=1,i+=1)e[n]=e[i];e.pop()}(i,r),1===i.length&&(o[e]=i[0]),o.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,o,r;if(!(o=this._events))return this;if(!o.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):o[e]&&(0==--this._eventsCount?this._events=n(null):delete o[e]),this;if(0===arguments.length){var s,a=i(o);for(r=0;r<a.length;++r)"removeListener"!==(s=a[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if("function"==typeof(t=o[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return b(this,e,!0)},r.prototype.rawListeners=function(e){return b(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},r.prototype.listenerCount=y,r.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},vqFl:function(e){e.exports=JSON.parse('{"_args":[["openvidu-browser@2.15.0","C:\\\\projects\\\\trading\\\\frontend"]],"_from":"openvidu-browser@2.15.0","_id":"openvidu-browser@2.15.0","_inBundle":false,"_integrity":"sha512-agnyeYIf1ze5ynGqNw32zFedlov9JZzjoFQHNMwuAoFYc2/24Aajs9cyw3j0m7v8xmMkqWSOYvsu7kGc8z1mZg==","_location":"/openvidu-browser","_phantomChildren":{"@babel/helper-validator-identifier":"7.10.4"},"_requested":{"type":"version","registry":true,"raw":"openvidu-browser@2.15.0","name":"openvidu-browser","escapedName":"openvidu-browser","rawSpec":"2.15.0","saveSpec":null,"fetchSpec":"2.15.0"},"_requiredBy":["/","/openvidu-angular"],"_resolved":"https://registry.npmjs.org/openvidu-browser/-/openvidu-browser-2.15.0.tgz","_spec":"2.15.0","_where":"C:\\\\projects\\\\trading\\\\frontend","author":{"name":"OpenVidu"},"bugs":{"url":"https://github.com/OpenVidu/openvidu/issues"},"dependencies":{"@types/node":"13.13.2","@types/platform":"1.3.2","freeice":"2.2.2","hark":"1.2.3","platform":"1.3.5","uuid":"7.0.3","wolfy87-eventemitter":"5.2.9"},"description":"OpenVidu Browser","devDependencies":{"browserify":"16.5.1","grunt":"1.1.0","grunt-cli":"1.3.2","grunt-contrib-copy":"1.0.0","grunt-contrib-sass":"1.0.0","grunt-contrib-uglify":"4.0.1","grunt-contrib-watch":"1.1.0","grunt-postcss":"0.9.0","grunt-string-replace":"1.3.1","grunt-ts":"6.0.0-beta.22","terser":"4.6.11","tsify":"4.0.1","tslint":"6.1.1","typedoc":"0.17.4","typescript":"3.8.3"},"homepage":"https://github.com/OpenVidu/openvidu#readme","license":"Apache-2.0","main":"lib/index.js","name":"openvidu-browser","repository":{"type":"git","url":"git://github.com/OpenVidu/openvidu.git"},"scripts":{"browserify":"VERSION=${VERSION:-dev}; cd src && ../node_modules/browserify/bin/cmd.js Main.ts -p [ tsify ] --exclude kurento-browser-extensions --debug -o ../static/js/openvidu-browser-$VERSION.js -v","browserify-prod":"VERSION=${VERSION:-dev}; cd src && ../node_modules/browserify/bin/cmd.js --debug Main.ts -p [ tsify ] --exclude kurento-browser-extensions | ../node_modules/terser/bin/terser --source-map content=inline --output ../static/js/openvidu-browser-$VERSION.min.js","build":"cd src/OpenVidu && ./../../node_modules/typescript/bin/tsc && cd ../.. && ./node_modules/typescript/bin/tsc --declaration src/index.ts --outDir ./lib --sourceMap --lib dom,es5,es2015.promise,scripthost","docs":"./generate-docs.sh"},"types":"lib/index.d.ts","version":"2.15.0"}')},vqGb:function(e,t,n){"use strict";t.__esModule=!0,t.URL=t.TEXT=t.NL=t.EMAIL=t.MAILTOEMAIL=t.Base=void 0;var i=n("RvMX"),o=n("JUw6"),r=n("dlaP");function s(e){return e instanceof r.DOMAIN||e instanceof r.TLD}var a=(0,i.createTokenClass)();a.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var c=(0,o.inherits)(a,(0,i.createTokenClass)(),{type:"email",isLink:!0}),l=(0,o.inherits)(a,(0,i.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),u=(0,o.inherits)(a,(0,i.createTokenClass)(),{type:"text"}),d=(0,o.inherits)(a,(0,i.createTokenClass)(),{type:"nl"}),h=(0,o.inherits)(a,(0,i.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=!1,n=!1,i=this.v,o=[],a=0;i[a]instanceof r.PROTOCOL;)t=!0,o.push(i[a].toString().toLowerCase()),a++;for(;i[a]instanceof r.SLASH;)n=!0,o.push(i[a].toString()),a++;for(;s(i[a]);)o.push(i[a].toString().toLowerCase()),a++;for(;a<i.length;a++)o.push(i[a].toString());return o=o.join(""),t||n||(o=e+"://"+o),o},hasProtocol:function(){return this.v[0]instanceof r.PROTOCOL}});t.Base=a,t.MAILTOEMAIL=c,t.EMAIL=l,t.NL=d,t.TEXT=u,t.URL=h},zkoq:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("FKr1");n("8LU1"),n("cH1L");let r=(()=>{class e{}return e.\u0275mod=i.Pb({type:e}),e.\u0275inj=i.Ob({factory:function(t){return new(t||e)},imports:[[o.k,o.i],o.k,o.i]}),e})()},znSr:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return v}));var i=n("fXoL"),o=n("ofXK"),r=n("pD6V"),s=(n("8LU1"),n("1G5W"),n("jhN1"));let a=(()=>{class e extends r.b{constructor(e,t,n,i,r,s,a){super(e,null,t,n),this.ngClassInstance=a,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new o.k(i,r,e,s)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(i.l),i.Rb(r.i),i.Rb(r.f),i.Rb(i.t),i.Rb(i.u),i.Rb(i.F),i.Rb(o.k,10))},e.\u0275dir=i.Mb({type:e,inputs:{klass:["class","klass"]},features:[i.zb]}),e})();const c=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let l=(()=>{class e extends a{constructor(){super(...arguments),this.inputs=c}}return e.\u0275fac=function(t){return u(t||e)},e.\u0275dir=i.Mb({type:e,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[i.zb]}),e})();const u=i.Zb(l);class d{constructor(e,t,n=!0){this.key=e,this.value=t,this.key=n?e.replace(/['"]/g,"").trim():e.trim(),this.value=n?t.replace(/['"]/g,"").trim():t.trim(),this.value=this.value.replace(/;/,"")}}function h(e){let t=typeof e;return"object"===t?e.constructor===Array?"array":e.constructor===Set?"set":"object":t}function p(e){const[t,...n]=e.split(":");return new d(t,n.join(":"))}function f(e,t){return t.key&&(e[t.key]=t.value),e}let g=(()=>{class e extends r.b{constructor(e,t,n,i,r,s,a,c,l){super(e,null,t,n),this.sanitizer=i,this.ngStyleInstance=a,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new o.n(e,r,s)),this.init();const u=this.nativeElement.getAttribute("style")||"";this.fallbackStyles=this.buildStyleMap(u),this.isServer=c&&Object(o.C)(l)}updateWithValue(e){const t=this.buildStyleMap(e);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),t),this.isServer&&this.applyStyleToElement(t),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const t=e=>this.sanitizer.sanitize(i.J.STYLE,e)||"";if(e)switch(h(e)){case"string":return y(function(e,t=";"){return String(e).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),t);case"array":return y(e,t);case"set":default:return function(e,t){let n=[];return"set"===h(e)?e.forEach(e=>n.push(e)):Object.keys(e).forEach(t=>{n.push(`${t}:${e[t]}`)}),function(e,t){return e.map(p).filter(e=>!!e).map(e=>(t&&(e.value=t(e.value)),e)).reduce(f,{})}(n,t)}(e,t)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(i.l),i.Rb(r.i),i.Rb(r.f),i.Rb(s.b),i.Rb(i.u),i.Rb(i.F),i.Rb(o.n,10),i.Rb(r.g),i.Rb(i.C))},e.\u0275dir=i.Mb({type:e,features:[i.zb]}),e})();const m=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let v=(()=>{class e extends g{constructor(){super(...arguments),this.inputs=m}}return e.\u0275fac=function(t){return b(t||e)},e.\u0275dir=i.Mb({type:e,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[i.zb]}),e})();const b=i.Zb(v);function y(e,t){return e.map(p).filter(e=>!!e).map(e=>(t&&(e.value=t(e.value)),e)).reduce(f,{})}let _=(()=>{class e{}return e.\u0275mod=i.Pb({type:e}),e.\u0275inj=i.Ob({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})()}}]);