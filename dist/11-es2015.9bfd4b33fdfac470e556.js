(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"55j5":function(t,n,e){"use strict";e.r(n),e.d(n,"ChannelsModule",(function(){return Rt}));var i=e("ofXK"),c=e("tyNb"),s=e("mrSG"),a=e("9xOu"),o=e("3Pt+"),r=e("fXoL"),l=e("FFj9"),b=e("wDcp"),h=e("ZP/m"),g=e("86ia"),d=e("SAI1");function u(t,n){if(1&t){const t=r.Yb();r.Xb(0,"app-video-filters",2),r.jc("filter",(function(n){return r.Hc(t),r.nc().getFilteredVideos(n)})),r.Wb()}}function p(t,n){if(1&t&&(r.Vb(0),r.Sb(1,"app-video-carousel-holder",4),r.Ub()),2&t){const t=r.nc().$implicit;r.Cb(1),r.tc("videos",t.videos)("title",t.channel.name)("detailsSource",t)}}function f(t,n){if(1&t&&(r.Vb(0),r.Oc(1,p,2,3,"ng-container",3),r.Ub()),2&t){const t=n.$implicit;r.Cb(1),r.tc("ngIf",t.videos.length>0)}}let m=(()=>{class t{constructor(t,n,e,i){this.videoService=t,this.subjectService=n,this.router=e,this.getExactParams=i,this.watchlistVideos=[],this.owlOptions=a.e,this.apiUrl=a.b,this.subscriptions=[],this.showFilters=!1,this.filters=null}ngOnInit(){this.watchlistVideos=[],this.search=localStorage.getItem("search"),this.getAllVideosByAuthors({search:this.search,filters:this.filters}),this.getFiltersToggleState()}getFiltersToggleState(){this.subscriptions.push(this.subjectService.getToggleFiltersData().subscribe(t=>{this.showFilters=t}))}getAllVideosByAuthors(t){t=this.getExactParams.transform(t),this.subscriptions.push(this.videoService.getVideosByAuthor(t).subscribe(t=>{this.watchlistVideos=t}))}getFilteredVideos(t){this.filters=t,this.getAllVideosByAuthors({search:this.search,filters:t})}getSearchResults(t){this.search=t,console.log("get search results"),this.getAllVideosByAuthors({search:t,filters:this.filters})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(l.a),r.Rb(b.a),r.Rb(c.d),r.Rb(h.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-watchlist-tab"]],inputs:{filters:"filters"},decls:2,vars:2,consts:[[3,"filter",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"filter"],[4,"ngIf"],[3,"videos","title","detailsSource"]],template:function(t,n){1&t&&(r.Oc(0,u,1,0,"app-video-filters",0),r.Oc(1,f,2,1,"ng-container",1)),2&t&&(r.tc("ngIf",n.showFilters),r.Cb(1),r.tc("ngForOf",n.watchlistVideos))},directives:[i.m,i.l,g.a,d.a],styles:[""]}),t})();function C(t,n){if(1&t){const t=r.Yb();r.Xb(0,"app-video-filters",2),r.jc("filter",(function(n){return r.Hc(t),r.nc().getFilteredVideos(n)})),r.Wb()}}let v=(()=>{class t{constructor(t,n,e,i){this.router=t,this.videoService=n,this.subjectService=e,this.getExactParams=i,this.owlOptions=a.e,this.apiUrl=a.b,this.showFilters=!1,this.search="",this.filters=null,this.userVideos=[],this.videosLoaded=!1}ngOnInit(){this.subjectService.getToggleFiltersData().subscribe(t=>{this.showFilters=t})}getUserVideos(t){(t=this.getExactParams.transform(t)).user_id=this.channelUser.id,this.videoService.getUserVideos(t).subscribe(t=>{this.videosLoaded=!0,this.channelUser.videos=null==t?void 0:t.videos})}getSearchResults(t){this.search=t,this.getUserVideos({search:this.search,filters:this.filters})}getFilteredVideos(t){this.filters=t,this.getUserVideos({search:this.search,filters:this.filters})}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(c.d),r.Rb(l.a),r.Rb(b.a),r.Rb(h.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-videos-tab"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:2,vars:5,consts:[[3,"filter",4,"ngIf"],[3,"videos","title","detailsSource","removable"],[3,"filter"]],template:function(t,n){1&t&&(r.Oc(0,C,1,0,"app-video-filters",0),r.Sb(1,"app-video-carousel-holder",1)),2&t&&(r.tc("ngIf",n.showFilters),r.Cb(1),r.tc("videos",n.channelUser.videos)("title","Recent videos")("detailsSource",n.channelUser)("removable",n.authUser.username===n.channelUser.username))},directives:[i.m,d.a,g.a],styles:[""]}),t})();var O=e("0IaG"),P=e("CPAS");function M(t,n){1&t&&(r.Xb(0,"span",11),r.Qc(1,"Playlist name is required"),r.Wb())}function _(t,n){1&t&&(r.Xb(0,"span",11),r.Qc(1,"Playlist description is required"),r.Wb())}function y(t,n){1&t&&(r.Xb(0,"span",11),r.Qc(1,"Playlist privacy is required"),r.Wb())}let U=(()=>{class t{constructor(t,n,e,i){this.data=t,this.modal=n,this.fb=e,this.playlistService=i,this.isSubmitted=!1,console.log(t),this.addPlaylistForm=this.fb.group({channel_id:t.channel_id,name:["",o.w.required],description:["",o.w.required],privacy:["",o.w.required]})}ngOnInit(){}createPlaylist(){this.isSubmitted=!0,this.addPlaylistForm.valid&&this.playlistService.addPlaylist(this.addPlaylistForm.value).subscribe(t=>{this.modal.close()})}cancel(){this.modal.close()}get nameCtrl(){return this.addPlaylistForm.get("name")}get privacyCtrl(){return this.addPlaylistForm.get("privacy")}get descCtrl(){return this.addPlaylistForm.get("description")}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(O.a),r.Rb(O.d),r.Rb(o.e),r.Rb(P.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-add-playlist-dialog"]],decls:20,vars:7,consts:[[1,"add-playlist-modal"],[3,"formGroup"],["type","text","placeholder","Playlist Name","formControlName","name"],["class","error",4,"ngIf"],["id","playlist-description","cols","30","rows","10","formControlName","description","placeholder","Playlist Description"],[1,"select"],["id","visibility","formControlName","privacy"],[3,"value"],[1,"btn-wrap"],[1,"btn","cancel",3,"click"],[1,"btn","create",3,"click"],[1,"error"]],template:function(t,n){1&t&&(r.Xb(0,"div",0),r.Xb(1,"form",1),r.Sb(2,"input",2),r.Oc(3,M,2,0,"span",3),r.Sb(4,"textarea",4),r.Oc(5,_,2,0,"span",3),r.Xb(6,"div",5),r.Xb(7,"select",6),r.Xb(8,"option",7),r.Qc(9,"Visibility"),r.Wb(),r.Xb(10,"option",7),r.Qc(11,"Public"),r.Wb(),r.Xb(12,"option",7),r.Qc(13,"Private"),r.Wb(),r.Wb(),r.Wb(),r.Oc(14,y,2,0,"span",3),r.Xb(15,"div",8),r.Xb(16,"button",9),r.jc("click",(function(){return n.cancel()})),r.Qc(17,"Cancel"),r.Wb(),r.Xb(18,"button",10),r.jc("click",(function(){return n.createPlaylist()})),r.Qc(19,"Create"),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Cb(1),r.tc("formGroup",n.addPlaylistForm),r.Cb(2),r.tc("ngIf",n.nameCtrl.hasError("required")&&n.isSubmitted),r.Cb(2),r.tc("ngIf",n.descCtrl.hasError("required")&&n.isSubmitted),r.Cb(3),r.tc("value",""),r.Cb(2),r.tc("value",0),r.Cb(2),r.tc("value",1),r.Cb(2),r.tc("ngIf",n.privacyCtrl.hasError("required")&&n.isSubmitted))},directives:[o.y,o.p,o.i,o.c,o.o,o.h,i.m,o.v,o.s,o.x],styles:[".add-playlist-modal[_ngcontent-%COMP%]{overflow:auto;max-height:100%;padding:32px;width:100%;max-width:890px;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);position:absolute;background:#fff;z-index:1001}.add-playlist-modal[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .add-playlist-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-playlist-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 24px;background:#f4f4f4;color:#545454;margin-bottom:32px;border:0;outline:none}.add-playlist-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:162px;min-height:96px;max-height:280px;resize:none}.add-playlist-modal[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:auto;min-width:284px}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;font-size:16px;border-radius:0;padding:8px 24px;line-height:normal}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background:#c9c9c9}"]}),t})();var W=e("dJ++"),X=e("NFeN"),w=e("fZdh");function x(t,n){if(1&t){const t=r.Yb();r.Xb(0,"app-video-filters",4),r.jc("filter",(function(n){return r.Hc(t),r.nc().getFilteredPlaylists(n)})),r.Wb()}}function I(t,n){1&t&&(r.Vb(0),r.Xb(1,"mat-icon"),r.Qc(2,"visibility_off"),r.Wb(),r.Xb(3,"span"),r.Qc(4,"Private"),r.Wb(),r.Ub())}function S(t,n){1&t&&(r.Vb(0),r.Xb(1,"mat-icon"),r.Qc(2,"visibility_on"),r.Wb(),r.Xb(3,"span"),r.Qc(4,"Public"),r.Wb(),r.Ub())}function k(t,n){if(1&t){const t=r.Yb();r.Xb(0,"tr"),r.Xb(1,"td"),r.Xb(2,"div",7),r.Xb(3,"img",8),r.jc("click",(function(){r.Hc(t);const e=n.$implicit;return r.nc(3).goToEditPage(e)})),r.oc(4,"getImgPath"),r.Wb(),r.Xb(5,"div",9),r.Xb(6,"h3"),r.Qc(7),r.Wb(),r.Xb(8,"p"),r.Qc(9),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(10,"td"),r.Oc(11,I,5,0,"ng-container",2),r.Oc(12,S,5,0,"ng-container",2),r.Wb(),r.Xb(13,"td"),r.Xb(14,"span"),r.Qc(15),r.oc(16,"date"),r.Wb(),r.Wb(),r.Xb(17,"td"),r.Xb(18,"span"),r.Qc(19),r.oc(20,"date"),r.Wb(),r.Wb(),r.Xb(21,"td"),r.Xb(22,"span"),r.Qc(23),r.Wb(),r.Wb(),r.Xb(24,"td"),r.Xb(25,"span",10),r.jc("click",(function(){r.Hc(t);const e=n.$implicit;return r.nc(3).goToEditPage(e)})),r.Qc(26,"create"),r.Wb(),r.Xb(27,"mat-icon",11),r.jc("click",(function(){r.Hc(t);const e=n.$implicit,i=r.nc(3);return i.removePlaylist(e.id,i.channelUser.id)})),r.Qc(28,"delete"),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=n.$implicit;r.Cb(3),r.tc("src",r.pc(4,8,t.thumbnail),r.Jc),r.Cb(4),r.Rc(t.name),r.Cb(2),r.Rc(t.description),r.Cb(2),r.tc("ngIf",t.privacy),r.Cb(1),r.tc("ngIf",!t.privacy),r.Cb(3),r.Rc(r.qc(16,10,t.created_at,"d MMM, yyyy")),r.Cb(4),r.Rc(r.qc(20,13,t.updated_at,"d MMM, yyyy")),r.Cb(4),r.Rc(t.videos.length)}}function F(t,n){if(1&t&&(r.Xb(0,"table"),r.Xb(1,"tr"),r.Xb(2,"th"),r.Qc(3,"Playlist"),r.Wb(),r.Xb(4,"th"),r.Qc(5,"Visibility"),r.Wb(),r.Xb(6,"th"),r.Qc(7,"Created at"),r.Wb(),r.Xb(8,"th"),r.Qc(9,"Last updated"),r.Wb(),r.Xb(10,"th"),r.Qc(11,"Video count"),r.Wb(),r.Sb(12,"th"),r.Wb(),r.Oc(13,k,29,16,"tr",6),r.Wb()),2&t){const t=r.nc(2);r.Cb(13),r.tc("ngForOf",t.playlists)}}function R(t,n){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"button",5),r.jc("click",(function(){return r.Hc(t),r.nc().openAddPlaylistModal()})),r.Qc(2,"Add New Playlist"),r.Wb(),r.Oc(3,F,14,1,"table",2),r.Ub()}if(2&t){const t=r.nc();r.Cb(3),r.tc("ngIf",t.playlists.length>0)}}function V(t,n){if(1&t){const t=r.Yb();r.Xb(0,"div",14),r.Xb(1,"div",15),r.jc("click",(function(){r.Hc(t);const n=r.nc().$implicit;return r.nc(2).openPlaylistPage(n,null==n.videos[0]?null:n.videos[0].id)})),r.Sb(2,"img",16),r.oc(3,"getImgPath"),r.Xb(4,"div",17),r.Xb(5,"p",18),r.Xb(6,"span",19),r.Qc(7,"playlist_play"),r.Wb(),r.Wb(),r.Xb(8,"p"),r.Qc(9),r.Wb(),r.Xb(10,"p",20),r.Qc(11),r.Wb(),r.Wb(),r.Wb(),r.Xb(12,"div",9),r.Xb(13,"h2"),r.Qc(14),r.Wb(),r.Xb(15,"p"),r.Qc(16),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.nc().$implicit;r.Cb(2),r.tc("src",r.pc(3,5,t.thumbnail),r.Jc),r.Cb(7),r.Rc(t.name),r.Cb(2),r.Rc(t.videos.length+(1===t.videos.length?" video":" videos")),r.Cb(3),r.Rc(t.name),r.Cb(2),r.Rc(t.description)}}function T(t,n){if(1&t&&(r.Vb(0),r.Oc(1,V,17,7,"div",13),r.Ub()),2&t){const t=n.$implicit;r.Cb(1),r.tc("ngIf",(null==t||null==t.videos?null:t.videos.length)>0)}}function Q(t,n){if(1&t&&(r.Vb(0),r.Xb(1,"div",12),r.Oc(2,T,2,1,"ng-container",6),r.Wb(),r.Ub()),2&t){const t=r.nc();r.Cb(2),r.tc("ngForOf",t.playlists)}}function j(t,n){1&t&&(r.Xb(0,"span"),r.Qc(1,"No playlists found for this channel"),r.Wb())}let A=(()=>{class t{constructor(t,n,e,i,c){this.router=t,this.playlistsService=n,this.subjectService=e,this.dialog=i,this.getExactParams=c,this.playlists=[],this.apiUrl=a.b,this.showFilters=!1,this.search="",this.filters=null,this.subscriptions=[]}ngOnInit(){this.search=localStorage.getItem("search"),this.getPlaylists({search:this.search,filters:this.filters}),this.getFiltersToggleState()}getFiltersToggleState(){this.subscriptions.push(this.subjectService.getToggleFiltersData().subscribe(t=>{this.showFilters=t}))}getPlaylists(t){t=this.getExactParams.transform(t),this.playlistsService.get(Object.assign({channel_id:this.channelUser.channel.id},t)).subscribe(t=>{this.playlists=t})}openAddPlaylistModal(){this.dialog.open(U,{data:{channel_id:this.channelUser.channel.id}}).afterClosed().subscribe(t=>{this.getPlaylists({search:this.search,filters:this.filters})})}openPlaylistPage(t,n){this.router.navigate(["videos/play"],{queryParams:{id:n,playlist_id:t.id}})}getSearchResults(t){this.search=t,this.getPlaylists({search:t,filters:this.filters})}getFilteredPlaylists(t){this.filters=t,this.getPlaylists({search:this.search,filters:t})}goToEditPage(t){this.router.navigate(["playlists/single/"+t.id])}removePlaylist(t,n){this.dialog.open(W.a).afterClosed().subscribe(e=>{e&&this.playlistsService.removePlaylist({id:t,channel_id:n}).subscribe(t=>{this.getPlaylists({search:this.search,filters:this.filters})})})}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(c.d),r.Rb(P.a),r.Rb(b.a),r.Rb(O.b),r.Rb(h.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-playlists-tab"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:6,vars:4,consts:[[3,"filter",4,"ngIf"],[1,"playlist-tab"],[4,"ngIf"],["id","no-playlists-found"],[3,"filter"],[1,"btn","new-playlist",3,"click"],[4,"ngFor","ngForOf"],[1,"img-info"],[1,"thumbnail",3,"src","click"],[1,"info"],[1,"material-icons",3,"click"],[3,"click"],[1,"playlists-items"],["class","item",4,"ngIf"],[1,"item"],[1,"top-wrap",3,"click"],[1,"thumbnail",3,"src"],[1,"overlay-info"],[1,"icon"],[1,"material-icons"],[1,"video-count"]],template:function(t,n){1&t&&(r.Oc(0,x,1,0,"app-video-filters",0),r.Xb(1,"div",1),r.Oc(2,R,4,1,"ng-container",2),r.Oc(3,Q,3,1,"ng-container",2),r.Xb(4,"div",3),r.Oc(5,j,2,0,"span",2),r.Wb(),r.Wb()),2&t&&(r.tc("ngIf",n.showFilters),r.Cb(2),r.tc("ngIf",n.authUser.username===n.channelUser.username),r.Cb(1),r.tc("ngIf",n.authUser.username!==n.channelUser.username),r.Cb(2),r.tc("ngIf",0===n.playlists.length))},directives:[i.m,g.a,i.l,X.a],pipes:[w.a,i.e],styles:[".playlist-tab[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]{background:#18b587;border-radius:0;color:#fff;padding:8px 24px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:table;margin:24px 0;width:100%}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-row}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border-bottom:0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:right}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]{transition:.3s}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]:hover{color:#18b587}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;color:#545454;font-family:Muli-Bold;font-size:16px;padding:12px 0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]{margin:0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:12px!important;vertical-align:middle;cursor:pointer}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:144px;cursor:pointer}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-left:24px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{max-width:240px;font-size:16px;font-family:Muli-Bold;-webkit-line-clamp:1;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:240px;font-size:12px;font-weight:400;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.playlists-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(33.3% - 21px);margin-right:32px;margin-bottom:32px;cursor:pointer}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3n+3){margin-right:0}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]{position:relative;height:216px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   .overlay-info[_ngcontent-%COMP%]{padding:16px;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.38)}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   .overlay-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:700;margin-bottom:8px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:24px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#545454;font-size:16px;font-weight:700}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0;color:#545454;font-size:15px;font-weight:500}"]}),t})();var E=e("Rnal"),H=e("tk/3");let q=(()=>{class t{constructor(t){this.httpClient=t}changeProfileImage(t){return this.httpClient.post(a.b+"users/change-profile-image",t)}changeCoverImage(t){return this.httpClient.post(a.b+"users/change-cover-image",t)}getUserInfo(t){return this.httpClient.get(a.b+"users/get-user-info",{params:t})}}return t.\u0275fac=function(n){return new(n||t)(r.fc(H.b))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Y=e("1m4N"),z=e("HHsJ"),D=e("7dP1"),L=e("Y9zH"),B=e("lwos"),N=e("kUS0"),$=e("bTqV"),G=e("kmnG"),J=e("qFsG");function Z(t,n){if(1&t){const t=r.Yb();r.Xb(0,"div",18),r.Xb(1,"input",19),r.jc("change",(function(n){return r.Hc(t),r.nc().coverChangeEvent(n)})),r.Wb(),r.Xb(2,"ngx-photo-editor",20),r.jc("imageCropped",(function(n){return r.Hc(t),r.nc().coverCropped(n)})),r.Wb(),r.Wb()}if(2&t){const t=r.nc();r.tc("hidden",!0),r.Cb(2),r.tc("imageChanedEvent",t.coverChangedEvent)("autoCrop",!1)("viewMode",3)}}function K(t,n){if(1&t){const t=r.Yb();r.Xb(0,"button",21),r.jc("click",(function(){return r.Hc(t),r.nc().removeCover()})),r.Xb(1,"mat-icon"),r.Qc(2,"clear"),r.Wb(),r.Wb()}}function tt(t,n){if(1&t){const t=r.Yb();r.Xb(0,"mat-icon",22),r.jc("click",(function(){return r.Hc(t),r.nc().removeAvatar()})),r.Qc(1,"clear "),r.Wb()}}function nt(t,n){if(1&t){const t=r.Yb();r.Xb(0,"div",18),r.Xb(1,"input",23),r.jc("change",(function(n){return r.Hc(t),r.nc().profileChangeEvent(n)})),r.Wb(),r.Xb(2,"ngx-photo-editor",24),r.jc("imageCropped",(function(n){return r.Hc(t),r.nc().profileCropped(n)})),r.Wb(),r.Wb()}if(2&t){const t=r.nc();r.tc("hidden",!0),r.Cb(2),r.tc("imageChanedEvent",t.profileChangedEvent)("aspectRatio",4/3)("viewMode",1)("resizeToWidth",500)}}function et(t,n){if(1&t&&(r.Xb(0,"p",25),r.Qc(1),r.Wb()),2&t){const t=r.nc();r.Cb(1),r.Rc(t.channelUser.channel.name)}}function it(t,n){1&t&&(r.Xb(0,"mat-form-field"),r.Sb(1,"input",26),r.Wb())}function ct(t,n){1&t&&r.Sb(0,"div",27)}function st(t,n){if(1&t){const t=r.Yb();r.Xb(0,"a",30),r.jc("click",(function(){r.Hc(t);const n=r.nc(2);return n.subscribeToChannel(n.channelUser.channel)})),r.Qc(1,"Subscribe"),r.Wb()}}function at(t,n){if(1&t){const t=r.Yb();r.Xb(0,"a",31),r.jc("click",(function(){r.Hc(t);const n=r.nc(2);return n.subscribeToChannel(n.channelUser.channel)})),r.Qc(1,"Subscribed"),r.Wb()}}function ot(t,n){if(1&t&&(r.Xb(0,"div",8),r.Oc(1,st,2,0,"a",28),r.Oc(2,at,2,0,"a",29),r.Wb()),2&t){const t=r.nc();r.Cb(1),r.tc("ngIf",!t.subscribedToChannel),r.Cb(1),r.tc("ngIf",t.subscribedToChannel)}}function rt(t,n){if(1&t){const t=r.Yb();r.Xb(0,"button",34),r.jc("click",(function(){return r.Hc(t),r.nc(2).enableEditMode()})),r.Xb(1,"mat-icon"),r.Qc(2,"edit"),r.Wb(),r.Qc(3," Edit channel "),r.Wb()}}function lt(t,n){if(1&t){const t=r.Yb();r.Xb(0,"button",35),r.jc("click",(function(){return r.Hc(t),r.nc(2).saveChanges()})),r.Xb(1,"mat-icon"),r.Qc(2,"save"),r.Wb(),r.Qc(3," Save changes "),r.Wb()}}function bt(t,n){if(1&t&&(r.Xb(0,"div",8),r.Oc(1,rt,4,0,"button",32),r.Oc(2,lt,4,0,"button",33),r.Wb()),2&t){const t=r.nc();r.Cb(1),r.tc("ngIf",!t.editMode),r.Cb(1),r.tc("ngIf",t.editMode)}}const ht=function(t){return{opacity:t}};let gt=(()=>{class t{constructor(t,n,e,i,c,s,r){this.usersService=t,this.base64ToFile=n,this.getAuthUser=e,this.channelService=i,this.subject=c,this.loader=s,this.fb=r,this.apiUrl=a.b,this.subscribedToChannel=!1,this.subscribersCount=0,this.changingImage=!1,this.editMode=!1,this.channelForm=this.fb.group({id:[""],avatar:[""],cover:[""],name:["",o.w.required],username:[""]})}ngOnInit(){this.channelUser&&(this.checkChannelSubscription(),this.detectImageChange(),this.channelForm.patchValue(this.channelUser),this.channelForm.patchValue({name:this.channelUser.channel.name,id:this.channelUser.channel.id,username:this.channelUser.username}))}coverChangeEvent(t){this.coverChangedEvent=t}profileChangeEvent(t){this.profileChangedEvent=t,console.log("avatar change event")}detectImageChange(){}profileCropped(t){this.changingImage=!0,console.log("cropped"),this.profileBase64=t.base64;const n=`avatar_${Date.now()}.jpg`,e=new FormData;this.channelForm.patchValue({avatar:n}),e.append("avatar_file",this.base64ToFile.transform(t.base64),n),e.append("avatar",n),e.append("id",this.authUser.id),this.usersService.changeProfileImage(e).subscribe(t=>{this.changeAuthUserInfo(t)})}coverCropped(t){this.coverBase64=t.base64,this.changingImage=!0;const n=new FormData,e=`cover_${Date.now()}.jpg`;this.channelForm.patchValue({cover:e}),n.append("cover_file",this.base64ToFile.transform(t.base64),e),n.append("cover",e),n.append("id",this.authUser.id),this.loader.dataLoading=!0,this.usersService.changeCoverImage(n).subscribe(t=>{this.changeAuthUserInfo(t)})}removeCover(){this.channelUser.channel.cover="",this.channelForm.patchValue({cover:this.channelUser.channel.cover})}removeAvatar(){this.channelUser.channel.avatar="",this.channelForm.patchValue({avatar:this.channelUser.channel.avatar})}subscribeToChannel(t){this.channelService.subscribeToChannel({user_id:this.authUser.id,channel_id:t.id}).subscribe(t=>{this.subscribedToChannel="Subscribed"===t.status,this.subscribersCount=t.subscribers_count,this.channelService.getUserChannelSubscriptions({user_id:this.authUser.id}).subscribe(t=>{this.subject.setUserSubscriptions(t)})})}checkChannelSubscription(){this.channelService.checkChannelSubscription({user_id:this.authUser.id,channel_id:this.channelUser.channel.id}).subscribe(t=>{this.subscribedToChannel="Subscribed"===t.status,this.subscribersCount=t.subscribers_count})}changeAuthUserInfo(t){localStorage.setItem("token",t.token),this.authUser=this.getAuthUser.transform(),this.channelUser=this.authUser}enableEditMode(){this.editMode=!this.editMode}saveChanges(){this.channelForm.valid&&this.channelService.changeChannelDetails(this.channelForm.value).subscribe(t=>{this.editMode=!1,this.changeAuthUserInfo(t)})}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(q),r.Rb(Y.a),r.Rb(E.a),r.Rb(z.a),r.Rb(b.a),r.Rb(B.a),r.Rb(o.e))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-channel-profile"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:24,vars:22,consts:[[3,"formGroup"],[1,"profile-block"],[3,"hidden",4,"ngIf"],[1,"cover-image-container"],["for","cover-image-input"],["id","cover-image",3,"src"],["mat-icon-button","","class","remove-cover-btn",3,"click",4,"ngIf"],[1,"sub-block"],[1,"d-flex","align-items-center"],[1,"avatar-container"],["for","profile-image-input"],["id","profile-image",1,"avatar",3,"ngStyle","src"],["class","remove-avatar-btn",3,"click",4,"ngIf"],["class","main-text-1","id","channel-name",4,"ngIf"],[4,"ngIf"],[1,"main-text-4"],["class","loader",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],[3,"hidden"],["type","file","id","cover-image-input",3,"change"],[3,"imageChanedEvent","autoCrop","viewMode","imageCropped"],["mat-icon-button","",1,"remove-cover-btn",3,"click"],[1,"remove-avatar-btn",3,"click"],["type","file","id","profile-image-input",3,"change"],[3,"imageChanedEvent","aspectRatio","viewMode","resizeToWidth","imageCropped"],["id","channel-name",1,"main-text-1"],["matInput","","formControlName","name","id","channel-name-input"],[1,"loader"],["class","subscribe-btn",3,"click",4,"ngIf"],["class","subscribe-btn subscribed",3,"click",4,"ngIf"],[1,"subscribe-btn",3,"click"],[1,"subscribe-btn","subscribed",3,"click"],["class","btn","id","edit-channel",3,"click",4,"ngIf"],["class","btn","id","save-channel-details",3,"click",4,"ngIf"],["id","edit-channel",1,"btn",3,"click"],["id","save-channel-details",1,"btn",3,"click"]],template:function(t,n){1&t&&(r.Xb(0,"form",0),r.Xb(1,"div",1),r.Oc(2,Z,3,4,"div",2),r.Xb(3,"div",3),r.Xb(4,"label",4),r.Sb(5,"img",5),r.oc(6,"getImgPath"),r.Wb(),r.Oc(7,K,3,0,"button",6),r.Wb(),r.Wb(),r.Xb(8,"div",7),r.Xb(9,"div",8),r.Xb(10,"div",9),r.Xb(11,"label",10),r.Sb(12,"img",11),r.oc(13,"getImgPath"),r.Wb(),r.Oc(14,tt,2,0,"mat-icon",12),r.Wb(),r.Oc(15,nt,3,5,"div",2),r.Xb(16,"div"),r.Oc(17,et,2,1,"p",13),r.Oc(18,it,2,0,"mat-form-field",14),r.Xb(19,"p",15),r.Qc(20),r.Wb(),r.Wb(),r.Wb(),r.Oc(21,ct,1,0,"div",16),r.Oc(22,ot,3,2,"div",17),r.Oc(23,bt,3,2,"div",17),r.Wb(),r.Wb()),2&t&&(r.tc("formGroup",n.channelForm),r.Cb(2),r.tc("ngIf",n.channelUser.username===n.authUser.username),r.Cb(3),r.tc("src",r.qc(6,14,null==n.channelUser.channel?null:n.channelUser.channel.cover,"covers"),r.Jc),r.Cb(2),r.tc("ngIf",n.editMode&&n.channelUser.channel.cover),r.Cb(5),r.tc("ngStyle",r.xc(20,ht,n.editMode?.5:1))("src",r.qc(13,17,n.channelUser.channel.avatar,"avatars"),r.Jc),r.Cb(2),r.tc("ngIf",n.editMode&&n.channelUser.channel.avatar),r.Cb(1),r.tc("ngIf",n.channelUser.username===n.authUser.username),r.Cb(2),r.tc("ngIf",!n.editMode),r.Cb(1),r.tc("ngIf",n.editMode),r.Cb(2),r.Sc("",n.subscribersCount+" subscriber"+(1===n.subscribersCount?"":"s")," "),r.Cb(1),r.tc("ngIf",n.changingImage),r.Cb(1),r.tc("ngIf",n.channelUser.username!==n.authUser.username),r.Cb(1),r.tc("ngIf",n.channelUser.username===n.authUser.username))},directives:[o.y,o.p,o.i,i.m,i.n,N.a,$.a,X.a,G.c,J.b,o.c,o.o,o.h],pipes:[w.a],styles:[".loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:52px;margin-left:10px;margin-top:-17px}.cover-image-container[_ngcontent-%COMP%]{position:relative}.cover-image-container[_ngcontent-%COMP%]   .remove-cover-btn[_ngcontent-%COMP%]{position:absolute;right:0}.cover-image-container[_ngcontent-%COMP%]   .remove-cover-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{background-color:#000;color:#fff;border-radius:20px;font-size:16px}label[for=cover-image-input][_ngcontent-%COMP%]{width:100%}#edit-channel[_ngcontent-%COMP%], #save-channel-details[_ngcontent-%COMP%]{background:#18b587;border-radius:0;color:#fff;padding:8px 24px;display:flex;align-items:center}.avatar-container[_ngcontent-%COMP%]{position:relative}.avatar-container[_ngcontent-%COMP%]   .remove-avatar-btn[_ngcontent-%COMP%]{position:absolute;right:20px;top:13px;color:#000;font-size:16px;cursor:pointer}"]}),t})();function dt(t,n){1&t&&(r.Xb(0,"h2"),r.Qc(1,"Description"),r.Wb())}function ut(t,n){if(1&t){const t=r.Yb();r.Xb(0,"button",7),r.jc("click",(function(){return r.Hc(t),r.nc().editModeOn()})),r.Qc(1,"Edit"),r.Wb()}}function pt(t,n){if(1&t&&(r.Xb(0,"div",8),r.Xb(1,"p"),r.Qc(2),r.Wb(),r.Wb()),2&t){const t=r.nc();r.Cb(2),r.Rc(t.channelUser.channel.description)}}function ft(t,n){if(1&t){const t=r.Yb();r.Vb(0),r.Sb(1,"textarea",9),r.Xb(2,"button",10),r.jc("click",(function(){return r.Hc(t),r.nc().saveChannelDescription()})),r.Qc(3,"Save"),r.Wb(),r.Ub()}}let mt=(()=>{class t{constructor(t,n){this.fb=t,this.channelService=n,this.editMode=!1}ngOnInit(){this.aboutForm=this.fb.group({description:["",o.w.required],id:["",o.w.required],username:["",o.w.required]}),this.aboutForm.patchValue(Object.assign({username:this.channelUser.username},this.channelUser.channel))}editModeOn(){this.editMode=!0}saveChannelDescription(){console.log(this.editMode),this.channelService.saveDescription(this.aboutForm.value).subscribe(t=>{this.channelUser=t,this.editMode=!1})}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(o.e),r.Rb(z.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-about-tab"]],inputs:{channelUser:"channelUser"},decls:11,vars:9,consts:[[1,"about-tab"],["id","channel-about-form",3,"formGroup"],[1,"info"],[4,"ngIf"],[1,"date"],["class","btn",3,"click",4,"ngIf"],["class","description",4,"ngIf"],[1,"btn",3,"click"],[1,"description"],["formControlName","description"],[1,"save",3,"click"]],template:function(t,n){1&t&&(r.Xb(0,"div",0),r.Xb(1,"form",1),r.Xb(2,"div",2),r.Oc(3,dt,2,0,"h2",3),r.Xb(4,"div",4),r.Xb(5,"span"),r.Qc(6),r.oc(7,"date"),r.Wb(),r.Oc(8,ut,2,0,"button",5),r.Wb(),r.Wb(),r.Oc(9,pt,3,1,"div",6),r.Oc(10,ft,4,0,"ng-container",3),r.Wb(),r.Wb()),2&t&&(r.Cb(1),r.tc("formGroup",n.aboutForm),r.Cb(2),r.tc("ngIf",null==n.channelUser.channel?null:n.channelUser.channel.description),r.Cb(3),r.Sc("Joined ",r.qc(7,6,n.channelUser.channel.created_at,"d MMM, yyyy"),""),r.Cb(2),r.tc("ngIf",!n.editMode),r.Cb(1),r.tc("ngIf",!n.editMode&&(null==n.channelUser?null:n.channelUser.channel.description)),r.Cb(1),r.tc("ngIf",n.editMode))},directives:[o.y,o.p,o.i,i.m,o.c,o.o,o.h],pipes:[i.e],styles:[".about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#18b587;font-family:Muli-Bold}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:0;display:flex;align-items:center}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#545454;font-family:Muli-Bold}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;padding:4px 18px;border-radius:0}.about-tab[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:24px;padding:24px;background:#f4f4f4;color:#545454;font-size:16px}.about-tab[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:120px}.about-tab[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{margin-top:24px;background:#c9c9c9;color:#545454;padding:4px 18px;border-radius:0}.about-tab[_ngcontent-%COMP%]   .save.active[_ngcontent-%COMP%]{background:#18b587;color:#fff}"]}),t})();function Ct(t,n){if(1&t){const t=r.Yb();r.Xb(0,"app-user-tags",4),r.jc("tagSelected",(function(n){return r.Hc(t),r.nc().getVideosByTag(n)})),r.Wb()}}function vt(t,n){if(1&t){const t=r.Yb();r.Xb(0,"li",16),r.Xb(1,"a",17),r.jc("click",(function(){r.Hc(t);const e=n.$implicit;return r.nc(2).changeActiveTab(e)})),r.Qc(2),r.Wb(),r.Wb()}if(2&t){const t=n.$implicit,e=r.nc(2);r.Cb(1),r.Hb("active",t===e.activeTab),r.vc("id","",t.link,"-tab"),r.tc("href","#"+t.link,r.Jc),r.Cb(1),r.Rc(t.name)}}function Ot(t,n){if(1&t){const t=r.Yb();r.Xb(0,"div",18),r.Xb(1,"input",19),r.jc("keyup.enter",(function(){return r.Hc(t),r.nc(2).searchVideos()})),r.Wb(),r.Sb(2,"i",20),r.Wb()}}function Pt(t,n){1&t&&r.Sb(0,"app-watchlist-tab")}function Mt(t,n){if(1&t&&r.Sb(0,"app-videos-tab",5),2&t){const t=r.nc(2);r.tc("channelUser",t.channelUser)("authUser",t.authUser)}}function _t(t,n){if(1&t&&r.Sb(0,"app-playlists-tab",5),2&t){const t=r.nc(2);r.tc("channelUser",t.channelUser)("authUser",t.authUser)}}function yt(t,n){if(1&t&&r.Sb(0,"app-about-tab",21),2&t){const t=r.nc(2);r.tc("channelUser",t.channelUser)}}function Ut(t,n){if(1&t){const t=r.Yb();r.Vb(0),r.Sb(1,"app-channel-profile",5),r.Xb(2,"div",6),r.Xb(3,"div",7),r.Xb(4,"ul",8),r.Oc(5,vt,3,5,"li",9),r.Wb(),r.Xb(6,"form",10),r.Xb(7,"div",11),r.Xb(8,"button",12),r.jc("click",(function(){return r.Hc(t),r.nc().toggleFilters()})),r.Xb(9,"mat-icon"),r.Qc(10,"tune"),r.Wb(),r.Wb(),r.Wb(),r.Oc(11,Ot,3,0,"div",13),r.Wb(),r.Wb(),r.Oc(12,Pt,1,0,"app-watchlist-tab",2),r.Oc(13,Mt,1,2,"app-videos-tab",14),r.Oc(14,_t,1,2,"app-playlists-tab",14),r.Oc(15,yt,1,1,"app-about-tab",15),r.Wb(),r.Ub()}if(2&t){const t=r.nc();r.Cb(1),r.tc("channelUser",t.channelUser)("authUser",t.authUser),r.Cb(4),r.tc("ngForOf",t.allTabs),r.Cb(1),r.tc("formGroup",t.searchVideosForm),r.Cb(2),r.Hb("filters-active",t.showFilters),r.Cb(3),r.tc("ngIf","About"!==t.activeTab.name),r.Cb(1),r.tc("ngIf","Watchlist"===t.activeTab.name),r.Cb(1),r.tc("ngIf","Videos"===t.activeTab.name),r.Cb(1),r.tc("ngIf","Playlists"===t.activeTab.name),r.Cb(1),r.tc("ngIf","About"===t.activeTab.name)}}function Wt(t,n){1&t&&(r.Xb(0,"div",22),r.Xb(1,"p"),r.Qc(2,"Channel with such name is not found"),r.Wb(),r.Wb())}function Xt(t,n){if(1&t&&r.Sb(0,"img",11),2&t){const t=r.nc().$implicit,n=r.nc(2);r.tc("src",n.apiUrl+"uploads/avatars/"+t.avatar,r.Jc)}}function wt(t,n){1&t&&r.Sb(0,"img",11),2&t&&r.tc("src","assets/img/default-user.png",r.Jc)}function xt(t,n){if(1&t&&(r.Xb(0,"li",2),r.Xb(1,"div",3),r.Oc(2,Xt,1,1,"img",4),r.Oc(3,wt,1,1,"img",4),r.Wb(),r.Xb(4,"div",5),r.Xb(5,"p",6),r.Qc(6),r.Wb(),r.Xb(7,"div",7),r.Xb(8,"span",8),r.Qc(9,"17k watching"),r.Wb(),r.Xb(10,"span",9),r.Qc(11,"."),r.Wb(),r.Xb(12,"span",10),r.Qc(13,"250 video"),r.Wb(),r.Wb(),r.Xb(14,"p"),r.Qc(15),r.Wb(),r.Wb(),r.Wb()),2&t){const t=n.$implicit;r.Cb(2),r.tc("ngIf",t.avatar),r.Cb(1),r.tc("ngIf",!t.avatar),r.Cb(3),r.Rc(t.name),r.Cb(9),r.Rc(t.description)}}function It(t,n){if(1&t&&(r.Xb(0,"ul"),r.Oc(1,xt,16,4,"li",1),r.Wb()),2&t){const t=r.nc();r.Cb(1),r.tc("ngForOf",t.userChannels.subscriptions)}}const St=[{path:"show",component:(()=>{class t{constructor(t,n,e,i,c,s,r,l,b,h,g,d,u){this.videoService=t,this.getAuthUser=n,this.router=e,this.usersService=i,this.base64ToFile=c,this.route=s,this.fb=r,this.subjectService=l,this.channelService=b,this.playlistsService=h,this.subject=g,this.auth=d,this.dialog=u,this.owlOptions=a.e,this.watchlistVideos=[],this.activeTab=a.h[0],this.allTabs=a.h,this.apiUrl=a.b,this.playlists=[],this.editMode=!1,this.showFilters=!1,this.filters=null,this.authUser=this.getAuthUser.transform(),this.passedUsername=this.route.snapshot.queryParams.username,this.searchVideosForm=this.fb.group({search:["",o.w.required]})}ngOnInit(){localStorage.setItem("search",""),this.getUserInfo()}toggleFilters(){this.showFilters=!this.showFilters,this.subject.setToggleFiltersData(this.showFilters)}getUserInfo(){this.passedUsername&&this.usersService.getUserInfo({username:this.passedUsername}).subscribe(t=>{t&&(this.channelUser=t)})}changeActiveTab(t){this.activeTab=t,this.searchVideos(),this.showFilters=!1,this.subject.setToggleFiltersData(this.showFilters),"Videos"===this.activeTab.name&&this.getUserInfo()}searchVideos(){const t=this.searchVideosForm.value;localStorage.setItem("search",t.search),this.showFilters=!1,this.subject.setToggleFiltersData(this.showFilters),"Watchlist"===this.activeTab.name?this.searchInVideosByAuthor(t.search):"Videos"===this.activeTab.name?this.searchInUserVideos(t.search):"Playlists"===this.activeTab.name&&this.searchInPlaylists(t.search)}searchInVideosByAuthor(t){this.watchListTab&&this.watchListTab.getSearchResults(t)}searchInUserVideos(t){this.videosTab&&this.videosTab.getSearchResults(t)}searchInPlaylists(t){this.playlistsTab&&this.playlistsTab.getSearchResults(t)}getVideosByTag(t){return Object(s.a)(this,void 0,void 0,(function*(){yield this.router.navigate(["videos"],{queryParams:{tag:t}})}))}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(l.a),r.Rb(E.a),r.Rb(c.d),r.Rb(q),r.Rb(Y.a),r.Rb(c.a),r.Rb(o.e),r.Rb(b.a),r.Rb(z.a),r.Rb(P.a),r.Rb(b.a),r.Rb(D.a),r.Rb(O.b))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-show-channel"]],viewQuery:function(t,n){var e;1&t&&(r.Vc(m,!0),r.Vc(v,!0),r.Vc(A,!0)),2&t&&(r.Cc(e=r.kc())&&(n.watchListTab=e.first),r.Cc(e=r.kc())&&(n.videosTab=e.first),r.Cc(e=r.kc())&&(n.playlistsTab=e.first))},decls:4,vars:3,consts:[[1,"profile-list"],[3,"tagSelected",4,"ngIf"],[4,"ngIf"],["class","channel-not-found",4,"ngIf"],[3,"tagSelected"],[3,"channelUser","authUser"],[1,"watchlist","pWatchlist"],[1,"profile-list","user-profile-block"],["id","profileList","role","tablist",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],["id","search-videos-form",3,"formGroup"],[1,"toggle-filters-btn"],["type","button",1,"filter-toggle-btn",3,"click"],["class","watchlist-search",4,"ngIf"],[3,"channelUser","authUser",4,"ngIf"],[3,"channelUser",4,"ngIf"],[1,"nav-item"],["data-toggle","tab","role","tab","aria-controls","pWatch","aria-selected","true",1,"nav-link",3,"id","href","click"],[1,"watchlist-search"],["placeholder","Search","formControlName","search",1,"watchlist-input",3,"keyup.enter"],[1,"fas","fa-search"],[3,"channelUser"],[1,"channel-not-found"]],template:function(t,n){1&t&&(r.Xb(0,"div",0),r.Oc(1,Ct,1,0,"app-user-tags",1),r.Oc(2,Ut,16,11,"ng-container",2),r.Oc(3,Wt,3,0,"div",3),r.Wb()),2&t&&(r.Cb(1),r.tc("ngIf",n.auth.loggedIn()),r.Cb(1),r.tc("ngIf",n.channelUser),r.Cb(1),r.tc("ngIf",!n.channelUser))},directives:[i.m,L.a,gt,i.l,o.y,o.p,o.i,X.a,o.c,o.o,o.h,m,v,A,mt],styles:[".profile-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}.subscribed[_ngcontent-%COMP%]{background-color:#d6d6d6!important}#search-videos-form[_ngcontent-%COMP%]{display:flex}#search-videos-form[_ngcontent-%COMP%]   .toggle-filters-btn[_ngcontent-%COMP%]{display:flex;margin-right:20px;padding-top:4px}#search-videos-form[_ngcontent-%COMP%]   .toggle-filters-btn[_ngcontent-%COMP%]   .filter-toggle-btn[_ngcontent-%COMP%]{background-color:unset;height:23px}#search-videos-form[_ngcontent-%COMP%]   .filters-active[_ngcontent-%COMP%]{background-color:#18b587!important;color:#fff}"]}),t})()},{path:"subscriptions",component:(()=>{class t{constructor(t,n,e){this.channelsService=t,this.getAuthUser=n,this.auth=e,this.apiUrl=a.b,this.authUser=this.getAuthUser.transform()}ngOnInit(){this.channelsService.getSubscriptions({user_id:this.authUser.id}).subscribe(t=>{this.userChannels=t})}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(z.a),r.Rb(E.a),r.Rb(D.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-show-subscriptions"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","channel-item",4,"ngFor","ngForOf"],[1,"channel-item"],[1,"thumbnail"],["class","avatar",3,"src",4,"ngIf"],[1,"info"],[1,"name"],[1,"shortened-details"],[1,"watchers-count"],[1,"dot"],[1,"videos-count"],[1,"avatar",3,"src"]],template:function(t,n){1&t&&r.Oc(0,It,2,1,"ul",0),2&t&&r.tc("ngIf",n.userChannels)},directives:[i.m,i.l],styles:[".channel-item[_ngcontent-%COMP%]{display:flex;width:936px;margin-bottom:32px}.channel-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:240px!important;height:240px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:4px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#545454;font-size:24px;font-family:Muli-Bold}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{margin-left:26px;margin-top:-3px}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-family:Muli-Light}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .videos-count[_ngcontent-%COMP%], .channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .watchers-count[_ngcontent-%COMP%]{font-size:14px;color:#818181}.channel-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .videos-count[_ngcontent-%COMP%]{margin-left:26px}"]}),t})()}];let kt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(n){return new(n||t)},imports:[[c.f.forChild(St)],c.f]}),t})();var Ft=e("PCNd");let Rt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(n){return new(n||t)},imports:[[i.c,kt,Ft.a,N.b]]}),t})()}}]);