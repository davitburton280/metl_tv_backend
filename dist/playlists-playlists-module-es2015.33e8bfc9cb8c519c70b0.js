(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{kez3:function(t,n,e){"use strict";e.r(n),e.d(n,"PlaylistsModule",(function(){return ut}));var i=e("ofXK"),o=e("tyNb"),c=e("9xOu"),s=e("fXoL"),a=e("CPAS"),l=e("0IaG"),r=e("Cnuz"),d=e("3Pt+"),p=e("FFj9"),b=e("5eHb"),g=e("mrSG"),u=e("wgiU"),h=e("L0w5"),f=e("IK1q"),y=e("fZdh"),v=e("yEwS");function C(t,n){if(1&t){const t=s.Xb();s.Wb(0,"li",24),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic(3).getVideosByTag(e.name)})),s.Wb(1,"span"),s.Mc(2),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit;s.Cb(2),s.Nc(t.name)}}function M(t,n){if(1&t){const t=s.Xb();s.Wb(0,"div",6),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic(2).selectVideo(e)})),s.Wb(1,"div",7),s.Wb(2,"div",8),s.Rb(3,"span",9),s.Rb(4,"img",10),s.jc(5,"getImgPath"),s.Wb(6,"span",11),s.Mc(7),s.Vb(),s.Vb(),s.Wb(8,"div",12),s.Wb(9,"div",13),s.Wb(10,"h4",14),s.Mc(11),s.Vb(),s.Vb(),s.Wb(12,"div",15),s.Wb(13,"span",16),s.Mc(14),s.Vb(),s.Wb(15,"span",17),s.Mc(16,"\xb7"),s.Vb(),s.Wb(17,"span",18),s.Mc(18),s.Vb(),s.Wb(19,"span",17),s.Mc(20,"\xb7"),s.Vb(),s.Wb(21,"span",19),s.Mc(22),s.jc(23,"dateFromNow"),s.Vb(),s.Vb(),s.Wb(24,"div",20),s.Wb(25,"p",21),s.Mc(26),s.Vb(),s.Wb(27,"div",22),s.Wb(28,"ul"),s.Kc(29,C,3,1,"li",23),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit,e=s.ic(2);s.Gb("selected",e.checkIfVideoSelected(t.id))("added",e.getSelectedVideos.checkIfVideoAddedToPlaylist(t,e.playlist)),s.Cb(4),s.pc("src",s.kc(5,12,t.thumbnail),s.Ec),s.Cb(3),s.Nc(t.duration),s.Cb(4),s.Nc(t.name),s.Cb(3),s.Nc(t.channel.name),s.Cb(4),s.Oc(" ","live"===t.status?"17k watching":t.views+" view"+(1===t.views?"":"s")," "),s.Cb(4),s.Nc(s.kc(23,14,t.created_at)),s.Cb(4),s.Nc(t.description),s.Cb(3),s.pc("ngForOf",null==t?null:t.tags)}}function P(t,n){if(1&t&&(s.Ub(0),s.Kc(1,M,30,16,"div",5),s.Tb()),2&t){const t=s.ic();s.Cb(1),s.pc("ngForOf",t.searchedVideos)("ngForTrackBy",t.trackByElement)}}function m(t,n){1&t&&(s.Wb(0,"div",25),s.Wb(1,"span"),s.Mc(2,"No search results found"),s.Vb(),s.Vb())}let _=(()=>{class t{constructor(t,n,e){this.videoService=t,this.getSelectedVideos=n,this.router=e,this.searchedVideos=[],this.selectedVideos=[],this.searched=!1,this.trackByElement=u.a,this.subscriptions=[],this.selectVid=new s.o}ngOnInit(){}searchVideos(t){this.searched=!0,this.subscriptions.push(this.videoService.searchInAllVideos(t).subscribe(t=>{this.searchedVideos=t}))}checkIfVideoSelected(t){return this.selectedVideos.find(n=>n===t)}selectVideo(t){this.selectedVideos=this.getSelectedVideos.transform(t,this.selectedVideos,this.playlist),this.selectVid.emit(this.selectedVideos)}getVideosByTag(t){return Object(g.a)(this,void 0,void 0,(function*(){yield this.router.navigate(["videos"],{queryParams:{tag:t}})}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(s.Qb(p.a),s.Qb(h.a),s.Qb(o.e))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-search-videos-tab"]],inputs:{playlist:"playlist"},outputs:{selectVid:"selectVideo"},decls:5,vars:2,consts:[[1,"tab1"],[1,"input-wrap"],[3,"search"],[4,"ngIf"],["class","no-results-found",4,"ngIf"],["class","video-item",3,"selected","added","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"video-item",3,"click"],[1,"video-container"],[1,"img"],[1,"added-placeholder"],[1,"thumbnail",3,"src"],[1,"duration"],[1,"details"],[1,"title"],[1,""],[1,"shortened-details"],[1,"channel-name"],[1,"dot"],[1,"watchers-count"],[1,"upload-time"],[1,"desc-tags"],[1,"shortened-description"],[1,"tags"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"no-results-found"]],template:function(t,n){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"app-search-videos-form",2),s.ec("search",(function(t){return n.searchVideos(t)})),s.Vb(),s.Vb(),s.Kc(3,P,2,2,"ng-container",3),s.Kc(4,m,3,0,"div",4),s.Vb()),2&t&&(s.Cb(3),s.pc("ngIf",n.searchedVideos.length>0),s.Cb(1),s.pc("ngIf",0===n.searchedVideos.length&&n.searched))},directives:[f.a,i.t,i.s],pipes:[y.a,v.a],styles:['.video-item[_ngcontent-%COMP%]{margin-bottom:30px;padding:5px;cursor:pointer}.video-item.selected[_ngcontent-%COMP%]{border:1px solid #18b587}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:relative;overflow:hidden}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   span.added-placeholder[_ngcontent-%COMP%]{position:absolute;right:-24px;top:8px;font-size:13px;transform:rotate(45deg);z-index:3}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   span.added-placeholder[_ngcontent-%COMP%]:before{content:"Added";background:#f53c6f;color:#fff;padding:20px 24px 6px}.video-item.added[_ngcontent-%COMP%]   .shortened-description[_ngcontent-%COMP%]{-webkit-line-clamp:1!important}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-top:10px}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}.input-wrap[_ngcontent-%COMP%]{margin-bottom:20px}.input-wrap[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;color:#545454}.input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{position:relative;margin-top:8px}.input-wrap[_ngcontent-%COMP%]   .input.search[_ngcontent-%COMP%]{max-width:400px}.input-wrap[_ngcontent-%COMP%]   .input.search[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:16px;font-size:22px;color:#545454;cursor:pointer}.input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 16px;background:hsla(0,0%,50.6%,.13);color:#545454;border:0;outline:none}.tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}']}),t})();var O=e("Esjb"),V=e("cLpZ"),x=e("kmnG"),k=e("Xa2L");function W(t,n){1&t&&(s.Wb(0,"span",9),s.Mc(1,"Please provide a valid URL"),s.Vb())}function w(t,n){1&t&&s.Rb(0,"mat-spinner",10),2&t&&s.pc("diameter",15)}function I(t,n){if(1&t){const t=s.Xb();s.Wb(0,"li",30),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic(3).getVideosByTag(e.name)})),s.Wb(1,"span"),s.Mc(2),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit;s.Cb(2),s.Nc(t.name)}}function S(t,n){if(1&t){const t=s.Xb();s.Wb(0,"div",12),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic(2).selectVideo(e)})),s.Wb(1,"div",13),s.Wb(2,"div",14),s.Rb(3,"span",15),s.Rb(4,"img",16),s.jc(5,"getImgPath"),s.Wb(6,"span",17),s.Mc(7),s.Vb(),s.Vb(),s.Wb(8,"div",18),s.Wb(9,"div",19),s.Wb(10,"h4",20),s.Mc(11),s.Vb(),s.Vb(),s.Wb(12,"div",21),s.Wb(13,"span",22),s.Mc(14),s.Vb(),s.Wb(15,"span",23),s.Mc(16,"\xb7"),s.Vb(),s.Wb(17,"span",24),s.Mc(18),s.Vb(),s.Wb(19,"span",23),s.Mc(20,"\xb7"),s.Vb(),s.Wb(21,"span",25),s.Mc(22),s.jc(23,"dateFromNow"),s.Vb(),s.Vb(),s.Wb(24,"div",26),s.Wb(25,"p",27),s.Mc(26),s.Vb(),s.Wb(27,"div",28),s.Wb(28,"ul"),s.Kc(29,I,3,1,"li",29),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit,e=s.ic(2);s.Gb("selected",e.checkIfVideoSelected(t.id))("added",e.getSelectedVideos.checkIfVideoAddedToPlaylist(t,e.playlist)),s.Cb(4),s.pc("src",s.kc(5,12,t.thumbnail),s.Ec),s.Cb(3),s.Nc(t.duration),s.Cb(4),s.Nc(t.name),s.Cb(3),s.Nc(t.channel.name),s.Cb(4),s.Oc(" ","live"===t.status?"17k watching":t.views+" view"+(1===t.views?"":"s")," "),s.Cb(4),s.Nc(s.kc(23,14,t.created_at)),s.Cb(4),s.Nc(t.description),s.Cb(3),s.pc("ngForOf",null==t?null:t.tags)}}function U(t,n){if(1&t&&(s.Ub(0),s.Kc(1,S,30,16,"div",11),s.Tb()),2&t){const t=s.ic();s.Cb(1),s.pc("ngForOf",t.searchedVideos)("ngForTrackBy",t.trackByElement)}}function T(t,n){1&t&&(s.Ub(0),s.Wb(1,"span"),s.Mc(2,"No videos found via specified url"),s.Vb(),s.Tb())}let F=(()=>{class t{constructor(t,n,e,i){this.fb=t,this.videoService=n,this.getSelectedVideos=e,this.router=i,this.validUrl=!0,this.searchedVideos=[],this.selectedVideos=[],this.trackByElement=u.a,this.subscriptions=[],this.apiUrl=c.c,this.searchingVideo=!1,this.isSubmitted=!1,this.selectVid=new s.o}ngOnInit(){this.searchVideoByUrlForm=this.fb.group({url:["",[d.G.required,Object(O.a)(V.c)]]})}getUrlString(t){var n;const e=(null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text"))||t;this.isSubmitted=!0,this.searchedVideos=[],this.getVideos(e)}getVideos(t){if(this.validUrl=V.c.test(t),this.validUrl){const n=new URL(t).searchParams.get("id");n&&(this.searchingVideo=!0,this.videoService.getVideoById({id:n}).subscribe(t=>{this.searchingVideo=!1,this.searchedVideos=t?[t]:[]}))}}checkIfVideoSelected(t){return this.selectedVideos.find(n=>n===t)}selectVideo(t){this.selectedVideos=this.getSelectedVideos.transform(t,this.selectedVideos,this.playlist),this.selectVid.emit(this.selectedVideos)}get urlCtrl(){return this.searchVideoByUrlForm.get("url")}getVideosByTag(t){return Object(g.a)(this,void 0,void 0,(function*(){yield this.router.navigate(["videos"],{queryParams:{tag:t}})}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(s.Qb(d.f),s.Qb(p.a),s.Qb(h.a),s.Qb(o.e))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-video-url-tab"]],inputs:{playlist:"playlist"},outputs:{selectVid:"selectVideo"},decls:12,vars:5,consts:[[1,"tab2"],["id","search-by-url-input",1,"input-wrap"],[1,"input"],[3,"formGroup"],["type","text","placeholder","Paste URL here","formControlName","url",3,"keyup.enter","paste"],["urlInput",""],["class","error",4,"ngIf"],[3,"diameter",4,"ngIf"],[4,"ngIf"],[1,"error"],[3,"diameter"],["class","video-item",3,"selected","added","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"video-item",3,"click"],[1,"video-container"],[1,"img"],[1,"added-placeholder"],[1,"thumbnail",3,"src"],[1,"duration"],[1,"details"],[1,"title"],[1,""],[1,"shortened-details"],[1,"channel-name"],[1,"dot"],[1,"watchers-count"],[1,"upload-time"],[1,"desc-tags"],[1,"shortened-description"],[1,"tags"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,n){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"form",3),s.Wb(4,"input",4,5),s.ec("keyup.enter",(function(t){return n.getUrlString(t.target.value)}))("paste",(function(t){return n.getUrlString(t)})),s.Vb(),s.Wb(6,"mat-hint"),s.Mc(7,"Please put only Metl.tv URLs here"),s.Vb(),s.Kc(8,W,2,0,"span",6),s.Vb(),s.Vb(),s.Vb(),s.Kc(9,w,1,1,"mat-spinner",7),s.Kc(10,U,2,2,"ng-container",8),s.Kc(11,T,3,0,"ng-container",8),s.Vb()),2&t&&(s.Cb(3),s.pc("formGroup",n.searchVideoByUrlForm),s.Cb(5),s.pc("ngIf",n.urlCtrl.hasError("patternInvalid")),s.Cb(1),s.pc("ngIf",n.searchingVideo),s.Cb(1),s.pc("ngIf",n.searchedVideos.length>0),s.Cb(1),s.pc("ngIf",0===n.searchedVideos.length&&n.isSubmitted&&n.validUrl))},directives:[d.I,d.t,d.k,d.c,d.s,d.i,x.f,i.t,k.c,i.s],pipes:[y.a,v.a],styles:['.video-item[_ngcontent-%COMP%]{margin-bottom:30px;padding:5px;cursor:pointer}.video-item.selected[_ngcontent-%COMP%]{border:1px solid #18b587}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:relative;overflow:hidden}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   span.added-placeholder[_ngcontent-%COMP%]{position:absolute;right:-24px;top:8px;font-size:13px;transform:rotate(45deg);z-index:3}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   span.added-placeholder[_ngcontent-%COMP%]:before{content:"Added";background:#f53c6f;color:#fff;padding:20px 24px 6px}.video-item.added[_ngcontent-%COMP%]   .shortened-description[_ngcontent-%COMP%]{-webkit-line-clamp:1!important}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-top:10px}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}.input-wrap[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;color:#545454}.input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{position:relative;margin-top:8px}.input-wrap[_ngcontent-%COMP%]   .input.search[_ngcontent-%COMP%]{max-width:400px}.input-wrap[_ngcontent-%COMP%]   .input.search[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:16px;font-size:22px;color:#545454;cursor:pointer}.input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 16px;background:hsla(0,0%,50.6%,.13);color:#545454;border:0;outline:none}#search-by-url-input[_ngcontent-%COMP%]{margin-bottom:20px}mat-hint[_ngcontent-%COMP%]{display:block;text-align:right;font-size:14px}.tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}']}),t})();function B(t,n){if(1&t){const t=s.Xb();s.Wb(0,"li",22),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic(4).getVideosByTag(e.name)})),s.Wb(1,"span"),s.Mc(2),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit;s.Cb(2),s.Nc(t.name)}}function N(t,n){if(1&t){const t=s.Xb();s.Wb(0,"div",4),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic(3).selectVideo(e)})),s.Wb(1,"div",5),s.Wb(2,"div",6),s.Rb(3,"span",7),s.Rb(4,"img",8),s.jc(5,"getImgPath"),s.Wb(6,"span",9),s.Mc(7),s.Vb(),s.Vb(),s.Wb(8,"div",10),s.Wb(9,"div",11),s.Wb(10,"h4",12),s.Mc(11),s.Vb(),s.Vb(),s.Wb(12,"div",13),s.Wb(13,"span",14),s.Mc(14),s.Vb(),s.Wb(15,"span",15),s.Mc(16,"\xb7"),s.Vb(),s.Wb(17,"span",16),s.Mc(18),s.Vb(),s.Wb(19,"span",15),s.Mc(20,"\xb7"),s.Vb(),s.Wb(21,"span",17),s.Mc(22),s.jc(23,"dateFromNow"),s.Vb(),s.Vb(),s.Wb(24,"div",18),s.Wb(25,"p",19),s.Mc(26),s.Vb(),s.Wb(27,"div",20),s.Wb(28,"ul"),s.Kc(29,B,3,1,"li",21),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit,e=s.ic(3);s.Gb("selected",e.ifVideoSelected(t.id))("added",e.getSelectedVideos.checkIfVideoAddedToPlaylist(t,e.playlist)),s.Cb(4),s.pc("src",s.kc(5,12,t.thumbnail),s.Ec),s.Cb(3),s.Nc(t.duration),s.Cb(4),s.Nc(t.name),s.Cb(3),s.Nc(t.channel.name),s.Cb(4),s.Oc(" ","live"===t.status?"17k watching":t.views+" view"+(1===t.views?"":"s")," "),s.Cb(4),s.Nc(s.kc(23,14,t.created_at)),s.Cb(4),s.Nc(t.description),s.Cb(3),s.pc("ngForOf",null==t?null:t.tags)}}function A(t,n){if(1&t&&(s.Ub(0),s.Kc(1,N,30,16,"div",3),s.Tb()),2&t){const t=s.ic(2);s.Cb(1),s.pc("ngForOf",t.currentUser.videos)("ngForTrackBy",t.trackByElement)}}function z(t,n){1&t&&(s.Ub(0),s.Mc(1,"There are no videos in this list"),s.Tb())}function Q(t,n){if(1&t&&(s.Wb(0,"div",1),s.Kc(1,A,2,2,"ng-container",2),s.Kc(2,z,2,0,"ng-container",2),s.Vb()),2&t){const t=s.ic();s.Cb(1),s.pc("ngIf",(null==t.currentUser.videos?null:t.currentUser.videos.length)>0),s.Cb(1),s.pc("ngIf",0===(null==t.currentUser.videos?null:t.currentUser.videos.length))}}let K=(()=>{class t{constructor(t,n,e){this.videoService=t,this.getSelectedVideos=n,this.router=e,this.apiUrl=c.c,this.selectedVideos=[],this.trackByElement=u.a,this.subscriptions=[],this.selectVid=new s.o}ngOnInit(){this.subscriptions.push(this.videoService.getUserVideos({user_id:this.authUser.id}).subscribe(t=>{this.currentUser=t}))}ifVideoSelected(t){return this.selectedVideos.find(n=>n===t)}selectVideo(t){this.selectedVideos=this.getSelectedVideos.transform(t,this.selectedVideos,this.playlist),this.selectVid.emit(this.selectedVideos)}getVideosByTag(t){return Object(g.a)(this,void 0,void 0,(function*(){yield this.router.navigate(["videos"],{queryParams:{tag:t}})}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(s.Qb(p.a),s.Qb(h.a),s.Qb(o.e))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-your-videos-tab"]],inputs:{currentUser:"currentUser",authUser:"authUser",playlist:"playlist"},outputs:{selectVid:"selectVideo"},decls:1,vars:1,consts:[["class","tab3",4,"ngIf"],[1,"tab3"],[4,"ngIf"],["class","video-item",3,"selected","added","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"video-item",3,"click"],[1,"video-container"],[1,"img"],[1,"added-placeholder"],[1,"thumbnail",3,"src"],[1,"duration"],[1,"details"],[1,"title"],[1,""],[1,"shortened-details"],[1,"channel-name"],[1,"dot"],[1,"watchers-count"],[1,"upload-time"],[1,"desc-tags"],[1,"shortened-description"],[1,"tags"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,n){1&t&&s.Kc(0,Q,3,2,"div",0),2&t&&s.pc("ngIf",n.currentUser)},directives:[i.t,i.s],pipes:[y.a,v.a],styles:['.video-item[_ngcontent-%COMP%]{margin-bottom:30px;padding:5px;cursor:pointer}.video-item.selected[_ngcontent-%COMP%]{border:1px solid #18b587}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:relative;overflow:hidden}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   span.added-placeholder[_ngcontent-%COMP%]{position:absolute;right:-24px;top:8px;font-size:13px;transform:rotate(45deg);z-index:3}.video-item.added[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   span.added-placeholder[_ngcontent-%COMP%]:before{content:"Added";background:#f53c6f;color:#fff;padding:20px 24px 6px}.video-item.added[_ngcontent-%COMP%]   .shortened-description[_ngcontent-%COMP%]{-webkit-line-clamp:1!important}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-top:10px}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.video-item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}.tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}']}),t})();const j=["urlInput"];function R(t,n){if(1&t){const t=s.Xb();s.Wb(0,"app-search-videos-tab",12),s.ec("selectVideo",(function(n){return s.Bc(t),s.ic().selectVideo(n)})),s.Vb()}if(2&t){const t=s.ic();s.pc("playlist",t.playlist)}}function D(t,n){if(1&t){const t=s.Xb();s.Wb(0,"app-video-url-tab",12),s.ec("selectVideo",(function(n){return s.Bc(t),s.ic().selectVideo(n)})),s.Vb()}if(2&t){const t=s.ic();s.pc("playlist",t.playlist)}}function E(t,n){if(1&t){const t=s.Xb();s.Wb(0,"app-your-videos-tab",13),s.ec("selectVideo",(function(n){return s.Bc(t),s.ic().selectVideo(n)})),s.Vb()}if(2&t){const t=s.ic();s.pc("currentUser",t.currentUser)("authUser",t.authUser)("playlist",t.playlist)}}let G=(()=>{class t{constructor(t,n,e,i,o,c){this.modal=t,this.videoService=n,this.playlistsService=e,this._userInfoService=i,this.toastr=o,this.data=c,this.activeTab="yours",this.selectedVideos=[],this.playlist=c.playlist,this._getAuthInfo()}ngOnInit(){}_getAuthInfo(){this._userInfoService._userInfo.subscribe(t=>{this.authUser=t,console.log(this.authUser,"Add video to playlist AUTHUSER DATA")})}selectVideo(t){this.selectedVideos=t}changeTab(t){this.activeTab=t,this.selectedVideos=[]}addVideos(){if(this.selectedVideos.length>0){const t={playlist_id:this.playlist.id,video_ids:JSON.stringify(this.selectedVideos)};this.playlistsService.addVideosToPlaylist(t).subscribe(t=>{this.modal.close()})}else this.toastr.error("Please select at least one video","No videos selected")}cancel(){this.modal.close()}ifSubmitInactive(t){var n,e;if("yours"===t)return 0===(null===(e=null===(n=this.currentUser)||void 0===n?void 0:n.videos)||void 0===e?void 0:e.length)}}return t.\u0275fac=function(n){return new(n||t)(s.Qb(l.h),s.Qb(p.a),s.Qb(a.a),s.Qb(r.a),s.Qb(b.b),s.Qb(l.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-add-video-to-playlist-dialog"]],viewQuery:function(t,n){var e;1&t&&s.Rc(j,!0),2&t&&s.wc(e=s.fc())&&(n.urlInput=e.first)},decls:25,vars:10,consts:[[1,"add-video-playlist-modal"],[1,"content-wrap"],[1,"title"],[1,"content"],[1,"tab-list"],[1,"nav-link",3,"click"],[1,"tab-items"],[3,"playlist","selectVideo",4,"ngIf"],[3,"currentUser","authUser","playlist","selectVideo",4,"ngIf"],[1,"btn-wrap"],[1,"btn","cancel",3,"click"],[1,"btn","add-videos",3,"disabled","click"],[3,"playlist","selectVideo"],[3,"currentUser","authUser","playlist","selectVideo"]],template:function(t,n){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"h1",2),s.Mc(3,"Add videos to playlist"),s.Vb(),s.Wb(4,"div",3),s.Wb(5,"div",4),s.Wb(6,"ul"),s.Wb(7,"li"),s.Wb(8,"a",5),s.ec("click",(function(){return n.changeTab("search")})),s.Mc(9," Video search "),s.Vb(),s.Vb(),s.Wb(10,"li"),s.Wb(11,"a",5),s.ec("click",(function(){return n.changeTab("url")})),s.Mc(12,"URL"),s.Vb(),s.Vb(),s.Wb(13,"li"),s.Wb(14,"a",5),s.ec("click",(function(){return n.changeTab("yours")})),s.Mc(15," Your videos "),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(16,"div",6),s.Kc(17,R,1,1,"app-search-videos-tab",7),s.Kc(18,D,1,1,"app-video-url-tab",7),s.Kc(19,E,1,3,"app-your-videos-tab",8),s.Vb(),s.Vb(),s.Vb(),s.Wb(20,"div",9),s.Wb(21,"button",10),s.ec("click",(function(){return n.cancel()})),s.Mc(22,"Cancel"),s.Vb(),s.Wb(23,"button",11),s.ec("click",(function(){return n.addVideos()})),s.Mc(24,"Add videos "),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Cb(8),s.Gb("active","search"===n.activeTab),s.Cb(3),s.Gb("active","url"===n.activeTab),s.Cb(3),s.Gb("active","yours"===n.activeTab),s.Cb(3),s.pc("ngIf","search"===n.activeTab),s.Cb(1),s.pc("ngIf","url"===n.activeTab),s.Cb(1),s.pc("ngIf","yours"===n.activeTab),s.Cb(4),s.pc("disabled",n.ifSubmitInactive(n.activeTab)))},directives:[i.t,_,F,K],styles:[".add-video-playlist-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:550px;padding:32px;width:100%;max-width:890px;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);position:absolute;background:#fff;z-index:1001}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   h1.title[_ngcontent-%COMP%]{font-size:32px;color:#545454;font-family:Muli-Bold}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:24px}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff!important;font-size:12px;box-shadow:0 0 6px rgba(0,0,0,.06);font-family:Muli-Bold}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{min-width:126px;padding:6px 26px;background:transparent;color:#545454;text-align:center;transition:all .2s ease;white-space:nowrap}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:#f53c6f;color:#fff}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-items[_ngcontent-%COMP%]{margin-top:24px;overflow:auto;max-height:323px}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-items[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-items[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e3e3e3}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbcbcb}.add-video-playlist-modal[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tab-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.add-video-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{margin-top:40px;display:flex;justify-content:flex-end}.add-video-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;font-size:16px;border-radius:0;padding:8px 24px;line-height:normal}.add-video-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background:#c9c9c9}.add-video-playlist-modal[_ngcontent-%COMP%]   .add-videos[_ngcontent-%COMP%]:disabled{background-color:#8bdac3!important}"]}),t})();var $=e("NFeN");function X(t,n){if(1&t){const t=s.Xb();s.Wb(0,"button",8),s.ec("click",(function(){s.Bc(t);const n=s.ic();return n.openPlaylistPage(n.playlist)})),s.Wb(1,"span",9),s.Mc(2,"play_arrow"),s.Vb(),s.Mc(3," Play All "),s.Vb()}}function q(t,n){if(1&t&&(s.Wb(0,"h3"),s.Mc(1),s.jc(2,"date"),s.Vb()),2&t){const t=s.ic(2);s.Cb(1),s.Oc("Last updated on ",s.lc(2,1,t.playlist.updated_at,"d MMM, yyyy"),"")}}function L(t,n){if(1&t){const t=s.Xb();s.Ub(0),s.Wb(1,"h3"),s.Wb(2,"span"),s.Mc(3),s.Vb(),s.Wb(4,"span",10),s.ec("click",(function(){s.Bc(t);const n=s.ic();return n.editPlaylistInfo(n.playlist)})),s.Mc(5,"create"),s.Vb(),s.Vb(),s.Wb(6,"p"),s.Mc(7),s.Vb(),s.Wb(8,"h3"),s.Mc(9),s.Vb(),s.Kc(10,q,3,4,"h3",4),s.Wb(11,"div",11),s.Wb(12,"mat-icon"),s.Mc(13),s.Vb(),s.Wb(14,"select",12),s.ec("change",(function(n){s.Bc(t);const e=s.ic();return e.updatePrivacy(n.target.value,e.playlist)})),s.Wb(15,"option",13),s.Mc(16,"Private"),s.Vb(),s.Wb(17,"option",13),s.Mc(18,"Public"),s.Vb(),s.Vb(),s.Vb(),s.Tb()}if(2&t){const t=s.ic();s.Cb(3),s.Nc(t.playlist.name),s.Cb(4),s.Nc(t.playlist.description),s.Cb(2),s.Oc("",null==t.playlist.videos?null:t.playlist.videos.length," videos"),s.Cb(1),s.pc("ngIf",!t.editMode),s.Cb(3),s.Oc("visibility_",t.playlist.privacy-0?"off":"on",""),s.Cb(2),s.pc("value",1)("selected",t.playlist.privacy),s.Cb(2),s.pc("value",0)("selected",!t.playlist.privacy)}}function H(t,n){1&t&&(s.Wb(0,"span",20),s.Mc(1," Playlist name is required "),s.Vb())}function J(t,n){if(1&t){const t=s.Xb();s.Wb(0,"form",14),s.Rb(1,"input",15),s.Kc(2,H,2,0,"span",16),s.Rb(3,"textarea",17),s.Wb(4,"button",18),s.ec("click",(function(){s.Bc(t);const n=s.ic();return n.editMode=!n.editMode})),s.Mc(5,"Cancel"),s.Vb(),s.Wb(6,"button",19),s.ec("click",(function(){return s.Bc(t),s.ic().savePlaylistInfoChanges()})),s.Mc(7,"Save "),s.Vb(),s.Vb()}if(2&t){const t=s.ic();s.pc("formGroup",t.playlistInfoForm),s.Cb(2),s.pc("ngIf",t.playlistInfoForm.get("name").hasError("required"))}}function Y(t,n){if(1&t){const t=s.Xb();s.Wb(0,"button",21),s.ec("click",(function(){return s.Bc(t),s.ic().openVideosModal()})),s.Mc(1,"Add Video"),s.Vb()}}let Z=(()=>{class t{constructor(t,n,e,i,o,a){this.fb=t,this.playlistsService=n,this.dialog=e,this.toastr=i,this.router=o,this._userInfoService=a,this.apiUrl=c.c,this.editMode=!1,this.refreshPlaylist=new s.o,this.playlistInfoForm=this.fb.group({id:[""],name:["",d.G.required],description:[""],privacy:[""]}),this._getAuthInfo()}ngOnInit(){}_getAuthInfo(){this._userInfoService._userInfo.subscribe(t=>{this.authUser=t,console.log(this.authUser,"Playlist info form AUTHUSER DATA")})}openVideosModal(){this.dialog.open(G,{data:{playlist:this.playlist}}).afterClosed().subscribe(t=>{this.refreshPlaylist.emit()})}updatePrivacy(t,n){console.log(+t),n.privacy=+t,this.playlistInfoForm.patchValue({privacy:+t}),this.playlistsService.updatePrivacy({privacy:t,id:n.id}).subscribe(t=>{this.toastr.success("Playlist privacy is updated successfully")})}editPlaylistInfo(t){this.editMode=!0,this.playlistInfoForm.patchValue(t)}savePlaylistInfoChanges(){this.playlistInfoForm.valid&&this.playlistsService.updatePlaylistInfo(this.playlistInfoForm.value).subscribe(t=>{this.editMode=!1,this.playlist=t})}openPlaylistPage(t){var n,e;const i={id:null===(e=null===(n=t.videos)||void 0===n?void 0:n[0])||void 0===e?void 0:e.id,playlist_id:t.id};this.router.navigate(["videos/play"],{queryParams:i})}backToPlaylists(){this.router.navigate(["channels/show"],{queryParams:{tab:"playlists",username:this.authUser.username}})}}return t.\u0275fac=function(n){return new(n||t)(s.Qb(d.f),s.Qb(a.a),s.Qb(l.b),s.Qb(b.b),s.Qb(o.e),s.Qb(r.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-playlist-info-form"]],inputs:{playlist:"playlist"},outputs:{refreshPlaylist:"refreshPlaylist"},decls:10,vars:7,consts:[[1,"playlist"],[3,"src"],["class","btn play-all",3,"click",4,"ngIf"],[1,"info"],[4,"ngIf"],["id","playlist-info-form",3,"formGroup",4,"ngIf"],[1,"btn","back",3,"click"],["class","btn add-video",3,"click",4,"ngIf"],[1,"btn","play-all",3,"click"],[1,"material-icons"],[1,"material-icons",3,"click"],["id","privacy-select",1,"select"],[3,"change"],[3,"value","selected"],["id","playlist-info-form",3,"formGroup"],["formControlName","name"],["class","error",4,"ngIf"],["formControlName","description"],[1,"btn","cancel",3,"click"],[1,"btn","save-playlist-changes",3,"click"],[1,"error"],[1,"btn","add-video",3,"click"]],template:function(t,n){1&t&&(s.Wb(0,"div",0),s.Rb(1,"img",1),s.jc(2,"getImgPath"),s.Kc(3,X,4,0,"button",2),s.Wb(4,"div",3),s.Kc(5,L,19,9,"ng-container",4),s.Kc(6,J,8,2,"form",5),s.Vb(),s.Wb(7,"button",6),s.ec("click",(function(){return n.backToPlaylists()})),s.Mc(8,"Back"),s.Vb(),s.Kc(9,Y,2,0,"button",7),s.Vb()),2&t&&(s.Cb(1),s.pc("src",s.kc(2,5,n.playlist.thumbnail),s.Ec),s.Cb(2),s.pc("ngIf",0!==(null==n.playlist.videos?null:n.playlist.videos.length)),s.Cb(2),s.pc("ngIf",!n.editMode),s.Cb(1),s.pc("ngIf",n.editMode),s.Cb(3),s.pc("ngIf",!n.editMode))},directives:[i.t,$.a,d.x,d.H,d.I,d.t,d.k,d.c,d.s,d.i],pipes:[y.a,i.f],styles:[".playlist[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.playlist[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:190px;-o-object-fit:cover;object-fit:cover}.playlist[_ngcontent-%COMP%]   .play-all[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;background:#18b587;border-radius:0;font-size:16px;color:#fff}.playlist[_ngcontent-%COMP%]   .play-all[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:12px}.playlist[_ngcontent-%COMP%]   .add-video[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .save-playlist-changes[_ngcontent-%COMP%]{margin-top:22px;padding:6px 24px;background:#18b587;border-radius:0;font-size:16px;color:#fff}.playlist[_ngcontent-%COMP%]   .add-video.back[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .add-video.cancel[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .back.back[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .back.cancel[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .cancel.back[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .cancel.cancel[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .save-playlist-changes.back[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .save-playlist-changes.cancel[_ngcontent-%COMP%]{background:#c9c9c9;margin-right:24px}.playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:16px;margin-bottom:0;font-size:16px;font-family:Muli-Bold;color:#545454}.playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:22px;cursor:pointer}.playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:12px;color:#545454;font-size:12px}.playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{margin-top:16px}.playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub;font-size:22px;color:#545454}.playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#545454;font-size:16px;font-weight:600;border:0;padding:0;outline:none;margin-left:6px}.playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   #playlist-info-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   #playlist-info-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:24px;width:100%;padding:14px 24px;background:#f4f4f4;color:#545454;border:0;outline:none;resize:none}.playlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   #privacy-select[_ngcontent-%COMP%]{display:flex}"]}),t})();var tt=e("S0M2"),nt=e("dJ++");function et(t,n){if(1&t){const t=s.Xb();s.Wb(0,"li",14),s.Wb(1,"div",15),s.Wb(2,"div",16),s.Rb(3,"input",17),s.Wb(4,"input",18),s.ec("change",(function(e){s.Bc(t);const i=n.$implicit;return s.ic().addToPlaylist(e,i)})),s.Vb(),s.Wb(5,"label",19),s.Mc(6),s.Vb(),s.Vb(),s.Wb(7,"mat-icon"),s.Mc(8),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit,e=n.index;s.Cb(1),s.pc("formGroupName",e),s.Cb(3),s.pc("id","playlist-"+(e+1)),s.Cb(1),s.pc("for","playlist-"+(e+1)),s.Cb(1),s.Nc(t.value.name),s.Cb(2),s.Nc(t.value.privacy?"lock":"public")}}let it=(()=>{class t{constructor(t,n,e,i,o){var c,s;this.data=t,this.playlistsService=n,this.fb=e,this._userInfoService=i,this.dialog=o,this.videoId=t.video_id,this.playlists=t.playlists,this._getAuthInfo(),this.saveToPlaylistsForm=this.fb.group({video_id:[this.videoId,d.G.required],playlists:this.fb.array(this.getPlaylistsFormGroup(this.playlists))}),this.addPlaylistForm=this.fb.group({name:["",d.G.required],channel_id:[null===(s=null===(c=this.authUser)||void 0===c?void 0:c.channel)||void 0===s?void 0:s.id],privacy:[""]})}ngOnInit(){}_getAuthInfo(){this._userInfoService._userInfo.subscribe(t=>{this.authUser=t,console.log(this.authUser,"Add video another playlist  AUTHUSER DATA")})}getPlaylistsFormGroup(t){const n=[];return t.map(t=>{const e=t.videos.find(t=>t.id===this.videoId);n.push(this.fb.group({id:t.id,name:t.name,privacy:t.privacy,checked:!!e}))}),console.log(n),n}addToPlaylist(t,n){n.patchValue({checked:t.target.checked})}checkIfVideoInPlaylist(t,n){n.videos.find(n=>n.id===t)&&!this.playlistIds.controls.find(n=>n.value===t)&&this.playlistIds.push(new d.g(t))}save(){this.playlistsService.addVideoToOtherPlaylists(this.saveToPlaylistsForm.value).subscribe(t=>{this.dialog.close()})}addPlaylist(){this.playlistsService.addPlaylist(this.addPlaylistForm.value).subscribe(t=>{this.playlistIds.controls.push(this.fb.group({id:t.id,name:t.name,privacy:+t.privacy,checked:!0})),this.addPlaylistForm.patchValue({name:"",privacy:""})})}get playlistIds(){return this.saveToPlaylistsForm.controls.playlists}}return t.\u0275fac=function(n){return new(n||t)(s.Qb(l.a),s.Qb(a.a),s.Qb(d.f),s.Qb(r.a),s.Qb(l.h))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-add-video-to-another-playlist"]],decls:26,vars:6,consts:[[1,"save-to-playlists-popup"],[1,"save-to-playlists-form"],[3,"formGroup"],["formArrayName","playlists"],["class","playlist",4,"ngFor","ngForOf"],[1,"btn","save-playlists",3,"click"],[1,"new-playlist"],[1,"fas","fa-plus"],[1,"input"],["type","text","placeholder","Playlist Title","formControlName","name"],[1,"select"],["name","","id","privacy","formControlName","privacy"],[3,"value"],[1,"btn",3,"click"],[1,"playlist"],[1,"d-flex","justify-content-between",3,"formGroupName"],[1,"d-flex","align-items-center"],["type","hidden","formControlName","id"],["type","checkbox","formControlName","checked",3,"id","change"],[3,"for"]],template:function(t,n){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"h2"),s.Mc(3,"Save to..."),s.Vb(),s.Wb(4,"form",2),s.Wb(5,"ul",3),s.Kc(6,et,9,5,"li",4),s.Vb(),s.Wb(7,"button",5),s.ec("click",(function(){return n.save()})),s.Mc(8,"Save"),s.Vb(),s.Vb(),s.Vb(),s.Wb(9,"div",6),s.Wb(10,"form",2),s.Wb(11,"h2"),s.Rb(12,"i",7),s.Mc(13," Create new playlist"),s.Vb(),s.Wb(14,"div",8),s.Rb(15,"input",9),s.Vb(),s.Wb(16,"div",10),s.Wb(17,"select",11),s.Wb(18,"option",12),s.Mc(19,"Visibility"),s.Vb(),s.Wb(20,"option",12),s.Mc(21,"Public"),s.Vb(),s.Wb(22,"option",12),s.Mc(23,"Private"),s.Vb(),s.Vb(),s.Vb(),s.Wb(24,"button",13),s.ec("click",(function(){return n.addPlaylist()})),s.Mc(25,"Add playlist"),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Cb(4),s.pc("formGroup",n.saveToPlaylistsForm),s.Cb(2),s.pc("ngForOf",n.playlistIds.controls),s.Cb(4),s.pc("formGroup",n.addPlaylistForm),s.Cb(8),s.pc("value",""),s.Cb(2),s.pc("value",0),s.Cb(2),s.pc("value",1))},directives:[d.I,d.t,d.k,d.e,i.s,d.c,d.s,d.i,d.E,d.x,d.H,d.l,d.a,$.a],styles:[".save-to-playlists-popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#545454}.save-to-playlists-popup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:6px 24px;background:#18b587;border-radius:0;font-size:16px;color:#fff}.save-to-playlists-popup[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px}.save-to-playlists-popup[_ngcontent-%COMP%]   .save-to-playlists-form[_ngcontent-%COMP%]{padding-bottom:32px;border-bottom:1px solid #c9c9c9}.save-to-playlists-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.save-to-playlists-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .playlist[_ngcontent-%COMP%]{padding:26px 0 0;color:#545454;font-weight:600}.save-to-playlists-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .playlist[_ngcontent-%COMP%]:last-child{border:0}.save-to-playlists-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .playlist[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 14px}.save-to-playlists-popup[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%], .save-to-playlists-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .save-playlists[_ngcontent-%COMP%]{margin-top:24px}.save-to-playlists-popup[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center}.save-to-playlists-popup[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:12px}.save-to-playlists-popup[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-top:24px}.save-to-playlists-popup[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 24px;background:#f4f4f4;color:#545454;border:0;outline:none;resize:none}.save-to-playlists-popup[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{margin-top:24px}.save-to-playlists-popup[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:14px 24px;background:#f4f4f4;color:#545454;border:0;outline:none;resize:none}.save-to-playlists-popup[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:24px}"]}),t})();var ot=e("5+WD"),ct=e("bTqV"),st=e("STbY");function at(t,n){if(1&t){const t=s.Xb();s.Wb(0,"li",24),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic(2).getVideosByTag(e.name)})),s.Wb(1,"span"),s.Mc(2),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit;s.Cb(2),s.Nc(t.name)}}function lt(t,n){if(1&t){const t=s.Xb();s.Wb(0,"div",2),s.ec("cdkDragDropped",(function(e){s.Bc(t);const i=n.$implicit;return s.ic().dragDropped(e,i)})),s.Wb(1,"div",3),s.Wb(2,"div",4),s.Wb(3,"img",5),s.ec("click",(function(){s.Bc(t);const e=n.$implicit,i=s.ic();return i.openPlaylistPage(e,i.playlist)})),s.jc(4,"getImgPath"),s.Vb(),s.Wb(5,"div",6),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic().updatePrivacy(e,e.privacy.name)})),s.Wb(6,"mat-icon"),s.Mc(7),s.Vb(),s.Vb(),s.Wb(8,"span",7),s.Mc(9),s.Vb(),s.Vb(),s.Wb(10,"div",8),s.Wb(11,"div",9),s.Wb(12,"h4",10),s.Mc(13),s.Vb(),s.Wb(14,"div",11),s.Wb(15,"button",12),s.Wb(16,"mat-icon"),s.Mc(17,"more_vert"),s.Vb(),s.Vb(),s.Wb(18,"mat-menu",null,13),s.Wb(20,"button",14),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic().addToAnotherPlaylist(e)})),s.Wb(21,"mat-icon"),s.Mc(22,"playlist_add"),s.Vb(),s.Wb(23,"span"),s.Mc(24,"Add to another playlist"),s.Vb(),s.Vb(),s.Wb(25,"button",14),s.ec("click",(function(){s.Bc(t);const e=n.$implicit,i=s.ic();return i.changePlaylistThumbnail(i.playlist.id,e.thumbnail)})),s.Wb(26,"mat-icon"),s.Mc(27,"insert_photo"),s.Vb(),s.Wb(28,"span"),s.Mc(29,"Set as playlist thumbnail"),s.Vb(),s.Vb(),s.Wb(30,"button",14),s.ec("click",(function(){s.Bc(t);const e=n.$implicit;return s.ic().updatePrivacy(e,e.privacy.name)})),s.Wb(31,"mat-icon"),s.Mc(32),s.Vb(),s.Wb(33,"span"),s.Mc(34),s.Vb(),s.Vb(),s.Wb(35,"button",14),s.ec("click",(function(){s.Bc(t);const e=n.$implicit,i=s.ic();return i.removeVideoFromPlaylist(i.playlist.id,e.id)})),s.Wb(36,"mat-icon"),s.Mc(37,"delete"),s.Vb(),s.Wb(38,"span"),s.Mc(39,"Remove from playlist"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(40,"div",15),s.Wb(41,"span",16),s.Mc(42),s.Vb(),s.Wb(43,"span",17),s.Mc(44,"\xb7"),s.Vb(),s.Wb(45,"span",18),s.Mc(46),s.Vb(),s.Wb(47,"span",17),s.Mc(48,"\xb7"),s.Vb(),s.Wb(49,"span",19),s.Mc(50),s.jc(51,"dateFromNow"),s.Vb(),s.Vb(),s.Wb(52,"div",20),s.Wb(53,"p",21),s.Mc(54),s.Vb(),s.Wb(55,"div",22),s.Wb(56,"ul"),s.Kc(57,at,3,1,"li",23),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=n.$implicit,e=s.xc(19);s.pc("cdkDragPreviewClass","video-container"),s.Cb(3),s.pc("src",s.kc(4,14,t.thumbnail),s.Ec),s.Cb(2),s.pc("ngClass","Public"!==t.privacy.name?"red":"green"),s.Cb(2),s.Oc("visibility_","Public"!==t.privacy.name?"off":"on",""),s.Cb(2),s.Nc(t.duration),s.Cb(4),s.Nc(t.name),s.Cb(2),s.pc("matMenuTriggerFor",e),s.Cb(17),s.Oc("visibility_","Public"!==t.privacy.name?"on":"off",""),s.Cb(2),s.Oc("Make ","Private"!==t.privacy.name?"private":"public",""),s.Cb(8),s.Nc(t.channel.name),s.Cb(4),s.Oc(" ","live"===t.status?"17k watching":t.views+" view"+(1===t.views?"":"s")," "),s.Cb(4),s.Nc(s.kc(51,16,t.created_at)),s.Cb(4),s.Nc(t.description),s.Cb(3),s.pc("ngForOf",null==t?null:t.tags)}}let rt=(()=>{class t{constructor(t,n,e,i,o,a){this.router=t,this.route=n,this.playlistsService=e,this.videoService=i,this.dialog=o,this._userInfoService=a,this.apiUrl=c.c,this.trackByElement=u.a,this.refreshPlaylist=new s.o,this._getAuthInfo()}ngOnInit(){}_getAuthInfo(){this._userInfoService._userInfo.subscribe(t=>{this.authUser=t,console.log(this.authUser,"Playlist Video AUTHUSER DATA")})}openPlaylistPage(t,n){this.router.navigate(["videos/play"],{queryParams:{id:t.id,playlist_id:n.id}})}dragDropped(t,n){this.playlist.videos=Object(tt.a)(this.playlist.videos,t.previousIndex,t.currentIndex);const e={rows:JSON.stringify(this.playlist),playlist_id:this.playlist.id};this.playlistsService.updateVideoPosition(e).subscribe(t=>{})}changePlaylistThumbnail(t,n){const e=Object.assign({playlist_id:t},{thumbnail:n});this.playlistsService.changePlaylistThumbnail(e).subscribe(t=>{this.playlist=t,this.refreshPlaylist.emit()})}removeVideoFromPlaylist(t,n){this.dialog.open(nt.a).afterClosed().subscribe(e=>{e&&this.playlistsService.removeVideoFromPlaylist({playlist_id:t,video_id:n}).subscribe(t=>{this.playlist=t,this.refreshPlaylist.emit()})})}addToAnotherPlaylist(t){var n,e;this.playlistsService.get({channel_id:null===(e=null===(n=this.authUser)||void 0===n?void 0:n.channel)||void 0===e?void 0:e.id}).subscribe(n=>{this.dialog.open(it,{width:"500px",data:{video_id:t.id,playlists:n}}).afterClosed().subscribe(t=>{this.refreshPlaylist.emit()})})}updatePrivacy(t,n){this.videoService.updatePrivacy({video_id:t.id,privacy:"Public"===n?"Private":"Public"}).subscribe(n=>{t.privacy=n})}getVideosByTag(t){return Object(g.a)(this,void 0,void 0,(function*(){yield this.router.navigate(["videos"],{queryParams:{tag:t}})}))}}return t.\u0275fac=function(n){return new(n||t)(s.Qb(o.e),s.Qb(o.a),s.Qb(a.a),s.Qb(p.a),s.Qb(l.b),s.Qb(r.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-playlist-videos"]],inputs:{playlist:"playlist"},outputs:{refreshPlaylist:"refreshPlaylist"},decls:2,vars:2,consts:[["cdkDropList","",1,"playlist"],["class","playlist-item","cdkDrag","",3,"cdkDragPreviewClass","cdkDragDropped",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"playlist-item",3,"cdkDragPreviewClass","cdkDragDropped"],[1,"video-container"],[1,"img"],[3,"src","click"],[1,"update-privacy",3,"ngClass","click"],[1,"duration"],[1,"details"],[1,"title"],[1,""],[1,"dotes"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"shortened-details"],[1,"channel-name"],[1,"dot"],[1,"watchers-count"],[1,"upload-time"],[1,"video-details-2nd-row"],[1,"shortened-description"],[1,"tags"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,n){1&t&&(s.Wb(0,"div",0),s.Kc(1,lt,58,18,"div",1),s.Vb()),2&t&&(s.Cb(1),s.pc("ngForOf",n.playlist.videos)("ngForTrackBy",n.trackByElement))},directives:[ot.c,i.s,ot.a,i.q,$.a,ct.b,st.d,st.e,st.b],pipes:[y.a,v.a],styles:[".playlist-item[_ngcontent-%COMP%]{margin-bottom:30px;background:#fff}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px!important}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.update-privacy[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;transition:.3s;cursor:pointer}"]}),t})();function dt(t,n){if(1&t){const t=s.Xb();s.Wb(0,"div",1),s.Wb(1,"h2"),s.Mc(2,"Edit Playlist"),s.Vb(),s.Wb(3,"div",2),s.Wb(4,"div",3),s.Wb(5,"app-playlist-info-form",4),s.ec("refreshPlaylist",(function(){return s.Bc(t),s.ic().getPlaylistDetails()})),s.Vb(),s.Vb(),s.Wb(6,"div",5),s.Wb(7,"app-playlist-videos",4),s.ec("refreshPlaylist",(function(){return s.Bc(t),s.ic().getPlaylistDetails()})),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=s.ic();s.Cb(5),s.pc("playlist",t.playlist),s.Cb(2),s.pc("playlist",t.playlist)}}const pt=[{path:"single/:id",component:(()=>{class t{constructor(t,n,e,i,o){this.router=t,this.route=n,this.playlistsService=e,this.dialog=i,this._userInfoService=o,this.apiUrl=c.c,this._getAuthInfo()}ngOnInit(){this.getPlaylistDetails()}_getAuthInfo(){this._userInfoService._userInfo.subscribe(t=>{this.authUser=t,console.log(this.authUser,"Single playlist AUTHUSER DATA")})}getPlaylistDetails(){var t,n;const e=null===(n=null===(t=this.route.snapshot)||void 0===t?void 0:t.params)||void 0===n?void 0:n.id;e&&this.playlistsService.getById({playlist_id:e,user_id:this.authUser}).subscribe(t=>{this.playlist=t})}}return t.\u0275fac=function(n){return new(n||t)(s.Qb(o.e),s.Qb(o.a),s.Qb(a.a),s.Qb(l.b),s.Qb(r.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-single-playlist"]],decls:1,vars:1,consts:[["class","single-playlist",4,"ngIf"],[1,"single-playlist"],[1,"inner-wrap"],[1,"left"],[3,"playlist","refreshPlaylist"],[1,"right"]],template:function(t,n){1&t&&s.Kc(0,dt,8,2,"div",0),2&t&&s.pc("ngIf",n.playlist)},directives:[i.t,Z,rt],styles:[".single-playlist[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#18b587}.single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]{margin-top:40px;display:flex;flex-wrap:wrap;align-items:flex-start}.single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:0 0 316px;margin-right:32px}.single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:0 0 500px}.single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .playlist-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .shortened-description[_ngcontent-%COMP%], .single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .playlist-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .shortened-details[_ngcontent-%COMP%]   .channel-name[_ngcontent-%COMP%], .single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .playlist-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .shortened-details[_ngcontent-%COMP%]   .upload-time[_ngcontent-%COMP%], .single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .playlist-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .shortened-details[_ngcontent-%COMP%]   .watchers-count[_ngcontent-%COMP%], .single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .playlist-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width:560px){.single-playlist[_ngcontent-%COMP%]   .inner-wrap[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1}}"]}),t})(),data:{title:"Edit Playlist"}}];let bt=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(n){return new(n||t)},imports:[[o.i.forChild(pt)],o.i]}),t})();var gt=e("PCNd");let ut=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(n){return new(n||t)},imports:[[i.c,bt,ot.e,gt.a]]}),t})()}}]);
//# sourceMappingURL=playlists-playlists-module-es2015.33e8bfc9cb8c519c70b0.js.map