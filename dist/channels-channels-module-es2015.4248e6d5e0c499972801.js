(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"55j5":function(t,n,e){"use strict";e.r(n),e.d(n,"ChannelsModule",(function(){return hn}));var i=e("ofXK"),s=e("tyNb"),c=e("mrSG"),o=e("9xOu"),a=e("3Pt+"),r=e("pLZG"),l=e("fXoL"),b=e("FFj9"),h=e("wDcp"),g=e("ZP/m"),d=e("sAj1"),p=e("Rnal"),u=e("WKnA");function f(t,n){1&t&&(l.Wb(0,"small",3),l.Lc(1," No stocks added to watchlist"),l.Vb())}function m(t,n){if(1&t){const t=l.Xb();l.Wb(0,"app-stock-tiles",4),l.ec("updatedStocksList",(function(n){return l.Bc(t),l.ic(2).saveUpdatedStocksList(n)}))("updatedStocksPriority",(function(n){return l.Bc(t),l.ic(2).updateStocksPriority(n)})),l.Vb()}if(2&t){const t=l.ic(2);l.pc("stocks",t.filteredStocks)("userStocks",t.userStocks)("followingAllowed",!0)}}function C(t,n){if(1&t&&(l.Wb(0,"div"),l.Jc(1,f,2,0,"small",1),l.Jc(2,m,1,3,"app-stock-tiles",2),l.Vb()),2&t){const t=l.ic();l.Cb(1),l.pc("ngIf",0===(null==t.userStocks?null:t.userStocks.length)),l.Cb(1),l.pc("ngIf",(null==t.userStocks?null:t.userStocks.length)>0)}}let M=(()=>{class t{constructor(t,n,e,i,s,c,a,r){this.videoService=t,this.subjectService=n,this.router=e,this.getExactParams=i,this.stocksService=s,this.getAuthUser=c,this.subject=a,this.cdr=r,this.apiUrl=o.c,this.subscriptions=[],this.userStocks=[],this.filteredStocks=[],this.stocksLoading="idle"}ngOnInit(){this.authUser=this.getAuthUser.transform(),this.stocksLoading="loading",this.subscriptions.push(this.subjectService.getStocksSearch().subscribe(t=>{this.getSearchResults(t)})),this.subscriptions.push(this.subject.currentUserStocks.pipe(Object(r.a)(t=>!t.initial)).subscribe(t=>{this.userStocks=t.stocks,this.filteredStocks=this.userStocks,this.stocksLoading="finished"}))}getSearchResults(t){this.search=t,this.filteredStocks=t?this.userStocks.filter(n=>n.name.toLowerCase().includes(t)):this.userStocks}saveUpdatedStocksList(t){this.stocksLoading="loading",this.subscriptions.push(this.stocksService.updateFollowedStocks(Object.assign({user_id:this.authUser.id},{stocks:t})).subscribe(t=>{this.userStocks=(null==t?void 0:t.user_stocks)||[],this.subject.changeUserStocks({stocks:this.userStocks,empty:0===this.userStocks.length}),this.stocksLoading="finished",this.cdr.detectChanges()}))}updateStocksPriority(t){const n={order_type:"custom",rows:JSON.stringify(t),user_id:this.authUser.id};this.subject.changeUserStocks({stocks:t,dragdrop:!0}),this.stocksService.updateUserStocksPriority(n).subscribe(t=>{localStorage.setItem("token",t.hasOwnProperty("token")?t.token:"")})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(b.a),l.Qb(h.a),l.Qb(s.e),l.Qb(g.a),l.Qb(d.a),l.Qb(p.a),l.Qb(h.a),l.Qb(l.h))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-watchlist-tab"]],inputs:{channelUser:"channelUser"},decls:1,vars:1,consts:[[4,"ngIf"],["class","error",4,"ngIf"],[3,"stocks","userStocks","followingAllowed","updatedStocksList","updatedStocksPriority",4,"ngIf"],[1,"error"],[3,"stocks","userStocks","followingAllowed","updatedStocksList","updatedStocksPriority"]],template:function(t,n){1&t&&l.Jc(0,C,3,2,"div",0),2&t&&l.pc("ngIf",n.filteredStocks&&n.channelUser.username===n.authUser.username)},directives:[i.m,u.a],styles:[""]}),t})();var P=e("sMQj"),_=e("86ia");function v(t,n){if(1&t){const t=l.Xb();l.Wb(0,"app-video-filters",2),l.ec("filter",(function(n){return l.Bc(t),l.ic().getFilteredVideos(n)})),l.Vb()}}let O=(()=>{class t{constructor(t,n,e,i){this.router=t,this.videoService=n,this.subjectService=e,this.getExactParams=i,this.apiUrl=o.c,this.showFilters=!1,this.search="",this.filters=null,this.userVideos=[],this.videosLoaded=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.subjectService.getToggleFiltersData().subscribe(t=>{this.showFilters=t})),this.getSearchResults()}getUserVideos(t){(t=this.getExactParams.transform(t)).user_id=this.channelUser.id,this.videoService.getUserVideos(t).subscribe(t=>{this.videosLoaded=!0,this.channelUser.videos=null==t?void 0:t.videos})}getSearchResults(){this.subscriptions.push(this.subjectService.getVideosSearch().subscribe(t=>{this.search=t,this.getUserVideos({search:this.search,filters:this.filters})}))}getFilteredVideos(t){this.filters=t,this.getUserVideos({search:this.search,filters:this.filters})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(s.e),l.Qb(b.a),l.Qb(h.a),l.Qb(g.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-videos-tab"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:2,vars:3,consts:[[3,"filter",4,"ngIf"],[3,"videos","removable"],[3,"filter"]],template:function(t,n){1&t&&(l.Jc(0,v,1,0,"app-video-filters",0),l.Rb(1,"app-videos-list-holder",1)),2&t&&(l.pc("ngIf",n.showFilters),l.Cb(1),l.pc("videos",n.channelUser.videos)("removable",n.authUser.username===n.channelUser.username))},directives:[i.m,P.a,_.a],styles:[""]}),t})();var y=e("0IaG"),x=e("CPAS");function k(t,n){1&t&&(l.Wb(0,"span",11),l.Lc(1,"Playlist name is required"),l.Vb())}function w(t,n){1&t&&(l.Wb(0,"span",11),l.Lc(1,"Playlist description is required"),l.Vb())}function S(t,n){1&t&&(l.Wb(0,"span",11),l.Lc(1,"Playlist privacy is required"),l.Vb())}let U=(()=>{class t{constructor(t,n,e,i){this.data=t,this.modal=n,this.fb=e,this.playlistService=i,this.isSubmitted=!1,console.log(t),this.addPlaylistForm=this.fb.group({channel_id:t.channel_id,name:["",a.z.required],description:["",a.z.required],privacy:["",a.z.required]})}ngOnInit(){}createPlaylist(){this.isSubmitted=!0,this.addPlaylistForm.valid&&this.playlistService.addPlaylist(this.addPlaylistForm.value).subscribe(t=>{this.modal.close()})}cancel(){this.modal.close()}get nameCtrl(){return this.addPlaylistForm.get("name")}get privacyCtrl(){return this.addPlaylistForm.get("privacy")}get descCtrl(){return this.addPlaylistForm.get("description")}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(y.a),l.Qb(y.d),l.Qb(a.e),l.Qb(x.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-add-playlist-dialog"]],decls:20,vars:7,consts:[[1,"add-playlist-modal"],[3,"formGroup"],["type","text","placeholder","Playlist Name","formControlName","name"],["class","error",4,"ngIf"],["id","playlist-description","cols","30","rows","10","formControlName","description","placeholder","Playlist Description"],[1,"select"],["id","visibility","formControlName","privacy"],[3,"value"],[1,"btn-wrap"],[1,"btn","cancel",3,"click"],[1,"btn","create",3,"click"],[1,"error"]],template:function(t,n){1&t&&(l.Wb(0,"div",0),l.Wb(1,"form",1),l.Rb(2,"input",2),l.Jc(3,k,2,0,"span",3),l.Rb(4,"textarea",4),l.Jc(5,w,2,0,"span",3),l.Wb(6,"div",5),l.Wb(7,"select",6),l.Wb(8,"option",7),l.Lc(9,"Visibility"),l.Vb(),l.Wb(10,"option",7),l.Lc(11,"Public"),l.Vb(),l.Wb(12,"option",7),l.Lc(13,"Private"),l.Vb(),l.Vb(),l.Vb(),l.Jc(14,S,2,0,"span",3),l.Wb(15,"div",8),l.Wb(16,"button",9),l.ec("click",(function(){return n.cancel()})),l.Lc(17,"Cancel"),l.Vb(),l.Wb(18,"button",10),l.ec("click",(function(){return n.createPlaylist()})),l.Lc(19,"Create"),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Cb(1),l.pc("formGroup",n.addPlaylistForm),l.Cb(2),l.pc("ngIf",n.nameCtrl.hasError("required")&&n.isSubmitted),l.Cb(2),l.pc("ngIf",n.descCtrl.hasError("required")&&n.isSubmitted),l.Cb(3),l.pc("value",""),l.Cb(2),l.pc("value",0),l.Cb(2),l.pc("value",1),l.Cb(2),l.pc("ngIf",n.privacyCtrl.hasError("required")&&n.isSubmitted))},directives:[a.B,a.r,a.j,a.c,a.q,a.h,i.m,a.y,a.u,a.A],styles:[".add-playlist-modal[_ngcontent-%COMP%]{overflow:auto;max-height:100%;padding:32px;width:100%;max-width:890px;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);position:absolute;background:#fff;z-index:1001}.add-playlist-modal[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .add-playlist-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-playlist-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 24px;background:#f4f4f4;color:#545454;margin-bottom:32px;border:0;outline:none}.add-playlist-modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:162px;min-height:96px;max-height:280px;resize:none}.add-playlist-modal[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:auto;min-width:284px}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;font-size:16px;border-radius:0;padding:8px 24px;line-height:normal}.add-playlist-modal[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background:#c9c9c9}"]}),t})();var I=e("dJ++"),V=e("wgiU"),W=e("NFeN"),L=e("fZdh");function F(t,n){if(1&t){const t=l.Xb();l.Wb(0,"app-video-filters",4),l.ec("filter",(function(n){return l.Bc(t),l.ic().getFilteredPlaylists(n)})),l.Vb()}}function T(t,n){1&t&&(l.Ub(0),l.Wb(1,"mat-icon"),l.Lc(2,"visibility_off"),l.Vb(),l.Wb(3,"span"),l.Lc(4,"Private"),l.Vb(),l.Tb())}function E(t,n){1&t&&(l.Ub(0),l.Wb(1,"mat-icon"),l.Lc(2,"visibility_on"),l.Vb(),l.Wb(3,"span"),l.Lc(4,"Public"),l.Vb(),l.Tb())}function j(t,n){if(1&t){const t=l.Xb();l.Wb(0,"tr"),l.Wb(1,"td"),l.Wb(2,"div",9),l.Wb(3,"img",10),l.ec("click",(function(){l.Bc(t);const e=n.$implicit;return l.ic(3).goToEditPage(e)})),l.jc(4,"getImgPath"),l.Vb(),l.Wb(5,"div",11),l.Wb(6,"h3"),l.Lc(7),l.Vb(),l.Wb(8,"p"),l.Lc(9),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(10,"td"),l.Jc(11,T,5,0,"ng-container",2),l.Jc(12,E,5,0,"ng-container",2),l.Vb(),l.Wb(13,"td"),l.Wb(14,"span"),l.Lc(15),l.jc(16,"date"),l.Vb(),l.Vb(),l.Wb(17,"td"),l.Wb(18,"span"),l.Lc(19),l.jc(20,"date"),l.Vb(),l.Vb(),l.Wb(21,"td"),l.Wb(22,"span"),l.Lc(23),l.Vb(),l.Vb(),l.Wb(24,"td"),l.Wb(25,"span",12),l.ec("click",(function(){l.Bc(t);const e=n.$implicit;return l.ic(3).goToEditPage(e)})),l.Lc(26,"create"),l.Vb(),l.Wb(27,"mat-icon",13),l.ec("click",(function(){l.Bc(t);const e=n.$implicit,i=l.ic(3);return i.removePlaylist(e.id,i.channelUser.id)})),l.Lc(28,"delete"),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=n.$implicit;l.Cb(3),l.pc("src",l.kc(4,8,t.thumbnail),l.Ec),l.Cb(4),l.Mc(t.name),l.Cb(2),l.Mc(t.description),l.Cb(2),l.pc("ngIf",t.privacy),l.Cb(1),l.pc("ngIf",!t.privacy),l.Cb(3),l.Mc(l.lc(16,10,t.created_at,"d MMM, yyyy")),l.Cb(4),l.Mc(l.lc(20,13,t.updated_at,"d MMM, yyyy")),l.Cb(4),l.Mc(t.videos.length)}}function A(t,n){if(1&t&&(l.Wb(0,"table",7),l.Wb(1,"tr"),l.Wb(2,"th"),l.Lc(3,"Playlist"),l.Vb(),l.Wb(4,"th"),l.Lc(5,"Visibility"),l.Vb(),l.Wb(6,"th"),l.Lc(7,"Created at"),l.Vb(),l.Wb(8,"th"),l.Lc(9,"Last updated"),l.Vb(),l.Wb(10,"th"),l.Lc(11,"Video count"),l.Vb(),l.Rb(12,"th"),l.Vb(),l.Jc(13,j,29,16,"tr",8),l.Vb()),2&t){const t=l.ic(2);l.Cb(13),l.pc("ngForOf",t.playlists)("ngForTrackBy",t.trackByElement)}}function Q(t,n){if(1&t){const t=l.Xb();l.Ub(0),l.Wb(1,"button",5),l.ec("click",(function(){return l.Bc(t),l.ic().openAddPlaylistModal()})),l.Lc(2,"Add New Playlist"),l.Vb(),l.Jc(3,A,14,2,"table",6),l.Tb()}if(2&t){const t=l.ic();l.Cb(3),l.pc("ngIf",t.playlists.length>0)}}function J(t,n){if(1&t){const t=l.Xb();l.Ub(0),l.Wb(1,"div",16),l.Wb(2,"div",17),l.ec("click",(function(){l.Bc(t);const e=n.$implicit;return l.ic(2).openPlaylistPage(e,null==e.videos[0]?null:e.videos[0].id)})),l.Rb(3,"img",18),l.jc(4,"getImgPath"),l.Wb(5,"div",19),l.Wb(6,"p",20),l.Wb(7,"span",21),l.Lc(8,"playlist_play"),l.Vb(),l.Vb(),l.Wb(9,"p"),l.Lc(10),l.Vb(),l.Wb(11,"p",22),l.Lc(12),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"div",11),l.Wb(14,"h2"),l.Lc(15),l.Vb(),l.Wb(16,"p"),l.Lc(17),l.Vb(),l.Vb(),l.Vb(),l.Tb()}if(2&t){const t=n.$implicit;l.Cb(3),l.pc("src",l.kc(4,5,t.thumbnail),l.Ec),l.Cb(7),l.Mc(t.name),l.Cb(2),l.Mc(t.videos.length+(1===t.videos.length?" video":" videos")),l.Cb(3),l.Mc(t.name),l.Cb(2),l.Mc(t.description)}}function B(t,n){if(1&t&&(l.Ub(0),l.Wb(1,"div",14),l.Jc(2,J,18,7,"ng-container",15),l.Vb(),l.Tb()),2&t){const t=l.ic();l.Cb(2),l.pc("ngForOf",t.playlists)}}function z(t,n){1&t&&(l.Wb(0,"div",23),l.Wb(1,"small",24),l.Lc(2,"No playlists found for this channel"),l.Vb(),l.Vb())}let R=(()=>{class t{constructor(t,n,e,i,s){this.router=t,this.playlistsService=n,this.subjectService=e,this.dialog=i,this.getExactParams=s,this.playlists=[],this.apiUrl=o.c,this.showFilters=!1,this.search="",this.filters=null,this.subscriptions=[],this.trackByElement=V.a}ngOnInit(){this.search="",this.getPlaylists({search:this.search,filters:this.filters}),this.getFiltersToggleState()}getFiltersToggleState(){this.subscriptions.push(this.subjectService.getToggleFiltersData().subscribe(t=>{this.showFilters=t}))}getPlaylists(t){t=this.getExactParams.transform(t),this.playlistsService.get(Object.assign({channel_id:this.channelUser.channel.id,user_id:this.authUser.id},t)).subscribe(t=>{this.playlists=t})}openAddPlaylistModal(){this.dialog.open(U,{data:{channel_id:this.channelUser.channel.id}}).afterClosed().subscribe(t=>{this.getPlaylists({search:this.search,filters:this.filters})})}openPlaylistPage(t,n){this.router.navigate(["videos/play"],{queryParams:{id:n,playlist_id:t.id}})}getSearchResults(t){this.search=t,this.getPlaylists({search:t,filters:this.filters})}getFilteredPlaylists(t){this.filters=t,this.getPlaylists({search:this.search,filters:t})}goToEditPage(t){this.router.navigate(["playlists/single/"+t.id])}removePlaylist(t,n){this.dialog.open(I.a).afterClosed().subscribe(e=>{e&&this.playlistsService.removePlaylist({id:t,channel_id:n}).subscribe(t=>{this.getPlaylists({search:this.search,filters:this.filters})})})}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(s.e),l.Qb(x.a),l.Qb(h.a),l.Qb(y.b),l.Qb(g.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-playlists-tab"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:5,vars:4,consts:[[3,"filter",4,"ngIf"],[1,"playlist-tab"],[4,"ngIf"],["id","no-playlists-found",4,"ngIf"],[3,"filter"],[1,"btn","new-playlist",3,"click"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"img-info"],[1,"thumbnail",3,"src","click"],[1,"info"],[1,"material-icons",3,"click"],[3,"click"],[1,"playlists-items"],[4,"ngFor","ngForOf"],[1,"item"],[1,"top-wrap",3,"click"],[1,"thumbnail",3,"src"],[1,"overlay-info"],[1,"icon"],[1,"material-icons"],[1,"video-count"],["id","no-playlists-found"],[1,"error"]],template:function(t,n){1&t&&(l.Jc(0,F,1,0,"app-video-filters",0),l.Wb(1,"div",1),l.Jc(2,Q,4,1,"ng-container",2),l.Jc(3,B,3,1,"ng-container",2),l.Jc(4,z,3,0,"div",3),l.Vb()),2&t&&(l.pc("ngIf",n.showFilters),l.Cb(2),l.pc("ngIf",n.authUser.username===n.channelUser.username),l.Cb(1),l.pc("ngIf",n.authUser.username!==n.channelUser.username),l.Cb(1),l.pc("ngIf",0===n.playlists.length))},directives:[i.m,_.a,i.l,W.a],pipes:[L.a,i.f],styles:[".playlist-tab[_ngcontent-%COMP%]   .new-playlist[_ngcontent-%COMP%]{background:#18b587;border-radius:0;color:#fff;padding:8px 24px}.playlist-tab[_ngcontent-%COMP%]   #no-playlists-found[_ngcontent-%COMP%]{margin-top:20px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:table;margin:24px 0;width:100%}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-row}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border-bottom:0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:right}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]{transition:.3s}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]:hover{color:#18b587}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;color:#545454;font-family:Muli-Bold,sans-serif;white-space:nowrap;font-size:16px;padding:12px 0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .material-icons[_ngcontent-%COMP%]{margin:0}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:12px!important;vertical-align:middle;cursor:pointer}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:144px;cursor:pointer}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-left:24px}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{max-width:240px;font-size:16px;font-family:Muli-Bold;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .img-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:240px;font-size:12px;font-weight:400;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}@media screen and (max-width:991px){.playlist-tab[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto}}.playlists-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(33.3% - 21px);margin-right:32px;margin-bottom:32px;cursor:pointer}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3n+3){margin-right:0}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]{position:relative;height:216px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   .overlay-info[_ngcontent-%COMP%]{padding:16px;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.38)}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .top-wrap[_ngcontent-%COMP%]   .overlay-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:700;margin-bottom:8px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:24px}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#545454;font-size:16px;font-weight:700}.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0;color:#545454;font-size:15px;font-weight:500}@media screen and (max-width:991px){.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(50% - 21px)}}@media screen and (max-width:767px){.playlists-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 100%}}"]}),t})();var D=e("fm3l"),X=e("tVj7"),N=e("1m4N"),q=e("HHsJ"),H=e("7dP1"),G=e("lwos"),$=e("JEAd"),K=e("iing"),Y=e("5eHb"),Z=e("il7l"),tt=e("Cnuz"),nt=e("Xa2L"),et=e("Y9zH"),it=e("PPbg"),st=e("yUsM"),ct=e("224n"),ot=e("WHgu"),at=e("bTqV"),rt=e("kmnG"),lt=e("qFsG");function bt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"div",22),l.Wb(1,"input",23),l.ec("change",(function(n){return l.Bc(t),l.ic().coverChangeEvent(n)})),l.Vb(),l.Rb(2,"input",24),l.Vb()}2&t&&l.pc("hidden",!0)}function ht(t,n){if(1&t){const t=l.Xb();l.Wb(0,"img",25),l.ec("load",(function(){return l.Bc(t),l.ic().detectImageChange()})),l.jc(1,"getImgPath"),l.Vb()}if(2&t){const t=l.ic();l.pc("src",l.lc(1,1,t.srcCoverImg,"images"),l.Ec)}}function gt(t,n){if(1&t&&l.Rb(0,"img",26),2&t){const t=l.ic();l.pc("src",t.srcEditCoverImg,l.Ec)}}function dt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",27),l.ec("click",(function(){return l.Bc(t),l.ic().removeCover()})),l.Wb(1,"mat-icon"),l.Lc(2,"clear"),l.Vb(),l.Vb()}}const pt=function(t){return{opacity:t}};function ut(t,n){if(1&t){const t=l.Xb();l.Wb(0,"img",28),l.ec("load",(function(){return l.Bc(t),l.ic().detectImageChange()})),l.jc(1,"getImgPath"),l.Vb()}if(2&t){const t=l.ic();l.pc("ngStyle",l.tc(5,pt,t.editMode?.5:1))("src",l.lc(1,2,t.srcAvatarImg,"images"),l.Ec)}}function ft(t,n){if(1&t&&l.Rb(0,"img",29),2&t){const t=l.ic();l.pc("ngStyle",l.tc(2,pt,t.editMode?.5:1))("src",t.srcEditAvatarImg,l.Ec)}}function mt(t,n){1&t&&(l.Wb(0,"mat-icon",30),l.Lc(1,"add"),l.Vb())}function Ct(t,n){if(1&t){const t=l.Xb();l.Wb(0,"mat-icon",31),l.ec("click",(function(){return l.Bc(t),l.ic().removeAvatar()})),l.Lc(1,"clear "),l.Vb()}}function Mt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"div",22),l.Wb(1,"input",32),l.ec("change",(function(n){return l.Bc(t),l.ic().profileChangeEvent(n)})),l.Vb(),l.Rb(2,"input",33),l.Vb()}2&t&&l.pc("hidden",!0)}function Pt(t,n){if(1&t&&(l.Wb(0,"p",34),l.Lc(1),l.Vb()),2&t){const t=l.ic();l.Cb(1),l.Mc(t.channelUser.channel.name)}}function _t(t,n){if(1&t){const t=l.Xb();l.Wb(0,"mat-form-field"),l.Wb(1,"input",35),l.ec("keyup.enter",(function(n){return l.Bc(t),n.preventDefault()})),l.Vb(),l.Vb()}}function vt(t,n){1&t&&(l.Wb(0,"div",36),l.Rb(1,"mat-spinner",37),l.Vb()),2&t&&(l.Cb(1),l.pc("diameter",50))}function Ot(t,n){if(1&t){const t=l.Xb();l.Wb(0,"a",41),l.ec("click",(function(){l.Bc(t);const n=l.ic(2);return n.subscribeToChannel(n.channelUser)})),l.Wb(1,"mat-icon"),l.Lc(2,"favorite_border"),l.Vb(),l.Wb(3,"span"),l.Lc(4,"Subscribe"),l.Vb(),l.Vb()}}function yt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"a",42),l.ec("click",(function(){l.Bc(t);const n=l.ic(2);return n.subscribeToChannel(n.channelUser)})),l.Wb(1,"mat-icon"),l.Lc(2,"favorite"),l.Vb(),l.Wb(3,"span"),l.Lc(4,"Subscribed"),l.Vb(),l.Vb()}}function xt(t,n){if(1&t&&(l.Wb(0,"div",38),l.Jc(1,Ot,5,0,"a",39),l.Jc(2,yt,5,0,"a",40),l.Vb()),2&t){const t=l.ic();l.Cb(1),l.pc("ngIf",!t.subscribedToChannel),l.Cb(1),l.pc("ngIf",t.subscribedToChannel)}}function kt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",47),l.ec("click",(function(){return l.Bc(t),l.ic(2).toggleEditMode()})),l.Wb(1,"mat-icon"),l.Lc(2,"edit"),l.Vb(),l.Lc(3," Edit channel "),l.Vb()}}function wt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",48),l.ec("click",(function(){return l.Bc(t),l.ic(2).toggleEditMode()})),l.Wb(1,"mat-icon"),l.Lc(2,"cancel"),l.Vb(),l.Lc(3," Cancel "),l.Vb()}}function St(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",49),l.ec("click",(function(){return l.Bc(t),l.ic(2).saveChanges()})),l.Wb(1,"mat-icon"),l.Lc(2,"save"),l.Vb(),l.Lc(3," Save changes "),l.Vb()}}function Ut(t,n){if(1&t&&(l.Wb(0,"div",43),l.Jc(1,kt,4,0,"button",44),l.Jc(2,wt,4,0,"button",45),l.Jc(3,St,4,0,"button",46),l.Vb()),2&t){const t=l.ic();l.Cb(1),l.pc("ngIf",!t.editMode),l.Cb(1),l.pc("ngIf",t.editMode),l.Cb(1),l.pc("ngIf",t.editMode)}}let It=(()=>{class t{constructor(t,n,e,i,s,c,a,r,l,b,h,g,d){this.usersService=t,this.userStore=n,this.base64ToFile=e,this.channelService=i,this.subject=s,this.usersConnectionsStore=c,this.groupsMessagesStore=a,this.notificationsStore=r,this.socketService=l,this.loader=b,this.fb=h,this.uploadFile=g,this._userInfoService=d,this.apiUrl=o.c,this.subscribedToChannel=!1,this.subscribersCount=0,this.changingImage=!1,this.editMode=!1,this.subscriptions=[],this.usersConnectionStatus="idle",this.showHidEditCoverImg=!1,this.fdCover=new FormData,this.showHidEditAvatarImg=!1,this.fdAvatar=new FormData,this._getAuthInfo()}ngOnInit(){this.channelUser&&(this.initChannelForm(),this.checkChannelSubscription(),this.srcCoverImg=this.channelUser.channel.cover,this.srcAvatarImg=this.channelUser.channel.avatar),this.socketService.getSubscribeChanel().subscribe(t=>{console.log(t)})}_getAuthInfo(){this._userInfoService._userInfo.subscribe(t=>{this.authUser=t,console.log(this.authUser,"Chanel Profile  AUTHUSER DATA")})}initChannelForm(){this.channelForm=this.fb.group({id:[""],avatar:[""],cover:[""],name:["",a.z.required],username:[""]}),this.channelForm.patchValue({name:this.channelUser.channel.name,id:this.channelUser.channel.id,username:this.channelUser.username,avatar:this.channelUser.channel.avatar,cover:this.channelUser.channel.cover})}checkChannelSubscription(){this.subscriptions.push(this.channelService.checkChannelSubscription({user_id:this.authUser.id,channel_id:this.channelUser.channel.id}).subscribe(t=>{this.subscribedToChannel="Subscribed"===t.status,this.subscribersCount=t.subscribers_count}))}coverChangeEvent(t){this.coverChangedEvent=t,this.fdCover=new FormData;const n=new FileReader;n.onload=t=>{this.srcEditCoverImg=t.target.result,this.showHidEditCoverImg=!0},n.readAsDataURL(t.target.files[0]),this.fdCover.append("image",t.target.files[0]),this.fdCover.append("belonging","chanel_cover_img"),this.fdCover.append("duration","")}profileChangeEvent(t){this.profileChangedEvent=t,this.fdAvatar=new FormData;const n=new FileReader;n.onload=t=>{this.srcEditAvatarImg=t.target.result,this.showHidEditAvatarImg=!0},n.readAsDataURL(t.target.files[0]),this.fdAvatar.append("image",t.target.files[0]),this.fdAvatar.append("belonging","chanel_avatar_img"),this.fdAvatar.append("duration","")}detectImageChange(){(this.profileChangedEvent||this.coverChangedEvent)&&(this.loader.dataLoading=!1,this.changingImage=!1,this.showHidEditCoverImg=!1,this.showHidEditAvatarImg=!1)}removeCover(){console.log(this.channelUser),this.srcEditCoverImg="",this.srcEditAvatarImg="",this.fdCover=new FormData,this.fdAvatar=new FormData,this.srcCoverImg="",this.srcAvatarImg="",this.detectImageChange(),this.coverChangedEvent=null,this.profileChangedEvent=null,this.showHidEditAvatarImg=!1}removeAvatar(){this.srcAvatarImg="",this.srcAvatarImg="",this.channelForm.patchValue({avatar:this.channelUser.channel.avatar})}subscribeToChannel(t){this.subscriptions.push(this.channelService.subscribeToChannel({user_id:this.authUser.id,channel_id:t.channel.id}).subscribe(n=>{console.log(n),this.subscribedToChannel="Subscribed"===n.status,this.subscribersCount=n.subscribers_count,this.subscriptions.push(this.channelService.getUserChannelSubscriptions({user_id:this.authUser.id}).subscribe(t=>{this.subject.setUserSubscriptions(t)})),this.socketService.subscribeChanel({from_user:t,to_user:this.authUser,msg:`You have successfully subscribed to Gold Subscription for ${t.username}'s channel!`})}))}connectWithUser(t){this.socketService.subscribeChanel({from_user:this.authUser,to_user:t,msg:`<strong>${this.authUser.username}</strong>\n                just subscribed to your Gold Subscription tier!`});const n=this.notificationsStore.allNotifications.filter(n=>n._id!==t.id);console.log(n),this.notificationsStore.setInitialNotifications(n)}toggleEditMode(){this.editMode=!this.editMode,this.showHidEditCoverImg=!1,this.srcCoverImg=this.channelUser.channel.cover,this.coverChangedEvent=null}saveChanges(){console.log("save changes!!!"),console.log(this.channelForm.value),console.log("save changes!!!"),this.channelForm.valid&&(this.loader.dataLoading=!0,this.coverChangedEvent&&this.uploadFile.uploadFile(this.fdCover,"image").subscribe(t=>{this.channelForm.patchValue({cover:t.path}),console.log(this.channelForm.value),this.subscriptions.push(this.channelService.changeChannelDetails(this.channelForm.value).subscribe(t=>{this.editMode=!1,this.changeAuthUserInfo(t)}))}),this.profileChangedEvent&&this.uploadFile.uploadFile(this.fdAvatar,"image").subscribe(t=>{this.channelForm.patchValue({avatar:t.path}),console.log(this.channelForm.value),this.subscriptions.push(this.channelService.changeChannelDetails(this.channelForm.value).subscribe(t=>{this.editMode=!1,this.changeAuthUserInfo(t)}))}),this.profileChangedEvent||this.coverChangedEvent||(console.log(this.channelForm.value),this.subscriptions.push(this.channelService.changeChannelDetails(this.channelForm.value).subscribe(t=>{this.editMode=!1,this.changeAuthUserInfo(t)}))))}changeAuthUserInfo(t){localStorage.setItem("token",t.token),this.channelUser=this.authUser,this.changingImage=!1;const n=t.hasOwnProperty("token")?null==t?void 0:t.token:"";n&&(localStorage.setItem("token",n),this.userStore.setAuthUser(n))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(X.a),l.Qb(it.a),l.Qb(N.a),l.Qb(q.a),l.Qb(h.a),l.Qb(K.a),l.Qb(st.a),l.Qb(ct.a),l.Qb(ot.a),l.Qb(G.a),l.Qb(a.e),l.Qb(b.a),l.Qb(tt.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-channel-profile"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:25,vars:16,consts:[[3,"formGroup"],[1,"profile-block"],[3,"hidden",4,"ngIf"],[1,"cover-image-container"],["for","cover-image-input"],["id","cover-image",3,"src","load",4,"ngIf"],["class","editImg","alt","",3,"src",4,"ngIf"],["mat-icon-button","","type","button","class","remove-cover-btn",3,"click",4,"ngIf"],[1,"sub-block"],["id","channel-name-avatar"],[1,"avatar-container"],["for","profile-image-input"],["class","avatar","id","profile-image",3,"ngStyle","src","load",4,"ngIf"],["class","avatar","alt","",3,"ngStyle","src",4,"ngIf"],["id","add-photo-btn",4,"ngIf"],["class","remove-avatar-btn",3,"click",4,"ngIf"],["class","channel-name","id","channel-name",4,"ngIf"],[4,"ngIf"],[1,"subscribers-count"],["class","loader",4,"ngIf"],["id","connection-status-buttons",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],[3,"hidden"],["type","file","id","cover-image-input",3,"change"],["type","hidden","formControlName","cover"],["id","cover-image",3,"src","load"],["alt","",1,"editImg",3,"src"],["mat-icon-button","","type","button",1,"remove-cover-btn",3,"click"],["id","profile-image",1,"avatar",3,"ngStyle","src","load"],["alt","",1,"avatar",3,"ngStyle","src"],["id","add-photo-btn"],[1,"remove-avatar-btn",3,"click"],["type","file","id","profile-image-input",3,"change"],["type","hidden","formControlName","avatar"],["id","channel-name",1,"channel-name"],["matInput","","formControlName","name","id","channel-name-input",3,"keyup.enter"],[1,"loader"],[3,"diameter"],["id","connection-status-buttons"],["class","subscribe-btn",3,"click",4,"ngIf"],["class","subscribe-btn subscribed",3,"click",4,"ngIf"],[1,"subscribe-btn",3,"click"],[1,"subscribe-btn","subscribed",3,"click"],[1,"d-flex","align-items-center"],["class","btn","type","button","id","edit-channel",3,"click",4,"ngIf"],["class","btn","type","button","id","cancel-changes",3,"click",4,"ngIf"],["class","btn","type","button","id","save-channel-details",3,"click",4,"ngIf"],["type","button","id","edit-channel",1,"btn",3,"click"],["type","button","id","cancel-changes",1,"btn",3,"click"],["type","button","id","save-channel-details",1,"btn",3,"click"]],template:function(t,n){1&t&&(l.Wb(0,"form",0),l.Wb(1,"div",1),l.Jc(2,bt,3,1,"div",2),l.Wb(3,"div",3),l.Wb(4,"label",4),l.Jc(5,ht,2,4,"img",5),l.Jc(6,gt,1,1,"img",6),l.Vb(),l.Jc(7,dt,3,0,"button",7),l.Vb(),l.Vb(),l.Wb(8,"div",8),l.Wb(9,"div",9),l.Wb(10,"div",10),l.Wb(11,"label",11),l.Jc(12,ut,2,7,"img",12),l.Jc(13,ft,1,4,"img",13),l.Jc(14,mt,2,0,"mat-icon",14),l.Vb(),l.Jc(15,Ct,2,0,"mat-icon",15),l.Vb(),l.Jc(16,Mt,3,1,"div",2),l.Wb(17,"div"),l.Jc(18,Pt,2,1,"p",16),l.Jc(19,_t,2,0,"mat-form-field",17),l.Wb(20,"p",18),l.Lc(21),l.Vb(),l.Vb(),l.Vb(),l.Jc(22,vt,2,1,"div",19),l.Jc(23,xt,3,2,"div",20),l.Jc(24,Ut,4,3,"div",21),l.Vb(),l.Vb()),2&t&&(l.pc("formGroup",n.channelForm),l.Cb(2),l.pc("ngIf",n.editMode),l.Cb(3),l.pc("ngIf",!n.showHidEditCoverImg),l.Cb(1),l.pc("ngIf",n.showHidEditCoverImg),l.Cb(1),l.pc("ngIf",n.editMode&&n.srcCoverImg),l.Cb(5),l.pc("ngIf",!n.showHidEditAvatarImg),l.Cb(1),l.pc("ngIf",n.showHidEditAvatarImg),l.Cb(1),l.pc("ngIf",n.editMode&&!n.srcAvatarImg),l.Cb(1),l.pc("ngIf",n.editMode&&n.srcAvatarImg),l.Cb(1),l.pc("ngIf",n.editMode),l.Cb(2),l.pc("ngIf",!n.editMode),l.Cb(1),l.pc("ngIf",n.editMode),l.Cb(2),l.Nc("",n.subscribersCount+" subscriber"+(1===n.subscribersCount?"":"s")," "),l.Cb(1),l.pc("ngIf",n.changingImage),l.Cb(1),l.pc("ngIf",n.channelUser.username!==n.authUser.username),l.Cb(1),l.pc("ngIf",n.channelUser.username===n.authUser.username))},directives:[a.B,a.r,a.j,i.m,a.c,a.q,a.h,at.a,W.a,i.n,rt.c,lt.b,nt.c],pipes:[L.a],styles:[".sub-bell[_ngcontent-%COMP%]{color:#f53c6f;margin-right:16px}.subscribe-btn[_ngcontent-%COMP%], .users-connected-btn[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Light;transition:.3s ease-in-out;background:#18b587;margin-left:16px;margin-right:16px}.loader[_ngcontent-%COMP%], .subscribe-btn[_ngcontent-%COMP%], .users-connected-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]{height:52px;margin-left:10px;margin-top:-17px}#add-photo-btn[_ngcontent-%COMP%]{position:absolute;left:9px;top:10px;cursor:pointer}.cover-image-container[_ngcontent-%COMP%]{position:relative}.cover-image-container[_ngcontent-%COMP%]   #cover-image[_ngcontent-%COMP%], .cover-image-container[_ngcontent-%COMP%]   .editImg[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain}.cover-image-container[_ngcontent-%COMP%]   .remove-cover-btn[_ngcontent-%COMP%]{position:absolute;right:0}.cover-image-container[_ngcontent-%COMP%]   .remove-cover-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{background-color:#000;color:#fff;border-radius:20px;font-size:16px}label[for=cover-image-input][_ngcontent-%COMP%]{width:100%}#edit-channel[_ngcontent-%COMP%], #save-channel-details[_ngcontent-%COMP%]{background:#18b587}#cancel-changes[_ngcontent-%COMP%], #edit-channel[_ngcontent-%COMP%], #save-channel-details[_ngcontent-%COMP%]{border-radius:0;color:#fff;padding:8px 24px;display:flex;align-items:center}#cancel-changes[_ngcontent-%COMP%]{background:#c9c9c9;margin-right:20px;margin-bottom:20px}.avatar-container[_ngcontent-%COMP%]{position:relative}.avatar-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.avatar-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   #profile-image[_ngcontent-%COMP%]{cursor:unset;-o-object-fit:contain;object-fit:contain}.avatar-container[_ngcontent-%COMP%]   .remove-avatar-btn[_ngcontent-%COMP%]{width:13px;height:13px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#000;font-size:16px;cursor:pointer}.subscribed[_ngcontent-%COMP%]{background-color:#b3b3b3!important}#channel-name-avatar[_ngcontent-%COMP%], #connection-status-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})();var Vt=e("IK1q"),Wt=e("IG0y");function Lt(t,n){1&t&&l.Rb(0,"mat-spinner",6),2&t&&l.pc("diameter",15)}function Ft(t,n){if(1&t){const t=l.Xb();l.Wb(0,"app-user-tags",20),l.ec("tagSelected",(function(n){return l.Bc(t),l.ic(2).getVideosByTag(n)})),l.Vb()}}function Tt(t,n){if(1&t&&l.Rb(0,"app-channel-profile",21),2&t){const t=l.ic(2);l.pc("channelUser",t.channelUser)("authUser",t.authUser)}}function Et(t,n){if(1&t&&(l.Wb(0,"li",22),l.Wb(1,"a",23),l.Lc(2),l.Vb(),l.Vb()),2&t){const t=n.$implicit,e=l.ic(2);l.Cb(1),l.Gb("active",t.link===e.activeTab.link),l.rc("id","",t.link,"-tab"),l.pc("routerLink","/channels/"+e.passedUsername+"/tab/"+t.link),l.Cb(1),l.Mc(t.name)}}function jt(t,n){1&t&&l.Rb(0,"mat-spinner",6),2&t&&l.pc("diameter",15)}function At(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",28),l.ec("click",(function(){return l.Bc(t),l.ic(3).toggleFilters()})),l.Wb(1,"mat-icon"),l.Lc(2,"tune"),l.Vb(),l.Vb()}if(2&t){const t=l.ic(3);l.Gb("filters-active",t.showFilters)}}function Qt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"app-search-videos-form",29),l.ec("search",(function(n){return l.Bc(t),l.ic(3).searchVideos(n)})),l.Vb()}}function Jt(t,n){if(1&t&&(l.Wb(0,"div",24),l.Wb(1,"div",25),l.Jc(2,At,3,2,"button",26),l.Vb(),l.Jc(3,Qt,1,0,"app-search-videos-form",27),l.Vb()),2&t){const t=l.ic(2);l.Cb(2),l.pc("ngIf","About"!==t.activeTab.name&&"Watchlist"!==t.activeTab.name),l.Cb(1),l.pc("ngIf","About"!==t.activeTab.name&&"Watchlist"!==t.activeTab.name)}}function Bt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"div",33),l.ec("click",(function(){return l.Bc(t),l.ic(3).openModal()})),l.Wb(1,"button",34),l.Wb(2,"mat-icon"),l.Lc(3,"add_circle_outline"),l.Vb(),l.Vb(),l.Vb()}}function zt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"app-search-stocks-form",37),l.ec("search",(function(n){return l.Bc(t),l.ic(4).searchInUserStocks(n)})),l.Vb()}2&t&&l.pc("whiteForm",!0)("returnSearchText",!0)}function Rt(t,n){if(1&t&&(l.Wb(0,"div",35),l.Jc(1,zt,1,2,"app-search-stocks-form",36),l.Vb()),2&t){const t=l.ic(3);l.Gb("bordered",(null==t.userStocks?null:t.userStocks.length)>0),l.Cb(1),l.pc("ngIf","Watchlist"===t.activeTab.name&&(null==t.userStocks?null:t.userStocks.length)>0)}}function Dt(t,n){if(1&t&&(l.Wb(0,"div",30),l.Jc(1,Bt,4,0,"div",31),l.Jc(2,Rt,2,3,"div",32),l.Vb()),2&t){const t=l.ic(2);l.Cb(1),l.pc("ngIf","Watchlist"===t.activeTab.name),l.Cb(1),l.pc("ngIf","About"!==t.activeTab.name)}}function Xt(t,n){if(1&t){const t=l.Xb();l.Ub(0),l.Jc(1,Ft,1,0,"app-user-tags",7),l.Jc(2,Tt,1,2,"app-channel-profile",8),l.Wb(3,"div",9),l.Wb(4,"div",10),l.Wb(5,"ul",11),l.Jc(6,Et,3,5,"li",12),l.Vb(),l.Wb(7,"div",13),l.Wb(8,"div",14),l.Jc(9,jt,1,1,"mat-spinner",0),l.Vb(),l.Vb(),l.Wb(10,"div",15),l.Jc(11,Jt,4,2,"div",16),l.Jc(12,Dt,3,2,"div",17),l.Vb(),l.Vb(),l.Wb(13,"router-outlet",18,19),l.ec("activate",(function(n){l.Bc(t);const e=l.xc(14);return l.ic().onOutletLoaded(n,e)})),l.Vb(),l.Vb(),l.Tb()}if(2&t){const t=l.ic();l.Cb(1),l.pc("ngIf",t.auth.loggedIn()),l.Cb(1),l.pc("ngIf",t.channelUser),l.Cb(4),l.pc("ngForOf",t.allTabs)("ngForTrackBy",t.trackByElement),l.Cb(3),l.pc("ngIf","loading"===t.loader.stocksLoading.status&&"watchlist"===t.activeTab.name),l.Cb(2),l.pc("ngIf","Videos"===t.activeTab.name),l.Cb(1),l.pc("ngIf","Watchlist"===t.activeTab.name)}}function Nt(t,n){1&t&&(l.Wb(0,"div",38),l.Wb(1,"p"),l.Lc(2,"Channel with such name is not found"),l.Vb(),l.Vb())}let qt=(()=>{class t{constructor(t,n,e,i,s,c,r,l,b,h,g,d,p,u,f,m,C,M,P,_){this.videoService=t,this.router=n,this.usersService=e,this.base64ToFile=i,this.route=s,this.fb=c,this.subjectService=r,this.channelService=l,this.playlistsService=b,this.subject=h,this.auth=g,this.dialog=d,this.loader=p,this.updateStocks=u,this.stocksService=f,this.usersMessagesStore=m,this.toastr=C,this.chatService=M,this.cdr=P,this._userInfoService=_,this.allTabs=o.e,this.apiUrl=o.c,this.playlists=[],this.editMode=!1,this.showFilters=!1,this.filters=null,this.dataLoading="idle",this.userStocks=[],this.filteredStocks=[],this.subscriptions=[],this.trackByElement=V.a,this.showChatBox=!1,this._getAuthInfo(),this.passedUsername=this.route.snapshot.params.username,this.passedTab=this.route.snapshot.params.tab,this.searchVideosForm=this.fb.group({search:["",a.z.required]})}ngOnInit(){var t;this.activeTab=(null===(t=o.e.filter(t=>t.name.toLowerCase()===this.passedTab))||void 0===t?void 0:t[0])||o.e[0],this.getUserInfo(),this.subject.currentUserStocks.subscribe(t=>{this.userStocks=t.stocks,this.filteredStocks=this.userStocks})}_getAuthInfo(){this._userInfoService._userInfo.subscribe(t=>{this.authUser=t,console.log(this.authUser,"Show CHannel  AUTHUSER DATA")})}toggleFilters(){this.showFilters=!this.showFilters,this.subject.setToggleFiltersData(this.showFilters)}getUserInfo(){this.loader.channelLoading.status="loading",this.passedUsername&&this.usersService.getUserInfo({username:this.passedUsername,own_channel:+(this.authUser.username===this.passedUsername)}).subscribe(t=>{console.log(t),t&&(this.channelUser=t),this.loader.channelLoading.status="finished"})}changeActiveTab(t){return Object(c.a)(this,void 0,void 0,(function*(){this.activeTab=t,this.showFilters=!1,yield this.router.navigate(["/channels/show"],{queryParams:{tab:t.name.toLowerCase(),username:this.passedUsername}}),this.subject.setToggleFiltersData(this.showFilters),"Videos"===this.activeTab.name&&this.getUserInfo()}))}searchInUserStocks(t){localStorage.setItem("searchStock",t.search),this.subjectService.setStocksSearch(t.search)}searchVideos(t){localStorage.setItem("search",t.search),this.showFilters=!1,this.subject.setToggleFiltersData(this.showFilters),this.subject.setVideosSearch(t.search)}getVideosByTag(t){return Object(c.a)(this,void 0,void 0,(function*(){yield this.router.navigate(["videos"],{queryParams:{tag:t}})}))}openModal(){this.dialog.open(D.a,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",panelClass:"stocks-lists-modal"}).afterClosed().subscribe(t=>{})}isStockFollowed(t){return!!this.userStocks.find(n=>n.name===t.name)}updateFollowedStocksList(t){const n=this.updateStocks.transform(this.userStocks,t,this.isStockFollowed(t));n&&(this.loader.stocksLoading.status="loading",this.subscriptions.push(this.stocksService.updateFollowedStocks(Object.assign({user_id:this.authUser.id},{stocks:n})).subscribe(t=>{this.userStocks=(null==t?void 0:t.user_stocks)||[],this.loader.stocksLoading.status="finished",this.subject.changeUserStocks({stocks:this.userStocks,empty:0===this.userStocks.length})})))}onOutletLoaded(t,n){var e;this.passedTab=n.activatedRoute.snapshot.routeConfig.path,this.activeTab=(null===(e=o.e.filter(t=>t.name.toLowerCase()===this.passedTab))||void 0===e?void 0:e[0])||o.e[0],t.authUser=this.authUser,t.channelUser=this.channelUser,this.cdr.detectChanges()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(b.a),l.Qb(s.e),l.Qb(X.a),l.Qb(N.a),l.Qb(s.a),l.Qb(a.e),l.Qb(h.a),l.Qb(q.a),l.Qb(x.a),l.Qb(h.a),l.Qb(H.a),l.Qb(y.b),l.Qb(G.a),l.Qb($.a),l.Qb(d.a),l.Qb(K.a),l.Qb(Y.b),l.Qb(Z.a),l.Qb(l.h),l.Qb(tt.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-show-channel"]],viewQuery:function(t,n){var e;1&t&&(l.Qc(M,!0),l.Qc(O,!0),l.Qc(R,!0)),2&t&&(l.wc(e=l.fc())&&(n.watchListTab=e.first),l.wc(e=l.fc())&&(n.videosTab=e.first),l.wc(e=l.fc())&&(n.playlistsTab=e.first))},decls:10,vars:6,consts:[[3,"diameter",4,"ngIf"],[1,"profile-list"],[1,"myProfile",3,"routerLink"],[1,"myChannel",3,"routerLink","routerLinkActive"],[4,"ngIf"],["class","channel-not-found",4,"ngIf"],[3,"diameter"],[3,"tagSelected",4,"ngIf"],[3,"channelUser","authUser",4,"ngIf"],[1,"stocks-watchlist","pWatchlist"],[1,"profile-list","user-profile-block"],["id","channel-tabs-list","role","tablist",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"loader-wrapper"],[1,"spinner-container"],[1,"search-wrapper"],["class","left-side",4,"ngIf"],["class","right-side",4,"ngIf"],[3,"activate"],["routerOutlet","outlet"],[3,"tagSelected"],[3,"channelUser","authUser"],[1,"nav-item"],["routerLinkActive","active","data-toggle","tab","role","tab","aria-controls","pWatch","aria-selected","true",1,"nav-link",3,"routerLink","id"],[1,"left-side"],[1,"toggle-filters-btn"],["class","filter-toggle-btn","type","button",3,"filters-active","click",4,"ngIf"],["class","child-inp search-video-channelPart",3,"search",4,"ngIf"],["type","button",1,"filter-toggle-btn",3,"click"],[1,"child-inp","search-video-channelPart",3,"search"],[1,"right-side"],["class","open-add-stock-modal",3,"click",4,"ngIf"],["class","watchlist-search d-",3,"bordered",4,"ngIf"],[1,"open-add-stock-modal",3,"click"],["type","button"],[1,"watchlist-search","d-"],["class","d-block search-stocks-component",3,"whiteForm","returnSearchText","search",4,"ngIf"],[1,"d-block","search-stocks-component",3,"whiteForm","returnSearchText","search"],[1,"channel-not-found"]],template:function(t,n){1&t&&(l.Jc(0,Lt,1,1,"mat-spinner",0),l.Wb(1,"div",1),l.Wb(2,"table"),l.Wb(3,"tr"),l.Wb(4,"td",2),l.Lc(5,"My Profile"),l.Vb(),l.Wb(6,"td",3),l.Lc(7,"My Channel"),l.Vb(),l.Vb(),l.Vb(),l.Jc(8,Xt,15,7,"ng-container",4),l.Jc(9,Nt,3,0,"div",5),l.Vb()),2&t&&(l.pc("ngIf","loading"===n.loader.channelLoading.status),l.Cb(4),l.pc("routerLink","/users/"+(null==n.authUser?null:n.authUser.username)),l.Cb(2),l.pc("routerLink","/channels/"+(null==n.authUser?null:n.authUser.username))("routerLinkActive","active"),l.Cb(2),l.pc("ngIf",n.channelUser),l.Cb(1),l.pc("ngIf",!n.channelUser&&"finished"===n.loader.channelLoading.status))},directives:[i.m,s.f,s.g,nt.c,i.l,s.j,et.a,It,s.h,W.a,Vt.a,Wt.a],styles:["#group-tabs[_ngcontent-%COMP%], .stocks-watchlist[_ngcontent-%COMP%]{margin-top:40px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:0;display:flex;flex-wrap:wrap;padding-left:0;list-style:none}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{color:#fff!important;width:156px;font-size:12px;box-shadow:0 0 6px rgba(0,0,0,.06);font-family:Muli-Bold;margin-bottom:25px}.nav-link[_ngcontent-%COMP%]{padding:5px;height:31px;background:#fff;color:#545454!important;display:flex;justify-content:center;align-items:center}.nav-link[_ngcontent-%COMP%]:hover{border:0}.nav-link.active[_ngcontent-%COMP%]{background:#f53c6f!important;color:#fff!important}.dropdown[_ngcontent-%COMP%]{cursor:pointer}.dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:0 12px;color:#777;font-size:14px}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{color:#777;font-size:14px;font-family:Muli-Light}.watchlist-search[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;height:31px;background:#fff 0 0 no-repeat padding-box;margin-right:3px}.watchlist-search.bordered[_ngcontent-%COMP%]{box-shadow:0 3px 8px rgba(0,0,0,.24)}.watchlist-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;color:#6a6a6a;right:11px;top:10px}.watchlist-search[_ngcontent-%COMP%]   .watchlist-input[_ngcontent-%COMP%]{font-family:Muli-Light;background:#fff;color:#545454;font-size:16px;padding-left:10px}.profile-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-bottom:20px}.profile-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:100px;height:35px;text-align:center;cursor:pointer}.profile-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .myProfile[_ngcontent-%COMP%]{margin-right:15px}.profile-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#f53c6f;color:#fff}.profile-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .search-stocks-component[_ngcontent-%COMP%]{width:100%}.child-inp-auto[_ngcontent-%COMP%]{background:#0d1b3e}.search-wrapper[_ngcontent-%COMP%]{width:50%}@media (max-width:660px){.search-wrapper[_ngcontent-%COMP%]{width:80%}}@media (max-width:424px){.search-wrapper[_ngcontent-%COMP%]{width:93%}}.search-wrapper[_ngcontent-%COMP%]   .toggle-filters-btn[_ngcontent-%COMP%]{display:flex;padding-top:4px;height:31px}.search-wrapper[_ngcontent-%COMP%]   .toggle-filters-btn[_ngcontent-%COMP%]   .filter-toggle-btn[_ngcontent-%COMP%]{background-color:unset;height:23px}.search-wrapper[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%], .search-wrapper[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:-webkit-max-content minmax(auto,300px);grid-template-columns:max-content minmax(auto,300px);grid-gap:20px;margin-bottom:20px}#search-videos-form[_ngcontent-%COMP%]{display:flex}#search-videos-form[_ngcontent-%COMP%]   .filters-active[_ngcontent-%COMP%]{background-color:#18b587!important;color:#fff}.open-add-stock-modal[_ngcontent-%COMP%]{display:flex;align-items:center;height:31px}@media only screen and (max-width:374px){.open-add-stock-modal[_ngcontent-%COMP%]{margin-right:5px!important}}.open-add-stock-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:unset;height:23px}#channel-tabs-list[_ngcontent-%COMP%]{width:100%}@media (max-width:991px){#channel-tabs-list[_ngcontent-%COMP%]{max-width:624px;width:100%}}"]}),t})();var Ht=e("STbY");function Gt(t,n){if(1&t&&(l.Ub(0),l.Wb(1,"div",3),l.Wb(2,"div",4),l.Wb(3,"div",5),l.Rb(4,"img",6),l.jc(5,"getImgPath"),l.Vb(),l.Wb(6,"div",7),l.Wb(7,"div",8),l.Lc(8),l.Vb(),l.Vb(),l.Vb(),l.Wb(9,"div",9),l.Wb(10,"button",10),l.Rb(11,"i",11),l.Vb(),l.Wb(12,"mat-menu",null,12),l.Wb(14,"button",13),l.Lc(15," Remove "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Tb()),2&t){const t=n.$implicit,e=l.xc(13);l.Cb(4),l.pc("src",l.lc(5,5,t.avatar,"images"),l.Ec),l.Cb(3),l.pc("routerLink","/users/"+(null==t?null:t.username)),l.Cb(1),l.Nc(" ",t.first_name+" "+t.last_name," "),l.Cb(2),l.pc("matMenuTriggerFor",e),l.Cb(4),l.pc("disableRipple",!0)}}function $t(t,n){if(1&t&&(l.Wb(0,"div",1),l.Jc(1,Gt,16,8,"ng-container",2),l.Vb()),2&t){const t=n.ngIf;l.Cb(1),l.pc("ngForOf",null==t?null:t.subscribers)}}let Kt=(()=>{class t{constructor(t){this.channelsService=t,this.subscriptions=[]}ngOnInit(){this.getUserChannelSubscriptions()}getUserChannelSubscriptions(){this.channelSubscribers$=this.channelsService.getChannelSubscriptions({id:this.channelUser.id})}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(q.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-subscribers-tab"]],inputs:{authUser:"authUser",channelUser:"channelUser"},decls:2,vars:3,consts:[["class","channel-subscribers-container",4,"ngIf"],[1,"channel-subscribers-container"],[4,"ngFor","ngForOf"],[1,"subscriber"],[1,"left"],[1,"img","user-avatar"],["alt","user-avatar",1,"avatar",3,"src"],[1,"text"],[1,"name",3,"routerLink"],[1,"right"],[1,"show-actions",3,"matMenuTriggerFor"],[1,"fas","fa-ellipsis-h"],["menu","matMenu"],["mat-menu-item","",3,"disableRipple"]],template:function(t,n){1&t&&(l.Jc(0,$t,2,1,"div",0),l.jc(1,"async")),2&t&&l.pc("ngIf",l.kc(1,1,n.channelSubscribers$))},directives:[i.m,i.l,s.f,Ht.c,Ht.d,Ht.a],pipes:[i.b,L.a],styles:[".channel-subscribers-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:41px;width:100%;max-width:1122px}@media only screen and (max-width:768px){.channel-subscribers-container[_ngcontent-%COMP%]{display:block;margin-top:60px}}.channel-subscribers-container[_ngcontent-%COMP%]   .subTabsContainer[_ngcontent-%COMP%]{display:flex;width:100%;max-width:1122px}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#fff 0 0 no-repeat padding-box;border:1px solid hsla(0,0%,84.7%,.44);opacity:1;padding:10px;margin-bottom:15px;margin-right:15px}@media only screen and (max-width:1440px){.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]{margin-top:15px}}@media only screen and (max-width:1024px){.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]{padding:11px 10px}}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{position:relative;margin:auto}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:60px!important;height:60px;margin-right:21px}@media only screen and (max-width:500px){.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px!important;height:40px!important}}@media only screen and (max-width:320px){.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:11px!important;width:35px!important;height:35px!important}}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:Muli-Regular,sans-serif;letter-spacing:0;color:#5b5b5b;opacity:1}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width:320px){.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:15px!important}}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-left:20px}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.connection-actions   button)[_ngcontent-%COMP%]{background:transparent;width:28px;height:6px;opacity:1}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .connection-actions[_ngcontent-%COMP%]{display:flex;width:200px;justify-content:space-around;margin-left:50px}@media only screen and (max-width:500px){.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .connection-actions[_ngcontent-%COMP%]{margin-left:20px;width:80%}}.channel-subscribers-container[_ngcontent-%COMP%]   .subscriber[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .connection-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;background:#18b587;font-size:14px}"]}),t})();function Yt(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",13),l.ec("click",(function(){l.Bc(t);const n=l.ic().$implicit;return l.ic(2).subscribeToChannel(n)})),l.Lc(1),l.Vb()}if(2&t){const t=l.ic().$implicit,n=l.ic(2);l.Gb("subscribed",n.checkIfSubscribed(t)),l.Cb(1),l.Nc("",n.checkIfSubscribed(t)?"Unsubscribe":"Subscribe"," ")}}function Zt(t,n){if(1&t&&(l.Wb(0,"li",3),l.Wb(1,"div",4),l.Wb(2,"div",5),l.Rb(3,"img",6),l.jc(4,"getImgPath"),l.Vb(),l.Wb(5,"div",7),l.Wb(6,"p",8),l.Lc(7),l.Vb(),l.Wb(8,"div",9),l.Wb(9,"p",10),l.Lc(10),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(11,"div",11),l.Jc(12,Yt,2,3,"button",12),l.Vb(),l.Vb()),2&t){const t=n.$implicit,e=l.ic(2);l.Cb(3),l.pc("src",l.lc(4,5,t.avatar,"images"),l.Ec),l.Cb(3),l.pc("routerLink","/channels/"+(null==t||null==t.user?null:t.user.username)),l.Cb(1),l.Mc(t.name),l.Cb(3),l.Mc(t.videos.length+(1===t.videos.length?" video":" videos")),l.Cb(2),l.pc("ngIf",(null==t||null==t.user?null:t.user.username)!==(null==e.authUser?null:e.authUser.username))}}function tn(t,n){if(1&t&&(l.Wb(0,"ul"),l.Jc(1,Zt,13,8,"li",2),l.Vb()),2&t){const t=l.ic();l.Cb(1),l.pc("ngForOf",t.userChannels.subscriptions)("ngForTrackBy",t.trackByElement)}}let nn=(()=>{class t{constructor(t,n,e,i){this.channelsService=t,this.auth=n,this.router=e,this.subject=i,this.apiUrl=o.c,this.trackByElement=V.a,this.subscriptions=[]}ngOnInit(){this.getUserChannelSubscriptions()}getUserChannelSubscriptions(){this.subscriptions.push(this.channelsService.getSubscriptions({user_id:this.channelUser.id}).subscribe(t=>{this.userChannels=t}))}checkIfSubscribed(t){var n;return t.channel_subscribers.subscriber_id===(null===(n=this.authUser)||void 0===n?void 0:n.id)}subscribeToChannel(t){this.subscriptions.push(this.channelsService.subscribeToChannel({user_id:this.authUser.id,channel_id:t.id}).subscribe(t=>{this.subscriptions.push(this.channelsService.getUserChannelSubscriptions({user_id:this.authUser.id}).subscribe(t=>{this.subject.setUserSubscriptions(t),this.getUserChannelSubscriptions()}))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(q.a),l.Qb(H.a),l.Qb(s.e),l.Qb(h.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-subscriptions-tab"]],inputs:{authUser:"authUser",channelUser:"channelUser"},decls:2,vars:1,consts:[[1,"subscriptions-container"],[4,"ngIf"],["class","channel-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"channel-item"],[1,"left"],[1,"thumbnail"],[1,"channel-avatar",3,"src"],[1,"info"],[1,"name",3,"routerLink"],[1,"shortened-details"],[1,"video-count"],[1,"right"],["class","subscribe-btn",3,"subscribed","click",4,"ngIf"],[1,"subscribe-btn",3,"click"]],template:function(t,n){1&t&&(l.Wb(0,"div",0),l.Jc(1,tn,2,2,"ul",1),l.Vb()),2&t&&(l.Cb(1),l.pc("ngIf",n.userChannels))},directives:[i.m,i.l,s.f],pipes:[L.a],styles:["#my-subscriptions[_ngcontent-%COMP%]{text-align:center;color:#18b587}.subscriptions-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:41px;width:100%;max-width:1122px}@media only screen and (max-width:768px){.subscriptions-container[_ngcontent-%COMP%]{display:block;margin-top:60px}}.channel-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#fff 0 0 no-repeat padding-box;border:1px solid #d8d8d8;opacity:1;padding:23px 21px;max-width:493px;width:100%;margin-bottom:15px;margin-right:15px}@media only screen and (max-width:1440px){.channel-item[_ngcontent-%COMP%]{margin-top:15px}}@media only screen and (max-width:1024px){.channel-item[_ngcontent-%COMP%]{padding:11px 10px}}.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;align-items:center}.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .iconTV[_ngcontent-%COMP%]{width:60px!important;height:60px!important;margin-right:21px}@media only screen and (max-width:500px){.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .iconTV[_ngcontent-%COMP%]{width:45px!important;height:45px!important;margin-right:11px}}@media only screen and (max-width:320px){.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .iconTV[_ngcontent-%COMP%]{width:35px!important;height:35px!important;margin-right:4px!important}}.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:4px;margin-left:20px;min-width:250px;max-width:350px;color:#5b5b5b}@media only screen and (max-width:500px){.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:60px!important}}.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;align-items:center;letter-spacing:0;color:#5b5b5b;opacity:1;font-family:Muli-Bold,sans-serif;cursor:pointer}.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{margin-left:26px;margin-top:-3px}.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-family:Muli-Light}.channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .videos-count[_ngcontent-%COMP%], .channel-item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .watchers-count[_ngcontent-%COMP%]{font-size:14px;color:#818181}.channel-item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .subscribe-btn[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Bold!important;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out}@media only screen and (max-width:500px){.channel-item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .subscribe-btn[_ngcontent-%COMP%]{width:100px;font-size:14px}}@media only screen and (max-width:320px){.channel-item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .subscribe-btn[_ngcontent-%COMP%]{font-size:14px!important;padding:8px 12px!important;width:95px}}.channel-item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .subscribe-btn.subscribed[_ngcontent-%COMP%]{background-color:#f53c6f!important}.channel-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:54px}"]}),t})(),en=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Kb({type:t,selectors:[["app-people-tab"]],inputs:{channelUser:"channelUser",authUser:"authUser"},decls:6,vars:4,consts:[[3,"authUser","channelUser"]],template:function(t,n){1&t&&(l.Wb(0,"h3"),l.Lc(1,"Subscribers"),l.Vb(),l.Rb(2,"app-subscribers-tab",0),l.Wb(3,"h3"),l.Lc(4,"Subscriptions"),l.Vb(),l.Rb(5,"app-subscriptions-tab",0)),2&t&&(l.Cb(2),l.pc("authUser",n.authUser)("channelUser",n.channelUser),l.Cb(3),l.pc("authUser",n.authUser)("channelUser",n.channelUser))},directives:[Kt,nn],styles:[""]}),t})();var sn=e("MFHO");function cn(t,n){1&t&&(l.Wb(0,"h2"),l.Lc(1,"Description"),l.Vb())}function on(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",10),l.ec("click",(function(){return l.Bc(t),l.ic().editModeOn()})),l.Lc(1,"Edit "),l.Vb()}}function an(t,n){1&t&&(l.Wb(0,"mat-error"),l.Lc(1," Not more than 100 characters please "),l.Vb())}const rn=[{path:"show",component:qt,data:{title:"Channel page"}},{path:":username",children:[{path:"",component:qt,children:[{path:"",component:M}]},{path:"tab",component:qt,children:[{path:"watchlist",component:M},{path:"videos",component:O},{path:"playlists",component:R},{path:"contacts",component:en},{path:"about",component:(()=>{class t{constructor(t,n,e,i){this.fb=t,this.channelService=n,this.fixLineBreaks=e,this._userInfoService=i,this.editMode=!1,this._getAuthInfo()}ngOnInit(){this.aboutForm=this.fb.group({description:["",[a.z.required,a.z.maxLength(o.j)]],id:["",a.z.required],username:["",a.z.required]}),this.aboutForm.patchValue({username:this.channelUser.username,id:this.channelUser.channel.id,description:this.fixLineBreaks.transform(this.channelUser.channel.description)})}_getAuthInfo(){this._userInfoService._userInfo.subscribe(t=>{this.authUser=t,console.log(this.authUser,"About Tab  AUTHUSER DATA")})}editModeOn(){this.editMode=!0}saveChannelDescription(){this.aboutForm.valid&&this.channelService.saveDescription(this.aboutForm.value).subscribe(t=>{this.channelUser=t,document.querySelector(".description").innerHTML=this.channelUser.channel.description,this.editMode=!1})}ngAfterViewInit(){document.querySelector(".description").innerHTML=this.channelUser.channel.description}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(a.e),l.Qb(q.a),l.Qb(sn.a),l.Qb(tt.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-about-tab"]],inputs:{channelUser:"channelUser"},decls:17,vars:11,consts:[[1,"about-tab"],[1,"info"],[4,"ngIf"],[1,"date"],["class","btn",3,"click",4,"ngIf"],[1,"description",3,"hidden"],[1,"edit-form-controls",3,"hidden"],["id","channel-about-form",3,"formGroup"],["rows","15","formControlName","description"],[1,"save",3,"click"],[1,"btn",3,"click"]],template:function(t,n){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Jc(2,cn,2,0,"h2",2),l.Wb(3,"div",3),l.Wb(4,"span"),l.Lc(5),l.jc(6,"date"),l.Vb(),l.Jc(7,on,2,0,"button",4),l.Vb(),l.Vb(),l.Wb(8,"div",5),l.Wb(9,"p"),l.Lc(10),l.Vb(),l.Vb(),l.Wb(11,"div",6),l.Wb(12,"form",7),l.Rb(13,"textarea",8),l.Wb(14,"button",9),l.ec("click",(function(){return n.saveChannelDescription()})),l.Lc(15,"Save"),l.Vb(),l.Jc(16,an,2,0,"mat-error",2),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Cb(2),l.pc("ngIf",null==n.channelUser.channel?null:n.channelUser.channel.description),l.Cb(3),l.Nc("Joined ",l.lc(6,8,n.channelUser.channel.created_at,"d MMM, yyyy"),""),l.Cb(2),l.pc("ngIf",!n.editMode&&n.authUser.username===n.channelUser.username),l.Cb(1),l.pc("hidden",n.editMode),l.Cb(2),l.Mc(n.channelUser.channel.description),l.Cb(1),l.pc("hidden",!n.editMode),l.Cb(1),l.pc("formGroup",n.aboutForm),l.Cb(4),l.pc("ngIf",n.aboutForm.get("description").hasError("maxlength")))},directives:[i.m,a.B,a.r,a.j,a.c,a.q,a.h,rt.b],pipes:[i.f],styles:[".about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#18b587;font-family:Muli-Bold}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:0;display:flex;align-items:center}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#545454;font-family:Muli-Bold}@media screen and (max-width:400px){.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}}.about-tab[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:24px;background:#18b587;color:#fff;padding:4px 18px;border-radius:0}.about-tab[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:24px;padding:24px;background:#f4f4f4;color:#545454;font-size:16px}.about-tab[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.about-tab[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{margin-top:24px;background:#c9c9c9;color:#545454;padding:4px 18px;border-radius:0}.about-tab[_ngcontent-%COMP%]   .save.active[_ngcontent-%COMP%]{background:#18b587;color:#fff}"]}),t})()}]}]}];let ln=(()=>{class t{}return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(n){return new(n||t)},imports:[[s.i.forChild(rn)],s.i]}),t})();var bn=e("PCNd");let hn=(()=>{class t{}return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(n){return new(n||t)},imports:[[i.c,ln,bn.a]]}),t})()}}]);
//# sourceMappingURL=channels-channels-module-es2015.4248e6d5e0c499972801.js.map