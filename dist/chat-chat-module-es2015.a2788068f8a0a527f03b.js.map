{"version":3,"sources":["webpack:///src/app/chat/show-chatrooms/show-chatrooms.component.ts","webpack:///src/app/chat/show-chatrooms/show-chatrooms.component.html","webpack:///src/app/chat/show-messages/show-messages.component.html","webpack:///src/app/chat/chat-routing.module.ts","webpack:///src/app/chat/show-messages/show-messages.component.ts","webpack:///src/app/chat/chat.module.ts"],"names":["ShowChatroomsComponent","routes","path","component","data","title","ShowMessagesComponent","chatService","_userInfoService","socketService","usersMessagesStore","groupsMessagesStore","subject","datePipe","groupBy","mobileHelper","activeTab","groupsMessages","groupsLoaded","subscriptions","newMessagesCountInGroups","newMessagesCountInDirect","this","_getAuthInfo","_userInfo","subscribe","authUser","console","log","tab","push","getGroupsMessages","user_id","id","blocked","dt","newMessagesSource","filter","fm","new_messages_count","length","setNewMessagesSourceData","source","type","isChatUsersListSize","showResponsiveChatBox","provide","useClass","ChatRoutingModule","forChild","ChatModule"],"mappings":"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","file":"x","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-show-chatrooms',\r\n  templateUrl: './show-chatrooms.component.html',\r\n  styleUrls: ['./show-chatrooms.component.scss']\r\n})\r\nexport class ShowChatroomsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"chatrooms-list\">\r\n<!--    <h1>Chat Rooms</h1>-->\r\n\r\n    <div class=\"create-post\">\r\n        <div class=\"img\">\r\n            <img src=\"assets/img/item-4.png\" alt=\"\">\r\n            <span>Create Post</span>\r\n        </div>\r\n        <div class=\"select\">\r\n            <select name=\"\" id=\"\">\r\n                <option value=\"\">Choose community</option>\r\n                <option value=\"\">option</option>\r\n            </select>\r\n        </div>\r\n\r\n        <div class=\"input\">\r\n            <input placeholder=\"Title\" type=\"text\">\r\n        </div>\r\n\r\n        <label class=\"add-photo\">\r\n            <input type=\"file\">\r\n            <span class=\"material-icons\">image</span>\r\n            Add Photo or Video\r\n        </label>\r\n\r\n        <div class=\"btn\">\r\n            <button class=\"post\">Post</button>\r\n        </div>\r\n    </div>\r\n\r\n    <ul class=\"categories\">\r\n        <li><a class=\"active\"><span class=\"material-icons\">whatshot</span>Hot</a></li>\r\n        <li><a><span class=\"material-icons\">new_releases</span>New</a></li>\r\n        <li><a><span class=\"material-icons\">trending_up</span>Top</a></li>\r\n        <li><a><span class=\"material-icons\">new_releases</span>Best of the week</a></li>\r\n    </ul>\r\n\r\n    <div class=\"search\">\r\n        <input placeholder=\"Search\" type=\"text\">\r\n        <span class=\"material-icons\">search</span>\r\n    </div>\r\n\r\n    <div class=\"chatrooms-items\">\r\n        <div class=\"item\">\r\n            <div class=\"posted\">\r\n                <p>Posted by<span>u/alotasalad</span></p>\r\n                <p>4 minutes ago</p>\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <div class=\"left-wrap\">\r\n                    <div class=\"voting-container\">\r\n                        <button class=\"vote-up-btn active\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                        <div class=\"vote-count\">50k</div>\r\n                        <button class=\"vote-down-btn\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-wrap\">\r\n                    <p>This is my friends loss but to make matters even worse he borrowed the money from his Nigerian\r\n                        boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the\r\n                        account right now is also his bosses money ðŸ’°</p>\r\n\r\n                    <img src=\"assets/img/jp-valeryunsplash.png\" alt=\"\">\r\n\r\n                    <div class=\"post-menu\">\r\n                        <div class=\"menu\">\r\n                            <a href=\"\"><span class=\"material-icons\">chat_bubble</span>Comments</a>\r\n                            <a href=\"\"><span class=\"material-icons\">share</span>Share</a>\r\n                        </div>\r\n                        <div class=\"dotes\"><span class=\"material-icons\">more_vert</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"item\">\r\n            <div class=\"posted\">\r\n                <p>Posted by<span>u/alotasalad</span></p>\r\n                <p>4 minutes ago</p>\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <div class=\"left-wrap\">\r\n                    <div class=\"voting-container\">\r\n                        <button class=\"vote-up-btn active\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                        <div class=\"vote-count\">50k</div>\r\n                        <button class=\"vote-down-btn\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-wrap\">\r\n                    <p>This is my friends loss but to make matters even worse he borrowed the money from his Nigerian\r\n                        boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the\r\n                        account right now is also his bosses money ðŸ’°</p>\r\n\r\n                    <img src=\"assets/img/jp-valeryunsplash.png\" alt=\"\">\r\n\r\n                    <div class=\"post-menu\">\r\n                        <div class=\"menu\">\r\n                            <a href=\"\"><span class=\"material-icons\">chat_bubble</span>Comments</a>\r\n                            <a href=\"\"><span class=\"material-icons\">share</span>Share</a>\r\n                        </div>\r\n                        <div class=\"dotes\"><span class=\"material-icons\">more_vert</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"item\">\r\n            <div class=\"posted\">\r\n                <p>Posted by<span>u/alotasalad</span></p>\r\n                <p>4 minutes ago</p>\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <div class=\"left-wrap\">\r\n                    <div class=\"voting-container\">\r\n                        <button class=\"vote-up-btn active\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                        <div class=\"vote-count\">50k</div>\r\n                        <button class=\"vote-down-btn\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-wrap\">\r\n                    <p>This is my friends loss but to make matters even worse he borrowed the money from his Nigerian\r\n                        boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the\r\n                        account right now is also his bosses money ðŸ’°</p>\r\n\r\n                    <img src=\"assets/img/jp-valeryunsplash.png\" alt=\"\">\r\n\r\n                    <div class=\"post-menu\">\r\n                        <div class=\"menu\">\r\n                            <a href=\"\"><span class=\"material-icons\">chat_bubble</span>Comments</a>\r\n                            <a href=\"\"><span class=\"material-icons\">share</span>Share</a>\r\n                        </div>\r\n                        <div class=\"dotes\"><span class=\"material-icons\">more_vert</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"item\">\r\n            <div class=\"posted\">\r\n                <p>Posted by<span>u/alotasalad</span></p>\r\n                <p>4 minutes ago</p>\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <div class=\"left-wrap\">\r\n                    <div class=\"voting-container\">\r\n                        <button class=\"vote-up-btn active\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                        <div class=\"vote-count\">50k</div>\r\n                        <button class=\"vote-down-btn\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-wrap\">\r\n                    <p>This is my friends loss but to make matters even worse he borrowed the money from his Nigerian\r\n                        boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the\r\n                        account right now is also his bosses money ðŸ’°</p>\r\n\r\n                    <img src=\"assets/img/jp-valeryunsplash.png\" alt=\"\">\r\n\r\n                    <div class=\"post-menu\">\r\n                        <div class=\"menu\">\r\n                            <a href=\"\"><span class=\"material-icons\">chat_bubble</span>Comments</a>\r\n                            <a href=\"\"><span class=\"material-icons\">share</span>Share</a>\r\n                        </div>\r\n                        <div class=\"dotes\"><span class=\"material-icons\">more_vert</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","<ng-container *ngIf=\"authUser\">\r\n    <app-user-tags></app-user-tags>\r\n    <div class=\"page-wrap\" [class.responsive-chat-wrap]=\"mobileHelper.isChatUsersListSize()\">\r\n        <div class=\"left-wrap\"\r\n             [hidden]=\"mobileHelper.isChatUsersListSize() && !isRightWrapHidden()\">\r\n            <div class=\"tab-wrap\">\r\n                <button class=\"tab direct-tab\" [matBadge]=\"newMessagesCountInDirect.toString()\"\r\n                        matBadgePosition=\"before\"\r\n                        [matBadgeHidden]=\"activeTab==='direct' || newMessagesCountInDirect===0 \"\r\n                        [class.active]=\"activeTab=='direct'\" (click)=\"changeTab('direct')\">Chat\r\n                </button>\r\n                <button class=\"tab group-tab\" [matBadge]=\"newMessagesCountInGroups.toString()\"\r\n                        [matBadgeHidden]=\"activeTab==='group' || newMessagesCountInGroups===0 \"\r\n                        [class.active]=\"activeTab==='group'\"\r\n                        (click)=\"changeTab('group')\">Group Chat\r\n                </button>\r\n            </div>\r\n            <div class=\"list-wrap\">\r\n                <app-users-list [authUser]=\"authUser\" *ngIf=\"activeTab==='direct'\"></app-users-list>\r\n                <app-group-chat-left-side-holder [authUser]=\"authUser\"\r\n                                                 *ngIf=\"activeTab=='group'\"></app-group-chat-left-side-holder>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"right-wrap\" [hidden]=\"isRightWrapHidden()\">\r\n            <app-direct-chat-messages [authUser]=\"authUser\" *ngIf=\"activeTab==='direct'\"></app-direct-chat-messages>\r\n            <app-group-chat-right-side-holder [authUser]=\"authUser\"\r\n                                              *ngIf=\"activeTab=='group'\"></app-group-chat-right-side-holder>\r\n        </div>\r\n    </div>\r\n</ng-container>\r\n","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {ShowChatroomsComponent} from '@app/chat/show-chatrooms/show-chatrooms.component';\r\nimport {ShowMessagesComponent} from '@app/chat/show-messages/show-messages.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: 'rooms',\r\n        component: ShowChatroomsComponent,\r\n        data: {\r\n            title: 'Chat rooms',\r\n        }\r\n    },\r\n    {\r\n        path: 'messages',\r\n        component: ShowMessagesComponent,\r\n        data: {\r\n            title: 'Chat',\r\n        }\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class ChatRoutingModule {\r\n}\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {ChatService} from '@core/services/chat.service';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\n\r\nimport {DatePipe} from '@angular/common';\r\nimport {GroupByPipe} from '@shared/pipes/group-by.pipe';\r\nimport {Subscription} from 'rxjs';\r\nimport {SubjectService} from '@core/services/subject.service';\r\nimport {MobileResponsiveHelper} from '@core/helpers/mobile-responsive-helper';\r\nimport {UsersMessagesSubjectService} from '@core/services/stores/users-messages-subject.service';\r\nimport {GroupsMessagesSubjectService} from '@core/services/stores/groups-messages-subject.service';\r\nimport {CurrentUserData} from '@core/interfaces';\r\nimport {UserInfoService} from '@core/services/user-info.service';\r\n\r\n\r\n@Component({\r\n    selector: 'app-show-messages',\r\n    templateUrl: './show-messages.component.html',\r\n    styleUrls: ['./show-messages.component.scss'],\r\n    providers: [{provide: MobileResponsiveHelper, useClass: MobileResponsiveHelper}]\r\n})\r\nexport class ShowMessagesComponent implements OnInit {\r\n    activeTab = 'direct';\r\n    authUser: CurrentUserData;\r\n\r\n    groupsMessages = [];\r\n    groupsLoaded = false;\r\n    subscriptions: Subscription[] = [];\r\n    newMessagesCountInGroups = 0;\r\n    newMessagesCountInDirect = 0;\r\n\r\n    constructor(\r\n        private chatService: ChatService,\r\n        // private getAuthUser: GetAuthUserPipe,\r\n        private _userInfoService: UserInfoService,\r\n        private socketService: SocketIoService,\r\n        public usersMessagesStore: UsersMessagesSubjectService,\r\n        public groupsMessagesStore: GroupsMessagesSubjectService,\r\n        private subject: SubjectService,\r\n        private datePipe: DatePipe,\r\n        private groupBy: GroupByPipe,\r\n        public mobileHelper: MobileResponsiveHelper,\r\n    ) {\r\n        this._getAuthInfo();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // this.authUser = this.getAuthUser.transform();\r\n        // this.getGroupsMessages();\r\n    }\r\n\r\n    private _getAuthInfo() {\r\n        this._userInfoService._userInfo.subscribe((data) => {\r\n            this.authUser = data;\r\n            console.log(this.authUser, 'Show Messages  AUTHUSER DATA');\r\n        });\r\n    }\r\n\r\n\r\n    changeTab(tab) {\r\n        this.activeTab = tab;\r\n    }\r\n\r\n    getGroupsMessages() {\r\n        this.subscriptions.push(this.chatService.getGroupsMessages({\r\n            user_id: this.authUser.id,\r\n            blocked: 0\r\n        }).subscribe(dt => {\r\n            this.groupsMessages = dt;\r\n            this.groupsLoaded = true;\r\n            const newMessagesSource = dt.filter(fm => fm.new_messages_count > 0);\r\n            // console.log(newMessagesSource)\r\n            this.newMessagesCountInGroups = newMessagesSource.length;\r\n            this.subject.setNewMessagesSourceData({source: newMessagesSource, type: 'group'});\r\n        }));\r\n    }\r\n\r\n    isRightWrapHidden() {\r\n        if (this.mobileHelper.isChatUsersListSize()) {\r\n            return !this.usersMessagesStore.showResponsiveChatBox\r\n                && !this.groupsMessagesStore.showResponsiveChatBox;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {ChatRoutingModule} from './chat-routing.module';\r\nimport {ShowChatroomsComponent} from './show-chatrooms/show-chatrooms.component';\r\nimport {ShowMessagesComponent} from './show-messages/show-messages.component';\r\nimport {SharedModule} from '@shared/shared.module';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ShowChatroomsComponent,\r\n        ShowMessagesComponent,\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        ChatRoutingModule,\r\n        SharedModule\r\n    ],\r\n    providers: [\r\n    ]\r\n})\r\nexport class ChatModule {\r\n}\r\n"]}