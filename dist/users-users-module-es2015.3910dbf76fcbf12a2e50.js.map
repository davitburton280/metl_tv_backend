{"version":3,"sources":["node_modules/openvidu-browser/lib/OpenViduInternal/ScreenSharing/Screen-Capturing-Auto.js","node_modules/openvidu-browser/lib/OpenViduInternal/WebRtcStats/WebRtcStats.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/FilterEvent.js","node_modules/events/events.js","node_modules/openvidu-angular/__ivy_ngcc__/fesm2015/openvidu-angular.js","node_modules/openvidu-browser/lib/OpenViduInternal/Enums/VideoInsertMode.js","node_modules/linkifyjs/lib/linkify-string.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/rng.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/bytesToUuid.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/v1.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/v35.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/md5.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/v3.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/v4.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/sha1.js","node_modules/openvidu-browser/node_modules/uuid/dist/esm-browser/v5.js","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/packers/index.js","node_modules/openvidu-browser/node_modules/freeice/index.js","node_modules/openvidu-browser/lib/OpenViduInternal/WebRtcPeer/WebRtcPeer.js","node_modules/openvidu-browser/node_modules/wolfy87-eventemitter/EventEmitter.js","node_modules/openvidu-browser/lib/OpenVidu/Filter.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/ConnectionEvent.js","node_modules/openvidu-browser/lib/OpenViduInternal/Logger/OpenViduLogger.js","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/index.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/StreamPropertyChangedEvent.js","node_modules/openvidu-browser/lib/OpenVidu/Stream.js","node_modules/openvidu-browser/lib/OpenVidu/EventDispatcher.js","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/clients/jsonrpcclient.js","node_modules/openvidu-browser/lib/OpenViduInternal/ScreenSharing/Screen-Capturing.js","node_modules/linkifyjs/lib/linkify/core/state.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/StreamManagerEvent.js","node_modules/linkifyjs/lib/linkify/plugins/mention.js","node_modules/openvidu-browser/lib/OpenVidu/Session.js","node_modules/linkifyjs/lib/linkify/utils/class.js","node_modules/linkifyjs/lib/linkify.js","node_modules/linkifyjs/lib/linkify/utils/options.js","node_modules/videojs-record/dist/videojs.record.js","node_modules/openvidu-browser/lib/OpenVidu/StreamManager.js","node_modules/inherits/inherits_browser.js","node_modules/openvidu-browser/lib/OpenVidu/Publisher.js","node_modules/openvidu-browser/lib/OpenVidu/OpenVidu.js","node_modules/openvidu-browser/lib/index.js","node_modules/linkifyjs/lib/linkify/core/parser.js","node_modules/linkifyjs/lib/linkify/core/tokens/create-token-class.js","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/clients/index.js","node_modules/linkifyjs/lib/linkify/plugins/hashtag.js","node_modules/ngx-linkifyjs/__ivy_ngcc__/esm2015/ngx-linkifyjs.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/StreamEvent.js","node_modules/openvidu-browser/lib/OpenViduInternal/Enums/OpenViduError.js","node_modules/@angular/flex-layout/__ivy_ngcc__/esm2015/flex.js","node_modules/@angular/flex-layout/__ivy_ngcc__/esm2015/grid.js","node_modules/@angular/flex-layout/__ivy_ngcc__/esm2015/flex-layout.js","node_modules/openvidu-browser/lib/OpenViduInternal/Enums/LocalRecorderState.js","node_modules/openvidu-browser/node_modules/platform/platform.js","node_modules/linkifyjs/plugins/mention.js","node_modules/openvidu-browser/lib/OpenVidu/Subscriber.js","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/clients/transports/webSocketWithReconnection.js","node_modules/@angular/material/__ivy_ngcc__/fesm2015/snack-bar.js","node_modules/linkifyjs/index.js","node_modules/openvidu-browser/node_modules/normalice/index.js","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/packers/JsonRPC.js","node_modules/linkifyjs/lib/linkify/core/tokens/text.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/PublisherSpeakingEvent.js","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/clients/transports/index.js","src/app/core/components/modals/upload-file/upload-file.component.ts","src/app/core/components/modals/upload-file/upload-file.component.html","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/Mapper.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/Event.js","node_modules/linkifyjs/plugins/hashtag.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/SessionDisconnectedEvent.js","node_modules/linkifyjs/string.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/VideoElementEvent.js","node_modules/@angular/flex-layout/__ivy_ngcc__/esm2015/core.js","node_modules/openvidu-browser/lib/OpenViduInternal/KurentoUtils/kurento-jsonrpc/packers/XmlRPC.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/RecordingEvent.js","node_modules/openvidu-browser/lib/OpenVidu/Connection.js","node_modules/openvidu-browser/lib/OpenViduInternal/Events/SignalEvent.js","node_modules/linkifyjs/lib/linkify/core/scanner.js","node_modules/openvidu-browser/lib/OpenVidu/LocalRecorder.js","node_modules/openvidu-browser/node_modules/wildemitter/wildemitter.js","node_modules/openvidu-browser/node_modules/hark/hark.js","node_modules/cropperjs/dist/cropper.js","node_modules/linkifyjs/lib/linkify/core/tokens/multi.js","node_modules/@angular/material/__ivy_ngcc__/fesm2015/grid-list.js","node_modules/@angular/flex-layout/__ivy_ngcc__/esm2015/extended.js","src/app/core/components/modals/img-edit-cropper/img-edit-cropper.component.ts","src/app/core/components/modals/img-edit-cropper/img-edit-cropper.component.html","src/app/users/show-profile/profile-form/profile-form.component.html","src/app/users/show-profile/profile-form/profile-form.component.ts","src/app/core/services/openvidu.service.ts","src/app/shared/components/video-js-record/video-js-record.component.html","src/app/shared/components/video-js-record/video-js-record.component.ts","src/app/users/openvidu-stuff/publisher-flow/video/video.component.html","src/app/users/openvidu-stuff/publisher-flow/video/video.component.ts","src/app/users/openvidu-stuff/openvidu-test/video-library/video-library.component.html","src/app/users/openvidu-stuff/openvidu-test/video-library/video-library.component.ts","src/app/users/openvidu-stuff/publisher-flow/check-streaming-requirements/check-streaming-requirements.component.html","src/app/users/openvidu-stuff/publisher-flow/check-streaming-requirements/check-streaming-requirements.component.ts","src/app/users/openvidu-stuff/publisher-flow/collect-streaming-details-form/collect-streaming-details-form.component.html","src/app/users/openvidu-stuff/publisher-flow/collect-streaming-details-form/collect-streaming-details-form.component.ts","src/app/users/openvidu-stuff/publisher-flow/publisher-flow.component.html","src/app/users/openvidu-stuff/publisher-flow/publisher-flow.component.ts","src/app/users/openvidu-stuff/subscriber-flow/ov-video/ov-video.component.html","src/app/users/openvidu-stuff/subscriber-flow/ov-video/ov-video.component.ts","src/app/users/openvidu-stuff/subscriber-flow/user-video/user-video.component.ts","src/app/users/openvidu-stuff/subscriber-flow/user-video/user-video.component.html","src/app/users/openvidu-stuff/subscriber-flow/join-video-streaming/join-video-streaming.component.html","src/app/users/openvidu-stuff/subscriber-flow/join-video-streaming/join-video-streaming.component.ts","src/app/users/openvidu-stuff/subscriber-flow/subscriber-flow.component.ts","src/app/users/openvidu-stuff/subscriber-flow/subscriber-flow.component.html","src/app/core/guards/do-not-leave-page.guard.ts","src/app/users/show-notifications/show-notifications.component.ts","src/app/users/show-notifications/show-notifications.component.html","src/app/users/show-profile/show-profile.component.html","src/app/users/show-profile/show-profile.component.ts","src/app/users/show-profile/connections-tab/connections-tab.component.html","src/app/users/show-profile/connections-tab/connections-tab.component.ts","src/app/users/show-profile/connection-requests-tab/connection-requests-tab.component.html","src/app/users/show-profile/connection-requests-tab/connection-requests-tab.component.ts","src/app/users/show-profile/watchlist-tab/watchlist-tab.component.html","src/app/users/users-routing.module.ts","src/app/users/show-profile/watchlist-tab/watchlist-tab.component.ts","src/app/users/show-profile/cards-tab/cards-tab.component.ts","src/app/users/show-profile/cards-tab/cards-tab.component.html","src/app/users/users.module.ts"],"names":["getScreenConstraints","error","sourceId","canRequestAudioTrack","screen_constraints","audio","video","mandatory","chromeMediaSource","maxWidth","window","screen","width","maxHeight","height","optional","chromeMediaSourceId","postGetSourceIdMessage","custom_parameter","iframe","isLoaded","contentWindow","postMessage","forEach","captureCustomSourceId","captureSourceIdWithAudio","captureSourceId","setTimeout","loadIFrame","loadCallback","document","createElement","onload","src","style","display","body","documentElement","appendChild","postGetChromeExtensionStatusMessage","getChromeExtensionStatus","getScreenId","firefoxString","callback","navigator","userAgent","indexOf","msSaveOrOpenBlob","msSaveBlob","mozGetUserMedia","mozMediaSource","mediaSource","addEventListener","onIFrameCallback","event","data","removeEventListener","chromeExtensionStatus","exports","__esModule","platform","logger","OpenViduLogger","getInstance","WebRtcStats","stream","this","webRtcStatsEnabled","statsInterval","stats","inbound","bytesReceived","packetsReceived","packetsLost","framesDecoded","nackCount","outbound","bytesSent","packetsSent","framesEncoded","prototype","isEnabled","initWebRtcStats","_this","elastestInstrumentation","localStorage","getItem","warn","streamId","connection","connectionId","instrumentation_1","JSON","parse","webrtc","interval","stringify","webRtcStatsIntervalId","setInterval","sendStatsToHttpEndpoint","debug","stopWebRtcStats","clearInterval","getSelectedIceCandidateInfo","Promise","resolve","reject","getStatsAgnostic","getRTCPeerConnection","name","localCandidateId","remoteCandidateId","googCandidatePair","localCandidates","remoteCandidates","key","stat","type","id","googActiveConnection","finalLocalCandidate_1","cand","getLocalIceCandidateList","filter","c","candidate","ipAddress","portNumber","priority","raw","finalRemoteCandidate_1","getRemoteIceCandidateList","localCandidate","remoteCandidate","instrumentation","sendPost","json","http","XMLHttpRequest","url","httpEndpoint","open","setRequestHeader","onreadystatechange","readyState","status","log","send","isRemote","startsWith","remoteId","metricId","mediaType","ssrc","metrics","jitter","units","Date","timestamp","toISOString","exec","component","toLowerCase","includes","_i","_a","Object","keys","length","googJitterBufferMs","googNacksSent","standardizeReport","response","standardReport","result","report","standardStats","names","pc","successCb","failureCb","getStats","then","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","FilterEvent","_super","target","eventType","call","callDefaultBehavior","Event","ReflectOwnKeys","R","Reflect","ReflectApply","apply","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","module","once","emitter","eventListener","undefined","errorListener","removeListener","slice","arguments","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","prepend","m","events","existing","newListener","emit","unshift","push","warned","w","Error","String","count","console","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","i","arrayClone","listenerCount","n","copy","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","message","context","handler","len","listeners","on","addListener","prependListener","prependOnceListener","off","list","position","originalListener","shift","index","pop","removeAllListeners","rawListeners","eventNames","_c0","_c1","ChatComponent_div_10_Template","rf","ctx","data_r3","$implicit","isLocal","userAvatar","nickname","_c2","_c3","VideoRoomComponent_div_0_app_room_config_1_Template","_r4","onConfigRoomJoin","leaveSession","$event","emitPublisher","ctx_r1","ovSettings","externalConfig","VideoRoomComponent_div_0_div_2_div_1_Template","VideoRoomComponent_div_0_div_2_mat_sidenav_4_Template","ctx_r8","lightTheme","sidenavMode","VideoRoomComponent_div_0_div_2_div_8_Template","_r15","onNicknameUpdate","onReplaceScreenTrack","onToggleVideoSize","localUser_r13","streamManager","videoActive","videoSizeBig","VideoRoomComponent_div_0_div_2_div_9_Template","_r20","user_r18","VideoRoomComponent_div_0_div_2_Template","_r22","toggleCam","toggleMic","toggleScreenShare","toggleSpeakerLayout","ctx_r2","isConnectionLost","compact","mySessionId","hasVideoDevices","hasAudioDevices","oVSessionService","hasWebcamVideoActive","toolbarMicIconEnabled","isScreenShareEnabled","isAutoLayout","localUsers","remoteUsers","VideoRoomComponent_div_0_Template","ctx_r0","showConfigRoomCard","_c4","OpenviduSessionComponent_app_video_room_0_Template","_r3","emitSession","emitErrorEvent","emitLeaveSessionEvent","emitJoinSessionEvent","angularLibrary","_c5","_c6","StreamComponent_div_0_div_3_span_3_Template","StreamComponent_div_0_div_3_Template","_r10","toggleNicknameForm","_user","remote","StreamComponent_div_0_div_4_mat_error_8_Template","StreamComponent_div_0_div_4_mat_error_9_Template","StreamComponent_div_0_div_4_Template","eventKeyPress","ctx_r3","isFullscreen","nicknameFormControl","matcher","hasError","StreamComponent_div_0_div_7_Template","StreamComponent_div_0_div_8_Template","StreamComponent_div_0_button_16_mat_icon_1_Template","StreamComponent_div_0_button_16_mat_icon_2_Template","StreamComponent_div_0_button_16_Template","toggleSound","ctx_r6","mutedSound","StreamComponent_div_0_button_17_Template","replaceScreenTrack","StreamComponent_div_0_Template","_r24","toggleVideoSize","toggleFullscreen","toggleNickname","audioActive","videoSizeIcon","fullscreenIcon","isScreen","_c7","ToolbarComponent_button_5_mat_icon_1_Template","ToolbarComponent_button_5_mat_icon_2_Template","ToolbarComponent_button_5_Template","toggleMicrophone","isWebcamAudioEnabled","ToolbarComponent_button_7_mat_icon_1_Template","ToolbarComponent_button_7_mat_icon_2_Template","ToolbarComponent_button_7_Template","_r14","toggleCamera","isWebcamVideoEnabled","ToolbarComponent_button_9_mat_icon_1_Template","ToolbarComponent_button_9_mat_icon_2_Template","ToolbarComponent_button_9_Template","_r18","isScreenEnabled","ToolbarComponent_button_11_Template","ToolbarComponent_button_13_mat_icon_1_Template","ToolbarComponent_button_13_mat_icon_2_Template","ToolbarComponent_button_13_Template","ctx_r4","ToolbarComponent_button_15_Template","_r26","ToolbarComponent_button_18_Template","_r28","toggleChat","newMessagesNum","_c8","a1","a2","ToolbarLogoComponent_div_3_Template","sessionId","_c9","RoomConfigComponent_div_2_div_16_ov_video_1_Template","ctx_r13","localUser_r9","i_r10","ctx_r11","RoomConfigComponent_div_2_div_16_div_2_Template","RoomConfigComponent_div_2_div_16_Template","isCamera","RoomConfigComponent_div_2_div_27_div_3_Template","RoomConfigComponent_div_2_div_27_img_4_Template","ctx_r15","videoAvatar","RoomConfigComponent_div_2_div_27_mat_spinner_6_Template","RoomConfigComponent_div_2_div_27_img_7_Template","ctx_r17","randomAvatar","RoomConfigComponent_div_2_div_27_Template","_r19","setAvatar","avatarSelected","RoomConfigComponent_div_2_mat_error_38_Template","RoomConfigComponent_div_2_mat_error_39_Template","RoomConfigComponent_div_2_div_40_mat_icon_4_Template","RoomConfigComponent_div_2_div_40_mat_icon_5_Template","RoomConfigComponent_div_2_div_40_mat_option_9_Template","microphone_r24","device","label","RoomConfigComponent_div_2_div_40_Template","onMicrophoneSelected","isAudioActive","micSelected","microphones","RoomConfigComponent_div_2_div_42_mat_icon_4_Template","RoomConfigComponent_div_2_div_42_mat_icon_5_Template","RoomConfigComponent_div_2_div_42_mat_option_9_Template","camera_r31","RoomConfigComponent_div_2_div_42_Template","_r33","onCameraSelected","ctx_r7","isVideoActive","camSelected","cameras","RoomConfigComponent_div_2_div_44_mat_icon_4_Template","RoomConfigComponent_div_2_div_44_mat_icon_5_Template","RoomConfigComponent_div_2_div_44_Template","_r38","RoomConfigComponent_div_2_Template","_r40","close","takePhoto","setNicknameForm","joinSession","_c10","a0","OpenViduLayout","layoutContainer","cheapUUID","HEIGHT","getHeight","getCSSNumber","WIDTH","getWidth","availableRatio","offsetLeft","offsetTop","bigOffsetTop","bigOffsetLeft","bigOnes","querySelectorAll","opts","bigClass","filterDisplayNone","smallOnes","bigWidth","bigHeight","getVideoRatio","Math","floor","bigPercentage","bigFirst","arrange","bigFixedRatio","bigMinRatio","bigMaxRatio","animate","fixedRatio","minRatio","maxRatio","container","$","options","elem","sub","querySelector","oldWidth","x","y","targetPosition","left","top","fixAspectRatio","stop","duration","easing","complete","css","videoHeight","videoWidth","prop","cssStr","parseInt","random","toFixed","heightStr","widthStr","minR","maxR","targetHeight","maxArea","targetCols","targetRows","targetWidth","tWidth","tHeight","tRatio","colsAux","rowsAux","ceil","area","ratio","children","dimensions","getBestDimensions","rows","row","totalRowHeight","remainingShortRows","remainingHeightDiff","extraHeight","j","actualWidth","actualHeight","positionElement","element","VideoType","ScreenType","UserModel","_b","_c","toDataURL","typeOfVideo","SCREEN","CAMERA","big","img","createVideoAvatar","getElementById","getStreamManager","getContext","drawImage","className","AvatarType","LoggerService","LOG_FNS","MSG_PREFIXES","prefix","loggerFns","map","logTemplFn","e","ɵfac","t","ɵprov","factory","token","providedIn","OpenViduSessionService","loggerSrv","_OVUsers","OV","OVScreen","webcamSession","screenSession","webcamUser","screenUser","videoSource","audioSource","screenMediaStream","webcamMediaStream","OVUsers","asObservable","next","initSession","isWebCamEnabled","getWebcamSession","getScreenSession","connect","clientData","getWebcamUserName","avatar","getWebCamAvatar","getScreenUserName","capabilities","publish","publisher","publishScreenAudio","hasWebcamAudioActive","unpublish","screenPublisher","setUserAvatar","getAvatar","destryoScreenUser","targetElement","properties","initPublisher","setStreamManager","publishVideo","getValue","publishAudio","mirror","destryoWebcamUser","createProperties","initCamPublisher","hasAudio","stopScreenTracks","getUserMedia","replaceTrack","getVideoTracks","disconnect","destroyUsers","areBothConnected","isOnlyScreenConnected","getConnectionId","option","RANDOM","VIDEO","setNickname","getNickname","setVideoSizeBig","isVideoSizeBig","disposeWebRtcPeer","disposeMediaStream","stopAudioTracks","stopVideoTracks","mediaStream","getAudioTracks","track","enabled","RemoteUsersService","_remoteUsers","users","subscriber","newUser","updateUsers","user","getRemoteUserByConnectionId","splice","some","u","zoom","find","NotificationService","snackBar","launchNotification","onAction","subscribe","action","durationTimeMs","verticalPosition","horizontalPosition","panelClass","ChatService","remoteUsersService","notificationService","_messageList","_toggleChat","messageList","messagesUnread","_messagesUnread","messagesObs","toggleChatObs","messagesUnreadObs","chatSidenav","chatComponent","from","isMyOwnConnection","getUserAvatar","isChatOpened","addMessageUnread","newMessage","toUpperCase","replace","getConnectedUserSession","signal","toggle","chatOpened","opened","ChatComponent","chatService","subscribeToMessages","subscribeToToggleChat","chatMessageSubscription","unsubscribe","chatToggleSubscription","keyCode","sendMessage","chatScroll","nativeElement","scrollTop","scrollHeight","messages","scrollToBottom","chatInput","focus","ɵcmp","selectors","viewQuery","_t","first","hostBindings","onKeydownHandler","inputs","decls","vars","consts","template","directives","pipes","LinkifyPipe","styles","OvSettingsModel","chat","autopublish","toolbarButtons","fullscreen","screenShare","layoutSpeaking","exit","LayoutType","LayoutBigElement","Theme","CameraType","DialogErrorComponent","dialogRef","header","UtilsService","dialog","elementId","fs","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","alert","BIG_ELEMENT_CLASS","test","isAndroid","isIos","disableClose","parentElement","classList","remove","add","elements","getElementsByClassName","toggleBigElementClass","StorageService","storage","item","setItem","clear","DevicesService","utilSrv","storageSrv","VIDEO_DEVICE","AUDIO_DEVICE","initOpenViduDevices","devices","resetDevicesArray","hasAudioDeviceAvailable","initAudioDevices","getMicSelected","hasVideoDeviceAvailable","initVideoDevices","FRONT","getDevices","kind","deviceId","myDevice","BACK","isMobile","getCamFromStorage","storageDevice","getCameraByDeviceField","getMicFromStogare","getMicrophoneByDeviceField","deviceField","saveCamToStorage","cam","saveMicToStorage","mic","newVideoSource","getCamSelected","newAudioSource","opt","NetworkService","baseHref","location","pathname","split","openviduServerUrl","openviduSecret","_sessionId","createSession","createToken","post","toPromise","customSessionId","headers","Authorization","btoa","pipe","statusText","session","VideoRoomComponent","networkSrv","router","utilsSrv","oVDevicesService","_session","_publisher","_error","_joinSession","_leaveSession","openviduLayout","updateOpenViduLayout","checkSizeComponent","getTheme","LIGHT","getOvSettings","setScreenSharing","hasScreenSharing","clean","sessionScreen","oVUsersSubscription","remoteUsersSubscription","chatSubscription","subscribeToLocalUsers","subscribeToRemoteUsers","getSessionId","openviduLayoutOptions","getOpenviduLayoutOptions","initLayoutContainer","joinToSession","initSessions","subscribeToStreamCreated","subscribeToStreamDestroyed","subscribeToStreamPropertyChange","subscribeToNicknameChanged","setChatComponent","subscribeToChat","subscribeToChatComponent","subscribeToReconnection","connectToSession","setWebcamName","sendNicknameSignal","publishWebcamAudio","hasScreenAudioActive","disableWebcamUser","unpublishWebcam","publishWebcam","enableWebcamUser","removeScreen","isOnlyWebcamConnected","initScreenPublisher","getMediaStream","enableScreenUser","publishScreen","subscribeToSpeechDetection","resetAllBigElements","offsetWidth","resetAll","toggleZoom","toggleUserZoom","webcamToken","screenToken","hasTokens","getComponentName","getWebcamToken","getScreenToken","getToken","connectBothSessions","connectWebcamSession","connectScreenSession","videos","messgae","code","showErrorMessage","removeUserByConnectionId","changedProperty","updateNickname","someoneIsSharingScreen","getHTMLElementByClassName","ROOT_CLASS","setUserZoom","disableScreenUser","unpublishScreen","closeDialog","reason","handlerScreenShareError","getOvServerUrl","getOvSecret","signalOptions","to","timeout","updateLayout","removeAllBigElementClass","resetUsersZoom","beforeunloadHandler","sizeChange","outputs","RoomConfigComponent","ToolbarComponent","FooterComponent","StreamComponent","HasChatPipe","AngularLibraryModel","theme","DARK","sessionName","ovServerUrl","ovSecret","tokens","secret","values","canOVCallGenerateToken","hasReceivedToken","super","NAME","setTokens","OpenviduSessionComponent","sessionCreated","publisherCreated","setOvSettings","setSessionName","setOvServerUrl","setOvSecret","setTheme","canJoinToSession","videoRoom","observers","encapsulation","linkifyService","str","linkify","ɵpipe","pure","hasChat","HasAudioPipe","HasVideoPipe","hasVideo","IsAutoPublishPipe","isAutoPublish","HasScreenSharingPipe","HasFullscreenPipe","hasFullscreen","HasLayoutSpeakingPipe","hasLayoutSpeaking","HasExitPipe","hasExit","TooltipListPipe","lines","line","NicknameMatcher","control","form","invalid","dirty","touched","submitted","VideoSizeIcon","VideoFullscreenIcon","BIG","nicknameClicked","replaceScreenTrackClicked","toggleVideoSizeClicked","curHeight","innerHeight","innerWidth","checkVideoSizeBigIcon","maxLength","required","streamComponent","toggleFullscreenIcon","valid","NORMAL","nicknameInputElement","OpenViduVideoComponent","toggleVideoSizeEvent","_streamManager","_videoElement","addVideoElement","objectFit","background","enableVideoSizeBig","videoElement","micButtonClicked","camButtonClicked","screenShareClicked","layoutButtonClicked","leaveSessionButtonClicked","logoUrl","participantsNames","chatServiceSubscription","num","showNotification","ToolbarLogoComponent","participants","route","USER_NICKNAME","join","subscribeToUsers","setRandomAvatar","columns","initDevices","setDevicesInfo","initwebcamPublisher","needUpdateVideoTrack","cameraNeedsMirror","setCamSelected","needUpdateAudioTrack","setMicSelected","setWebcamAvatar","setValue","generateNickname","showConfigCard","avatarType","getMicrophones","getCameras","params","getSessionName","roomName","setSessionId","getOpenViduAvatar","bodyCard","willThereBeWebcam","micStorageDevice","camStorageDevice","handlePublisherSuccess","handlePublisherError","areEmptyLabels","audioLabel","videoLabel","OpenviduSessionModule","ɵmod","ɵinj","providers","imports","forRoot","VideoInsertMode","obj","newObj","default","tokenize","Options","escapeText","text","escapeAttr","href","attributesToString","attributes","attr","linkifyStr","nl2br","isLink","check","_opts$resolve","formatted","formattedHref","tagName","link","toString","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rng","byteToHex","substr","_nodeId","_clockseq","buf","offset","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","msecs","getTime","nsecs","dt","tl","tmh","generateUUID","namespace","unescape","encodeURIComponent","bytes","charCodeAt","uuid","hex","isArray","hashfunc","version","idx","DNS","URL","safeAdd","lsw","md5cmn","q","a","s","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","charAt","olda","oldb","oldc","oldd","length8","rnds","ii","f","z","ROTL","K","H","N","M","pow","W","T","JsonRPC","XmlRPC","normalice","selected","servers","stun","turn","turnCount","getServers","out","stunCount","freeice","WebRtcPeer","configuration","remoteCandidatesQueue","localCandidatesQueue","iceCandidateList","candidategatheringdone","iceServers","RTCPeerConnection","generateUniqueId","onicecandidate","onsignalingstatechange","signalingState","addIceCandidate","start","getTracks","addTrack","dispose","generateOffer","offerAudio","offerVideo","mediaConstraints","constraints","offerToReceiveAudio","mode","offerToReceiveVideo","ua","addTransceiver","direction","createOffer","offer","setLocalDescription","localDescription","sdp","processAnswer","sdpAnswer","needsTimeoutOnProcessAnswer","answer","setRemoteDescription","info","RTCSessionDescription","iceCandidate","remoteDescription","addIceConnectionStateChangeListener","otherId","oniceconnectionstatechange","iceConnectionState","v4","WebRtcPeerRecvonly","WebRtcPeerSendonly","WebRtcPeerSendrecv","proto","originalGlobalValue","indexOfListener","alias","getListeners","evt","_getEvents","RegExp","flattenListeners","flatListeners","getListenersAsObject","isValidListener","listenerIsWrapped","addOnceListener","defineEvent","defineEvents","evts","addListeners","manipulateListeners","removeListeners","single","multiple","removeEvent","emitEvent","listenersMap","_getOnceReturnValue","trigger","setOnceReturnValue","_onceReturnValue","noConflict","StreamPropertyChangedEvent_1","OpenViduError_1","Filter","handlers","execMethod","method","stringParams","errorMsg","openvidu","sendRequest","OpenViduError","OpenViduErrorName","OPENVIDU_PERMISSION_DENIED","oldValue","assign","lastExecMethod","StreamPropertyChangedEvent","ConnectionEvent","cancelable","isProdMode","instance","enableProdMode","defineProperty_IE8","oThis","aArgs","fToBind","fNOP","fBound","inherits","packers","Mapper","unifyTransport","transport","write","onmessage","pause","SyntaxError","RpcNotification","RpcBuilder","packer","onRequest","self","pack","unpack","responseMethods","peerID","max_retries","transportMessage","decode","getTransport","setTransport","request_timeout","ping_request_timeout","response_timeout","duplicates_timeout","requestID","requests","responses","processedResponses","message2Key","storeProcessedResponse","ack","RpcRequest","duplicated","Boolean","responseMethod","reply","clearTimeout","dest","cancel","request","encode","retried","dispatchCallback","encode_transport","retry","notification","processResponse","processRequest","processed","duplicatedResponse","clients","transports","newValue","Filter_1","Subscriber_1","EventDispatcher_1","WebRtcPeer_1","WebRtcStats_1","PublisherSpeakingEvent_1","StreamManagerEvent_1","hark","Stream","isSubscribeToRemote","isLocalStreamReadyToPublish","isLocalStreamPublished","publishedOnce","publisherStartSpeakingEventEnabled","publisherStartSpeakingEventEnabledOnce","publisherStopSpeakingEventEnabled","publisherStopSpeakingEventEnabledOnce","volumeChangeEventEnabled","volumeChangeEventEnabledOnce","inboundStreamOpts","creationTime","createdAt","frameRate","videoDimensions","outboundStreamOpts","isSendAudio","isSendVideo","publisherProperties","MediaStreamTrack","isSendScreen","ee","updateMediaStream","onAux","onceAux","applyFilter","removeFilter","webRtcPeer","setMediaStream","updateMediaStreamInVideos","getWebRtcPeer","subscribeToMyRemote","setOutboundStreamOptions","initWebRtcPeerReceive","initWebRtcPeerSend","localMediaStreamWhenSubscribedToRemote","speechEvent","displayMyRemote","enableStartSpeakingEvent","setSpeechEventIfNotExists","PublisherSpeakingEvent","enableOnceStartSpeakingEvent","disableStartSpeakingEvent","disabledByOnce","enableStopSpeakingEvent","enableOnceStopSpeakingEvent","disableStopSpeakingEvent","enableVolumeChangeEvent","force","harkEvent","oldVolumeValue","StreamManagerEvent","enableOnceVolumeChangeEvent","disableVolumeChangeEvent","getSelectedIceCandidate","webRtcStats","streamIceConnectionStateBroken","advancedConfiguration","forceMediaReconnectionAfterNetworkDrop","harkOptions","publisherSpeakingEventsOptions","threshold","reconnect","initHarkEvents","userMediaConstraints","sendIceCandidate","getIceServersConf","simulcast","sdpOffer","sdpOfferParam","doLoopback","remotePeerSuccessfullyEstablished","offerConstraints","isFirstIonicIosSubscriber","countDownForIonicIosSubscribersActive","MediaStream","getReceivers","Subscriber","startSpeakingEventsEnabled","startSpeakingEventsEnabledOnce","stopSpeakingEventsEnabled","stopSpeakingEventsEnabledOnce","gatherStatsForPeer","getSenders","sender","isReportWanted","finalReport","firCount","pliCount","qpSum","totalRoundTripTime","availableOutgoingBitrate","currentRoundTripTime","responsesReceived","availableIncomingBitrate","nominated","EventDispatcher","userHandlerArrowHandler","WeakMap","arrowHandler","WebSocketWithReconnection","now","Logger","pingInterval","wsConfig","ws","notReconnectIfNumLessThan","pingNextNum","enabledPings","pingPongStarted","onreconnecting","onreconnected","onconnected","onerror","rpc","pull","stopPing","updateNotReconnectIfLessThan","usePing","uri","requestTimeout","heartbeatRequestTimeout","func","sendPing","heartbeat","pingNum","reconnectWs","requestTime","sendCloseMessage","forceClose","millis","resetPing","screenCallback","isFirefox","InstallTrigger","opera","origin","getSourceId","getSourceIdWithAudio","getScreenConstraintsWithAudio","isChromeExtensionAvailable","extensionid","image","stateify","TokenState","CharacterState","_class","BaseState","tClass","defaultTransition","symbol","jump","accepts","character","charOrRegExp","tokenClass","endToken","defaultToken","newStates","nextState","TT","scanner","TOKENS","_linkify$parser","parser","State","S_START","TT_DOMAIN","DOMAIN","TT_LOCALHOST","LOCALHOST","TT_NUM","NUM","TT_SLASH","SLASH","TT_TLD","TLD","TT_UNDERSCORE","UNDERSCORE","TT_DOT","DOT","TT_AT","AT","MENTION","v","Base","toHref","S_AT","S_AT_SYMS","S_MENTION","S_MENTION_DIVIDER","S_MENTION_DIVIDER_SYMS","Connection_1","ConnectionEvent_1","FilterEvent_1","RecordingEvent_1","SessionDisconnectedEvent_1","SignalEvent_1","StreamEvent_1","VideoInsertMode_1","Session","streamManagers","remoteStreamsCreated","remoteConnections","metadata","processToken","checkSystemRequirements","participantId","stringClientMetadata","connectAux","BROWSER_NOT_SUPPORTED","os","family","leave","param3","param4","completionHandler","insertMode","APPEND","subscribeToAudio","subscribeToVideo","createVideoElement","subscribeAsync","removeAllVideos","initialize","addStream","reestablishStreamPlayingEvent","streamEvent","StreamEvent","forceDisconnect","forceUnpublish","signalMessage","connectionIds_1","typeAux","substring","onParticipantJoined","getConnection","openViduError","Connection","onParticipantLeft","getRemoteConnection","onParticipantPublished","afterConnectionFound","con","initRemoteStreams","streams","onParticipantUnpublished","stopPublisherStream","removeStream","onParticipantEvicted","disposed","onNewMessage","strippedType","SignalEvent","onStreamPropertyChanged","property","recvIceCandidate","foundation","port","protocol","relatedAddress","relatedPort","sdpMid","sdpMLineIndex","tcpType","usernameFragment","toJSON","senderConnectionId","endpointName","onSessionClosed","onLostConnection","onRecoveredConnection","reconnectBrokenStreams","onMediaError","onRecordingStarted","RecordingEvent","onRecordingStopped","onFilterEventDispatched","someReconnection","remoteConnection","eventArray","forced","closeWs","sessionDisconnectEvent","SessionDisconnectedEvent","initializeParams","description","getSecret","recorder","getRecorder","startWs","joinParams","role","rpcSessionId","events_1","connections","participant","errorMessage","GENERIC_ERROR","match","host","hostname","search","hash","queryParams","decodeURI","param","reduce","coturnIp","turnUsername","turnCredential","webrtcStatsInterval","openviduServerVersion","turnUrl1","urls","username","credential","libraryVersion","wsUri","httpUri","parent","child","props","extended","_interopRequireWildcard","run","filtered","toObject","_typeof","Symbol","iterator","defaults","defaultProtocol","format","noop","formatHref","validate","ignoreTags","linkAttributes","linkClass","ignoredTags","val","contains","getObject","operator","optionValue","__WEBPACK_EXTERNAL_MODULE_recordrtc__","__WEBPACK_EXTERNAL_MODULE_video_js__","modules","installedModules","__webpack_require__","moduleId","l","getter","o","r","toStringTag","ns","object","eval","0","VideoElementEvent_1","StreamManager","lazyLaunchVideoElementCreatedEvent","targEl","HTMLElement","firstVideoElement","canplayListenerAdded","setAttribute","canPlayListener","VideoElementEvent","currentTime","paused","ended","initializeVideoProperties","srcObject","returnNumber","disassociateVideo","pushNewStreamManagerVideo","createVideo","insMode","AFTER","parentNode","insertBefore","nextSibling","BEFORE","PREPEND","childNodes","REPLACE","replaceChild","updatePublisherSpeakingEventsOptions","currentHarkOptions","newInterval","newThreshold","setThreshold","autoplay","controls","muted","transform","mirrorVideo","removeMirrorVideo","streamManagerVideo","removeChild","removeSrcObject","disassociated","addPlayEventToFirstVideo","newVideo","webkitTransform","ctor","superCtor","super_","writable","configurable","TempCtor","Session_1","Stream_1","StreamManager_1","Publisher","accessAllowed","isSubscribedToRemote","accessDenied","subscribeToRemote","replaceMediaStreamTrack","removedTrack","removeTrack","senders","startTime","constraintsAux","errorCallback","successCallback","initializeVideoReference","videoReference","screenShareResizeInterval","firefoxSettings","getSettings","newWidth","newHeight","oldValue_1","interval_1","videoDimensionsSet_1","getVideoDimensions","getMediaSuccess","definedAudioConstraint","clearPermissionDialogTimer","setPermissionDialogTimer","mediaDevices","audioOnlyStream","generateAudioDeviceError","getMediaError","errorName","INPUT_AUDIO_DEVICE_NOT_FOUND","INPUT_VIDEO_DEVICE_NOT_FOUND","SCREEN_CAPTURE_DENIED","DEVICE_ACCESS_DENIED","constraint","exact","PUBLISHER_PROPERTIES_ERROR","DEVICE_ALREADY_IN_USE","generateMediaConstraints","myConstraints","videoTrack","audioTrack","addAlreadyProvidedTracks","waitTime","permissionDialogTimeout","LocalRecorder_1","Publisher_1","OpenViduLogger_1","screenSharingAuto","screenSharing","product","packageJson","OpenVidu","publishers","attempts_1","oldWidth_1","oldHeight_1","repeatUntilChange_1","newDimensions","sendStreamPropertyChangedEvent_1","oldHeight","param2","resolution","initPublisherAsync","initLocalRecorder","LocalRecorder","browser","isIPhoneOrIPad","isIOSWithSafari","checkScreenSharingCapabilities","parseFloat","enumerateDevices","deviceInfos","cordova","plugins","EnumerateDevicesPlugin","getEnumerateDevices","pluginDevices","pluginAudioDevices","videoDevices","audioDevices","deviceInfo","defaultMatch","wiredMatch","wirelessMatch","askForAudioStreamOnly","previousMediaStream","mustAskForAudioTrackLater_1","setAdvancedConfiguration","NO_INPUT_SOURCE_SET","ideal","widthAndHeight","idealWidth","idealHeight","configureDeviceIdOrScreensharing","onConnectSucces","config","ondisconnect","disconnectCallback","reconnectingCallback","reconnectedCallback","participantJoined","participantPublished","participantUnpublished","participantLeft","participantEvicted","recordingStarted","recordingStopped","streamPropertyChanged","filterEventDispatched","mediaError","jsonRpcClient","JsonRpcClient","getWsUri","INPUT_AUDIO_DEVICE_GENERIC_ERROR","isScreenShare","electronScreenId","screenShareChromeExtension","screenConstraints","extensionId","trim","error_2","SCREEN_EXTENSION_DISABLED","error_3","SCREEN_EXTENSION_NOT_INSTALLED","error_1","SCREEN_SHARING_NOT_SUPPORTED","setVideoSource","isRoomAvailable","isTouchable","isIPad","isIPhone","vendor","OpenVidu_1","LocalRecorderState_1","LocalRecorderState","Event_1","_state","_multi","MULTI_TOKENS","_text","makeState","S_PROTOCOL","S_MAILTO","S_PROTOCOL_SLASH","S_PROTOCOL_SLASH_SLASH","S_DOMAIN","S_DOMAIN_DOT","S_TLD","S_TLD_COLON","S_TLD_PORT","S_URL","S_URL_NON_ACCEPTING","S_URL_OPENBRACE","S_URL_OPENBRACKET","S_URL_OPENANGLEBRACKET","S_URL_OPENPAREN","S_URL_OPENBRACE_Q","S_URL_OPENBRACKET_Q","S_URL_OPENANGLEBRACKET_Q","S_URL_OPENPAREN_Q","S_URL_OPENBRACE_SYMS","S_URL_OPENBRACKET_SYMS","S_URL_OPENANGLEBRACKET_SYMS","S_URL_OPENPAREN_SYMS","S_EMAIL_DOMAIN","S_EMAIL_DOMAIN_DOT","S_EMAIL","EMAIL","S_EMAIL_COLON","S_EMAIL_PORT","S_MAILTO_EMAIL","MAILTOEMAIL","S_MAILTO_EMAIL_NON_ACCEPTING","S_LOCALPART","S_LOCALPART_AT","S_LOCALPART_DOT","S_NL","NL","PROTOCOL","MAILTO","COLON","qsAccepting","PLUS","POUND","SYM","AMPERSAND","qsNonAccepting","QUERY","PUNCTUATION","CLOSEBRACE","CLOSEBRACKET","CLOSEANGLEBRACKET","CLOSEPAREN","OPENBRACE","OPENBRACKET","OPENANGLEBRACKET","OPENPAREN","localpartAccepting","cursor","multis","textTokens","secondState","multiLength","latestAccepting","sinceAccepts","TEXT","MULTI","createTokenClass","HASHTAG","S_HASH","S_HASHTAG","NgxLinkifyjsService","NgxLinkifyjsConfigToken","DEFAULT_CONFIG","enableHash","enableMention","NgxLinkifyjsModule","ngModule","provide","useValue","openviduPublishers","streamOptionsServer","LAYOUT_VALUES","validateValue","wrap","inline","validateWrapValue","isFlowHorizontal","flow","LayoutStyleBuilder","isInline","ɵLayoutStyleBuilder_BaseFactory","LayoutDirective","elRef","styleUtils","styleBuilder","marshal","DIRECTIVE_KEY","styleCache","layoutCache","ɵdir","features","DefaultLayoutDirective","ɵDefaultLayoutDirective_BaseFactory","fxLayout","Map","CLEAR_MARGIN_CSS","LayoutGapStyleBuilder","_styler","gapValue","endsWith","GRID_SPECIFIER","directionality","marginRight","marginLeft","_styles","items","paddingStyles","paddingRight","paddingLeft","applyStyleToElements","lastItem","gapCss","getMarginType","layout","margins","inputs$1","LayoutGapDirective","zone","observerSubject","extraTriggers","change","trackValue","destroySubject","onLayoutChange","buffer","buildChildObservable","triggerUpdate","ngOnDestroy","observer","childrenNodes","el","nodeType","willDisplay","sort","orderA","styler","lookupStyle","orderB","layoutGapCacheRowRtl","layoutGapCacheRowLtr","layoutGapCacheColumnRtl","layoutGapCacheColumnLtr","addStyles","gridMode","mru","childrenStyle","clearStyles","source","runOutsideAngular","MutationObserver","mutations","it","addedNodes","removedNodes","observe","childList","DefaultLayoutGapDirective","ɵDefaultLayoutGapDirective_BaseFactory","fxLayoutGap","extendObject","sources","FlexStyleBuilder","layoutConfig","grow","shrink","basisParts","basis","max","min","hasCalc","usingCalc","isPercent","hasUnits","isValue","isFixed","useColumnBasisZero","hasWrap","inputs$2","FlexDirective","flexGrow","flexShrink","triggerReflow","layoutParts","getFlexFlowDirection","addFlexToParent","isHorizontal","flexRowWrapCache","flexRowCache","flexColumnWrapCache","flexColumnCache","parts","activatedValue","updateElement","DefaultFlexDirective","ɵDefaultFlexDirective_BaseFactory","fxFlex","FlexOrderStyleBuilder","order","ɵFlexOrderStyleBuilder_BaseFactory","inputs$3","FlexOrderDirective","flexOrderCache","DefaultFlexOrderDirective","ɵDefaultFlexOrderDirective_BaseFactory","fxFlexOrder","FLEX_FILL_CSS","FlexFillStyleBuilder","_input","ɵFlexFillStyleBuilder_BaseFactory","FlexFillDirective","flexFillCache","LayoutAlignStyleBuilder","align","mainAxis","crossAxis","ɵLayoutAlignStyleBuilder_BaseFactory","inputs$6","LayoutAlignDirective","layoutAlignHorizontalInlineCache","layoutAlignHorizontalRevInlineCache","layoutAlignVerticalInlineCache","layoutAlignVerticalRevInlineCache","layoutAlignVerticalRevCache","layoutAlignVerticalCache","layoutAlignHorizontalRevCache","layoutAlignHorizontalCache","layoutKeys","DefaultLayoutAlignDirective","ɵDefaultLayoutAlignDirective_BaseFactory","fxLayoutAlign","FlexModule","GridModule","FlexLayoutModule","serverModuleLoaded","platformId","configOptions","breakpoints","serverLoaded","multi","objectTypes","root","freeGlobal","global","maxSafeInteger","reOpera","objectProto","capitalize","string","forOwn","getClassOf","qualify","array","accumulator","isCustomContext","nav","isSpecialCasedOS","likeChrome","airRuntimeClass","enviroClass","javaClass","java","phantomClass","rhino","environment","alpha","beta","doc","operamini","operaClass","arch","prerelease","useFeatures","guess","pattern","getProduct","manufacturer","guesses","runtime","flash","system","Capabilities","phantom","major","minor","patch","documentMode","lang","System","getProperty","require","process","versions","electron","nw","appMinorVersion","external","architecture","cpuClass","registerMessageHandler","closing","reconnecting","WebSocket","onopen","reconnectionOnClose","maxRetries","numRetries","onclose","SimpleSnackBar_div_2_Template","_r2","MatSnackBarContainer_ng_template_0_Template","MAX_TIMEOUT","MatSnackBarRef","containerInstance","_overlayRef","_afterDismissed","_afterOpened","_onAction","_dismissedByAction","dismiss","_onExit","_finishDismiss","closed","_durationTimeoutId","dismissWithAction","dismissedByAction","_onEnter","MAT_SNACK_BAR_DATA","MatSnackBarConfig","politeness","announcementMessage","SimpleSnackBar","snackBarRef","hostAttrs","hasAction","changeDetection","matSnackBarAnimations","snackBarState","opacity","MatSnackBarContainer","_ngZone","_elementRef","_changeDetectorRef","snackBarConfig","_destroyed","_animationState","attachDomPortal","portal","_assertNotAttached","_applySnackBarClasses","_portalOutlet","_role","attachComponentPortal","attachTemplatePortal","fromState","toState","_completeExit","onEnter","detectChanges","onMicrotaskEmpty","panelClasses","cssClass","hasAttached","hostVars","onAnimationEnd","animation","MatSnackBarModule","MAT_SNACK_BAR_DEFAULT_OPTIONS","MatSnackBar","_overlay","_live","_injector","_breakpointObserver","_parentSnackBar","_defaultConfig","_snackBarRefAtThisLevel","_openedSnackBarRef","_attach","_config","openFromComponent","overlayRef","injector","viewContainerRef","containerPortal","containerRef","attach","content","userConfig","_createOverlay","_attachSnackBarContainer","_createInjector","contentRef","HandsetPortrait","detachments","overlayElement","matches","_animateSnackBar","afterDismissed","enter","afterOpened","_dismissAfter","announce","overlayConfig","positionStrategy","isRtl","isLeft","isRight","right","centerHorizontally","bottom","protocols","jsonrpc","result_defined","error_defined","WS","_createTokenClass","TextToken","inheritsToken","UploadFileComponent","postsServices","uploadFile","title","showUploadImg","percentProgressBar","fileName","typeFile","files","showProgressBar","apiURL","countUploadFile","cover_img","fl","file","Audio","reader","FileReader","ArrayBuffer","progressPercent","readAsDataURL","srcImg","loaded","total","group_id","fd","FormData","append","path","editPosts","closedModal","saveFile","key2","ids","hasBeenPrevented","isDefaultPrevented","preventDefault","BROWSER_PROVIDER","useFactory","_document","CLASS_NAME","classRegex","deps","CoreModule","MediaChange","mediaQuery","mqAlias","suffix","StylesheetMap","stylesheet","styleName","addOrientationBps","disableDefaultBps","disableVendorPrefixes","printWithBreakpoints","mediaTriggerAutoRestore","ssrObserveBreakpoints","LAYOUT_CONFIG","SERVER_TOKEN","BREAKPOINT","mergeAlias","clone","BaseDirective2","elementRef","activatedAlias","changes","bp","currentValue","releaseElement","updateWithValue","builder","useCache","shouldCache","genStyles","buildStyles","applyStyleToElement","sideEffect","k","addIfMissing","hasInlineValue","getFlowDirection","DEFAULT_BREAKPOINTS","overlapping","TABLET_PORTRAIT","TABLET_LANDSCAPE","WEB_PORTRAIT","WEB_LANDSCAPE","ScreenTypes","ORIENTATION_BREAKPOINTS","HANDSET","HANDSET_LANDSCAPE","HANDSET_PORTRAIT","TABLET","WEB","ALIAS_DELIMITERS","firstUpperCase","part","remainder","BREAKPOINTS","bpFlattenArray","custom","dict","sortDescendingPriority","sortAscendingPriority","BreakPointRegistry","findByMap","findWithPredicate","query","searchFn","MatchMedia","_zone","_platformId","registry","_observable$","results","mql","mqList","filterOthers","matchMedia$","registration$","registerQuery","lastChange","mediaQueries","ALL_STYLES","styleEl","styleSheet","createTextNode","mq","buildMQL","isBrowser","matchMedia","media","BREAKPOINT_PRINT","PrintHook","registeredBeforeAfterPrintHooks","isPrintingBeforeAfterEvent","isPrinting","queue","PrintQueue","deactivations","queries","printAlias","findByAlias","findByQuery","printBreakPoints","isPrintEvent","getEventBreakpoints","defaultView","startPrinting","updateStyles","stopPrinting","registerBeforeAfterPrintHooks","collectActivations","bpList","activatedBreakpoints","addPrintBreakpoints","printBreakpoints","addBreakpoint","applyCssPrefixes","StyleUtils","_serverStylesheet","_serverModuleLoaded","_applyMultiValueStyleToElement","lookupInlineStyle","attribute","getAttribute","getPropertyValue","_getServerStyle","inlineOnly","getComputedStyle","getStyleForElement","setProperty","_setServerStyle","addStyleToElement","styleValue","styleMap","_readStyleAttribute","_writeStyleAttribute","styleAttribute","styleList","colonIndex","styleAttrValue","StyleBuilder","_parent","validateBasis","_validateCalcValue","calc","MediaMarshaller","hook","elementMap","elementKeyMap","watcherMap","updateMap","clearMap","subject","observeActivations","mc","updateFn","clearFn","initBuilderMap","buildElementKeyMap","watchExtraTriggers","bpMap","getActivatedValues","keyMap","Set","valueMap","delete","clearElement","builders","_","triggers","watchers","newSubscription","has","lastHope","withPrintQuery","interceptEvents","blockPropagation","onMediaChange","map$$1","oldMap","streamOptions","tlds","NUMBERS","ALPHANUM","WHITESPACE","domainStates","S_NUM","S_DOMAIN_HYPHEN","S_WS","partialProtocolFileStates","partialProtocolFtpStates","partialProtocolHttpStates","partialProtocolMailtoStates","S_PROTOCOL_FILE","S_PROTOCOL_FTP","S_PROTOCOL_HTTP","S_PROTOCOL_SECURE","S_FULL_PROTOCOL","S_FULL_MAILTO","partialLocalhostStates","lowerStr","tokenLength","TOKEN","chunks","READY","record","mimeType","MediaRecorder","isTypeSupported","mediaRecorder","ondataavailable","onstart","onstop","onStopDefault","onpause","onresume","onwarning","RECORDING","FINISHED","PAUSED","resume","preview","videoPreview","parentElementDom","videoPreviewSrc","blob","download","createObjectURL","click","revokeObjectURL","getBlob","uploadAsBinary","endpoint","http_1","responseText","uploadAsMultipartfile","http_2","sendable","Blob","WildEmitter","mixin","isWildEmitter","groupName","fn","callbacks","hasGroup","group","_groupName","releaseGroup","specialCallbacks","getWildcardCallbacks","eventName","audioContextType","AudioContext","webkitAudioContext","audioContext","harker","sourceNode","fftBins","analyser","smoothing","play","history","running","createAnalyser","fftSize","smoothingTimeConstant","Float32Array","frequencyBinCount","jquery","HTMLAudioElement","HTMLVideoElement","createMediaElementSource","createMediaStreamSource","destination","speaking","suspend","onstatechange","speakingHistory","looper","currentVolume","maxVolume","getFloatFrequencyData","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","Constructor","_defineProperties","descriptor","_toConsumableArray","_arrayLikeToArray","iter","minLen","_unsupportedIterableToArray","arr2","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","HAS_POINTER_EVENT","CLASS_CROP","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","DEFAULTS","viewMode","dragMode","initialAspectRatio","NaN","aspectRatio","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","minContainerWidth","minContainerHeight","ready","cropstart","cropmove","cropend","crop","isNumber","isPositiveNumber","Infinity","isUndefined","isObject","isPlainObject","_constructor","isFunction","toArray","_len","_key","REGEXP_DECIMALS","normalizeDecimalNumber","times","round","REGEXP_SUFFIX","setStyle","addClass","removeClass","toggleClass","added","REGEXP_CAMEL_CASE","toParamCase","getData","dataset","setData","REGEXP_SPACES","onceSupported","supported","_handler","_element$listeners","_len2","_key2","dispatchEvent","CustomEvent","detail","bubbles","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","pageXOffset","clientLeft","pageYOffset","clientTop","REGEXP_ORIGINS","isCrossOriginURL","addTimestamp","getTransforms","_ref","rotate","scaleX","scaleY","translateX","translateY","WebkitTransform","msTransform","getPointer","_ref2","endOnly","pageX","pageY","end","endX","endY","startX","startY","getAdjustedSizes","_ref4","isValidWidth","isValidHeight","adjustedWidth","getSourceCanvas","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","naturalWidth","imageNaturalHeight","naturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","_ref8$maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","canvas","maxSizes","minSizes","destMaxSizes","destMinSizes","destWidth","destHeight","fillStyle","fillRect","save","translate","PI","scale","fromCharCode","REGEXP_DATA_URL_HEAD","render","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","cropper","containerData","offsetHeight","imageData","rotated","abs","canvasWidth","canvasHeight","canvasData","limited","limitCanvas","oldLeft","oldTop","initialCanvasData","sizeLimited","positionLimited","cropBoxData","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","changed","transformed","_getRotatedSizes","_ref5","degree","arc","sinArc","sin","cosArc","cos","renderImage","limitCropBox","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","disabled","initPreview","crossOrigin","crossOriginUrl","alt","viewBox","viewBoxImage","previews","ownerDocument","html","innerHTML","cssText","resetPreview","removeAttribute","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","getElementsByTagName","onCropStart","cropStart","onWheel","wheel","passive","capture","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","ratioX","ratioY","getCanvasData","getCropBoxData","setCanvasData","setCropBoxData","setDragMode","dragBox","delta","wheeling","deltaY","wheelDelta","buttons","button","pointerType","ctrlKey","pointers","changedTouches","touch","identifier","pointerId","originalEvent","cropping","renderable","shiftKey","pointer","range","side","move","pointers2","pointer2","x1","y1","x2","y2","z1","sqrt","methods","reset","initialImageData","hasSameSize","isImg","replaced","uncreate","load","enable","disable","destroy","originalUrl","offsetX","offsetY","_this$canvasData","moveTo","_originalEvent","zoomTo","pivot","oldRatio","_ref3","rotateTo","_scaleX","_scaleY","rounded","getContainerData","getImageData","sized","widthChanged","heightChanged","getCroppedCanvas","HTMLCanvasElement","_this$getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","sourceWidth","sourceHeight","srcX","srcY","setAspectRatio","croppable","AnotherCropper","Cropper","reloading","sizing","protoProps","staticProps","read","base64","binary","atob","arrayBuffer","uint8","xhr","onabort","ontimeout","onprogress","getResponseHeader","abort","onloadend","responseType","withCredentials","orientation","dataView","DataView","littleEndian","app1Start","ifdStart","getUint8","byteLength","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_offset","_length","setUint16","subarray","_parseOrientation","_this2","isIOSWebKit","done","build","sizingImage","unbuild","isDomainToken","MultiToken","hasProtocol","hasSlashSlash","MatGridListModule","ClassDirective","iterableDiffers","keyValueDiffers","renderer2","ngClassInstance","klass","ngClass","ngDoCheck","DefaultClassDirective","ɵDefaultClassDirective_BaseFactory","NgStyleKeyValue","noQuotes","getType","what","stringToKeyValue","vals","keyValuesToMap","entry","StyleDirective","sanitizer","differs","ngStyleInstance","fallbackStyles","buildStyleMap","isServer","ngStyle","sanitize","STYLE","buildMapFromList$1","delimiter","DefaultStyleDirective","ɵDefaultStyleDirective_BaseFactory","ExtendedModule","ImgEditCropperComponent","getAuthUser","imageSrc","authUser","shape","imgSrcFile","avatarImgLoad","cropperImgLoad","imageElement","cropperImage","saveAvatarImg","saveCropperImg","toBlob","loadImage","saveImg","ProfileFormComponent","fb","loader","auth","usersService","toastr","userStore","isSubmitted","subscriptions","currentDate","dropzoneConfig","dropzoneFiles","coverFile","coverShowImg","avatarShowImg","initForm","profileForm","patchValue","birthday","moment","first_name","last_name","email","afterClosed","imageCoverFile","coverImgSrc","imageAvatarFile","avatarImgSrc","cover","formData","formValue","dropFileExist","entries","field","fdCover","saveEditeProfile","fdAvatar","buildFormData","saveProfileChanges","setAuthUser","success","navigateByUrl","editImage","saveChanges","OpenviduService","httpClient","VideoJsRecordComponent","videoService","blobToFile","apiUrl","recordingState","shareScreen","videoSRC","player","plugin","fluid","loop","bigPlayButton","controlBar","volumePanel","pictureInPictureToggle","displayMilliseconds","videoEngine","videoMimeType","frameWidth","frameHeight","VERSION","getPluginVersion","RecordRTC","updateSrc","res","registerPlugin","watermark","fadeTime","aa","setVideoRecordingState","recording","viaSocket","saveVideoToken","openViduToken","author_id","channel_id","channel","category_id","videoSettings","privacy","filename","session_name","myUserName","thumbnail","tags","videoId","recordingStartTimeStamp","currentTimestamp","recordingEndTimeStamp","recordingDuration","diff","formDataFile","recordedData","saveRecordedData","convertedData","deviceErrorCode","unMuted","VideoComponent","ref","openViduService","videoChatService","stocksService","getUrlParts","videoJSPlayerOptions","OPENVIDU_SERVER_URL","OPENVIDU_SERVER_SECRET","subscribers","webcams","thumbnailUploaded","sessionData","userStocks","getUserChannel","getVideoSessionData","getVideoRecordingState","sendRecordingState","getUserStocks","user_id","user_stocks","removeLiveVideoByToken","getUserInfo","channelUser","savedSession","getStreamEvents","dataLoading","receiveMessage","receiveRecordingState","from_user","mainStreamManager","catch","thumbnailFile","deleteSubscriber","savedVideoSettings","hostName","shareUrl","saveVideoMessage","video_id","setMsgData","removeVideoByToken","reload","VideoLibraryComponent","joinSessionForm","ovLocalUsers","ovSessionComponent","getLocalUsers","ovLayout","getOpenviduLayout","ovLayoutOptions","CheckStreamingRequirementsComponent","deviceStatus","checked","deviceRecognitionForm","video_device","audio_device","getConnectedDevices","pageLoad","userMediaDevices","defaultVideoDevice","defaultAudioDevice","CollectStreamingDetailsFormComponent","thumbnailUploading","separatorKeysCodes","privacyTypes","icon","savedTags","limit","formReady","selectedPrivacy","getVideoCategories","startStreamingForm","videoCategories","getVideoTags","fruit","fileProcessing","thumbnailImage","imageName","deleteFile","categoryName","viewValue","resetValue","autoCompleteTagsSelected","resetTextArea","changedPrivacy","submit","PublisherFlowComponent","requirementsChecked","setSessionData","navigate","OvVideoComponent","UserVideoComponent","JoinVideoStreamingComponent","streamDestroyed","getSessionData","getRecordingState","ev","snapshot","getVideoById","videoFound","channelInfo","streamCreated","updateParticipantsCount","socket","SubscriberFlowComponent","DoNotLeavePageGuard","currentRoute","currentState","alertOfLeaving","ShowNotificationsComponent","authUser$","ShowProfileComponent","usersConnectionsStore","groupsMessagesStore","socketService","profileTabs","connectionsCount","connectionRequests","ownProfile","usersConnectionStatus","attemptedToConnect","isBlocked","passedUsername","trackAuthUserChanges","trackUserConnections","own_channel","profileUser","checkIfUsersConnected","getAcceptedDeclinedRequests","getConnectWithUser","getDisconnectUsers","cancelledUsersConnecting","getBlockUnblockUser","getConnectionsChanges","profileUserStocks","getProfileUserStocks","users_connections","uc","confirmed","usersMessages$","usersConnection","acceptedConnection","profile_user_contacts","to_user","declinedConnection","channel_user_id","connection_users","cu","is_blocked","connectWithUser","cancelUsersConnecting","connection_id","disconnectUsers","foundUserMessages","usersMessages","um","showBottomChatBox","changeUser","ConnectionsTabComponent","ConnectionRequestsTabComponent","routes","canDeactivate","pathMatch","WatchlistTabComponent","stocksStore","filteredStocks","stocksLoading","trackUserStocks","userStocks$","initial","stocks","updateFollowedStocks","setUserStocks","empty","sendData","order_type","dragdrop","updateUserStocksPriority","CardsTabComponent","UsersRoutingModule","forChild","UsersModule"],"mappings":"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","sourceRoot":"webpack:///","sourcesContent":["window.getScreenId = function (firefoxString, callback, custom_parameter) {\n    if (navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveOrOpenBlob || !!navigator.msSaveBlob)) {\n        callback({\n            video: true\n        });\n        return;\n    }\n    if (!!navigator.mozGetUserMedia) {\n        callback(null, 'firefox', {\n            video: {\n                mozMediaSource: firefoxString,\n                mediaSource: firefoxString\n            }\n        });\n        return;\n    }\n    window.addEventListener('message', onIFrameCallback);\n    function onIFrameCallback(event) {\n        if (!event.data)\n            return;\n        if (event.data.chromeMediaSourceId) {\n            if (event.data.chromeMediaSourceId === 'PermissionDeniedError') {\n                callback('permission-denied');\n            }\n            else {\n                callback(null, event.data.chromeMediaSourceId, getScreenConstraints(null, event.data.chromeMediaSourceId, event.data.canRequestAudioTrack));\n            }\n            window.removeEventListener('message', onIFrameCallback);\n        }\n        if (event.data.chromeExtensionStatus) {\n            callback(event.data.chromeExtensionStatus, null, getScreenConstraints(event.data.chromeExtensionStatus));\n            window.removeEventListener('message', onIFrameCallback);\n        }\n    }\n    if (!custom_parameter) {\n        setTimeout(postGetSourceIdMessage, 100);\n    }\n    else {\n        setTimeout(function () {\n            postGetSourceIdMessage(custom_parameter);\n        }, 100);\n    }\n};\nfunction getScreenConstraints(error, sourceId, canRequestAudioTrack) {\n    var screen_constraints = {\n        audio: false,\n        video: {\n            mandatory: {\n                chromeMediaSource: error ? 'screen' : 'desktop',\n                maxWidth: window.screen.width > 1920 ? window.screen.width : 1920,\n                maxHeight: window.screen.height > 1080 ? window.screen.height : 1080\n            },\n            optional: []\n        }\n    };\n    if (!!canRequestAudioTrack) {\n        screen_constraints.audio = {\n            mandatory: {\n                chromeMediaSource: error ? 'screen' : 'desktop',\n            },\n            optional: []\n        };\n    }\n    if (sourceId) {\n        screen_constraints.video.mandatory.chromeMediaSourceId = sourceId;\n        if (screen_constraints.audio && screen_constraints.audio.mandatory) {\n            screen_constraints.audio.mandatory.chromeMediaSourceId = sourceId;\n        }\n    }\n    return screen_constraints;\n}\nfunction postGetSourceIdMessage(custom_parameter) {\n    if (!iframe) {\n        loadIFrame(function () {\n            postGetSourceIdMessage(custom_parameter);\n        });\n        return;\n    }\n    if (!iframe.isLoaded) {\n        setTimeout(function () {\n            postGetSourceIdMessage(custom_parameter);\n        }, 100);\n        return;\n    }\n    if (!custom_parameter) {\n        iframe.contentWindow.postMessage({\n            captureSourceId: true\n        }, '*');\n    }\n    else if (!!custom_parameter.forEach) {\n        iframe.contentWindow.postMessage({\n            captureCustomSourceId: custom_parameter\n        }, '*');\n    }\n    else {\n        iframe.contentWindow.postMessage({\n            captureSourceIdWithAudio: true\n        }, '*');\n    }\n}\nvar iframe;\nwindow.getScreenConstraints = function (callback) {\n    loadIFrame(function () {\n        getScreenId(function (error, sourceId, screen_constraints) {\n            if (!screen_constraints) {\n                screen_constraints = {\n                    video: true\n                };\n            }\n            callback(error, screen_constraints.video);\n        });\n    });\n};\nfunction loadIFrame(loadCallback) {\n    if (iframe) {\n        loadCallback();\n        return;\n    }\n    iframe = document.createElement('iframe');\n    iframe.onload = function () {\n        iframe.isLoaded = true;\n        loadCallback();\n    };\n    iframe.src = 'https://openvidu.github.io/openvidu-screen-sharing-chrome-extension/';\n    iframe.style.display = 'none';\n    (document.body || document.documentElement).appendChild(iframe);\n}\nwindow.getChromeExtensionStatus = function (callback) {\n    if (!!navigator.mozGetUserMedia) {\n        callback('installed-enabled');\n        return;\n    }\n    window.addEventListener('message', onIFrameCallback);\n    function onIFrameCallback(event) {\n        if (!event.data)\n            return;\n        if (event.data.chromeExtensionStatus) {\n            callback(event.data.chromeExtensionStatus);\n            window.removeEventListener('message', onIFrameCallback);\n        }\n    }\n    setTimeout(postGetChromeExtensionStatusMessage, 100);\n};\nfunction postGetChromeExtensionStatusMessage() {\n    if (!iframe) {\n        loadIFrame(postGetChromeExtensionStatusMessage);\n        return;\n    }\n    if (!iframe.isLoaded) {\n        setTimeout(postGetChromeExtensionStatusMessage, 100);\n        return;\n    }\n    iframe.contentWindow.postMessage({\n        getChromeExtensionStatus: true\n    }, '*');\n}\nexports.getScreenId = getScreenId;\n//# sourceMappingURL=Screen-Capturing-Auto.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\nvar platform = require(\"platform\");\nvar OpenViduLogger_1 = require(\"../Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\nvar WebRtcStats = /** @class */ (function () {\n    function WebRtcStats(stream) {\n        this.stream = stream;\n        this.webRtcStatsEnabled = false;\n        this.statsInterval = 1;\n        this.stats = {\n            inbound: {\n                audio: {\n                    bytesReceived: 0,\n                    packetsReceived: 0,\n                    packetsLost: 0\n                },\n                video: {\n                    bytesReceived: 0,\n                    packetsReceived: 0,\n                    packetsLost: 0,\n                    framesDecoded: 0,\n                    nackCount: 0\n                }\n            },\n            outbound: {\n                audio: {\n                    bytesSent: 0,\n                    packetsSent: 0\n                },\n                video: {\n                    bytesSent: 0,\n                    packetsSent: 0,\n                    framesEncoded: 0,\n                    nackCount: 0\n                }\n            }\n        };\n    }\n    WebRtcStats.prototype.isEnabled = function () {\n        return this.webRtcStatsEnabled;\n    };\n    WebRtcStats.prototype.initWebRtcStats = function () {\n        var _this = this;\n        var elastestInstrumentation = localStorage.getItem('elastest-instrumentation');\n        if (!!elastestInstrumentation) {\n            // ElasTest instrumentation object found in local storage\n            logger.warn('WebRtc stats enabled for stream ' + this.stream.streamId + ' of connection ' + this.stream.connection.connectionId);\n            this.webRtcStatsEnabled = true;\n            var instrumentation_1 = JSON.parse(elastestInstrumentation);\n            this.statsInterval = instrumentation_1.webrtc.interval; // Interval in seconds\n            logger.warn('localStorage item: ' + JSON.stringify(instrumentation_1));\n            this.webRtcStatsIntervalId = setInterval(function () {\n                _this.sendStatsToHttpEndpoint(instrumentation_1);\n            }, this.statsInterval * 1000);\n            return;\n        }\n        logger.debug('WebRtc stats not enabled');\n    };\n    WebRtcStats.prototype.stopWebRtcStats = function () {\n        if (this.webRtcStatsEnabled) {\n            clearInterval(this.webRtcStatsIntervalId);\n            logger.warn('WebRtc stats stopped for disposed stream ' + this.stream.streamId + ' of connection ' + this.stream.connection.connectionId);\n        }\n    };\n    WebRtcStats.prototype.getSelectedIceCandidateInfo = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.getStatsAgnostic(_this.stream.getRTCPeerConnection(), function (stats) {\n                if ((platform.name.indexOf('Chrome') !== -1) || (platform.name.indexOf('Opera') !== -1)) {\n                    var localCandidateId = void 0, remoteCandidateId = void 0, googCandidatePair = void 0;\n                    var localCandidates = {};\n                    var remoteCandidates = {};\n                    for (var key in stats) {\n                        var stat = stats[key];\n                        if (stat.type === 'localcandidate') {\n                            localCandidates[stat.id] = stat;\n                        }\n                        else if (stat.type === 'remotecandidate') {\n                            remoteCandidates[stat.id] = stat;\n                        }\n                        else if (stat.type === 'googCandidatePair' && (stat.googActiveConnection === 'true')) {\n                            googCandidatePair = stat;\n                            localCandidateId = stat.localCandidateId;\n                            remoteCandidateId = stat.remoteCandidateId;\n                        }\n                    }\n                    var finalLocalCandidate_1 = localCandidates[localCandidateId];\n                    if (!!finalLocalCandidate_1) {\n                        var candList = _this.stream.getLocalIceCandidateList();\n                        var cand = candList.filter(function (c) {\n                            return (!!c.candidate &&\n                                c.candidate.indexOf(finalLocalCandidate_1.ipAddress) >= 0 &&\n                                c.candidate.indexOf(finalLocalCandidate_1.portNumber) >= 0 &&\n                                c.candidate.indexOf(finalLocalCandidate_1.priority) >= 0);\n                        });\n                        finalLocalCandidate_1.raw = !!cand[0] ? cand[0].candidate : 'ERROR: Cannot find local candidate in list of sent ICE candidates';\n                    }\n                    else {\n                        finalLocalCandidate_1 = 'ERROR: No active local ICE candidate. Probably ICE-TCP is being used';\n                    }\n                    var finalRemoteCandidate_1 = remoteCandidates[remoteCandidateId];\n                    if (!!finalRemoteCandidate_1) {\n                        var candList = _this.stream.getRemoteIceCandidateList();\n                        var cand = candList.filter(function (c) {\n                            return (!!c.candidate &&\n                                c.candidate.indexOf(finalRemoteCandidate_1.ipAddress) >= 0 &&\n                                c.candidate.indexOf(finalRemoteCandidate_1.portNumber) >= 0 &&\n                                c.candidate.indexOf(finalRemoteCandidate_1.priority) >= 0);\n                        });\n                        finalRemoteCandidate_1.raw = !!cand[0] ? cand[0].candidate : 'ERROR: Cannot find remote candidate in list of received ICE candidates';\n                    }\n                    else {\n                        finalRemoteCandidate_1 = 'ERROR: No active remote ICE candidate. Probably ICE-TCP is being used';\n                    }\n                    resolve({\n                        googCandidatePair: googCandidatePair,\n                        localCandidate: finalLocalCandidate_1,\n                        remoteCandidate: finalRemoteCandidate_1\n                    });\n                }\n                else {\n                    reject('Selected ICE candidate info only available for Chrome');\n                }\n            }, function (error) {\n                reject(error);\n            });\n        });\n    };\n    WebRtcStats.prototype.sendStatsToHttpEndpoint = function (instrumentation) {\n        var _this = this;\n        var sendPost = function (json) {\n            var http = new XMLHttpRequest();\n            var url = instrumentation.webrtc.httpEndpoint;\n            http.open('POST', url, true);\n            http.setRequestHeader('Content-type', 'application/json');\n            http.onreadystatechange = function () {\n                if (http.readyState === 4 && http.status === 200) {\n                    logger.log('WebRtc stats successfully sent to ' + url + ' for stream ' + _this.stream.streamId + ' of connection ' + _this.stream.connection.connectionId);\n                }\n            };\n            http.send(json);\n        };\n        var f = function (stats) {\n            if (platform.name.indexOf('Firefox') !== -1) {\n                stats.forEach(function (stat) {\n                    var json = {};\n                    if ((stat.type === 'inbound-rtp') &&\n                        (\n                        // Avoid firefox empty outbound-rtp statistics\n                        stat.nackCount !== null &&\n                            stat.isRemote === false &&\n                            stat.id.startsWith('inbound') &&\n                            stat.remoteId.startsWith('inbound'))) {\n                        var metricId = 'webrtc_inbound_' + stat.mediaType + '_' + stat.ssrc;\n                        var jit = stat.jitter * 1000;\n                        var metrics = {\n                            bytesReceived: (stat.bytesReceived - _this.stats.inbound[stat.mediaType].bytesReceived) / _this.statsInterval,\n                            jitter: jit,\n                            packetsReceived: (stat.packetsReceived - _this.stats.inbound[stat.mediaType].packetsReceived) / _this.statsInterval,\n                            packetsLost: (stat.packetsLost - _this.stats.inbound[stat.mediaType].packetsLost) / _this.statsInterval\n                        };\n                        var units = {\n                            bytesReceived: 'bytes',\n                            jitter: 'ms',\n                            packetsReceived: 'packets',\n                            packetsLost: 'packets'\n                        };\n                        if (stat.mediaType === 'video') {\n                            metrics['framesDecoded'] = (stat.framesDecoded - _this.stats.inbound.video.framesDecoded) / _this.statsInterval;\n                            metrics['nackCount'] = (stat.nackCount - _this.stats.inbound.video.nackCount) / _this.statsInterval;\n                            units['framesDecoded'] = 'frames';\n                            units['nackCount'] = 'packets';\n                            _this.stats.inbound.video.framesDecoded = stat.framesDecoded;\n                            _this.stats.inbound.video.nackCount = stat.nackCount;\n                        }\n                        _this.stats.inbound[stat.mediaType].bytesReceived = stat.bytesReceived;\n                        _this.stats.inbound[stat.mediaType].packetsReceived = stat.packetsReceived;\n                        _this.stats.inbound[stat.mediaType].packetsLost = stat.packetsLost;\n                        json = {\n                            '@timestamp': new Date(stat.timestamp).toISOString(),\n                            'exec': instrumentation.exec,\n                            'component': instrumentation.component,\n                            'stream': 'webRtc',\n                            'et_type': metricId,\n                            'stream_type': 'composed_metrics',\n                            'units': units\n                        };\n                        json[metricId] = metrics;\n                        sendPost(JSON.stringify(json));\n                    }\n                    else if ((stat.type === 'outbound-rtp') &&\n                        (\n                        // Avoid firefox empty inbound-rtp statistics\n                        stat.isRemote === false &&\n                            stat.id.toLowerCase().includes('outbound'))) {\n                        var metricId = 'webrtc_outbound_' + stat.mediaType + '_' + stat.ssrc;\n                        var metrics = {\n                            bytesSent: (stat.bytesSent - _this.stats.outbound[stat.mediaType].bytesSent) / _this.statsInterval,\n                            packetsSent: (stat.packetsSent - _this.stats.outbound[stat.mediaType].packetsSent) / _this.statsInterval\n                        };\n                        var units = {\n                            bytesSent: 'bytes',\n                            packetsSent: 'packets'\n                        };\n                        if (stat.mediaType === 'video') {\n                            metrics['framesEncoded'] = (stat.framesEncoded - _this.stats.outbound.video.framesEncoded) / _this.statsInterval;\n                            units['framesEncoded'] = 'frames';\n                            _this.stats.outbound.video.framesEncoded = stat.framesEncoded;\n                        }\n                        _this.stats.outbound[stat.mediaType].bytesSent = stat.bytesSent;\n                        _this.stats.outbound[stat.mediaType].packetsSent = stat.packetsSent;\n                        json = {\n                            '@timestamp': new Date(stat.timestamp).toISOString(),\n                            'exec': instrumentation.exec,\n                            'component': instrumentation.component,\n                            'stream': 'webRtc',\n                            'et_type': metricId,\n                            'stream_type': 'composed_metrics',\n                            'units': units\n                        };\n                        json[metricId] = metrics;\n                        sendPost(JSON.stringify(json));\n                    }\n                });\n            }\n            else if ((platform.name.indexOf('Chrome') !== -1) || (platform.name.indexOf('Opera') !== -1)) {\n                for (var _i = 0, _a = Object.keys(stats); _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    var stat = stats[key];\n                    if (stat.type === 'ssrc') {\n                        var json = {};\n                        if ('bytesReceived' in stat && ((stat.mediaType === 'audio' && 'audioOutputLevel' in stat) ||\n                            (stat.mediaType === 'video' && 'qpSum' in stat))) {\n                            // inbound-rtp\n                            var metricId = 'webrtc_inbound_' + stat.mediaType + '_' + stat.ssrc;\n                            var metrics = {\n                                bytesReceived: (stat.bytesReceived - _this.stats.inbound[stat.mediaType].bytesReceived) / _this.statsInterval,\n                                jitter: stat.googJitterBufferMs,\n                                packetsReceived: (stat.packetsReceived - _this.stats.inbound[stat.mediaType].packetsReceived) / _this.statsInterval,\n                                packetsLost: (stat.packetsLost - _this.stats.inbound[stat.mediaType].packetsLost) / _this.statsInterval\n                            };\n                            var units = {\n                                bytesReceived: 'bytes',\n                                jitter: 'ms',\n                                packetsReceived: 'packets',\n                                packetsLost: 'packets'\n                            };\n                            if (stat.mediaType === 'video') {\n                                metrics['framesDecoded'] = (stat.framesDecoded - _this.stats.inbound.video.framesDecoded) / _this.statsInterval;\n                                metrics['nackCount'] = (stat.googNacksSent - _this.stats.inbound.video.nackCount) / _this.statsInterval;\n                                units['framesDecoded'] = 'frames';\n                                units['nackCount'] = 'packets';\n                                _this.stats.inbound.video.framesDecoded = stat.framesDecoded;\n                                _this.stats.inbound.video.nackCount = stat.googNacksSent;\n                            }\n                            _this.stats.inbound[stat.mediaType].bytesReceived = stat.bytesReceived;\n                            _this.stats.inbound[stat.mediaType].packetsReceived = stat.packetsReceived;\n                            _this.stats.inbound[stat.mediaType].packetsLost = stat.packetsLost;\n                            json = {\n                                '@timestamp': new Date(stat.timestamp).toISOString(),\n                                'exec': instrumentation.exec,\n                                'component': instrumentation.component,\n                                'stream': 'webRtc',\n                                'et_type': metricId,\n                                'stream_type': 'composed_metrics',\n                                'units': units\n                            };\n                            json[metricId] = metrics;\n                            sendPost(JSON.stringify(json));\n                        }\n                        else if ('bytesSent' in stat) {\n                            // outbound-rtp\n                            var metricId = 'webrtc_outbound_' + stat.mediaType + '_' + stat.ssrc;\n                            var metrics = {\n                                bytesSent: (stat.bytesSent - _this.stats.outbound[stat.mediaType].bytesSent) / _this.statsInterval,\n                                packetsSent: (stat.packetsSent - _this.stats.outbound[stat.mediaType].packetsSent) / _this.statsInterval\n                            };\n                            var units = {\n                                bytesSent: 'bytes',\n                                packetsSent: 'packets'\n                            };\n                            if (stat.mediaType === 'video') {\n                                metrics['framesEncoded'] = (stat.framesEncoded - _this.stats.outbound.video.framesEncoded) / _this.statsInterval;\n                                units['framesEncoded'] = 'frames';\n                                _this.stats.outbound.video.framesEncoded = stat.framesEncoded;\n                            }\n                            _this.stats.outbound[stat.mediaType].bytesSent = stat.bytesSent;\n                            _this.stats.outbound[stat.mediaType].packetsSent = stat.packetsSent;\n                            json = {\n                                '@timestamp': new Date(stat.timestamp).toISOString(),\n                                'exec': instrumentation.exec,\n                                'component': instrumentation.component,\n                                'stream': 'webRtc',\n                                'et_type': metricId,\n                                'stream_type': 'composed_metrics',\n                                'units': units\n                            };\n                            json[metricId] = metrics;\n                            sendPost(JSON.stringify(json));\n                        }\n                    }\n                }\n            }\n        };\n        this.getStatsAgnostic(this.stream.getRTCPeerConnection(), f, function (error) { logger.log(error); });\n    };\n    WebRtcStats.prototype.standardizeReport = function (response) {\n        logger.log(response);\n        var standardReport = {};\n        if (platform.name.indexOf('Firefox') !== -1) {\n            Object.keys(response).forEach(function (key) {\n                logger.log(response[key]);\n            });\n            return response;\n        }\n        response.result().forEach(function (report) {\n            var standardStats = {\n                id: report.id,\n                timestamp: report.timestamp,\n                type: report.type\n            };\n            report.names().forEach(function (name) {\n                standardStats[name] = report.stat(name);\n            });\n            standardReport[standardStats.id] = standardStats;\n        });\n        return standardReport;\n    };\n    WebRtcStats.prototype.getStatsAgnostic = function (pc, successCb, failureCb) {\n        var _this = this;\n        if (platform.name.indexOf('Firefox') !== -1) {\n            // getStats takes args in different order in Chrome and Firefox\n            return pc.getStats(null).then(function (response) {\n                var report = _this.standardizeReport(response);\n                successCb(report);\n            })[\"catch\"](failureCb);\n        }\n        else if ((platform.name.indexOf('Chrome') !== -1) || (platform.name.indexOf('Opera') !== -1)) {\n            // In Chrome, the first two arguments are reversed\n            return pc.getStats(function (response) {\n                var report = _this.standardizeReport(response);\n                successCb(report);\n            }, null, failureCb);\n        }\n    };\n    return WebRtcStats;\n}());\nexports.WebRtcStats = WebRtcStats;\n//# sourceMappingURL=WebRtcStats.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\n/**\n * Defines every event dispatched by audio/video stream filters. You can subscribe to filter events by calling [[Filter.addEventListener]]\n */\nvar FilterEvent = /** @class */ (function (_super) {\n    __extends(FilterEvent, _super);\n    /**\n     * @hidden\n     */\n    function FilterEvent(target, eventType, data) {\n        var _this = _super.call(this, false, target, eventType) || this;\n        _this.data = data;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    // tslint:disable-next-line:no-empty\n    FilterEvent.prototype.callDefaultBehavior = function () { };\n    return FilterEvent;\n}(Event_1.Event));\nexports.FilterEvent = FilterEvent;\n//# sourceMappingURL=FilterEvent.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","import { __decorate, __metadata, __awaiter, __param } from 'tslib';\nimport { ɵɵdefineInjectable, Injectable, ɵɵinject, ViewChild, ElementRef, Input, HostListener, Component, Inject, EventEmitter, Output, Pipe, ViewContainerRef, NgModule } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject, throwError } from 'rxjs';\nimport { OpenVidu, StreamManager } from 'openvidu-browser';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/material/snack-bar';\nimport * as ɵngcc2 from '@angular/material/button';\nimport * as ɵngcc3 from '@angular/material/icon';\nimport * as ɵngcc4 from '@angular/material/tooltip';\nimport * as ɵngcc5 from '@angular/common';\nimport * as ɵngcc6 from '@angular/forms';\nimport * as ɵngcc7 from '@angular/flex-layout/extended';\nimport * as ɵngcc8 from '@angular/material/dialog';\nimport * as ɵngcc9 from '@angular/common/http';\nimport * as ɵngcc10 from '@angular/router';\nimport * as ɵngcc11 from '@angular/material/sidenav';\nimport * as ɵngcc12 from 'ngx-linkifyjs';\nimport * as ɵngcc13 from '@angular/material/form-field';\nimport * as ɵngcc14 from '@angular/material/input';\nimport * as ɵngcc15 from '@angular/material/toolbar';\nimport * as ɵngcc16 from '@angular/flex-layout/flex';\nimport * as ɵngcc17 from '@angular/material/badge';\nimport * as ɵngcc18 from '@angular/material/progress-spinner';\nimport * as ɵngcc19 from '@angular/material/select';\nimport * as ɵngcc20 from '@angular/material/core';\n\nconst _c0 = [\"chatScroll\"];\nconst _c1 = [\"chatInput\"];\nfunction ChatComponent_div_10_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 13);\n    ɵngcc0.ɵɵelement(1, \"img\", 14);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 15);\n    ɵngcc0.ɵɵelementStart(3, \"div\", 16);\n    ɵngcc0.ɵɵelementStart(4, \"p\");\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(6, \"div\", 17);\n    ɵngcc0.ɵɵelement(7, \"span\", 18);\n    ɵngcc0.ɵɵelement(8, \"p\", 19);\n    ɵngcc0.ɵɵpipe(9, \"linkify\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const data_r3 = ctx.$implicit;\n    ɵngcc0.ɵɵproperty(\"ngClass\", data_r3.isLocal ? \"right\" : \"left\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"src\", data_r3.userAvatar, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵadvance(4);\n    ɵngcc0.ɵɵtextInterpolate(data_r3.nickname);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"innerHTML\", ɵngcc0.ɵɵpipeBind1(9, 4, data_r3.message), ɵngcc0.ɵɵsanitizeHtml);\n} }\nconst _c2 = [\"chatComponent\"];\nconst _c3 = [\"sidenav\"];\nfunction VideoRoomComponent_div_0_app_room_config_1_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"app-room-config\", 4);\n    ɵngcc0.ɵɵlistener(\"join\", function VideoRoomComponent_div_0_app_room_config_1_Template_app_room_config_join_0_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r3 = ɵngcc0.ɵɵnextContext(2); return ctx_r3.onConfigRoomJoin(); })(\"leaveSession\", function VideoRoomComponent_div_0_app_room_config_1_Template_app_room_config_leaveSession_0_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r5 = ɵngcc0.ɵɵnextContext(2); return ctx_r5.leaveSession(); })(\"publisherCreated\", function VideoRoomComponent_div_0_app_room_config_1_Template_app_room_config_publisherCreated_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r6 = ɵngcc0.ɵɵnextContext(2); return ctx_r6.emitPublisher($event); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ovSettings\", ctx_r1.ovSettings)(\"externalConfig\", ctx_r1.externalConfig);\n} }\nfunction VideoRoomComponent_div_0_div_2_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 14);\n} }\nfunction VideoRoomComponent_div_0_div_2_mat_sidenav_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-sidenav\", 15, 16);\n    ɵngcc0.ɵɵelement(2, \"chat-component\", 17, 18);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r8 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵclassProp(\"boundsLight\", ctx_r8.lightTheme);\n    ɵngcc0.ɵɵpropertyInterpolate(\"mode\", ctx_r8.sidenavMode);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"lightTheme\", ctx_r8.lightTheme);\n} }\nfunction VideoRoomComponent_div_0_div_2_div_8_Template(rf, ctx) { if (rf & 1) {\n    const _r15 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 19);\n    ɵngcc0.ɵɵelementStart(1, \"stream-component\", 20);\n    ɵngcc0.ɵɵlistener(\"nicknameClicked\", function VideoRoomComponent_div_0_div_2_div_8_Template_stream_component_nicknameClicked_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r14 = ɵngcc0.ɵɵnextContext(3); return ctx_r14.onNicknameUpdate($event); })(\"replaceScreenTrackClicked\", function VideoRoomComponent_div_0_div_2_div_8_Template_stream_component_replaceScreenTrackClicked_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r16 = ɵngcc0.ɵɵnextContext(3); return ctx_r16.onReplaceScreenTrack($event); })(\"toggleVideoSizeClicked\", function VideoRoomComponent_div_0_div_2_div_8_Template_stream_component_toggleVideoSizeClicked_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r17 = ɵngcc0.ɵɵnextContext(3); return ctx_r17.onToggleVideoSize($event); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const localUser_r13 = ctx.$implicit;\n    ɵngcc0.ɵɵstyleProp(\"display\", !(localUser_r13.streamManager == null ? null : localUser_r13.streamManager.stream == null ? null : localUser_r13.streamManager.stream.videoActive) ? \"none\" : \"block\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"user\", localUser_r13)(\"videoSizeBig\", localUser_r13.videoSizeBig);\n} }\nfunction VideoRoomComponent_div_0_div_2_div_9_Template(rf, ctx) { if (rf & 1) {\n    const _r20 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 21);\n    ɵngcc0.ɵɵelementStart(1, \"stream-component\", 22);\n    ɵngcc0.ɵɵlistener(\"toggleVideoSizeClicked\", function VideoRoomComponent_div_0_div_2_div_9_Template_stream_component_toggleVideoSizeClicked_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r20); const ctx_r19 = ɵngcc0.ɵɵnextContext(3); return ctx_r19.onToggleVideoSize($event); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const user_r18 = ctx.$implicit;\n    ɵngcc0.ɵɵstyleProp(\"display\", !(user_r18.streamManager == null ? null : user_r18.streamManager.stream == null ? null : user_r18.streamManager.stream.videoActive) ? \"none\" : \"block\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"user\", user_r18)(\"videoSizeBig\", user_r18.videoSizeBig);\n} }\nfunction VideoRoomComponent_div_0_div_2_Template(rf, ctx) { if (rf & 1) {\n    const _r22 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵtemplate(1, VideoRoomComponent_div_0_div_2_div_1_Template, 1, 0, \"div\", 5);\n    ɵngcc0.ɵɵelementStart(2, \"app-toolbar\", 6);\n    ɵngcc0.ɵɵlistener(\"camButtonClicked\", function VideoRoomComponent_div_0_div_2_Template_app_toolbar_camButtonClicked_2_listener() { ɵngcc0.ɵɵrestoreView(_r22); const ctx_r21 = ɵngcc0.ɵɵnextContext(2); return ctx_r21.toggleCam(); })(\"micButtonClicked\", function VideoRoomComponent_div_0_div_2_Template_app_toolbar_micButtonClicked_2_listener() { ɵngcc0.ɵɵrestoreView(_r22); const ctx_r23 = ɵngcc0.ɵɵnextContext(2); return ctx_r23.toggleMic(); })(\"screenShareClicked\", function VideoRoomComponent_div_0_div_2_Template_app_toolbar_screenShareClicked_2_listener() { ɵngcc0.ɵɵrestoreView(_r22); const ctx_r24 = ɵngcc0.ɵɵnextContext(2); return ctx_r24.toggleScreenShare(); })(\"layoutButtonClicked\", function VideoRoomComponent_div_0_div_2_Template_app_toolbar_layoutButtonClicked_2_listener() { ɵngcc0.ɵɵrestoreView(_r22); const ctx_r25 = ɵngcc0.ɵɵnextContext(2); return ctx_r25.toggleSpeakerLayout(); })(\"leaveSessionButtonClicked\", function VideoRoomComponent_div_0_div_2_Template_app_toolbar_leaveSessionButtonClicked_2_listener() { ɵngcc0.ɵɵrestoreView(_r22); const ctx_r26 = ɵngcc0.ɵɵnextContext(2); return ctx_r26.leaveSession(); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"mat-sidenav-container\", 7);\n    ɵngcc0.ɵɵtemplate(4, VideoRoomComponent_div_0_div_2_mat_sidenav_4_Template, 4, 4, \"mat-sidenav\", 8);\n    ɵngcc0.ɵɵpipe(5, \"hasChat\");\n    ɵngcc0.ɵɵelementStart(6, \"mat-sidenav-content\", 9);\n    ɵngcc0.ɵɵelementStart(7, \"div\", 10);\n    ɵngcc0.ɵɵtemplate(8, VideoRoomComponent_div_0_div_2_div_8_Template, 2, 4, \"div\", 11);\n    ɵngcc0.ɵɵtemplate(9, VideoRoomComponent_div_0_div_2_div_9_Template, 2, 4, \"div\", 12);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelement(10, \"app-footer\", 13);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.isConnectionLost);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"lightTheme\", ctx_r2.lightTheme)(\"compact\", ctx_r2.compact)(\"mySessionId\", ctx_r2.mySessionId)(\"ovSettings\", ctx_r2.ovSettings)(\"hasVideoDevices\", ctx_r2.hasVideoDevices)(\"hasAudioDevices\", ctx_r2.hasAudioDevices)(\"isWebcamVideoEnabled\", ctx_r2.oVSessionService.hasWebcamVideoActive())(\"isWebcamAudioEnabled\", ctx_r2.toolbarMicIconEnabled())(\"isScreenEnabled\", ctx_r2.oVSessionService.isScreenShareEnabled())(\"isAutoLayout\", ctx_r2.isAutoLayout)(\"isConnectionLost\", ctx_r2.isConnectionLost);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"boundsLight\", ctx_r2.lightTheme);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(5, 21, ctx_r2.ovSettings));\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵclassProp(\"boundsLight\", ctx_r2.lightTheme);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r2.localUsers);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r2.remoteUsers);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"lightTheme\", ctx_r2.lightTheme)(\"participants\", ctx_r2.remoteUsers);\n} }\nfunction VideoRoomComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 1);\n    ɵngcc0.ɵɵtemplate(1, VideoRoomComponent_div_0_app_room_config_1_Template, 1, 2, \"app-room-config\", 2);\n    ɵngcc0.ɵɵtemplate(2, VideoRoomComponent_div_0_div_2_Template, 11, 23, \"div\", 3);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"boundsLight\", ctx_r0.lightTheme);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.showConfigRoomCard);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.localUsers && ctx_r0.localUsers.length > 0);\n} }\nconst _c4 = [\"videoRoom\"];\nfunction OpenviduSessionComponent_app_video_room_0_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"app-video-room\", 1, 2);\n    ɵngcc0.ɵɵlistener(\"_session\", function OpenviduSessionComponent_app_video_room_0_Template_app_video_room__session_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r3); const ctx_r2 = ɵngcc0.ɵɵnextContext(); return ctx_r2.emitSession($event); })(\"_publisher\", function OpenviduSessionComponent_app_video_room_0_Template_app_video_room__publisher_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r3); const ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.emitPublisher($event); })(\"_error\", function OpenviduSessionComponent_app_video_room_0_Template_app_video_room__error_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r3); const ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.emitErrorEvent($event); })(\"_leaveSession\", function OpenviduSessionComponent_app_video_room_0_Template_app_video_room__leaveSession_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r3); const ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.emitLeaveSessionEvent($event); })(\"_joinSession\", function OpenviduSessionComponent_app_video_room_0_Template_app_video_room__joinSession_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r3); const ctx_r7 = ɵngcc0.ɵɵnextContext(); return ctx_r7.emitJoinSessionEvent($event); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"externalConfig\", ctx_r0.angularLibrary);\n} }\nconst _c5 = [\"nicknameInput\"];\nconst _c6 = [\"streamComponent\"];\nfunction StreamComponent_div_0_div_3_span_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1, \" (edit)\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction StreamComponent_div_0_div_3_Template(rf, ctx) { if (rf & 1) {\n    const _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 15);\n    ɵngcc0.ɵɵlistener(\"click\", function StreamComponent_div_0_div_3_Template_div_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r10); const ctx_r9 = ɵngcc0.ɵɵnextContext(2); return ctx_r9.toggleNicknameForm(); });\n    ɵngcc0.ɵɵelementStart(1, \"span\", 16);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(3, StreamComponent_div_0_div_3_span_3_Template, 2, 0, \"span\", 17);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r2._user.nickname);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r2._user.streamManager.remote);\n} }\nfunction StreamComponent_div_0_div_4_mat_error_8_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-error\");\n    ɵngcc0.ɵɵtext(1, \" Nickname is \");\n    ɵngcc0.ɵɵelementStart(2, \"strong\");\n    ɵngcc0.ɵɵtext(3, \"required\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction StreamComponent_div_0_div_4_mat_error_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-error\");\n    ɵngcc0.ɵɵtext(1, \" Nickname is \");\n    ɵngcc0.ɵɵelementStart(2, \"strong\");\n    ɵngcc0.ɵɵtext(3, \"too long!\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction StreamComponent_div_0_div_4_Template(rf, ctx) { if (rf & 1) {\n    const _r15 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 18);\n    ɵngcc0.ɵɵelementStart(1, \"button\", 19);\n    ɵngcc0.ɵɵlistener(\"click\", function StreamComponent_div_0_div_4_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r14 = ɵngcc0.ɵɵnextContext(2); return ctx_r14.toggleNicknameForm(); });\n    ɵngcc0.ɵɵelementStart(2, \"mat-icon\", 20);\n    ɵngcc0.ɵɵtext(3, \"highlight_off\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(4, \"form\", 21);\n    ɵngcc0.ɵɵelementStart(5, \"mat-form-field\", 22);\n    ɵngcc0.ɵɵelementStart(6, \"input\", 23, 24);\n    ɵngcc0.ɵɵlistener(\"keypress\", function StreamComponent_div_0_div_4_Template_input_keypress_6_listener($event) { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r16 = ɵngcc0.ɵɵnextContext(2); return ctx_r16.eventKeyPress($event); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(8, StreamComponent_div_0_div_4_mat_error_8_Template, 4, 0, \"mat-error\", 17);\n    ɵngcc0.ɵɵtemplate(9, StreamComponent_div_0_div_4_mat_error_9_Template, 4, 0, \"mat-error\", 17);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"fullscreen\", ctx_r3.isFullscreen);\n    ɵngcc0.ɵɵadvance(6);\n    ɵngcc0.ɵɵpropertyInterpolate1(\"placeholder\", \"Nick: \", ctx_r3._user.nickname, \"\");\n    ɵngcc0.ɵɵproperty(\"formControl\", ctx_r3.nicknameFormControl)(\"errorStateMatcher\", ctx_r3.matcher);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r3.nicknameFormControl.hasError(\"required\"));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r3.nicknameFormControl.hasError(\"maxlength\"));\n} }\nfunction StreamComponent_div_0_div_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 25);\n    ɵngcc0.ɵɵelementStart(1, \"mat-icon\");\n    ɵngcc0.ɵɵtext(2, \"mic_off\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction StreamComponent_div_0_div_8_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 26);\n    ɵngcc0.ɵɵelementStart(1, \"mat-icon\");\n    ɵngcc0.ɵɵtext(2, \"videocam_off\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction StreamComponent_div_0_button_16_mat_icon_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 30);\n    ɵngcc0.ɵɵtext(1, \"volume_up\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction StreamComponent_div_0_button_16_mat_icon_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 31);\n    ɵngcc0.ɵɵtext(1, \"volume_off\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction StreamComponent_div_0_button_16_Template(rf, ctx) { if (rf & 1) {\n    const _r20 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 27);\n    ɵngcc0.ɵɵlistener(\"click\", function StreamComponent_div_0_button_16_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r20); const ctx_r19 = ɵngcc0.ɵɵnextContext(2); return ctx_r19.toggleSound(); });\n    ɵngcc0.ɵɵtemplate(1, StreamComponent_div_0_button_16_mat_icon_1_Template, 2, 0, \"mat-icon\", 28);\n    ɵngcc0.ɵɵtemplate(2, StreamComponent_div_0_button_16_mat_icon_2_Template, 2, 0, \"mat-icon\", 29);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r6 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r6.mutedSound);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r6.mutedSound);\n} }\nfunction StreamComponent_div_0_button_17_Template(rf, ctx) { if (rf & 1) {\n    const _r22 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 32);\n    ɵngcc0.ɵɵlistener(\"click\", function StreamComponent_div_0_button_17_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r22); const ctx_r21 = ɵngcc0.ɵɵnextContext(2); return ctx_r21.replaceScreenTrack(); });\n    ɵngcc0.ɵɵelementStart(1, \"mat-icon\", 33);\n    ɵngcc0.ɵɵtext(2, \"picture_in_picture\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction StreamComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    const _r24 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 1, 2);\n    ɵngcc0.ɵɵlistener(\"dblclick\", function StreamComponent_div_0_Template_div_dblclick_0_listener() { ɵngcc0.ɵɵrestoreView(_r24); const ctx_r23 = ɵngcc0.ɵɵnextContext(); return ctx_r23.toggleVideoSize(); });\n    ɵngcc0.ɵɵelementStart(2, \"div\", 3);\n    ɵngcc0.ɵɵtemplate(3, StreamComponent_div_0_div_3_Template, 4, 2, \"div\", 4);\n    ɵngcc0.ɵɵtemplate(4, StreamComponent_div_0_div_4_Template, 10, 7, \"div\", 5);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(5, \"ov-video\", 6);\n    ɵngcc0.ɵɵlistener(\"toggleVideoSizeEvent\", function StreamComponent_div_0_Template_ov_video_toggleVideoSizeEvent_5_listener($event) { ɵngcc0.ɵɵrestoreView(_r24); const ctx_r25 = ɵngcc0.ɵɵnextContext(); return ctx_r25.toggleVideoSize($event); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(6, \"div\", 7);\n    ɵngcc0.ɵɵtemplate(7, StreamComponent_div_0_div_7_Template, 3, 0, \"div\", 8);\n    ɵngcc0.ɵɵtemplate(8, StreamComponent_div_0_div_8_Template, 3, 0, \"div\", 9);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(9, \"div\", 10);\n    ɵngcc0.ɵɵelementStart(10, \"button\", 11);\n    ɵngcc0.ɵɵlistener(\"click\", function StreamComponent_div_0_Template_button_click_10_listener() { ɵngcc0.ɵɵrestoreView(_r24); const ctx_r26 = ɵngcc0.ɵɵnextContext(); return ctx_r26.toggleVideoSize(); });\n    ɵngcc0.ɵɵelementStart(11, \"mat-icon\");\n    ɵngcc0.ɵɵtext(12);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(13, \"button\", 12);\n    ɵngcc0.ɵɵlistener(\"click\", function StreamComponent_div_0_Template_button_click_13_listener() { ɵngcc0.ɵɵrestoreView(_r24); const ctx_r27 = ɵngcc0.ɵɵnextContext(); return ctx_r27.toggleFullscreen(); });\n    ɵngcc0.ɵɵelementStart(14, \"mat-icon\");\n    ɵngcc0.ɵɵtext(15);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(16, StreamComponent_div_0_button_16_Template, 3, 2, \"button\", 13);\n    ɵngcc0.ɵɵtemplate(17, StreamComponent_div_0_button_17_Template, 3, 0, \"button\", 14);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"id\", \"container-\" + ctx_r0._user.streamManager.stream.streamId);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵclassProp(\"fullscreen\", ctx_r0.isFullscreen);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.toggleNickname);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.toggleNickname && !ctx_r0._user.streamManager.remote);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"streamManager\", ctx_r0._user.streamManager)(\"mutedSound\", ctx_r0.mutedSound);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0._user.streamManager.stream.audioActive);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0._user.streamManager.stream.videoActive);\n    ɵngcc0.ɵɵadvance(4);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.videoSizeIcon);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.fullscreenIcon);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0._user.streamManager.remote);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0._user.streamManager.remote && ctx_r0._user.isScreen());\n} }\nconst _c7 = [\"videoElement\"];\nfunction ToolbarComponent_button_5_mat_icon_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 14);\n    ɵngcc0.ɵɵtext(1, \"mic\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_5_mat_icon_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 15);\n    ɵngcc0.ɵɵtext(1, \"mic_off\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_5_Template(rf, ctx) { if (rf & 1) {\n    const _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 11);\n    ɵngcc0.ɵɵlistener(\"click\", function ToolbarComponent_button_5_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r10); const ctx_r9 = ɵngcc0.ɵɵnextContext(); return ctx_r9.toggleMicrophone(); });\n    ɵngcc0.ɵɵtemplate(1, ToolbarComponent_button_5_mat_icon_1_Template, 2, 0, \"mat-icon\", 12);\n    ɵngcc0.ɵɵtemplate(2, ToolbarComponent_button_5_mat_icon_2_Template, 2, 0, \"mat-icon\", 13);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"disabled\", ctx_r0.isConnectionLost);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.isWebcamAudioEnabled);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.isWebcamAudioEnabled);\n} }\nfunction ToolbarComponent_button_7_mat_icon_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 19);\n    ɵngcc0.ɵɵtext(1, \"videocam\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_7_mat_icon_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 20);\n    ɵngcc0.ɵɵtext(1, \"videocam_off\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_7_Template(rf, ctx) { if (rf & 1) {\n    const _r14 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 16);\n    ɵngcc0.ɵɵlistener(\"click\", function ToolbarComponent_button_7_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r14); const ctx_r13 = ɵngcc0.ɵɵnextContext(); return ctx_r13.toggleCamera(); });\n    ɵngcc0.ɵɵtemplate(1, ToolbarComponent_button_7_mat_icon_1_Template, 2, 0, \"mat-icon\", 17);\n    ɵngcc0.ɵɵtemplate(2, ToolbarComponent_button_7_mat_icon_2_Template, 2, 0, \"mat-icon\", 18);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"disabled\", ctx_r1.isConnectionLost);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.isWebcamVideoEnabled);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.isWebcamVideoEnabled);\n} }\nfunction ToolbarComponent_button_9_mat_icon_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 24);\n    ɵngcc0.ɵɵtext(1, \"stop_screen_share\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_9_mat_icon_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 25);\n    ɵngcc0.ɵɵtext(1, \"screen_share\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_9_Template(rf, ctx) { if (rf & 1) {\n    const _r18 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 21);\n    ɵngcc0.ɵɵlistener(\"click\", function ToolbarComponent_button_9_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r18); const ctx_r17 = ɵngcc0.ɵɵnextContext(); return ctx_r17.toggleScreenShare(); });\n    ɵngcc0.ɵɵtemplate(1, ToolbarComponent_button_9_mat_icon_1_Template, 2, 0, \"mat-icon\", 22);\n    ɵngcc0.ɵɵtemplate(2, ToolbarComponent_button_9_mat_icon_2_Template, 2, 0, \"mat-icon\", 23);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"disabled\", ctx_r2.isConnectionLost);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r2.isScreenEnabled);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.isScreenEnabled);\n} }\nfunction ToolbarComponent_button_11_Template(rf, ctx) { if (rf & 1) {\n    const _r20 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 26);\n    ɵngcc0.ɵɵlistener(\"click\", function ToolbarComponent_button_11_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r20); const ctx_r19 = ɵngcc0.ɵɵnextContext(); return ctx_r19.toggleFullscreen(); });\n    ɵngcc0.ɵɵelementStart(1, \"mat-icon\", 27);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"disabled\", ctx_r3.isConnectionLost);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r3.fullscreenIcon);\n} }\nfunction ToolbarComponent_button_13_mat_icon_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 30);\n    ɵngcc0.ɵɵtext(1, \"voice_over_off\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_13_mat_icon_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 31);\n    ɵngcc0.ɵɵtext(1, \"record_voice_over\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_13_Template(rf, ctx) { if (rf & 1) {\n    const _r24 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 26);\n    ɵngcc0.ɵɵlistener(\"click\", function ToolbarComponent_button_13_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r24); const ctx_r23 = ɵngcc0.ɵɵnextContext(); return ctx_r23.toggleSpeakerLayout(); });\n    ɵngcc0.ɵɵtemplate(1, ToolbarComponent_button_13_mat_icon_1_Template, 2, 0, \"mat-icon\", 28);\n    ɵngcc0.ɵɵtemplate(2, ToolbarComponent_button_13_mat_icon_2_Template, 2, 0, \"mat-icon\", 29);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"disabled\", ctx_r4.isConnectionLost);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r4.isAutoLayout);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r4.isAutoLayout);\n} }\nfunction ToolbarComponent_button_15_Template(rf, ctx) { if (rf & 1) {\n    const _r26 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 32);\n    ɵngcc0.ɵɵlistener(\"click\", function ToolbarComponent_button_15_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r26); const ctx_r25 = ɵngcc0.ɵɵnextContext(); return ctx_r25.leaveSession(); });\n    ɵngcc0.ɵɵelementStart(1, \"mat-icon\", 33);\n    ɵngcc0.ɵɵtext(2, \"power_settings_new\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction ToolbarComponent_button_18_Template(rf, ctx) { if (rf & 1) {\n    const _r28 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 26);\n    ɵngcc0.ɵɵlistener(\"click\", function ToolbarComponent_button_18_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r28); const ctx_r27 = ɵngcc0.ɵɵnextContext(); return ctx_r27.toggleChat(); });\n    ɵngcc0.ɵɵelementStart(1, \"mat-icon\", 34);\n    ɵngcc0.ɵɵtext(2, \"chat\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r6 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"disabled\", ctx_r6.isConnectionLost);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵpropertyInterpolate(\"matBadge\", ctx_r6.newMessagesNum);\n    ɵngcc0.ɵɵproperty(\"matBadgeHidden\", ctx_r6.newMessagesNum === 0);\n} }\nconst _c8 = function (a1, a2) { return { \"titleContent\": true, \"titleContentLight\": a1, \"titleContentDark\": a2 }; };\nfunction ToolbarLogoComponent_div_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 3);\n    ɵngcc0.ɵɵelementStart(1, \"span\", 4);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction2(2, _c8, ctx_r0.lightTheme, !ctx_r0.lightTheme));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.sessionId);\n} }\nconst _c9 = [\"bodyCard\"];\nfunction RoomConfigComponent_div_2_div_16_ov_video_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"ov-video\", 38);\n} if (rf & 2) {\n    const ctx_r13 = ɵngcc0.ɵɵnextContext();\n    const localUser_r9 = ctx_r13.$implicit;\n    const i_r10 = ctx_r13.index;\n    const ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"streamManager\", localUser_r9.streamManager)(\"className\", ctx_r11.localUsers.length > 1 && i_r10 === 0 ? \"ovVideoSmall\" : \"\");\n} }\nfunction RoomConfigComponent_div_2_div_16_div_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 39);\n    ɵngcc0.ɵɵelementStart(1, \"span\");\n    ɵngcc0.ɵɵtext(2, \"Oops! Camera is not available\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_16_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵtemplate(1, RoomConfigComponent_div_2_div_16_ov_video_1_Template, 1, 2, \"ov-video\", 36);\n    ɵngcc0.ɵɵtemplate(2, RoomConfigComponent_div_2_div_16_div_2_Template, 3, 0, \"div\", 37);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const localUser_r9 = ctx.$implicit;\n    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", localUser_r9.isCamera() && ctx_r2.hasVideoDevices || localUser_r9.isScreen());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", localUser_r9.isCamera() && !ctx_r2.hasVideoDevices);\n} }\nfunction RoomConfigComponent_div_2_div_27_div_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 46);\n    ɵngcc0.ɵɵelementStart(1, \"span\");\n    ɵngcc0.ɵɵtext(2, \"Press Avatar Button\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_27_img_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 47);\n} if (rf & 2) {\n    const ctx_r15 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r15.videoAvatar, ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction RoomConfigComponent_div_2_div_27_mat_spinner_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"mat-spinner\", 48);\n} if (rf & 2) {\n    ɵngcc0.ɵɵproperty(\"diameter\", 70);\n} }\nfunction RoomConfigComponent_div_2_div_27_img_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 47);\n} if (rf & 2) {\n    const ctx_r17 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r17.randomAvatar, ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction RoomConfigComponent_div_2_div_27_Template(rf, ctx) { if (rf & 1) {\n    const _r19 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 40);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 41);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 42);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_div_27_Template_div_click_2_listener() { ɵngcc0.ɵɵrestoreView(_r19); const ctx_r18 = ɵngcc0.ɵɵnextContext(2); return ctx_r18.setAvatar(\"video\"); });\n    ɵngcc0.ɵɵtemplate(3, RoomConfigComponent_div_2_div_27_div_3_Template, 3, 0, \"div\", 43);\n    ɵngcc0.ɵɵtemplate(4, RoomConfigComponent_div_2_div_27_img_4_Template, 1, 1, \"img\", 44);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(5, \"div\", 42);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_div_27_Template_div_click_5_listener() { ɵngcc0.ɵɵrestoreView(_r19); const ctx_r20 = ɵngcc0.ɵɵnextContext(2); return ctx_r20.setAvatar(\"random\"); });\n    ɵngcc0.ɵɵtemplate(6, RoomConfigComponent_div_2_div_27_mat_spinner_6_Template, 1, 1, \"mat-spinner\", 45);\n    ɵngcc0.ɵɵtemplate(7, RoomConfigComponent_div_2_div_27_img_7_Template, 1, 1, \"img\", 44);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵstyleProp(\"background\", ctx_r3.avatarSelected === \"video\" ? \"lightgreen\" : \"transparent\", ɵngcc0.ɵɵdefaultStyleSanitizer);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r3.videoAvatar);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r3.videoAvatar);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"background\", ctx_r3.avatarSelected === \"random\" ? \"lightgreen\" : \"transparent\", ɵngcc0.ɵɵdefaultStyleSanitizer);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r3.randomAvatar);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r3.randomAvatar);\n} }\nfunction RoomConfigComponent_div_2_mat_error_38_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-error\");\n    ɵngcc0.ɵɵtext(1, \" Nickname is \");\n    ɵngcc0.ɵɵelementStart(2, \"strong\");\n    ɵngcc0.ɵɵtext(3, \"required\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_mat_error_39_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-error\");\n    ɵngcc0.ɵɵtext(1, \" Nickname is \");\n    ɵngcc0.ɵɵelementStart(2, \"strong\");\n    ɵngcc0.ɵɵtext(3, \"too long!\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_40_mat_icon_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 55);\n    ɵngcc0.ɵɵtext(1, \"mic\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_40_mat_icon_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 56);\n    ɵngcc0.ɵɵtext(1, \"mic_off\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_40_mat_option_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-option\", 57);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const microphone_r24 = ctx.$implicit;\n    ɵngcc0.ɵɵproperty(\"value\", microphone_r24.device);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", microphone_r24.label, \" \");\n} }\nfunction RoomConfigComponent_div_2_div_40_Template(rf, ctx) { if (rf & 1) {\n    const _r26 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 24);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 25);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 26);\n    ɵngcc0.ɵɵelementStart(3, \"button\", 49);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_div_40_Template_button_click_3_listener() { ɵngcc0.ɵɵrestoreView(_r26); const ctx_r25 = ɵngcc0.ɵɵnextContext(2); return ctx_r25.toggleMic(); });\n    ɵngcc0.ɵɵtemplate(4, RoomConfigComponent_div_2_div_40_mat_icon_4_Template, 2, 0, \"mat-icon\", 50);\n    ɵngcc0.ɵɵtemplate(5, RoomConfigComponent_div_2_div_40_mat_icon_5_Template, 2, 0, \"mat-icon\", 51);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(6, \"div\", 29);\n    ɵngcc0.ɵɵelementStart(7, \"mat-form-field\", 52);\n    ɵngcc0.ɵɵelementStart(8, \"mat-select\", 53);\n    ɵngcc0.ɵɵlistener(\"selectionChange\", function RoomConfigComponent_div_2_div_40_Template_mat_select_selectionChange_8_listener($event) { ɵngcc0.ɵɵrestoreView(_r26); const ctx_r27 = ɵngcc0.ɵɵnextContext(2); return ctx_r27.onMicrophoneSelected($event); });\n    ɵngcc0.ɵɵtemplate(9, RoomConfigComponent_div_2_div_40_mat_option_9_Template, 2, 2, \"mat-option\", 54);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r6 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(4);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r6.isAudioActive);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r6.isAudioActive);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngModel\", ctx_r6.isAudioActive && ctx_r6.micSelected ? ctx_r6.micSelected.device : \"None\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r6.microphones);\n} }\nfunction RoomConfigComponent_div_2_div_42_mat_icon_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 62);\n    ɵngcc0.ɵɵtext(1, \"videocam\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_42_mat_icon_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 63);\n    ɵngcc0.ɵɵtext(1, \"videocam_off\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_42_mat_option_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-option\", 57);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const camera_r31 = ctx.$implicit;\n    ɵngcc0.ɵɵproperty(\"value\", camera_r31.device);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", camera_r31.label, \" \");\n} }\nfunction RoomConfigComponent_div_2_div_42_Template(rf, ctx) { if (rf & 1) {\n    const _r33 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 24);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 25);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 26);\n    ɵngcc0.ɵɵelementStart(3, \"button\", 58);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_div_42_Template_button_click_3_listener() { ɵngcc0.ɵɵrestoreView(_r33); const ctx_r32 = ɵngcc0.ɵɵnextContext(2); return ctx_r32.toggleCam(); });\n    ɵngcc0.ɵɵtemplate(4, RoomConfigComponent_div_2_div_42_mat_icon_4_Template, 2, 0, \"mat-icon\", 59);\n    ɵngcc0.ɵɵtemplate(5, RoomConfigComponent_div_2_div_42_mat_icon_5_Template, 2, 0, \"mat-icon\", 60);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(6, \"div\", 29);\n    ɵngcc0.ɵɵelementStart(7, \"mat-form-field\", 52);\n    ɵngcc0.ɵɵelementStart(8, \"mat-select\", 61);\n    ɵngcc0.ɵɵlistener(\"selectionChange\", function RoomConfigComponent_div_2_div_42_Template_mat_select_selectionChange_8_listener($event) { ɵngcc0.ɵɵrestoreView(_r33); const ctx_r34 = ɵngcc0.ɵɵnextContext(2); return ctx_r34.onCameraSelected($event); });\n    ɵngcc0.ɵɵtemplate(9, RoomConfigComponent_div_2_div_42_mat_option_9_Template, 2, 2, \"mat-option\", 54);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(4);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.isVideoActive);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r7.isVideoActive);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngModel\", ctx_r7.isVideoActive && ctx_r7.camSelected ? ctx_r7.camSelected.device : \"None\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r7.cameras);\n} }\nfunction RoomConfigComponent_div_2_div_44_mat_icon_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 68);\n    ɵngcc0.ɵɵtext(1, \"screen_share\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_44_mat_icon_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-icon\", 69);\n    ɵngcc0.ɵɵtext(1, \" stop_screen_share\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction RoomConfigComponent_div_2_div_44_Template(rf, ctx) { if (rf & 1) {\n    const _r38 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 24);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 25);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 26);\n    ɵngcc0.ɵɵelementStart(3, \"button\", 64);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_div_44_Template_button_click_3_listener() { ɵngcc0.ɵɵrestoreView(_r38); const ctx_r37 = ɵngcc0.ɵɵnextContext(2); return ctx_r37.toggleScreenShare(); });\n    ɵngcc0.ɵɵtemplate(4, RoomConfigComponent_div_2_div_44_mat_icon_4_Template, 2, 0, \"mat-icon\", 65);\n    ɵngcc0.ɵɵtemplate(5, RoomConfigComponent_div_2_div_44_mat_icon_5_Template, 2, 0, \"mat-icon\", 66);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(6, \"div\", 29);\n    ɵngcc0.ɵɵelementStart(7, \"mat-form-field\", 52);\n    ɵngcc0.ɵɵelement(8, \"input\", 67);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r8 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(4);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r8.oVSessionService.isScreenShareEnabled());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r8.oVSessionService.isScreenShareEnabled());\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngModel\", ctx_r8.oVSessionService.isScreenShareEnabled() ? \"Screen\" : \"None\");\n} }\nfunction RoomConfigComponent_div_2_Template(rf, ctx) { if (rf & 1) {\n    const _r40 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 2);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 3);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 4);\n    ɵngcc0.ɵɵelementStart(3, \"div\", 5);\n    ɵngcc0.ɵɵelementStart(4, \"div\", 6);\n    ɵngcc0.ɵɵelement(5, \"img\", 7);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(6, \"h3\", 8);\n    ɵngcc0.ɵɵtext(7);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(8, \"button\", 9);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_Template_button_click_8_listener() { ɵngcc0.ɵɵrestoreView(_r40); const ctx_r39 = ɵngcc0.ɵɵnextContext(); return ctx_r39.close(); });\n    ɵngcc0.ɵɵelementStart(9, \"mat-icon\", 10);\n    ɵngcc0.ɵɵtext(10, \"highlight_off\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(11, \"div\", 11, 12);\n    ɵngcc0.ɵɵelementStart(13, \"div\", 13);\n    ɵngcc0.ɵɵelementStart(14, \"div\", 14);\n    ɵngcc0.ɵɵelementStart(15, \"div\", 15);\n    ɵngcc0.ɵɵtemplate(16, RoomConfigComponent_div_2_div_16_Template, 3, 2, \"div\", 16);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(17, \"div\", 17);\n    ɵngcc0.ɵɵelementStart(18, \"button\", 18);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_Template_button_click_18_listener() { ɵngcc0.ɵɵrestoreView(_r40); const ctx_r41 = ɵngcc0.ɵɵnextContext(); return ctx_r41.takePhoto(); });\n    ɵngcc0.ɵɵelementStart(19, \"mat-icon\", 19);\n    ɵngcc0.ɵɵtext(20, \"photo_camera\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(21, \"span\", 20);\n    ɵngcc0.ɵɵtext(22, \"Capture Avatar\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(23, \"div\", 21);\n    ɵngcc0.ɵɵelementStart(24, \"div\", 22);\n    ɵngcc0.ɵɵelementStart(25, \"h3\");\n    ɵngcc0.ɵɵtext(26, \"Avatar\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(27, RoomConfigComponent_div_2_div_27_Template, 8, 8, \"div\", 23);\n    ɵngcc0.ɵɵelementStart(28, \"div\", 24);\n    ɵngcc0.ɵɵelementStart(29, \"div\", 25);\n    ɵngcc0.ɵɵelementStart(30, \"div\", 26);\n    ɵngcc0.ɵɵelementStart(31, \"button\", 27);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_Template_button_click_31_listener() { ɵngcc0.ɵɵrestoreView(_r40); const ctx_r42 = ɵngcc0.ɵɵnextContext(); return ctx_r42.setNicknameForm(); });\n    ɵngcc0.ɵɵelementStart(32, \"mat-icon\", 28);\n    ɵngcc0.ɵɵtext(33, \"person\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(34, \"div\", 29);\n    ɵngcc0.ɵɵelementStart(35, \"form\", 30);\n    ɵngcc0.ɵɵelementStart(36, \"mat-form-field\");\n    ɵngcc0.ɵɵelementStart(37, \"input\", 31);\n    ɵngcc0.ɵɵlistener(\"keypress\", function RoomConfigComponent_div_2_Template_input_keypress_37_listener($event) { ɵngcc0.ɵɵrestoreView(_r40); const ctx_r43 = ɵngcc0.ɵɵnextContext(); return ctx_r43.eventKeyPress($event); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(38, RoomConfigComponent_div_2_mat_error_38_Template, 4, 0, \"mat-error\", 32);\n    ɵngcc0.ɵɵtemplate(39, RoomConfigComponent_div_2_mat_error_39_Template, 4, 0, \"mat-error\", 32);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(40, RoomConfigComponent_div_2_div_40_Template, 10, 4, \"div\", 33);\n    ɵngcc0.ɵɵpipe(41, \"hasAudio\");\n    ɵngcc0.ɵɵtemplate(42, RoomConfigComponent_div_2_div_42_Template, 10, 4, \"div\", 33);\n    ɵngcc0.ɵɵpipe(43, \"hasVideo\");\n    ɵngcc0.ɵɵtemplate(44, RoomConfigComponent_div_2_div_44_Template, 9, 3, \"div\", 33);\n    ɵngcc0.ɵɵpipe(45, \"hasScreenSharing\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(46, \"div\", 34);\n    ɵngcc0.ɵɵelementStart(47, \"button\", 35);\n    ɵngcc0.ɵɵlistener(\"click\", function RoomConfigComponent_div_2_Template_button_click_47_listener() { ɵngcc0.ɵɵrestoreView(_r40); const ctx_r44 = ɵngcc0.ɵɵnextContext(); return ctx_r44.joinSession(); });\n    ɵngcc0.ɵɵtext(48, \"JOIN\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(7);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.mySessionId);\n    ɵngcc0.ɵɵadvance(9);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r0.localUsers);\n    ɵngcc0.ɵɵadvance(11);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.hasVideoDevices);\n    ɵngcc0.ɵɵadvance(10);\n    ɵngcc0.ɵɵproperty(\"formControl\", ctx_r0.nicknameFormControl)(\"errorStateMatcher\", ctx_r0.matcher);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.nicknameFormControl.hasError(\"required\"));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.nicknameFormControl.hasError(\"maxlength\"));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.hasAudioDevices && ɵngcc0.ɵɵpipeBind1(41, 10, ctx_r0.ovSettings));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.hasVideoDevices && ɵngcc0.ɵɵpipeBind1(43, 12, ctx_r0.ovSettings));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(45, 14, ctx_r0.ovSettings));\n} }\nconst _c10 = function (a0) { return { display: a0 }; };\nexport * from 'openvidu-browser';\nimport { MatSnackBar, MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialog, MatDialogModule } from '@angular/material/dialog';\nimport { HttpHeaders, HttpClient, HttpClientModule } from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { MatSidenav, MatSidenavModule } from '@angular/material/sidenav';\nimport { CommonModule } from '@angular/common';\nimport { FormControl, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatOptionModule } from '@angular/material/core';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { NgxLinkifyjsService, NgxLinkifyjsModule } from 'ngx-linkifyjs';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nclass OpenViduLayout {\n    /**\n     * Update the layout container\n     */\n    updateLayout() {\n        setTimeout(() => {\n            if (this.layoutContainer.style.display === 'none') {\n                return;\n            }\n            let id = this.layoutContainer.id;\n            if (!id) {\n                id = 'OT_' + this.cheapUUID();\n                this.layoutContainer.id = id;\n            }\n            const HEIGHT = this.getHeight(this.layoutContainer) -\n                this.getCSSNumber(this.layoutContainer, 'borderTop') -\n                this.getCSSNumber(this.layoutContainer, 'borderBottom');\n            const WIDTH = this.getWidth(this.layoutContainer) -\n                this.getCSSNumber(this.layoutContainer, 'borderLeft') -\n                this.getCSSNumber(this.layoutContainer, 'borderRight');\n            const availableRatio = HEIGHT / WIDTH;\n            let offsetLeft = 0;\n            let offsetTop = 0;\n            let bigOffsetTop = 0;\n            let bigOffsetLeft = 0;\n            const bigOnes = Array.prototype.filter.call(this.layoutContainer.querySelectorAll('#' + id + '>.' + this.opts.bigClass), this.filterDisplayNone);\n            const smallOnes = Array.prototype.filter.call(this.layoutContainer.querySelectorAll('#' + id + '>*:not(.' + this.opts.bigClass + ')'), this.filterDisplayNone);\n            if (bigOnes.length > 0 && smallOnes.length > 0) {\n                let bigWidth, bigHeight;\n                if (availableRatio > this.getVideoRatio(bigOnes[0])) {\n                    // We are tall, going to take up the whole width and arrange small\n                    // guys at the bottom\n                    bigWidth = WIDTH;\n                    bigHeight = Math.floor(HEIGHT * this.opts.bigPercentage);\n                    offsetTop = bigHeight;\n                    bigOffsetTop = HEIGHT - offsetTop;\n                }\n                else {\n                    // We are wide, going to take up the whole height and arrange the small\n                    // guys on the right\n                    bigHeight = HEIGHT;\n                    bigWidth = Math.floor(WIDTH * this.opts.bigPercentage);\n                    offsetLeft = bigWidth;\n                    bigOffsetLeft = WIDTH - offsetLeft;\n                }\n                if (this.opts.bigFirst) {\n                    this.arrange(bigOnes, bigWidth, bigHeight, 0, 0, this.opts.bigFixedRatio, this.opts.bigMinRatio, this.opts.bigMaxRatio, this.opts.animate);\n                    this.arrange(smallOnes, WIDTH - offsetLeft, HEIGHT - offsetTop, offsetLeft, offsetTop, this.opts.fixedRatio, this.opts.minRatio, this.opts.maxRatio, this.opts.animate);\n                }\n                else {\n                    this.arrange(smallOnes, WIDTH - offsetLeft, HEIGHT - offsetTop, 0, 0, this.opts.fixedRatio, this.opts.minRatio, this.opts.maxRatio, this.opts.animate);\n                    this.arrange(bigOnes, bigWidth, bigHeight, bigOffsetLeft, bigOffsetTop, this.opts.bigFixedRatio, this.opts.bigMinRatio, this.opts.bigMaxRatio, this.opts.animate);\n                }\n            }\n            else if (bigOnes.length > 0 && smallOnes.length === 0) {\n                this\n                    // We only have one bigOne just center it\n                    .arrange(bigOnes, WIDTH, HEIGHT, 0, 0, this.opts.bigFixedRatio, this.opts.bigMinRatio, this.opts.bigMaxRatio, this.opts.animate);\n            }\n            else {\n                this.arrange(smallOnes, WIDTH - offsetLeft, HEIGHT - offsetTop, offsetLeft, offsetTop, this.opts.fixedRatio, this.opts.minRatio, this.opts.maxRatio, this.opts.animate);\n            }\n        }, 50);\n    }\n    /**\n     * Initialize the layout inside of the container with the options required\n     * @param container\n     * @param opts\n     */\n    initLayoutContainer(container, opts) {\n        this.opts = {\n            maxRatio: opts.maxRatio != null ? opts.maxRatio : 3 / 2,\n            minRatio: opts.minRatio != null ? opts.minRatio : 9 / 16,\n            fixedRatio: opts.fixedRatio != null ? opts.fixedRatio : false,\n            animate: opts.animate != null ? opts.animate : false,\n            bigClass: opts.bigClass != null ? opts.bigClass : 'OT_big',\n            bigPercentage: opts.bigPercentage != null ? opts.bigPercentage : 0.8,\n            bigFixedRatio: opts.bigFixedRatio != null ? opts.bigFixedRatio : false,\n            bigMaxRatio: opts.bigMaxRatio != null ? opts.bigMaxRatio : 3 / 2,\n            bigMinRatio: opts.bigMinRatio != null ? opts.bigMinRatio : 9 / 16,\n            bigFirst: opts.bigFirst != null ? opts.bigFirst : true\n        };\n        this.layoutContainer = typeof container === 'string' ? $(container) : container;\n    }\n    /**\n     * Set the layout configuration\n     * @param options\n     */\n    setLayoutOptions(options) {\n        this.opts = options;\n    }\n    /**\n     * @hidden\n     */\n    fixAspectRatio(elem, width) {\n        const sub = elem.querySelector('.OT_root');\n        if (sub) {\n            // If this is the parent of a subscriber or publisher then we need\n            // to force the mutation observer on the publisher or subscriber to\n            // trigger to get it to fix it's layout\n            const oldWidth = sub.style.width;\n            sub.style.width = width + 'px';\n            // sub.style.height = height + 'px';\n            sub.style.width = oldWidth || '';\n        }\n    }\n    /**\n     * @hidden\n     */\n    positionElement(elem, x, y, width, height, animate) {\n        const targetPosition = {\n            left: x + 'px',\n            top: y + 'px',\n            width: width + 'px',\n            height: height + 'px'\n        };\n        this.fixAspectRatio(elem, width);\n        if (animate && $) {\n            $(elem).stop();\n            $(elem).animate(targetPosition, animate.duration || 200, animate.easing || 'swing', () => {\n                this.fixAspectRatio(elem, width);\n                if (animate.complete) {\n                    animate.complete.call(this);\n                }\n            });\n        }\n        else {\n            $(elem).css(targetPosition);\n        }\n        this.fixAspectRatio(elem, width);\n    }\n    /**\n     * @hidden\n     */\n    getVideoRatio(elem) {\n        if (!elem) {\n            return 3 / 4;\n        }\n        const video = elem.querySelector('video');\n        if (video && video.videoHeight && video.videoWidth) {\n            return video.videoHeight / video.videoWidth;\n        }\n        else if (elem.videoHeight && elem.videoWidth) {\n            return elem.videoHeight / elem.videoWidth;\n        }\n        return 3 / 4;\n    }\n    /**\n     * @hidden\n     */\n    getCSSNumber(elem, prop) {\n        const cssStr = $(elem).css(prop);\n        return cssStr ? parseInt(cssStr, 10) : 0;\n    }\n    /**\n     * @hidden\n     */\n    // Really cheap UUID function\n    cheapUUID() {\n        return (Math.random() * 100000000).toFixed(0);\n    }\n    /**\n     * @hidden\n     */\n    getHeight(elem) {\n        const heightStr = $(elem).css('height');\n        return heightStr ? parseInt(heightStr, 10) : 0;\n    }\n    /**\n     * @hidden\n     */\n    getWidth(elem) {\n        const widthStr = $(elem).css('width');\n        return widthStr ? parseInt(widthStr, 10) : 0;\n    }\n    /**\n     * @hidden\n     */\n    getBestDimensions(minR, maxR, count, WIDTH, HEIGHT, targetHeight) {\n        let maxArea, targetCols, targetRows, targetWidth, tWidth, tHeight, tRatio;\n        // Iterate through every possible combination of rows and columns\n        // and see which one has the least amount of whitespace\n        for (let i = 1; i <= count; i++) {\n            const colsAux = i;\n            const rowsAux = Math.ceil(count / colsAux);\n            // Try taking up the whole height and width\n            tHeight = Math.floor(HEIGHT / rowsAux);\n            tWidth = Math.floor(WIDTH / colsAux);\n            tRatio = tHeight / tWidth;\n            if (tRatio > maxR) {\n                // We went over decrease the height\n                tRatio = maxR;\n                tHeight = tWidth * tRatio;\n            }\n            else if (tRatio < minR) {\n                // We went under decrease the width\n                tRatio = minR;\n                tWidth = tHeight / tRatio;\n            }\n            const area = tWidth * tHeight * count;\n            // If this width and height takes up the most space then we're going with that\n            if (maxArea === undefined || area > maxArea) {\n                maxArea = area;\n                targetHeight = tHeight;\n                targetWidth = tWidth;\n                targetCols = colsAux;\n                targetRows = rowsAux;\n            }\n        }\n        return {\n            maxArea: maxArea,\n            targetCols: targetCols,\n            targetRows: targetRows,\n            targetHeight: targetHeight,\n            targetWidth: targetWidth,\n            ratio: targetHeight / targetWidth\n        };\n    }\n    /**\n     * @hidden\n     */\n    arrange(children, WIDTH, HEIGHT, offsetLeft, offsetTop, fixedRatio, minRatio, maxRatio, animate) {\n        let targetHeight;\n        const count = children.length;\n        let dimensions;\n        if (!fixedRatio) {\n            dimensions = this.getBestDimensions(minRatio, maxRatio, count, WIDTH, HEIGHT, targetHeight);\n        }\n        else {\n            // Use the ratio of the first video element we find to approximate\n            const ratio = this.getVideoRatio(children.length > 0 ? children[0] : null);\n            dimensions = this.getBestDimensions(ratio, ratio, count, WIDTH, HEIGHT, targetHeight);\n        }\n        // Loop through each stream in the container and place it inside\n        let x = 0, y = 0;\n        const rows = [];\n        let row;\n        // Iterate through the children and create an array with a new item for each row\n        // and calculate the width of each row so that we know if we go over the size and need\n        // to adjust\n        for (let i = 0; i < children.length; i++) {\n            if (i % dimensions.targetCols === 0) {\n                // This is a new row\n                row = {\n                    children: [],\n                    width: 0,\n                    height: 0\n                };\n                rows.push(row);\n            }\n            const elem = children[i];\n            row.children.push(elem);\n            let targetWidth = dimensions.targetWidth;\n            targetHeight = dimensions.targetHeight;\n            // If we're using a fixedRatio then we need to set the correct ratio for this element\n            if (fixedRatio) {\n                targetWidth = targetHeight / this.getVideoRatio(elem);\n            }\n            row.width += targetWidth;\n            row.height = targetHeight;\n        }\n        // Calculate total row height adjusting if we go too wide\n        let totalRowHeight = 0;\n        let remainingShortRows = 0;\n        for (let i = 0; i < rows.length; i++) {\n            row = rows[i];\n            if (row.width > WIDTH) {\n                // Went over on the width, need to adjust the height proportionally\n                row.height = Math.floor(row.height * (WIDTH / row.width));\n                row.width = WIDTH;\n            }\n            else if (row.width < WIDTH) {\n                remainingShortRows += 1;\n            }\n            totalRowHeight += row.height;\n        }\n        if (totalRowHeight < HEIGHT && remainingShortRows > 0) {\n            // We can grow some of the rows, we're not taking up the whole height\n            let remainingHeightDiff = HEIGHT - totalRowHeight;\n            totalRowHeight = 0;\n            for (let i = 0; i < rows.length; i++) {\n                row = rows[i];\n                if (row.width < WIDTH) {\n                    // Evenly distribute the extra height between the short rows\n                    let extraHeight = remainingHeightDiff / remainingShortRows;\n                    if (extraHeight / row.height > (WIDTH - row.width) / row.width) {\n                        // We can't go that big or we'll go too wide\n                        extraHeight = Math.floor(((WIDTH - row.width) / row.width) * row.height);\n                    }\n                    row.width += Math.floor((extraHeight / row.height) * row.width);\n                    row.height += extraHeight;\n                    remainingHeightDiff -= extraHeight;\n                    remainingShortRows -= 1;\n                }\n                totalRowHeight += row.height;\n            }\n        }\n        // vertical centering\n        y = (HEIGHT - totalRowHeight) / 2;\n        // Iterate through each row and place each child\n        for (let i = 0; i < rows.length; i++) {\n            row = rows[i];\n            // center the row\n            const rowMarginLeft = (WIDTH - row.width) / 2;\n            x = rowMarginLeft;\n            for (let j = 0; j < row.children.length; j++) {\n                const elem = row.children[j];\n                let targetWidth = dimensions.targetWidth;\n                targetHeight = row.height;\n                // If we're using a fixedRatio then we need to set the correct ratio for this element\n                if (fixedRatio) {\n                    targetWidth = Math.floor(targetHeight / this.getVideoRatio(elem));\n                }\n                elem.style.position = 'absolute';\n                // $(elem).css('position', 'absolute');\n                const actualWidth = targetWidth -\n                    this.getCSSNumber(elem, 'paddingLeft') -\n                    this.getCSSNumber(elem, 'paddingRight') -\n                    this.getCSSNumber(elem, 'marginLeft') -\n                    this.getCSSNumber(elem, 'marginRight') -\n                    this.getCSSNumber(elem, 'borderLeft') -\n                    this.getCSSNumber(elem, 'borderRight');\n                const actualHeight = targetHeight -\n                    this.getCSSNumber(elem, 'paddingTop') -\n                    this.getCSSNumber(elem, 'paddingBottom') -\n                    this.getCSSNumber(elem, 'marginTop') -\n                    this.getCSSNumber(elem, 'marginBottom') -\n                    this.getCSSNumber(elem, 'borderTop') -\n                    this.getCSSNumber(elem, 'borderBottom');\n                this.positionElement(elem, x + offsetLeft, y + offsetTop, actualWidth, actualHeight, animate);\n                x += targetWidth;\n            }\n            y += targetHeight;\n        }\n    }\n    /**\n     * @hidden\n     */\n    filterDisplayNone(element) {\n        return element.style.display !== 'none';\n    }\n}\n\nvar VideoType;\n(function (VideoType) {\n    VideoType[\"CAMERA\"] = \"CAMERA\";\n    VideoType[\"SCREEN\"] = \"SCREEN\";\n    VideoType[\"CUSTOM\"] = \"CUSTOM\";\n})(VideoType || (VideoType = {}));\nvar ScreenType;\n(function (ScreenType) {\n    ScreenType[\"WINDOW\"] = \"window\";\n    ScreenType[\"SCREEN\"] = \"screen\";\n})(ScreenType || (ScreenType = {}));\n\n/**\n * Packs all the information about the user\n */\nclass UserModel {\n    /**\n     * @hidden\n     */\n    constructor(connectionId, streamManager, nickname) {\n        this.connectionId = connectionId || '';\n        this.nickname = nickname || 'OpenVidu';\n        this.streamManager = streamManager || null;\n    }\n    /**\n     * Return `true` if audio track is active and `false` if audio track is muted\n     */\n    isAudioActive() {\n        var _a, _b;\n        // console.log(\"isAudioActive\");\n        return (_b = (_a = this.streamManager) === null || _a === void 0 ? void 0 : _a.stream) === null || _b === void 0 ? void 0 : _b.audioActive;\n    }\n    /**\n     * Return `true` if video track is active and `false` if video track is muted\n     */\n    isVideoActive() {\n        var _a, _b;\n        // console.log(\"isVideoActive\");\n        return (_b = (_a = this.streamManager) === null || _a === void 0 ? void 0 : _a.stream) === null || _b === void 0 ? void 0 : _b.videoActive;\n    }\n    /**\n     * Return the connection ID\n     */\n    getConnectionId() {\n        var _a, _b, _c;\n        return (_c = (_b = (_a = this.streamManager) === null || _a === void 0 ? void 0 : _a.stream) === null || _b === void 0 ? void 0 : _b.connection) === null || _c === void 0 ? void 0 : _c.connectionId;\n    }\n    /**\n     * Return the user nickname\n     */\n    getNickname() {\n        return this.nickname;\n    }\n    /**\n     * Return the [[streamManger]] object\n     */\n    getStreamManager() {\n        return this.streamManager;\n    }\n    /**\n     * Return the user avatar\n     */\n    getAvatar() {\n        return this.videoAvatar ? this.videoAvatar.toDataURL() : this.randomAvatar;\n    }\n    /**\n     * Return `true` if user has a local role and `false` if not\n     */\n    isLocal() {\n        return !this.isRemote();\n    }\n    /**\n     * Return `true` if user has a remote role and `false` if not\n     */\n    isRemote() {\n        var _a;\n        return (_a = this.streamManager) === null || _a === void 0 ? void 0 : _a.remote;\n    }\n    /**\n     * Return `true` if user has a screen role and `false` if not\n     */\n    isScreen() {\n        var _a, _b;\n        // console.log(\"isScreen\");\n        return ((_b = (_a = this.streamManager) === null || _a === void 0 ? void 0 : _a.stream) === null || _b === void 0 ? void 0 : _b.typeOfVideo) === VideoType.SCREEN;\n    }\n    /**\n     * Return `true` if user has a camera role and `false` if not\n     */\n    isCamera() {\n        var _a, _b;\n        // console.log(\"CCC\");\n        return ((_b = (_a = this.streamManager) === null || _a === void 0 ? void 0 : _a.stream) === null || _b === void 0 ? void 0 : _b.typeOfVideo) === VideoType.CAMERA || (this.isLocal() && !this.isScreen());\n    }\n    /**\n     * Set the streamManager value object\n     * @param streamManager value of streamManager\n     */\n    setStreamManager(streamManager) {\n        this.streamManager = streamManager;\n    }\n    /**\n     * Set the user nickname value\n     * @param nickname value of user nickname\n     */\n    setNickname(nickname) {\n        this.nickname = nickname;\n    }\n    isVideoSizeBig() {\n        return this.videoSizeBig;\n    }\n    /**\n     * @hidden\n     */\n    setVideoSizeBig(big) {\n        this.videoSizeBig = big;\n    }\n    /**\n     * @hidden\n     */\n    setUserAvatar(img) {\n        return new Promise(resolve => {\n            if (!img) {\n                this.createVideoAvatar();\n                const video = document.getElementById('video-' + this.getStreamManager().stream.streamId);\n                const avatar = this.videoAvatar.getContext('2d');\n                avatar.drawImage(video, 200, 120, 285, 285, 0, 0, 100, 100);\n                resolve();\n            }\n            else {\n                this.randomAvatar = img;\n                resolve();\n            }\n        });\n    }\n    removeVideoAvatar() {\n        this.videoAvatar = null;\n    }\n    /**\n     * @hidden\n     */\n    createVideoAvatar() {\n        this.videoAvatar = document.createElement('canvas');\n        this.videoAvatar.className = 'user-img';\n        this.videoAvatar.width = 100;\n        this.videoAvatar.height = 100;\n    }\n}\n\nvar AvatarType;\n(function (AvatarType) {\n    AvatarType[\"RANDOM\"] = \"random\";\n    AvatarType[\"VIDEO\"] = \"video\";\n})(AvatarType || (AvatarType = {}));\n\n// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\nconst environment = {\n    production: false,\n    openvidu_url: '',\n    openvidu_secret: ''\n};\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n\nlet LoggerService = class LoggerService {\n    constructor() {\n        this.log = window.console;\n        this.LOG_FNS = [];\n        this.MSG_PREFIXES = [\n            ['[', ']'],\n            ['[', '] WARN: '],\n            ['[', '] ERROR: ']\n        ];\n        this.LOG_FNS = [this.log.log, this.log.warn, this.log.error];\n    }\n    get(prefix) {\n        const prodMode = environment.production;\n        const loggerFns = this.LOG_FNS.map((logTemplFn, i) => {\n            return logTemplFn.bind(this.log, this.MSG_PREFIXES[i][0] + prefix + this.MSG_PREFIXES[i][1]);\n        });\n        return {\n            d: function (...args) {\n                if (!prodMode) {\n                    loggerFns[0].apply(this.log, arguments);\n                }\n            },\n            w: function (...args) {\n                loggerFns[1].apply(this.log, arguments);\n            },\n            e: function (...args) {\n                loggerFns[2].apply(this.log, arguments);\n            }\n        };\n    }\n};\nLoggerService.ɵfac = function LoggerService_Factory(t) { return new (t || LoggerService)(); };\nLoggerService.ɵprov = ɵɵdefineInjectable({ factory: function LoggerService_Factory() { return new LoggerService(); }, token: LoggerService, providedIn: \"root\" });\nLoggerService = __decorate([ __metadata(\"design:paramtypes\", [])\n], LoggerService);\n\nlet OpenViduSessionService = class OpenViduSessionService {\n    constructor(loggerSrv) {\n        this.loggerSrv = loggerSrv;\n        this._OVUsers = new BehaviorSubject([]);\n        this.OV = null;\n        this.OVScreen = null;\n        this.webcamSession = null;\n        this.screenSession = null;\n        this.webcamUser = null;\n        this.screenUser = null;\n        this.videoSource = undefined;\n        this.audioSource = undefined;\n        this.sessionId = '';\n        this.screenMediaStream = null;\n        this.webcamMediaStream = null;\n        this.log = this.loggerSrv.get('OpenViduSessionService');\n        this.OV = new OpenVidu();\n        this.OVScreen = new OpenVidu();\n        this.OVUsers = this._OVUsers.asObservable();\n        this.webcamUser = new UserModel();\n        this._OVUsers.next([this.webcamUser]);\n    }\n    initSessions() {\n        this.webcamSession = this.OV.initSession();\n        this.screenSession = this.OVScreen.initSession();\n    }\n    getWebcamSession() {\n        return this.webcamSession;\n    }\n    getConnectedUserSession() {\n        return this.isWebCamEnabled() ? this.getWebcamSession() : this.getScreenSession();\n    }\n    getScreenSession() {\n        return this.screenSession;\n    }\n    connectWebcamSession(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!!token) {\n                yield this.webcamSession.connect(token, { clientData: this.getWebcamUserName(), avatar: this.getWebCamAvatar() });\n            }\n        });\n    }\n    connectScreenSession(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!!token) {\n                yield this.screenSession.connect(token, { clientData: this.getScreenUserName(), avatar: this.getWebCamAvatar() });\n            }\n        });\n    }\n    publishWebcam() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.webcamSession.capabilities.publish) {\n                const publisher = this.webcamUser.getStreamManager();\n                if (!!publisher) {\n                    return yield this.webcamSession.publish(publisher);\n                }\n            }\n            this.log.w('User cannot publish');\n        });\n    }\n    publishScreen() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.screenSession.capabilities.publish) {\n                const publisher = this.screenUser.getStreamManager();\n                if (!!publisher) {\n                    return yield this.screenSession.publish(publisher);\n                }\n            }\n            this.log.w('User cannot publish');\n        });\n    }\n    unpublishWebcam() {\n        const publisher = this.webcamUser.getStreamManager();\n        if (!!publisher) {\n            this.publishScreenAudio(this.hasWebcamAudioActive());\n            this.webcamSession.unpublish(publisher);\n        }\n    }\n    unpublishScreen() {\n        const publisher = this.screenUser.getStreamManager();\n        if (!!publisher) {\n            this.screenSession.unpublish(publisher);\n        }\n    }\n    enableWebcamUser() {\n        this._OVUsers.next([this.webcamUser, this.screenUser]);\n    }\n    disableWebcamUser() {\n        // this.destryowebcamUser();\n        this._OVUsers.next([this.screenUser]);\n    }\n    enableScreenUser(screenPublisher) {\n        var _a, _b;\n        const connectionId = (_b = (_a = this.screenSession) === null || _a === void 0 ? void 0 : _a.connection) === null || _b === void 0 ? void 0 : _b.connectionId;\n        this.screenUser = new UserModel(connectionId, screenPublisher, this.getScreenUserName());\n        this.screenUser.setUserAvatar(this.webcamUser.getAvatar());\n        if (this.isWebCamEnabled()) {\n            this._OVUsers.next([this.webcamUser, this.screenUser]);\n            return;\n        }\n        this.log.d('ENABLED SCREEN SHARE');\n        this._OVUsers.next([this.screenUser]);\n    }\n    disableScreenUser() {\n        this.destryoScreenUser();\n        this._OVUsers.next([this.webcamUser]);\n    }\n    initCamPublisher(targetElement, properties) {\n        const publisher = this.initPublisher(targetElement, properties);\n        this.webcamUser.setStreamManager(publisher);\n        return publisher;\n    }\n    publishVideo(isVideoActive) {\n        this.webcamUser.getStreamManager().publishVideo(isVideoActive);\n        // Send event to subscribers because of viedeo has changed and view must update\n        this._OVUsers.next(this._OVUsers.getValue());\n    }\n    publishWebcamAudio(audio) {\n        var _a;\n        const publisher = (_a = this.webcamUser) === null || _a === void 0 ? void 0 : _a.getStreamManager();\n        if (!!publisher) {\n            publisher.publishAudio(audio);\n        }\n    }\n    publishScreenAudio(audio) {\n        var _a;\n        const publisher = (_a = this.screenUser) === null || _a === void 0 ? void 0 : _a.getStreamManager();\n        if (!!publisher) {\n            publisher.publishAudio(audio);\n        }\n    }\n    replaceTrack(videoSource, audioSource, mirror = true) {\n        return new Promise((resolve, reject) => {\n            if (!!videoSource) {\n                this.log.d('Replacing video track ' + videoSource);\n                this.videoSource = videoSource;\n                // this.stopVideoTracks(this.webcamUser.getStreamManager().stream.getMediaStream());\n            }\n            if (!!audioSource) {\n                this.log.d('Replacing audio track ' + audioSource);\n                this.audioSource = audioSource;\n                // this.stopAudioTracks(this.webcamUser.getStreamManager().stream.getMediaStream());\n            }\n            this.destryoWebcamUser();\n            const properties = this.createProperties(this.videoSource, this.audioSource, this.hasWebcamVideoActive(), this.hasWebcamAudioActive(), mirror);\n            const publisher = this.initCamPublisher(undefined, properties);\n            publisher.once('streamPlaying', () => {\n                this.webcamUser.setStreamManager(publisher);\n                resolve();\n            });\n            publisher.once('accessDenied', () => {\n                reject();\n            });\n            // Reeplace track method\n            // this.webcamMediaStream = await this.OV.getUserMedia(properties);\n            // const track: MediaStreamTrack = !!videoSource\n            // \t? this.webcamMediaStream.getVideoTracks()[0]\n            // \t: this.webcamMediaStream.getAudioTracks()[0];\n            // try {\n            // \tawait (<Publisher>this.webcamUser.getStreamManager()).replaceTrack(track);\n            // } catch (error) {\n            // \tthis.log.e('Error replacing track ', error);\n            // }\n        });\n    }\n    replaceScreenTrack() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const videoSource = ScreenType.SCREEN;\n            const hasAudio = !this.isWebCamEnabled();\n            const properties = this.createProperties(videoSource, undefined, true, hasAudio, false);\n            this.stopScreenTracks();\n            this.screenMediaStream = yield this.OVScreen.getUserMedia(properties);\n            yield this.screenUser.getStreamManager().replaceTrack(this.screenMediaStream.getVideoTracks()[0]);\n        });\n    }\n    initScreenPublisher(targetElement, properties) {\n        this.log.d('init screen properties', properties);\n        return this.initPublisher(targetElement, properties);\n    }\n    destroyUsers() {\n        this.destryoScreenUser();\n        this.destryoWebcamUser();\n    }\n    disconnect() {\n        if (this.webcamSession) {\n            this.log.d('Disconnecting screen session');\n            this.webcamSession.disconnect();\n            // this.stopWebcamTracks();\n            this.webcamSession = null;\n        }\n        if (this.screenSession) {\n            // Timeout neccessary to avoid race conditin error:\n            // OpenVidu Error Remote connection unknown when 'onParticipantLeft'. Existing remote connections: []\n            setTimeout(() => {\n                this.log.d('Disconnecting screen session');\n                this.screenSession.disconnect();\n                this.stopScreenTracks();\n                this.screenSession = null;\n            }, 50);\n        }\n        this.destroyUsers();\n        this.screenUser = null;\n        this.videoSource = undefined;\n        this.audioSource = undefined;\n        this.sessionId = '';\n        this.webcamUser = new UserModel();\n        this._OVUsers.next([this.webcamUser]);\n    }\n    isWebCamEnabled() {\n        return this._OVUsers.getValue()[0].isCamera();\n    }\n    isOnlyScreenConnected() {\n        return this._OVUsers.getValue()[0].isScreen();\n    }\n    hasWebcamVideoActive() {\n        return this.webcamUser.isVideoActive();\n    }\n    hasWebcamAudioActive() {\n        var _a;\n        return (_a = this.webcamUser) === null || _a === void 0 ? void 0 : _a.isAudioActive();\n    }\n    hasScreenAudioActive() {\n        var _a;\n        return (_a = this.screenUser) === null || _a === void 0 ? void 0 : _a.isAudioActive();\n    }\n    areBothConnected() {\n        return this._OVUsers.getValue().length === 2;\n    }\n    isOnlyWebcamConnected() {\n        return this.isWebCamEnabled() && !this.areBothConnected();\n    }\n    isScreenShareEnabled() {\n        return this.areBothConnected() || this.isOnlyScreenConnected();\n    }\n    isMyOwnConnection(connectionId) {\n        var _a, _b;\n        return ((_a = this.webcamUser) === null || _a === void 0 ? void 0 : _a.getConnectionId()) === connectionId || ((_b = this.screenUser) === null || _b === void 0 ? void 0 : _b.getConnectionId()) === connectionId;\n    }\n    createProperties(videoSource, audioSource, publishVideo, publishAudio, mirror) {\n        return {\n            videoSource,\n            audioSource,\n            publishVideo,\n            publishAudio,\n            mirror\n        };\n    }\n    setSessionId(sessionId) {\n        this.sessionId = sessionId;\n    }\n    getSessionId() {\n        return this.sessionId;\n    }\n    setWebcamAvatar() {\n        this.webcamUser.setUserAvatar();\n    }\n    setAvatar(option, avatar) {\n        if ((option === AvatarType.RANDOM && avatar) || (AvatarType.VIDEO && avatar)) {\n            if (option === AvatarType.RANDOM) {\n                this.webcamUser.setUserAvatar(avatar);\n            }\n        }\n    }\n    setWebcamName(nickname) {\n        this.webcamUser.setNickname(nickname);\n    }\n    getWebCamAvatar() {\n        return this.webcamUser.getAvatar();\n    }\n    getWebcamUserName() {\n        return this.webcamUser.getNickname();\n    }\n    getScreenUserName() {\n        return this.getWebcamUserName() + '_SCREEN';\n    }\n    resetUsersZoom() {\n        var _a, _b;\n        (_a = this.webcamUser) === null || _a === void 0 ? void 0 : _a.setVideoSizeBig(false);\n        (_b = this.screenUser) === null || _b === void 0 ? void 0 : _b.setVideoSizeBig(false);\n    }\n    toggleZoom(connectionId) {\n        if (this.webcamUser.getConnectionId() === connectionId) {\n            this.webcamUser.setVideoSizeBig(!this.webcamUser.isVideoSizeBig());\n            return;\n        }\n        this.screenUser.setVideoSizeBig(!this.screenUser.isVideoSizeBig());\n    }\n    initPublisher(targetElement, properties) {\n        return this.OV.initPublisher(targetElement, properties);\n    }\n    destryoScreenUser() {\n        var _a;\n        if ((_a = this.screenUser) === null || _a === void 0 ? void 0 : _a.getStreamManager()) {\n            // this.screenUser.getStreamManager().off('streamAudioVolumeChange');\n            this.screenUser.getStreamManager().stream.disposeWebRtcPeer();\n            this.screenUser.getStreamManager().stream.disposeMediaStream();\n        }\n    }\n    destryoWebcamUser() {\n        var _a;\n        if ((_a = this.webcamUser) === null || _a === void 0 ? void 0 : _a.getStreamManager()) {\n            // this.webcamUser.getStreamManager().off('streamAudioVolumeChange');\n            this.webcamUser.getStreamManager().stream.disposeWebRtcPeer();\n            this.webcamUser.getStreamManager().stream.disposeMediaStream();\n        }\n    }\n    stopScreenTracks() {\n        if (this.screenMediaStream) {\n            this.stopAudioTracks(this.screenMediaStream);\n            this.stopVideoTracks(this.screenMediaStream);\n        }\n    }\n    // private stopWebcamTracks() {\n    // \tif (this.webcamMediaStream) {\n    // \t\tthis.stopAudioTracks(this.webcamMediaStream);\n    // \t\tthis.stopVideoTracks(this.webcamMediaStream);\n    // \t}\n    // }\n    stopAudioTracks(mediaStream) {\n        var _a, _b;\n        (_a = mediaStream) === null || _a === void 0 ? void 0 : _a.getAudioTracks().forEach((track) => {\n            track.stop();\n            track.enabled = false;\n        });\n        (_b = this.webcamMediaStream) === null || _b === void 0 ? void 0 : _b.getAudioTracks().forEach((track) => {\n            track.stop();\n        });\n    }\n    stopVideoTracks(mediaStream) {\n        var _a;\n        (_a = mediaStream) === null || _a === void 0 ? void 0 : _a.getVideoTracks().forEach((track) => {\n            track.stop();\n        });\n    }\n};\nOpenViduSessionService.ɵfac = function OpenViduSessionService_Factory(t) { return new (t || OpenViduSessionService)(ɵngcc0.ɵɵinject(LoggerService)); };\nOpenViduSessionService.ctorParameters = () => [\n    { type: LoggerService }\n];\nOpenViduSessionService.ɵprov = ɵɵdefineInjectable({ factory: function OpenViduSessionService_Factory() { return new OpenViduSessionService(ɵɵinject(LoggerService)); }, token: OpenViduSessionService, providedIn: \"root\" });\nOpenViduSessionService = __decorate([ __metadata(\"design:paramtypes\", [LoggerService])\n], OpenViduSessionService);\n\nlet RemoteUsersService = class RemoteUsersService {\n    constructor(loggerSrv) {\n        this.loggerSrv = loggerSrv;\n        this._remoteUsers = new BehaviorSubject([]);\n        this.users = [];\n        this.log = this.loggerSrv.get('RemoteService');\n        this.remoteUsers = this._remoteUsers.asObservable();\n    }\n    updateUsers() {\n        this._remoteUsers.next(this.users);\n    }\n    add(event, subscriber) {\n        var _a, _b;\n        let nickname = '';\n        let avatar = '';\n        const connectionId = event.stream.connection.connectionId;\n        try {\n            nickname = (_a = JSON.parse(event.stream.connection.data)) === null || _a === void 0 ? void 0 : _a.clientData;\n            avatar = (_b = JSON.parse(event.stream.connection.data)) === null || _b === void 0 ? void 0 : _b.avatar;\n        }\n        catch (error) {\n            nickname = 'Unknown';\n        }\n        const newUser = new UserModel(connectionId, subscriber, nickname);\n        newUser.setUserAvatar(avatar);\n        this.users.push(newUser);\n        this.updateUsers();\n    }\n    removeUserByConnectionId(connectionId) {\n        this.log.w('Deleting user: ', connectionId);\n        const user = this.getRemoteUserByConnectionId(connectionId);\n        const index = this.users.indexOf(user, 0);\n        if (index > -1) {\n            this.users.splice(index, 1);\n            this.updateUsers();\n        }\n    }\n    someoneIsSharingScreen() {\n        return this.users.some(user => user.isScreen());\n    }\n    toggleUserZoom(connectionId) {\n        const user = this.getRemoteUserByConnectionId(connectionId);\n        user.setVideoSizeBig(!user.isVideoSizeBig());\n    }\n    resetUsersZoom() {\n        this.users.forEach(u => u.setVideoSizeBig(false));\n    }\n    setUserZoom(connectionId, zoom) {\n        var _a;\n        (_a = this.getRemoteUserByConnectionId(connectionId)) === null || _a === void 0 ? void 0 : _a.setVideoSizeBig(zoom);\n    }\n    getRemoteUserByConnectionId(connectionId) {\n        return this.users.find(u => u.getConnectionId() === connectionId);\n    }\n    updateNickname(connectionId, nickname) {\n        var _a;\n        const user = this.getRemoteUserByConnectionId(connectionId);\n        (_a = user) === null || _a === void 0 ? void 0 : _a.setNickname(nickname);\n        this._remoteUsers.next(this.users);\n    }\n    clean() {\n        this._remoteUsers = new BehaviorSubject([]);\n        this.remoteUsers = this._remoteUsers.asObservable();\n        this.users = [];\n    }\n    getUserAvatar(connectionId) {\n        return this.getRemoteUserByConnectionId(connectionId).getAvatar();\n    }\n};\nRemoteUsersService.ɵfac = function RemoteUsersService_Factory(t) { return new (t || RemoteUsersService)(ɵngcc0.ɵɵinject(LoggerService)); };\nRemoteUsersService.ctorParameters = () => [\n    { type: LoggerService }\n];\nRemoteUsersService.ɵprov = ɵɵdefineInjectable({ factory: function RemoteUsersService_Factory() { return new RemoteUsersService(ɵɵinject(LoggerService)); }, token: RemoteUsersService, providedIn: \"root\" });\nRemoteUsersService = __decorate([ __metadata(\"design:paramtypes\", [LoggerService])\n], RemoteUsersService);\n\nlet NotificationService = class NotificationService {\n    constructor(snackBar) {\n        this.snackBar = snackBar;\n    }\n    newMessage(nickname, callback) {\n        const alert = this.launchNotification(nickname + ' sent a message', 'OPEN', 'messageSnackbar', 3000);\n        alert.onAction().subscribe(() => {\n            callback();\n        });\n    }\n    launchNotification(message, action, className, durationTimeMs) {\n        return this.snackBar.open(message, action, {\n            duration: durationTimeMs,\n            verticalPosition: 'top',\n            horizontalPosition: 'end',\n            panelClass: className\n        });\n    }\n};\nNotificationService.ɵfac = function NotificationService_Factory(t) { return new (t || NotificationService)(ɵngcc0.ɵɵinject(ɵngcc1.MatSnackBar)); };\nNotificationService.ctorParameters = () => [\n    { type: MatSnackBar }\n];\nNotificationService.ɵprov = ɵɵdefineInjectable({ factory: function NotificationService_Factory() { return new NotificationService(ɵɵinject(MatSnackBar)); }, token: NotificationService, providedIn: \"root\" });\nNotificationService = __decorate([ __metadata(\"design:paramtypes\", [MatSnackBar])\n], NotificationService);\n\nlet ChatService = class ChatService {\n    constructor(loggerSrv, oVSessionService, remoteUsersService, notificationService) {\n        this.loggerSrv = loggerSrv;\n        this.oVSessionService = oVSessionService;\n        this.remoteUsersService = remoteUsersService;\n        this.notificationService = notificationService;\n        this._messageList = new BehaviorSubject([]);\n        this._toggleChat = new BehaviorSubject(false);\n        this.messageList = [];\n        this.messagesUnread = 0;\n        this._messagesUnread = new BehaviorSubject(0);\n        this.log = this.loggerSrv.get('ChatService');\n        this.messagesObs = this._messageList.asObservable();\n        this.toggleChatObs = this._toggleChat.asObservable();\n        this.messagesUnreadObs = this._messagesUnread.asObservable();\n    }\n    setChatComponent(chatSidenav) {\n        this.chatComponent = chatSidenav;\n    }\n    subscribeToChat() {\n        const session = this.oVSessionService.getWebcamSession();\n        session.on('signal:chat', (event) => {\n            const connectionId = event.from.connectionId;\n            const data = JSON.parse(event.data);\n            const isMyOwnConnection = this.oVSessionService.isMyOwnConnection(connectionId);\n            this.messageList.push({\n                isLocal: isMyOwnConnection,\n                nickname: data.nickname,\n                message: data.message,\n                userAvatar: isMyOwnConnection\n                    ? this.oVSessionService.getWebCamAvatar()\n                    : this.remoteUsersService.getUserAvatar(connectionId)\n            });\n            if (!this.isChatOpened()) {\n                this.addMessageUnread();\n                this.notificationService.newMessage(data.nickname.toUpperCase(), this.toggleChat.bind(this));\n            }\n            this._messageList.next(this.messageList);\n        });\n    }\n    sendMessage(message) {\n        message = message.replace(/ +(?= )/g, '');\n        if (message !== '' && message !== ' ') {\n            const data = {\n                message: message,\n                nickname: this.oVSessionService.getWebcamUserName()\n            };\n            const sessionAvailable = this.oVSessionService.getConnectedUserSession();\n            sessionAvailable.signal({\n                data: JSON.stringify(data),\n                type: 'chat'\n            });\n        }\n    }\n    toggleChat() {\n        this.log.d('Toggling chat');\n        this.chatComponent.toggle().then(() => {\n            this.chatOpened = this.chatComponent.opened;\n            this._toggleChat.next(this.chatOpened);\n            if (this.chatOpened) {\n                this.messagesUnread = 0;\n                this._messagesUnread.next(this.messagesUnread);\n            }\n        });\n    }\n    isChatOpened() {\n        return this.chatOpened;\n    }\n    addMessageUnread() {\n        this.messagesUnread++;\n        this._messagesUnread.next(this.messagesUnread);\n    }\n};\nChatService.ɵfac = function ChatService_Factory(t) { return new (t || ChatService)(ɵngcc0.ɵɵinject(LoggerService), ɵngcc0.ɵɵinject(OpenViduSessionService), ɵngcc0.ɵɵinject(RemoteUsersService), ɵngcc0.ɵɵinject(NotificationService)); };\nChatService.ctorParameters = () => [\n    { type: LoggerService },\n    { type: OpenViduSessionService },\n    { type: RemoteUsersService },\n    { type: NotificationService }\n];\nChatService.ɵprov = ɵɵdefineInjectable({ factory: function ChatService_Factory() { return new ChatService(ɵɵinject(LoggerService), ɵɵinject(OpenViduSessionService), ɵɵinject(RemoteUsersService), ɵɵinject(NotificationService)); }, token: ChatService, providedIn: \"root\" });\nChatService = __decorate([ __metadata(\"design:paramtypes\", [LoggerService,\n        OpenViduSessionService,\n        RemoteUsersService,\n        NotificationService])\n], ChatService);\n\nlet ChatComponent = class ChatComponent {\n    constructor(chatService) {\n        this.chatService = chatService;\n        this.messageList = [];\n    }\n    onKeydownHandler(event) {\n        console.log(event);\n        if (this.chatOpened) {\n            this.close();\n        }\n    }\n    ngOnInit() {\n        this.subscribeToMessages();\n        this.subscribeToToggleChat();\n    }\n    ngOnDestroy() {\n        if (this.chatMessageSubscription) {\n            this.chatMessageSubscription.unsubscribe();\n        }\n        if (this.chatToggleSubscription) {\n            this.chatToggleSubscription.unsubscribe();\n        }\n    }\n    eventKeyPress(event) {\n        // Pressed 'Enter' key\n        if (event && event.keyCode === 13) {\n            this.sendMessage();\n        }\n    }\n    sendMessage() {\n        this.chatService.sendMessage(this.message);\n        this.message = '';\n    }\n    scrollToBottom() {\n        setTimeout(() => {\n            try {\n                this.chatScroll.nativeElement.scrollTop = this.chatScroll.nativeElement.scrollHeight;\n            }\n            catch (err) { }\n        }, 20);\n    }\n    close() {\n        this.chatService.toggleChat();\n    }\n    subscribeToMessages() {\n        this.chatMessageSubscription = this.chatService.messagesObs.subscribe((messages) => {\n            this.messageList = messages;\n        });\n    }\n    subscribeToToggleChat() {\n        this.chatToggleSubscription = this.chatService.toggleChatObs.subscribe((opened) => {\n            this.chatOpened = opened;\n            if (this.chatOpened) {\n                this.scrollToBottom();\n                setTimeout(() => {\n                    this.chatInput.nativeElement.focus();\n                });\n            }\n        });\n    }\n};\nChatComponent.ɵfac = function ChatComponent_Factory(t) { return new (t || ChatComponent)(ɵngcc0.ɵɵdirectiveInject(ChatService)); };\nChatComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ChatComponent, selectors: [[\"chat-component\"]], viewQuery: function ChatComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n        ɵngcc0.ɵɵviewQuery(_c1, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.chatScroll = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.chatInput = _t.first);\n    } }, hostBindings: function ChatComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"keydown.escape\", function ChatComponent_keydown_escape_HostBindingHandler($event) { return ctx.onKeydownHandler($event); }, false, ɵngcc0.ɵɵresolveDocument);\n    } }, inputs: { lightTheme: \"lightTheme\" }, decls: 17, vars: 4, consts: [[\"id\", \"chatContainer\"], [\"id\", \"chatComponent\"], [\"id\", \"chatToolbar\"], [\"mat-icon-button\", \"\", \"id\", \"closeButton\", 3, \"click\"], [\"matTooltip\", \"Close\", \"color\", \"warn\"], [1, \"message-wrap\"], [\"chatScroll\", \"\"], [\"class\", \"message\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"messageInput\"], [\"placeholder\", \"Send a message\", \"autocomplete\", \"off\", \"id\", \"chatInput\", 3, \"ngModel\", \"keypress\", \"ngModelChange\"], [\"chatInput\", \"\"], [\"mat-mini-fab\", \"\", \"id\", \"sendButton\", 3, \"click\"], [\"matTooltip\", \"Send\"], [1, \"message\", 3, \"ngClass\"], [1, \"user-img\", 3, \"src\"], [1, \"msg-detail\"], [1, \"msg-info\"], [1, \"msg-content\"], [1, \"triangle\"], [1, \"text\", 3, \"innerHTML\"]], template: function ChatComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"span\");\n        ɵngcc0.ɵɵtext(4, \" CHAT\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"button\", 3);\n        ɵngcc0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_5_listener() { return ctx.close(); });\n        ɵngcc0.ɵɵelementStart(6, \"mat-icon\", 4);\n        ɵngcc0.ɵɵtext(7, \"highlight_off\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(8, \"div\", 5, 6);\n        ɵngcc0.ɵɵtemplate(10, ChatComponent_div_10_Template, 10, 6, \"div\", 7);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(11, \"div\", 8);\n        ɵngcc0.ɵɵelementStart(12, \"input\", 9, 10);\n        ɵngcc0.ɵɵlistener(\"keypress\", function ChatComponent_Template_input_keypress_12_listener($event) { return ctx.eventKeyPress($event); })(\"ngModelChange\", function ChatComponent_Template_input_ngModelChange_12_listener($event) { return ctx.message = $event; });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(14, \"button\", 11);\n        ɵngcc0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_14_listener() { return ctx.sendMessage(); });\n        ɵngcc0.ɵɵelementStart(15, \"mat-icon\", 12);\n        ɵngcc0.ɵɵtext(16, \"send\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"chatComponentLight\", ctx.lightTheme);\n        ɵngcc0.ɵɵadvance(9);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.messageList);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngModel\", ctx.message);\n    } }, directives: function () { return [ɵngcc2.MatButton, ɵngcc3.MatIcon, ɵngcc4.MatTooltip, ɵngcc5.NgForOf, ɵngcc6.DefaultValueAccessor, ɵngcc6.NgControlStatus, ɵngcc6.NgModel, ɵngcc5.NgClass, ɵngcc7.DefaultClassDirective]; }, pipes: function () { return [LinkifyPipe]; }, styles: [\"#chatContainer[_ngcontent-%COMP%]{position:absolute;z-index:0;width:100%;height:calc(100% - 20px)}input[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif}#chatToolbar[_ngcontent-%COMP%]{height:30px;background-color:#3d3d3d;box-sizing:border-box;font-weight:700;font-size:14px;text-align:center;padding-top:4px;border-top-left-radius:6px;border-top-right-radius:6px;color:#fff}#closeButton[_ngcontent-%COMP%]{position:absolute;right:0;top:-5px}#chatComponent[_ngcontent-%COMP%]{background-color:#b8b8b8;position:absolute;z-index:99999;top:0;left:0;right:0;bottom:0;margin:auto;height:calc(100% - 30px);width:calc(100% - 30px);border-radius:20px}.message-wrap[_ngcontent-%COMP%]{padding:0 15px;height:calc(100% - 80px);overflow:auto}.message[_ngcontent-%COMP%]{position:relative;padding:7px 0}.user-img[_ngcontent-%COMP%]{position:absolute;border-radius:45px;width:60px;height:60px;top:15px}.msg-detail[_ngcontent-%COMP%]{width:calc(100% - 65px);display:inline-block}.msg-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px}.msg-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8em;color:#000;font-style:italic}.msg-content[_ngcontent-%COMP%]{position:relative;margin-top:5px;border-radius:5px;padding:8px;color:#000;width:auto;max-width:95%}span.triangle[_ngcontent-%COMP%]{border-radius:2px;height:8px;width:8px;top:12px;display:block;transform:rotate(45deg);position:absolute}.text[_ngcontent-%COMP%]{word-break:break-all}.message.left[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-info[_ngcontent-%COMP%]{text-align:left}.message.left[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]{padding-left:65px}.message.left[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{left:-5px;border:1px solid #f0f0f094}.message.left[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]{background-color:#f0f0f0;float:left}.message.left[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{background-color:#f0f0f0;border-bottom-width:0;border-left-width:0;left:-5px}.message.right[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-info[_ngcontent-%COMP%]{text-align:right}.message.right[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{right:-5px;border:1px solid #c8ffe8ab}.message.right[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]{background-color:#c8ffe8;float:right}.message.right[_ngcontent-%COMP%]   .msg-detail[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{background-color:#c8ffe8;border-bottom-width:0;border-left-width:0;right:-5px}#messageInput[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;background-color:#fff;text-align:center;padding:10px 0;height:30px;border-bottom-left-radius:6px;border-bottom-right-radius:6px}#messageInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;height:100%;border:none;outline:0;font-size:14px;margin-left:-6%}#sendButton[_ngcontent-%COMP%]{background-color:#81e9b0;position:absolute;right:10px;top:0;bottom:0;margin:auto;border:1px solid #7ae2a9;box-shadow:none!important}#sendButton[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:3px!important;margin-bottom:2px!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#6b6b6b}.chatComponentLight[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#eee!important}\"] });\nChatComponent.ctorParameters = () => [\n    { type: ChatService }\n];\n__decorate([\n    ViewChild('chatScroll'),\n    __metadata(\"design:type\", ElementRef)\n], ChatComponent.prototype, \"chatScroll\", void 0);\n__decorate([\n    ViewChild('chatInput'),\n    __metadata(\"design:type\", ElementRef)\n], ChatComponent.prototype, \"chatInput\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ChatComponent.prototype, \"lightTheme\", void 0);\n__decorate([\n    HostListener('document:keydown.escape', ['$event']),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [KeyboardEvent]),\n    __metadata(\"design:returntype\", void 0)\n], ChatComponent.prototype, \"onKeydownHandler\", null);\nChatComponent = __decorate([ __metadata(\"design:paramtypes\", [ChatService])\n], ChatComponent);\n\nclass OvSettingsModel {\n    constructor() {\n        this.ovSettings = {\n            chat: true,\n            autopublish: false,\n            toolbarButtons: {\n                video: true,\n                audio: true,\n                fullscreen: true,\n                screenShare: true,\n                layoutSpeaking: true,\n                exit: true\n            }\n        };\n    }\n    set(ovSettings) {\n        this.ovSettings = ovSettings;\n    }\n    isAutoPublish() {\n        return this.ovSettings.autopublish;\n    }\n    hasVideo() {\n        return this.ovSettings.toolbarButtons.video;\n    }\n    hasScreenSharing() {\n        return this.ovSettings.toolbarButtons.screenShare;\n    }\n    hasLayoutSpeaking() {\n        return this.ovSettings.toolbarButtons.layoutSpeaking;\n    }\n    hasFullscreen() {\n        return this.ovSettings.toolbarButtons.fullscreen;\n    }\n    hasAudio() {\n        return this.ovSettings.toolbarButtons.audio;\n    }\n    hasChat() {\n        return this.ovSettings.chat;\n    }\n    hasExit() {\n        return this.ovSettings.toolbarButtons.exit;\n    }\n    setScreenSharing(screenShare) {\n        this.ovSettings.toolbarButtons.screenShare = screenShare;\n    }\n}\n\nvar LayoutType;\n(function (LayoutType) {\n    LayoutType[\"ROOT_CLASS\"] = \"OT_root\";\n})(LayoutType || (LayoutType = {}));\nvar LayoutBigElement;\n(function (LayoutBigElement) {\n    LayoutBigElement[\"BIG_ELEMENT_CLASS\"] = \"OV_big\";\n})(LayoutBigElement || (LayoutBigElement = {}));\n\nvar Theme;\n(function (Theme) {\n    Theme[\"DARK\"] = \"dark\";\n    Theme[\"LIGHT\"] = \"light\";\n})(Theme || (Theme = {}));\n\nclass ExternalConfigModel {\n    constructor() {\n        this.theme = Theme.DARK;\n        this.ovSettings = new OvSettingsModel();\n    }\n    getComponentName() { }\n    getOvSettings() {\n        return this.ovSettings;\n    }\n    getSessionName() {\n        return this.sessionName;\n    }\n    getOvServerUrl() {\n        return this.ovServerUrl;\n    }\n    getOvSecret() {\n        return this.ovSecret;\n    }\n    getTheme() {\n        return this.theme;\n    }\n    getNickname() {\n        return this.nickname;\n    }\n    getTokens() {\n        return this.tokens;\n    }\n    getScreenToken() {\n        return this.tokens[1];\n    }\n    getWebcamToken() {\n        return this.tokens[0];\n    }\n    setOvSettings(ovSettings) {\n        if (!!ovSettings) {\n            this.ovSettings.set(ovSettings);\n        }\n    }\n    setSessionName(sessionName) {\n        this.sessionName = sessionName;\n    }\n    setOvServerUrl(url) {\n        this.ovServerUrl = url;\n    }\n    setOvSecret(secret) {\n        this.ovSecret = secret;\n    }\n    setTheme(theme) {\n        if (Object.values(Theme).includes(theme)) {\n            this.theme = theme === Theme.DARK ? Theme.DARK : Theme.LIGHT;\n        }\n    }\n    setNickname(nickname) {\n        this.nickname = nickname;\n    }\n    setTokens(tokens) {\n        this.tokens = tokens;\n    }\n    canJoinToSession() {\n        return this.canOVCallGenerateToken() || this.hasReceivedToken();\n    }\n    hasTokens() {\n        var _a;\n        return ((_a = this.tokens) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    }\n    canOVCallGenerateToken() {\n        return !!this.sessionName && !!this.ovServerUrl && !!this.ovSecret && !!this.nickname;\n    }\n    hasReceivedToken() {\n        return !!this.tokens && this.tokens.length > 0 && !!this.nickname;\n    }\n}\n\nvar CameraType;\n(function (CameraType) {\n    CameraType[\"FRONT\"] = \"FRONT\";\n    CameraType[\"BACK\"] = \"BACK\";\n})(CameraType || (CameraType = {}));\n\nlet DialogErrorComponent = class DialogErrorComponent {\n    constructor(dialogRef, data) {\n        this.dialogRef = dialogRef;\n        this.data = data;\n    }\n    ngOnInit() { }\n};\nDialogErrorComponent.ɵfac = function DialogErrorComponent_Factory(t) { return new (t || DialogErrorComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc8.MatDialogRef), ɵngcc0.ɵɵdirectiveInject(MAT_DIALOG_DATA)); };\nDialogErrorComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DialogErrorComponent, selectors: [[\"app-dialog-error\"]], decls: 5, vars: 2, consts: [[\"mat-dialog-title\", \"\"]], template: function DialogErrorComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\");\n        ɵngcc0.ɵɵelementStart(1, \"h1\", 0);\n        ɵngcc0.ɵɵtext(2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(3, \"span\");\n        ɵngcc0.ɵɵtext(4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate(ctx.data.header);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.data.message, \" \");\n    } }, directives: [ɵngcc8.MatDialogTitle], styles: [\"h1[_ngcontent-%COMP%]{color:#a30101}\"] });\nDialogErrorComponent.ctorParameters = () => [\n    { type: MatDialogRef },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] }\n];\nDialogErrorComponent = __decorate([ __param(1, Inject(MAT_DIALOG_DATA)),\n    __metadata(\"design:paramtypes\", [MatDialogRef, Object])\n], DialogErrorComponent);\n\nlet UtilsService = class UtilsService {\n    constructor(dialog) {\n        this.dialog = dialog;\n    }\n    toggleFullscreen(elementId) {\n        const document = window.document;\n        const fs = document.getElementById(elementId);\n        if (!document.fullscreenElement &&\n            !document.mozFullScreenElement &&\n            !document.webkitFullscreenElement &&\n            !document.msFullscreenElement) {\n            if (fs.requestFullscreen) {\n                fs.requestFullscreen();\n            }\n            else if (fs.msRequestFullscreen) {\n                fs.msRequestFullscreen();\n            }\n            else if (fs.mozRequestFullScreen) {\n                fs.mozRequestFullScreen();\n            }\n            else if (fs.webkitRequestFullscreen) {\n                fs.webkitRequestFullscreen();\n            }\n        }\n        else {\n            if (document.exitFullscreen) {\n                document.exitFullscreen();\n            }\n            else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            }\n            else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            }\n            else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            }\n        }\n    }\n    getOpenViduAvatar() {\n        return 'https://openvidu.io/img/logos/openvidu_globe_bg_transp_cropped.png';\n    }\n    handlerScreenShareError(error) {\n        if (error && error.name === 'SCREEN_SHARING_NOT_SUPPORTED') {\n            alert('Your browser does not support screen sharing');\n        }\n        else if (error && error.name === 'SCREEN_EXTENSION_DISABLED') {\n            alert('You need to enable screen sharing extension');\n        }\n        else if (error && error.name === 'SCREEN_CAPTURE_DENIED') {\n            // alert('You need to choose a window or application to share');\n        }\n    }\n    getOpenviduLayoutOptions() {\n        const options = {\n            maxRatio: 3 / 2,\n            minRatio: 9 / 15,\n            fixedRatio: false /* If this is true then the aspect ratio of the video is maintained\n      and minRatio and maxRatio are ignored (default false) */,\n            bigClass: LayoutBigElement.BIG_ELEMENT_CLASS,\n            bigPercentage: 0.85,\n            bigFixedRatio: false,\n            bigMaxRatio: 3 / 2,\n            bigMinRatio: 9 / 16,\n            bigFirst: true,\n            animate: true // Whether you want to animate the transitions\n        };\n        return options;\n    }\n    generateNickname() {\n        return 'OpenVidu_User' + Math.floor(Math.random() * 100);\n    }\n    isFF() {\n        return /Firefox[\\/\\s](\\d+\\.\\d+)/.test(navigator.userAgent);\n    }\n    isMobile() {\n        return this.isAndroid() || this.isIos();\n    }\n    showErrorMessage(header, message, disableClose = false) {\n        this.dialogRef = this.dialog.open(DialogErrorComponent, {\n            data: { header: header, message: message },\n            disableClose\n        });\n    }\n    closeDialog() {\n        this.dialogRef.close();\n    }\n    getHTMLElementByClassName(element, className) {\n        while (!!element && element !== document.body) {\n            if (element.className.includes(className)) {\n                return element;\n            }\n            element = element.parentElement;\n        }\n        return null;\n    }\n    toggleBigElementClass(element) {\n        var _a, _b;\n        if ((_a = element) === null || _a === void 0 ? void 0 : _a.className.includes(LayoutBigElement.BIG_ELEMENT_CLASS)) {\n            (_b = element) === null || _b === void 0 ? void 0 : _b.classList.remove(LayoutBigElement.BIG_ELEMENT_CLASS);\n        }\n        else {\n            element.classList.add(LayoutBigElement.BIG_ELEMENT_CLASS);\n        }\n    }\n    removeAllBigElementClass() {\n        const elements = document.getElementsByClassName(LayoutBigElement.BIG_ELEMENT_CLASS);\n        while (elements.length > 0) {\n            this.toggleBigElementClass(elements[0]);\n        }\n    }\n    isAndroid() {\n        return /\\b(\\w*Android\\w*)\\b/.test(navigator.userAgent) && /\\b(\\w*Mobile\\w*)\\b/.test(navigator.userAgent);\n    }\n    isIos() {\n        return /\\b(\\w*iOS\\w*)\\b/.test(navigator.userAgent);\n    }\n};\nUtilsService.ɵfac = function UtilsService_Factory(t) { return new (t || UtilsService)(ɵngcc0.ɵɵinject(ɵngcc8.MatDialog)); };\nUtilsService.ctorParameters = () => [\n    { type: MatDialog }\n];\nUtilsService.ɵprov = ɵɵdefineInjectable({ factory: function UtilsService_Factory() { return new UtilsService(ɵɵinject(MatDialog)); }, token: UtilsService, providedIn: \"root\" });\nUtilsService = __decorate([ __metadata(\"design:paramtypes\", [MatDialog])\n], UtilsService);\n\nlet StorageService = class StorageService {\n    constructor(loggerSrv) {\n        this.loggerSrv = loggerSrv;\n        this.storage = window.localStorage;\n        this.log = this.loggerSrv.get('StorageService');\n    }\n    set(key, item) {\n        const value = JSON.stringify({ item: item });\n        this.log.d('Storing on localStorage \"' + key + '\" with value \"' + value + '\"');\n        this.storage.setItem(key, value);\n    }\n    get(key) {\n        var _a;\n        const value = JSON.parse(this.storage.getItem(key));\n        return ((_a = value) === null || _a === void 0 ? void 0 : _a.item) ? value.item : null;\n    }\n    clear() {\n        this.log.d('Clearing localStorage');\n        this.storage.clear();\n    }\n};\nStorageService.ɵfac = function StorageService_Factory(t) { return new (t || StorageService)(ɵngcc0.ɵɵinject(LoggerService)); };\nStorageService.ctorParameters = () => [\n    { type: LoggerService }\n];\nStorageService.ɵprov = ɵɵdefineInjectable({ factory: function StorageService_Factory() { return new StorageService(ɵɵinject(LoggerService)); }, token: StorageService, providedIn: \"root\" });\nStorageService = __decorate([ __metadata(\"design:paramtypes\", [LoggerService])\n], StorageService);\n\nlet DevicesService = class DevicesService {\n    constructor(loggerSrv, utilSrv, storageSrv) {\n        this.loggerSrv = loggerSrv;\n        this.utilSrv = utilSrv;\n        this.storageSrv = storageSrv;\n        this.VIDEO_DEVICE = 'openviduCallVideoDevice';\n        this.AUDIO_DEVICE = 'openviduCallAudioDevice';\n        this.OV = null;\n        this.cameras = [];\n        this.microphones = [];\n        this.log = this.loggerSrv.get('DevicesService');\n        this.OV = new OpenVidu();\n    }\n    initDevices() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.initOpenViduDevices();\n            this.devices.length > 0 ? this.log.d('Devices found: ', this.devices) : this.log.w('No devices found!');\n            this.resetDevicesArray();\n            if (this.hasAudioDeviceAvailable()) {\n                this.initAudioDevices();\n                this.micSelected = this.getMicSelected();\n            }\n            if (this.hasVideoDeviceAvailable()) {\n                this.initVideoDevices();\n                this.camSelected = this.cameras.find((device) => device.type === CameraType.FRONT);\n            }\n        });\n    }\n    initOpenViduDevices() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.devices = yield this.OV.getDevices();\n        });\n    }\n    initAudioDevices() {\n        const audioDevices = this.devices.filter((device) => device.kind === 'audioinput');\n        audioDevices.forEach((device) => {\n            this.microphones.push({ label: device.label, device: device.deviceId });\n        });\n    }\n    initVideoDevices() {\n        const FIRST_POSITION = 0;\n        const videoDevices = this.devices.filter((device) => device.kind === 'videoinput');\n        videoDevices.forEach((device, index) => {\n            const myDevice = {\n                label: device.label,\n                device: device.deviceId,\n                type: CameraType.BACK\n            };\n            if (this.utilSrv.isMobile()) {\n                // We assume front video device has 'front' in its label in Mobile devices\n                if (myDevice.label.toLowerCase().includes(CameraType.FRONT.toLowerCase())) {\n                    myDevice.type = CameraType.FRONT;\n                }\n            }\n            else {\n                // We assume first device is web camera in Browser Desktop\n                if (index === FIRST_POSITION) {\n                    myDevice.type = CameraType.FRONT;\n                }\n            }\n            this.cameras.push(myDevice);\n        });\n        this.log.d('Camera selected', this.camSelected);\n    }\n    getCamSelected() {\n        if (this.cameras.length === 0) {\n            this.log.e('No video devices found!');\n            return;\n        }\n        const storageDevice = this.getCamFromStorage();\n        if (storageDevice) {\n            return storageDevice;\n        }\n        return this.camSelected || this.cameras[0];\n    }\n    getCamFromStorage() {\n        var _a;\n        let storageDevice = this.storageSrv.get(this.VIDEO_DEVICE);\n        storageDevice = this.getCameraByDeviceField((_a = storageDevice) === null || _a === void 0 ? void 0 : _a.device);\n        if (storageDevice) {\n            return storageDevice;\n        }\n    }\n    getMicSelected() {\n        if (this.microphones.length === 0) {\n            this.log.e('No audio devices found!');\n            return;\n        }\n        const storageDevice = this.getMicFromStogare();\n        if (storageDevice) {\n            return storageDevice;\n        }\n        return this.micSelected || this.microphones[0];\n    }\n    getMicFromStogare() {\n        var _a;\n        let storageDevice = this.storageSrv.get(this.AUDIO_DEVICE);\n        storageDevice = this.getMicrophoneByDeviceField((_a = storageDevice) === null || _a === void 0 ? void 0 : _a.device);\n        if (storageDevice) {\n            return storageDevice;\n        }\n    }\n    setCamSelected(deviceField) {\n        this.camSelected = this.getCameraByDeviceField(deviceField);\n        this.saveCamToStorage(this.camSelected);\n    }\n    saveCamToStorage(cam) {\n        this.storageSrv.set(this.VIDEO_DEVICE, cam);\n    }\n    setMicSelected(deviceField) {\n        this.micSelected = this.getMicrophoneByDeviceField(deviceField);\n        this.saveMicToStorage(this.micSelected);\n    }\n    saveMicToStorage(mic) {\n        this.storageSrv.set(this.AUDIO_DEVICE, mic);\n    }\n    needUpdateVideoTrack(newVideoSource) {\n        return this.getCamSelected().device !== newVideoSource;\n    }\n    needUpdateAudioTrack(newAudioSource) {\n        return this.getMicSelected().device !== newAudioSource;\n    }\n    getCameras() {\n        return this.cameras;\n    }\n    getMicrophones() {\n        return this.microphones;\n    }\n    hasVideoDeviceAvailable() {\n        var _a;\n        return !!((_a = this.devices) === null || _a === void 0 ? void 0 : _a.find((device) => device.kind === 'videoinput'));\n    }\n    hasAudioDeviceAvailable() {\n        var _a;\n        return !!((_a = this.devices) === null || _a === void 0 ? void 0 : _a.find((device) => device.kind === 'audioinput'));\n    }\n    cameraNeedsMirror(deviceField) {\n        var _a;\n        return ((_a = this.getCameraByDeviceField(deviceField)) === null || _a === void 0 ? void 0 : _a.type) === CameraType.FRONT;\n    }\n    areEmptyLabels() {\n        return !!this.cameras.find((device) => device.label === '') || !!this.microphones.find((device) => device.label === '');\n    }\n    getCameraByDeviceField(deviceField) {\n        return this.cameras.find((opt) => opt.device === deviceField || opt.label === deviceField);\n    }\n    getMicrophoneByDeviceField(deviceField) {\n        return this.microphones.find((opt) => opt.device === deviceField || opt.label === deviceField);\n    }\n    resetDevicesArray() {\n        this.cameras = [{ label: 'None', device: null, type: null }];\n        this.microphones = [{ label: 'None', device: null, type: null }];\n    }\n};\nDevicesService.ɵfac = function DevicesService_Factory(t) { return new (t || DevicesService)(ɵngcc0.ɵɵinject(LoggerService), ɵngcc0.ɵɵinject(UtilsService), ɵngcc0.ɵɵinject(StorageService)); };\nDevicesService.ctorParameters = () => [\n    { type: LoggerService },\n    { type: UtilsService },\n    { type: StorageService }\n];\nDevicesService.ɵprov = ɵɵdefineInjectable({ factory: function DevicesService_Factory() { return new DevicesService(ɵɵinject(LoggerService), ɵɵinject(UtilsService), ɵɵinject(StorageService)); }, token: DevicesService, providedIn: \"root\" });\nDevicesService = __decorate([ __metadata(\"design:paramtypes\", [LoggerService, UtilsService, StorageService])\n], DevicesService);\n\nlet NetworkService = class NetworkService {\n    constructor(http, loggerSrv) {\n        this.http = http;\n        this.loggerSrv = loggerSrv;\n        this.log = this.loggerSrv.get('NetworkService');\n        this.baseHref = '/' + (!!window.location.pathname.split('/')[1] ? window.location.pathname.split('/')[1] + '/' : '');\n    }\n    getToken(sessionId, openviduServerUrl, openviduSecret) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!!openviduServerUrl && !!openviduSecret) {\n                const _sessionId = yield this.createSession(sessionId, openviduServerUrl, openviduSecret);\n                return yield this.createToken(_sessionId, openviduServerUrl, openviduSecret);\n            }\n            try {\n                this.log.d('Getting token from backend');\n                return yield this.http.post(this.baseHref + 'call', { sessionId }).toPromise();\n            }\n            catch (error) {\n                if (error.status === 404) {\n                    throw { status: error.status, message: 'Cannot connect with backend. ' + error.url + ' not found' };\n                }\n                throw error;\n            }\n        });\n    }\n    createSession(sessionId, openviduServerUrl, openviduSecret) {\n        return new Promise((resolve, reject) => {\n            const body = JSON.stringify({ customSessionId: sessionId });\n            const options = {\n                headers: new HttpHeaders({\n                    Authorization: 'Basic ' + btoa('OPENVIDUAPP:' + openviduSecret),\n                    'Content-Type': 'application/json'\n                })\n            };\n            return this.http\n                .post(openviduServerUrl + '/api/sessions', body, options)\n                .pipe(catchError(error => {\n                if (error.status === 409) {\n                    resolve(sessionId);\n                }\n                if (error.statusText === 'Unknown Error') {\n                    reject({ status: 401, message: 'ERR_CERT_AUTHORITY_INVALID' });\n                }\n                return throwError(error);\n            }))\n                .subscribe(response => {\n                resolve(response.id);\n            });\n        });\n    }\n    createToken(sessionId, openviduServerUrl, openviduSecret) {\n        return new Promise((resolve, reject) => {\n            const body = JSON.stringify({ session: sessionId });\n            const options = {\n                headers: new HttpHeaders({\n                    Authorization: 'Basic ' + btoa('OPENVIDUAPP:' + openviduSecret),\n                    'Content-Type': 'application/json'\n                })\n            };\n            return this.http\n                .post(openviduServerUrl + '/api/tokens', body, options)\n                .pipe(catchError(error => {\n                reject(error);\n                return throwError(error);\n            }))\n                .subscribe(response => {\n                this.log.d(response);\n                resolve(response.token);\n            });\n        });\n    }\n};\nNetworkService.ɵfac = function NetworkService_Factory(t) { return new (t || NetworkService)(ɵngcc0.ɵɵinject(ɵngcc9.HttpClient), ɵngcc0.ɵɵinject(LoggerService)); };\nNetworkService.ctorParameters = () => [\n    { type: HttpClient },\n    { type: LoggerService }\n];\nNetworkService.ɵprov = ɵɵdefineInjectable({ factory: function NetworkService_Factory() { return new NetworkService(ɵɵinject(HttpClient), ɵɵinject(LoggerService)); }, token: NetworkService, providedIn: \"root\" });\nNetworkService = __decorate([ __metadata(\"design:paramtypes\", [HttpClient, LoggerService])\n], NetworkService);\n\nlet VideoRoomComponent = class VideoRoomComponent {\n    constructor(networkSrv, router, utilsSrv, remoteUsersService, oVSessionService, oVDevicesService, loggerSrv, chatService) {\n        this.networkSrv = networkSrv;\n        this.router = router;\n        this.utilsSrv = utilsSrv;\n        this.remoteUsersService = remoteUsersService;\n        this.oVSessionService = oVSessionService;\n        this.oVDevicesService = oVDevicesService;\n        this.loggerSrv = loggerSrv;\n        this.chatService = chatService;\n        this._session = new EventEmitter();\n        this._publisher = new EventEmitter();\n        this._error = new EventEmitter();\n        // !Deprecated\n        this._joinSession = new EventEmitter();\n        // !Deprecated\n        this._leaveSession = new EventEmitter();\n        this.compact = false;\n        this.sidenavMode = 'side';\n        this.showConfigRoomCard = true;\n        this.localUsers = [];\n        this.remoteUsers = [];\n        this.isAutoLayout = false;\n        this.log = this.loggerSrv.get('VideoRoomComponent');\n    }\n    beforeunloadHandler() {\n        this.leaveSession();\n    }\n    sizeChange() {\n        if (this.openviduLayout) {\n            this.updateOpenViduLayout();\n            this.checkSizeComponent();\n        }\n    }\n    ngOnInit() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            this.lightTheme = ((_a = this.externalConfig) === null || _a === void 0 ? void 0 : _a.getTheme()) === Theme.LIGHT;\n            this.ovSettings = !!this.externalConfig ? this.externalConfig.getOvSettings() : new OvSettingsModel();\n            this.ovSettings.setScreenSharing(this.ovSettings.hasScreenSharing() && !this.utilsSrv.isMobile());\n        });\n    }\n    ngOnDestroy() {\n        var _a;\n        // Reconnecting session is received in Firefox\n        // To avoid 'Connection lost' message uses session.off()\n        (_a = this.session) === null || _a === void 0 ? void 0 : _a.off('reconnecting');\n        this.remoteUsersService.clean();\n        this.session = null;\n        this.sessionScreen = null;\n        this.localUsers = [];\n        this.remoteUsers = [];\n        this.openviduLayout = null;\n        if (this.oVUsersSubscription) {\n            this.oVUsersSubscription.unsubscribe();\n        }\n        if (this.remoteUsersSubscription) {\n            this.remoteUsersSubscription.unsubscribe();\n        }\n        if (this.chatSubscription) {\n            this.chatSubscription.unsubscribe();\n        }\n    }\n    onConfigRoomJoin() {\n        this.hasVideoDevices = this.oVDevicesService.hasVideoDeviceAvailable();\n        this.hasAudioDevices = this.oVDevicesService.hasAudioDeviceAvailable();\n        this.showConfigRoomCard = false;\n        this.subscribeToLocalUsers();\n        this.subscribeToRemoteUsers();\n        this.mySessionId = this.oVSessionService.getSessionId();\n        setTimeout(() => {\n            this.openviduLayout = new OpenViduLayout();\n            this.openviduLayoutOptions = this.utilsSrv.getOpenviduLayoutOptions();\n            this.openviduLayout.initLayoutContainer(document.getElementById('layout'), this.openviduLayoutOptions);\n            this.checkSizeComponent();\n            this.joinToSession();\n        }, 50);\n    }\n    joinToSession() {\n        this.oVSessionService.initSessions();\n        this.session = this.oVSessionService.getWebcamSession();\n        this._session.emit(this.session);\n        this.sessionScreen = this.oVSessionService.getScreenSession();\n        this.subscribeToStreamCreated();\n        this.subscribeToStreamDestroyed();\n        this.subscribeToStreamPropertyChange();\n        this.subscribeToNicknameChanged();\n        this.chatService.setChatComponent(this.chatSidenav);\n        this.chatService.subscribeToChat();\n        this.subscribeToChatComponent();\n        this.subscribeToReconnection();\n        this.connectToSession();\n    }\n    leaveSession() {\n        this.log.d('Leaving session...');\n        this.oVSessionService.disconnect();\n        this._leaveSession.emit();\n    }\n    onNicknameUpdate(nickname) {\n        this.oVSessionService.setWebcamName(nickname);\n        this.sendNicknameSignal(nickname);\n    }\n    toggleMic() {\n        if (this.oVSessionService.isWebCamEnabled()) {\n            this.oVSessionService.publishWebcamAudio(!this.oVSessionService.hasWebcamAudioActive());\n            return;\n        }\n        this.oVSessionService.publishScreenAudio(!this.oVSessionService.hasScreenAudioActive());\n    }\n    toggleCam() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isVideoActive = !this.oVSessionService.hasWebcamVideoActive();\n            // Disabling webcam\n            if (this.oVSessionService.areBothConnected()) {\n                this.oVSessionService.publishVideo(isVideoActive);\n                this.oVSessionService.disableWebcamUser();\n                this.oVSessionService.unpublishWebcam();\n                return;\n            }\n            // Enabling webcam\n            if (this.oVSessionService.isOnlyScreenConnected()) {\n                const hasAudio = this.oVSessionService.hasScreenAudioActive();\n                yield this.oVSessionService.publishWebcam();\n                this.oVSessionService.publishScreenAudio(false);\n                this.oVSessionService.publishWebcamAudio(hasAudio);\n                this.oVSessionService.enableWebcamUser();\n            }\n            // Muting/unmuting webcam\n            this.oVSessionService.publishVideo(isVideoActive);\n        });\n    }\n    toggleScreenShare() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Disabling screenShare\n            if (this.oVSessionService.areBothConnected()) {\n                this.removeScreen();\n                return;\n            }\n            // Enabling screenShare\n            if (this.oVSessionService.isOnlyWebcamConnected()) {\n                const screenPublisher = this.initScreenPublisher();\n                screenPublisher.once('accessAllowed', (event) => {\n                    // Listen to event fired when native stop button is clicked\n                    screenPublisher.stream.getMediaStream().getVideoTracks()[0].addEventListener('ended', () => {\n                        this.log.d('Clicked native stop button. Stopping screen sharing');\n                        this.toggleScreenShare();\n                    });\n                    this.log.d('ACCESS ALOWED screenPublisher');\n                    this.oVSessionService.enableScreenUser(screenPublisher);\n                    this.oVSessionService.publishScreen();\n                    if (!this.oVSessionService.hasWebcamVideoActive()) {\n                        // Disabling webcam\n                        this.oVSessionService.disableWebcamUser();\n                        this.oVSessionService.unpublishWebcam();\n                    }\n                });\n                screenPublisher.once('accessDenied', (event) => {\n                    this.log.w('ScreenShare: Access Denied');\n                });\n                return;\n            }\n            // Disabling screnShare and enabling webcam\n            const hasAudio = this.oVSessionService.hasScreenAudioActive();\n            yield this.oVSessionService.publishWebcam();\n            this.oVSessionService.publishScreenAudio(false);\n            this.oVSessionService.publishWebcamAudio(hasAudio);\n            this.oVSessionService.enableWebcamUser();\n            this.removeScreen();\n        });\n    }\n    toggleSpeakerLayout() {\n        if (!this.oVSessionService.isScreenShareEnabled()) {\n            this.isAutoLayout = !this.isAutoLayout;\n            this.log.d('Automatic Layout ', this.isAutoLayout ? 'Disabled' : 'Enabled');\n            if (this.isAutoLayout) {\n                this.subscribeToSpeechDetection();\n                return;\n            }\n            this.log.d('Unsubscribe to speech detection');\n            this.session.off('publisherStartSpeaking');\n            this.resetAllBigElements();\n            this.updateOpenViduLayout();\n            return;\n        }\n        this.log.w('Screen is enabled. Speech detection has been rejected');\n    }\n    onReplaceScreenTrack(event) {\n        this.oVSessionService.replaceScreenTrack();\n    }\n    checkSizeComponent() {\n        var _a;\n        this.compact = ((_a = document.getElementById('room-container')) === null || _a === void 0 ? void 0 : _a.offsetWidth) <= 790;\n        this.sidenavMode = this.compact ? 'over' : 'side';\n    }\n    onToggleVideoSize(event) {\n        var _a;\n        const element = event.element;\n        if (!!event.resetAll) {\n            this.resetAllBigElements();\n        }\n        this.utilsSrv.toggleBigElementClass(element);\n        // Has been mandatory change the user zoom property here because of\n        // zoom icons and cannot handle publisherStartSpeaking event in other component\n        if (!!((_a = event) === null || _a === void 0 ? void 0 : _a.connectionId)) {\n            if (this.oVSessionService.isMyOwnConnection(event.connectionId)) {\n                this.oVSessionService.toggleZoom(event.connectionId);\n            }\n            else {\n                this.remoteUsersService.toggleUserZoom(event.connectionId);\n            }\n        }\n        this.updateOpenViduLayout();\n    }\n    toolbarMicIconEnabled() {\n        if (this.oVSessionService.isWebCamEnabled()) {\n            return this.oVSessionService.hasWebcamAudioActive();\n        }\n        return this.oVSessionService.hasScreenAudioActive();\n    }\n    connectToSession() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            let webcamToken;\n            let screenToken;\n            // Webcomponent or Angular Library\n            if (!!this.externalConfig) {\n                if (this.externalConfig.hasTokens()) {\n                    this.log.d('Received external tokens from ' + this.externalConfig.getComponentName());\n                    webcamToken = this.externalConfig.getWebcamToken();\n                    // Only connect screen if screen sharing feature is available\n                    screenToken = ((_a = this.ovSettings) === null || _a === void 0 ? void 0 : _a.hasScreenSharing()) ? this.externalConfig.getScreenToken() : undefined;\n                }\n            }\n            webcamToken = webcamToken ? webcamToken : yield this.getToken();\n            // Only get screentoken if screen sharing feature is available\n            if (!screenToken && ((_b = this.ovSettings) === null || _b === void 0 ? void 0 : _b.hasScreenSharing())) {\n                screenToken = yield this.getToken();\n            }\n            if (webcamToken || screenToken) {\n                yield this.connectBothSessions(webcamToken, screenToken);\n                if (this.oVSessionService.areBothConnected()) {\n                    this.oVSessionService.publishWebcam();\n                    this.oVSessionService.publishScreen();\n                }\n                else if (this.oVSessionService.isOnlyScreenConnected()) {\n                    this.oVSessionService.publishScreen();\n                }\n                else {\n                    this.oVSessionService.publishWebcam();\n                }\n                // !Deprecated\n                this._joinSession.emit();\n                this.updateOpenViduLayout();\n            }\n        });\n    }\n    connectBothSessions(webcamToken, screenToken) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this.oVSessionService.connectWebcamSession(webcamToken);\n                yield this.oVSessionService.connectScreenSession(screenToken);\n                this.localUsers[0].getStreamManager().on('streamPlaying', () => {\n                    this.localUsers[0].getStreamManager().videos[0].video.parentElement.classList.remove('custom-class');\n                });\n            }\n            catch (error) {\n                this._error.emit({ error: error.error, messgae: error.message, code: error.code, status: error.status });\n                this.log.e('There was an error connecting to the session:', error.code, error.message);\n                this.utilsSrv.showErrorMessage('There was an error connecting to the session:', ((_a = error) === null || _a === void 0 ? void 0 : _a.error) || ((_b = error) === null || _b === void 0 ? void 0 : _b.message));\n            }\n        });\n    }\n    subscribeToStreamCreated() {\n        this.session.on('streamCreated', (event) => {\n            const connectionId = event.stream.connection.connectionId;\n            if (this.oVSessionService.isMyOwnConnection(connectionId)) {\n                return;\n            }\n            const subscriber = this.session.subscribe(event.stream, undefined);\n            this.remoteUsersService.add(event, subscriber);\n            this.sendNicknameSignal(this.oVSessionService.getWebcamUserName(), event.stream.connection);\n        });\n    }\n    subscribeToStreamDestroyed() {\n        this.session.on('streamDestroyed', (event) => {\n            const connectionId = event.stream.connection.connectionId;\n            this.remoteUsersService.removeUserByConnectionId(connectionId);\n            // event.preventDefault();\n        });\n    }\n    // Emit publisher to webcomponent\n    emitPublisher(publisher) {\n        this._publisher.emit(publisher);\n    }\n    subscribeToStreamPropertyChange() {\n        this.session.on('streamPropertyChanged', (event) => {\n            const connectionId = event.stream.connection.connectionId;\n            if (this.oVSessionService.isMyOwnConnection(connectionId)) {\n                return;\n            }\n            if (event.changedProperty === 'videoActive') {\n                this.remoteUsersService.updateUsers();\n            }\n        });\n    }\n    subscribeToNicknameChanged() {\n        this.session.on('signal:nicknameChanged', (event) => {\n            const connectionId = event.from.connectionId;\n            if (this.oVSessionService.isMyOwnConnection(connectionId)) {\n                return;\n            }\n            const nickname = JSON.parse(event.data).nickname;\n            this.remoteUsersService.updateNickname(connectionId, nickname);\n        });\n    }\n    subscribeToSpeechDetection() {\n        this.log.d('Subscribe to speech detection', this.session);\n        // Has been mandatory change the user zoom property here because of\n        // zoom icons and cannot handle publisherStartSpeaking event in other component\n        this.session.on('publisherStartSpeaking', (event) => {\n            const someoneIsSharingScreen = this.remoteUsersService.someoneIsSharingScreen();\n            if (!this.oVSessionService.isScreenShareEnabled() && !someoneIsSharingScreen) {\n                const elem = event.connection.stream.streamManager.videos[0].video;\n                const element = this.utilsSrv.getHTMLElementByClassName(elem, LayoutType.ROOT_CLASS);\n                this.resetAllBigElements();\n                this.remoteUsersService.setUserZoom(event.connection.connectionId, true);\n                this.onToggleVideoSize({ element });\n            }\n        });\n    }\n    removeScreen() {\n        this.oVSessionService.disableScreenUser();\n        this.oVSessionService.unpublishScreen();\n    }\n    subscribeToChatComponent() {\n        this.chatSubscription = this.chatService.toggleChatObs.subscribe((opened) => {\n            const timeout = this.externalConfig ? 300 : 0;\n            this.updateOpenViduLayout(timeout);\n        });\n    }\n    subscribeToReconnection() {\n        this.session.on('reconnecting', () => {\n            this.log.w('Connection lost: Reconnecting');\n            this.isConnectionLost = true;\n            this.utilsSrv.showErrorMessage('Connection Problem', 'Oops! Trying to reconnect to the session ...', true);\n        });\n        this.session.on('reconnected', () => {\n            this.log.w('Connection lost: Reconnected');\n            this.isConnectionLost = false;\n            this.utilsSrv.closeDialog();\n        });\n        this.session.on('sessionDisconnected', (event) => {\n            if (event.reason === 'networkDisconnect') {\n                this.utilsSrv.closeDialog();\n                this.leaveSession();\n            }\n        });\n    }\n    initScreenPublisher() {\n        const videoSource = ScreenType.SCREEN;\n        const willThereBeWebcam = this.oVSessionService.isWebCamEnabled() && this.oVSessionService.hasWebcamVideoActive();\n        const hasAudio = willThereBeWebcam ? false : this.oVSessionService.hasWebcamAudioActive();\n        const properties = this.oVSessionService.createProperties(videoSource, undefined, true, hasAudio, false);\n        try {\n            return this.oVSessionService.initScreenPublisher(undefined, properties);\n        }\n        catch (error) {\n            this.log.e(error);\n            this.utilsSrv.handlerScreenShareError(error);\n        }\n    }\n    getToken() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            this.log.d('Generating tokens...');\n            try {\n                return yield this.networkSrv.getToken(this.mySessionId, (_a = this.externalConfig) === null || _a === void 0 ? void 0 : _a.getOvServerUrl(), (_b = this.externalConfig) === null || _b === void 0 ? void 0 : _b.getOvSecret());\n            }\n            catch (error) {\n                this._error.emit({ error: error.error, messgae: error.message, code: error.code, status: error.status });\n                this.log.e('There was an error getting the token:', error.status, error.message);\n                this.utilsSrv.showErrorMessage('There was an error getting the token:', error.error || error.message);\n            }\n        });\n    }\n    sendNicknameSignal(nickname, connection) {\n        const signalOptions = {\n            data: JSON.stringify({ nickname }),\n            type: 'nicknameChanged',\n            to: connection ? [connection] : undefined\n        };\n        this.session.signal(signalOptions);\n    }\n    updateOpenViduLayout(timeout) {\n        if (!!this.openviduLayout) {\n            if (!timeout) {\n                this.openviduLayout.updateLayout();\n                return;\n            }\n            setTimeout(() => {\n                this.openviduLayout.updateLayout();\n            }, timeout);\n        }\n    }\n    resetAllBigElements() {\n        this.utilsSrv.removeAllBigElementClass();\n        this.remoteUsersService.resetUsersZoom();\n        this.oVSessionService.resetUsersZoom();\n    }\n    subscribeToLocalUsers() {\n        this.oVUsersSubscription = this.oVSessionService.OVUsers.subscribe((users) => {\n            this.localUsers = users;\n            this.updateOpenViduLayout();\n        });\n    }\n    subscribeToRemoteUsers() {\n        this.remoteUsersSubscription = this.remoteUsersService.remoteUsers.subscribe((users) => {\n            this.remoteUsers = [...users];\n            this.updateOpenViduLayout();\n        });\n    }\n};\nVideoRoomComponent.ɵfac = function VideoRoomComponent_Factory(t) { return new (t || VideoRoomComponent)(ɵngcc0.ɵɵdirectiveInject(NetworkService), ɵngcc0.ɵɵdirectiveInject(ɵngcc10.Router), ɵngcc0.ɵɵdirectiveInject(UtilsService), ɵngcc0.ɵɵdirectiveInject(RemoteUsersService), ɵngcc0.ɵɵdirectiveInject(OpenViduSessionService), ɵngcc0.ɵɵdirectiveInject(DevicesService), ɵngcc0.ɵɵdirectiveInject(LoggerService), ɵngcc0.ɵɵdirectiveInject(ChatService)); };\nVideoRoomComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: VideoRoomComponent, selectors: [[\"app-video-room\"]], viewQuery: function VideoRoomComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c2, true);\n        ɵngcc0.ɵɵviewQuery(_c3, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.chatComponent = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.chatSidenav = _t.first);\n    } }, hostBindings: function VideoRoomComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"beforeunload\", function VideoRoomComponent_beforeunload_HostBindingHandler() { return ctx.beforeunloadHandler(); }, false, ɵngcc0.ɵɵresolveWindow)(\"resize\", function VideoRoomComponent_resize_HostBindingHandler() { return ctx.sizeChange(); }, false, ɵngcc0.ɵɵresolveWindow);\n    } }, inputs: { externalConfig: \"externalConfig\" }, outputs: { _session: \"_session\", _publisher: \"_publisher\", _error: \"_error\", _joinSession: \"_joinSession\", _leaveSession: \"_leaveSession\" }, decls: 1, vars: 1, consts: [[\"id\", \"videoRoomNavBar\", 3, \"boundsLight\", 4, \"ngIf\"], [\"id\", \"videoRoomNavBar\"], [3, \"ovSettings\", \"externalConfig\", \"join\", \"leaveSession\", \"publisherCreated\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"ovSettings\", \"externalConfig\", \"join\", \"leaveSession\", \"publisherCreated\"], [\"class\", \"reconnecting-container\", 4, \"ngIf\"], [3, \"lightTheme\", \"compact\", \"mySessionId\", \"ovSettings\", \"hasVideoDevices\", \"hasAudioDevices\", \"isWebcamVideoEnabled\", \"isWebcamAudioEnabled\", \"isScreenEnabled\", \"isAutoLayout\", \"isConnectionLost\", \"camButtonClicked\", \"micButtonClicked\", \"screenShareClicked\", \"layoutButtonClicked\", \"leaveSessionButtonClicked\"], [\"id\", \"room-container\", \"fullscreen\", \"\", 1, \"sidenav-container\"], [\"position\", \"end\", \"class\", \"sidenav-chat\", \"fixedInViewport\", \"true\", \"fixedTopGap\", \"40\", \"fixedBottomGap\", \"0\", 3, \"mode\", \"boundsLight\", 4, \"ngIf\"], [1, \"sidenav-main\"], [\"id\", \"layout\", 1, \"bounds\"], [\"class\", \"OT_root OT_publisher custom-class\", \"id\", \"localUser\", 3, \"display\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"OT_root OT_publisher custom-class\", \"id\", \"remoteUsers\", 3, \"display\", 4, \"ngFor\", \"ngForOf\"], [3, \"lightTheme\", \"participants\"], [1, \"reconnecting-container\"], [\"position\", \"end\", \"fixedInViewport\", \"true\", \"fixedTopGap\", \"40\", \"fixedBottomGap\", \"0\", 1, \"sidenav-chat\", 3, \"mode\"], [\"sidenav\", \"\"], [3, \"lightTheme\"], [\"chatComponent\", \"\"], [\"id\", \"localUser\", 1, \"OT_root\", \"OT_publisher\", \"custom-class\"], [3, \"user\", \"videoSizeBig\", \"nicknameClicked\", \"replaceScreenTrackClicked\", \"toggleVideoSizeClicked\"], [\"id\", \"remoteUsers\", 1, \"OT_root\", \"OT_publisher\", \"custom-class\"], [3, \"user\", \"videoSizeBig\", \"toggleVideoSizeClicked\"]], template: function VideoRoomComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, VideoRoomComponent_div_0_Template, 3, 4, \"div\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", !!ctx.ovSettings);\n    } }, directives: function () { return [ɵngcc5.NgIf, RoomConfigComponent,\n        ToolbarComponent, ɵngcc11.MatSidenavContainer, ɵngcc11.MatSidenavContent, ɵngcc5.NgForOf, FooterComponent, ɵngcc11.MatSidenav, ChatComponent,\n        StreamComponent]; }, pipes: function () { return [HasChatPipe]; }, styles: [\"#videoRoomNavBar[_ngcontent-%COMP%]{min-width:400px;background-color:#494949;height:100%}.stream-container[_ngcontent-%COMP%]{padding:0}.reconnecting-container[_ngcontent-%COMP%]{width:100%;height:100%;z-index:1000;background-color:#000;opacity:80%;position:absolute}.sidenav-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:-webkit-fill-available;overflow:hidden}.sidenav-chat[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:450px;background-color:#494949;border-left:none;position:absolute}.mat-drawer-container[_ngcontent-%COMP%]{background-color:#494949}.sidenav-main[_ngcontent-%COMP%]{height:100%;overflow:hidden;min-height:-webkit-fill-available;min-height:-moz-available}.bounds[_ngcontent-%COMP%]{background-color:#494949;position:absolute;left:0;right:0;top:40px;bottom:25px;min-width:400px!important;width:inherit}.boundsLight[_ngcontent-%COMP%]{background-color:#dfdfdf!important}.custom-class[_ngcontent-%COMP%]{min-height:0!important}.OT_root[_ngcontent-%COMP%], .OT_root[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff;margin:0;padding:0;border:0;font-size:100%;font-family:Ubuntu,sans-serif;vertical-align:baseline}.OT_dialog-centering[_ngcontent-%COMP%]{display:table;width:100%;height:100%}.OT_dialog-centering-child[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.OT_dialog[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;margin-right:auto;margin-left:auto;color:#fff;font-family:Ubuntu,sans-serif;font-size:13px;line-height:1.4}.OT_dialog[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:inherit;box-sizing:inherit}.OT_closeButton[_ngcontent-%COMP%]{color:#999;cursor:pointer;font-size:32px;line-height:36px;position:absolute;right:18px;top:0}.OT_dialog-messages[_ngcontent-%COMP%]{text-align:center}.OT_dialog-messages-main[_ngcontent-%COMP%]{margin-bottom:36px;line-height:36px;font-weight:300;font-size:24px}.OT_dialog-messages-minor[_ngcontent-%COMP%]{margin-bottom:18px;font-size:13px;line-height:18px;color:#a4a4a4}.OT_dialog-messages-minor[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.OT_dialog-actions-card[_ngcontent-%COMP%]{display:inline-block}.OT_dialog-button-title[_ngcontent-%COMP%]{margin-bottom:18px;line-height:18px;font-weight:300;text-align:center;font-size:14px;color:#999}.OT_dialog-button-title[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999}.OT_dialog-button-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .OT_dialog-button-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .OT_dialog-button-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link{color:#02a1de}.OT_dialog-button-title[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;font-weight:100;display:block}.OT_dialog-button[_ngcontent-%COMP%]{display:inline-block;margin-bottom:18px;padding:0 1em;background-color:#1ca3dc;text-align:center;cursor:pointer}.OT_dialog-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.OT_dialog-button-large[_ngcontent-%COMP%]{line-height:36px;padding-top:9px;padding-bottom:9px;font-weight:100;font-size:24px}.OT_dialog-button-small[_ngcontent-%COMP%]{line-height:18px;padding-top:9px;padding-bottom:9px;background-color:#444;color:#999;font-size:16px}.OT_dialog-progress-bar[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-top:5px;margin-bottom:41px;border:1px solid #4e4e4e;height:8px}.OT_dialog-progress-bar-fill[_ngcontent-%COMP%]{height:100%;background-color:#29a4da}.OT_dialog-plugin-upgrading[_ngcontent-%COMP%]   .OT_dialog-plugin-upgrade-percentage[_ngcontent-%COMP%]{line-height:54px;font-size:48px;font-weight:100}.OT_centered[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;margin:0}.OT_dialog-hidden[_ngcontent-%COMP%]{display:none}.OT_dialog-button-block[_ngcontent-%COMP%]{display:block}.OT_dialog-no-natural-margin[_ngcontent-%COMP%]{margin-bottom:0}.OT_publisher[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]{position:relative;min-width:48px;min-height:48px}.OT_publisher[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;transform-origin:0 0}.OT_publisher.OT_mirrored[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{transform:scale(-1,1);transform-origin:50% 50%}.OT_subscriber_error[_ngcontent-%COMP%]{background-color:#000;color:#fff;text-align:center}.OT_subscriber_error[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:20px}.OT_publisher[_ngcontent-%COMP%]   .OT_archiving[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_archiving-light-box[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving-light-box[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%]{-ms-box-sizing:border-box;box-sizing:border-box;top:0;left:0;right:0;display:block;height:34px;position:absolute}.OT_publisher[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%]{background:rgba(0,0,0,.4)}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item[_ngcontent-%COMP%]{z-index:1;transition-property:top,bottom,opacity;transition-duration:.5s;transition-timing-function:ease-in}.OT_publisher[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%]{background-color:transparent;color:#fff;font-size:15px;line-height:34px;font-weight:400;padding:0 4px 0 36px}.OT_publisher[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);top:auto;bottom:0;left:34px;padding:0 4px;color:rgba(255,255,255,.8);font-size:15px;line-height:34px;font-weight:400}.OT_micro[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_micro[_ngcontent-%COMP%]:hover   .OT_archiving-status[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]   .OT_archiving-status[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]:hover   .OT_archiving-status[_ngcontent-%COMP%]{display:none}.OT_publisher[_ngcontent-%COMP%]   .OT_archiving-light-box[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_archiving-light-box[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);top:auto;bottom:0;right:auto;width:34px;height:34px}.OT_archiving-light[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:30px;position:absolute;top:14px;left:14px;background-color:#575757;box-shadow:0 0 5px 1px #575757}.OT_archiving-light.OT_active[_ngcontent-%COMP%]{background-color:#970d13;animation:1.3s ease-in infinite OT_pulse;-webkit-animation:1.3s ease-in OT_pulse;-moz-animation:1.3s ease-in infinite OT_pulse;-webkit-animation-iteration-count:infinite}@-webkit-keyframes OT_pulse{0%,100%,80%{box-shadow:0 0 0 0 #c70019}30%,50%{box-shadow:0 0 5px 1px #c70019}}.OT_bar.OT_mode-mini[_ngcontent-%COMP%], .OT_bar.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]   .OT_bar[_ngcontent-%COMP%]{bottom:0;height:auto}.OT_mini[_ngcontent-%COMP%]   .OT_name.OT_mode-auto[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]   .OT_name.OT_mode-off[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]   .OT_name.OT_mode-on[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]:hover   .OT_name.OT_mode-auto[_ngcontent-%COMP%]{display:none}.OT_publisher[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_name[_ngcontent-%COMP%]{left:10px;right:37px;height:34px;padding-left:0}.OT_publisher[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%]{border:none;cursor:pointer;display:block;position:absolute;text-align:center;text-indent:-9999em;background-color:transparent;background-repeat:no-repeat;right:0;top:0;border-left:1px solid rgba(255,255,255,.2);height:36px;width:37px}.OT_mini[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%], .OT_publisher.OT_mini[_ngcontent-%COMP%]   .OT_mute.OT_mode-auto.OT_mode-on-hold[_ngcontent-%COMP%], .OT_subscriber.OT_mini[_ngcontent-%COMP%]   .OT_mute.OT_mode-auto.OT_mode-on-hold[_ngcontent-%COMP%]{top:50%;left:50%;right:auto;margin-top:-18px;margin-left:-18.5px;border-left:none}.OT_publisher[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII=);background-position:9px 5px}.OT_publisher[_ngcontent-%COMP%]   .OT_mute.OT_active[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg==);background-position:9px 4px}.OT_subscriber[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII=);background-position:8px 7px}.OT_subscriber[_ngcontent-%COMP%]   .OT_mute.OT_active[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg==);background-position:7px 7px}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-off[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-off[_ngcontent-%COMP%]{top:-25px;opacity:0}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-off[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-off[_ngcontent-%COMP%]{display:none}.OT_mini[_ngcontent-%COMP%]   .OT_mute.OT_mode-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_mute.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_mute.OT_mode-mini-auto[_ngcontent-%COMP%]{top:50%}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-off[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-off[_ngcontent-%COMP%]{top:auto;bottom:-25px}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-on[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_mode-auto[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_mode-mini-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_mode-on[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_mode-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_mode-mini-auto[_ngcontent-%COMP%]{top:0;opacity:1}.OT_mini[_ngcontent-%COMP%]   .OT_mute.OT_mode-on[_ngcontent-%COMP%], .OT_mini[_ngcontent-%COMP%]:hover   .OT_mute.OT_mode-auto[_ngcontent-%COMP%], .OT_mute.OT_mode-mini[_ngcontent-%COMP%], .OT_root[_ngcontent-%COMP%]:hover   .OT_mute.OT_mode-mini-auto[_ngcontent-%COMP%]{top:50%}.OT_publisher[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-on[_ngcontent-%COMP%], .OT_publisher[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]   .OT_edge-bar-item.OT_edge-bottom.OT_mode-on[_ngcontent-%COMP%], .OT_subscriber[_ngcontent-%COMP%]:hover   .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto[_ngcontent-%COMP%]{top:auto;bottom:0;opacity:1}.OT_root[_ngcontent-%COMP%]   .OT_video-loading[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;display:none;background-color:rgba(0,0,0,.75)}.OT_root[_ngcontent-%COMP%]   .OT_video-loading[_ngcontent-%COMP%]   .OT_video-loading-spinner[_ngcontent-%COMP%]{background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwIDEgMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2IpIiBkPSJNODYuNiA1MEExMDAgMTAwIDAgMCAxIDAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNjKSIgZD0iTTAgMTAwYTEwMCAxMDAgMCAwIDEtODYuNi01MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48cGF0aCBzdHJva2U9InVybCgjZCkiIGQ9Ik0tODYuNiA1MGExMDAgMTAwIDAgMCAxIDAtMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNlKSIgZD0iTS04Ni42LTUwQTEwMCAxMDAgMCAwIDEgMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAgMSA4Ni42IDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjwvZz48L21hc2s+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHg9Ii0yMCIgeT0iLTIwIiBtYXNrPSJ1cmwoI2cpIiBmaWxsPSIjZmZmIi8+PC9zdmc+) no-repeat;position:absolute;width:32px;height:32px;left:50%;top:50%;margin-left:-16px;margin-top:-16px;-webkit-animation:2s linear infinite OT_spin;animation:2s linear infinite OT_spin}@-webkit-keyframes OT_spin{100%{-webkit-transform:rotate(360deg)}}@keyframes OT_spin{100%{transform:rotate(360deg)}}.OT_publisher.OT_loading[_ngcontent-%COMP%]   .OT_video-loading[_ngcontent-%COMP%], .OT_subscriber.OT_loading[_ngcontent-%COMP%]   .OT_video-loading[_ngcontent-%COMP%]{display:block}.OT_video-centering[_ngcontent-%COMP%]{display:table;width:100%;height:100%}.OT_video-container[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.OT_video-poster[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;display:none;opacity:.25;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDcxIDQ2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSI2Ni42NiUiIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc5IDMwOGMxNC4yNS02LjUgNTQuMjUtMTkuNzUgNzEtMjkgOS0zLjI1IDI1LTIxIDI1LTIxczMuNzUtMTMgMy0yMmMtMS43NS02Ljc1LTE1LTQzLTE1LTQzLTIuNSAzLTQuNzQxIDMuMjU5LTcgMS0zLjI1LTcuNS0yMC41LTQ0LjUtMTYtNTcgMS4yNS03LjUgMTAtNiAxMC02LTExLjI1LTMzLjc1LTgtNjctOC02N3MuMDczLTcuMzQ2IDYtMTVjLTMuNDguNjM3LTkgNC05IDQgMi41NjMtMTEuNzI3IDE1LTIxIDE1LTIxIC4xNDgtLjMxMi0xLjMyMS0xLjQ1NC0xMCAxIDEuNS0yLjc4IDE2LjY3NS04LjY1NCAzMC0xMSAzLjc4Ny05LjM2MSAxMi43ODItMTcuMzk4IDIyLTIyLTIuMzY1IDMuMTMzLTMgNi0zIDZzMTUuNjQ3LTguMDg4IDQxLTZjLTE5Ljc1IDItMjQgNi0yNCA2czc0LjUtMTAuNzUgMTA0IDM3YzcuNSA5LjUgMjQuNzUgNTUuNzUgMTAgODkgMy43NS0xLjUgNC41LTQuNSA5IDEgLjI1IDE0Ljc1LTExLjUgNjMtMTkgNjItMi43NSAxLTQtMy00LTMtMTAuNzUgMjkuNS0xNCAzOC0xNCAzOC0yIDQuMjUtMy43NSAxOC41LTEgMjIgMS4yNSA0LjUgMjMgMjMgMjMgMjNsMTI3IDUzYzM3IDM1IDIzIDEzNSAyMyAxMzVMMCA0NjRzLTMtOTYuNzUgMTQtMTIwYzUuMjUtNi4yNSAyMS43NS0xOS43NSA2NS0zNnoiLz48L3N2Zz4=);background-size:auto 76%}.OT_fit-mode-cover[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover}@media only screen and (orientation:portrait){.OT_subscriber.OT_ForceContain.OT_fit-mode-cover[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{-o-object-fit:contain!important;object-fit:contain!important}}.OT_fit-mode-contain[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain}.OT_fit-mode-cover[_ngcontent-%COMP%]   .OT_video-poster[_ngcontent-%COMP%]{background-position:center bottom}.OT_fit-mode-contain[_ngcontent-%COMP%]   .OT_video-poster[_ngcontent-%COMP%]{background-position:center}.OT_audio-level-meter[_ngcontent-%COMP%]{position:absolute;width:25%;max-width:224px;min-width:21px;top:0;right:0;overflow:hidden}.OT_audio-level-meter[_ngcontent-%COMP%]:before{content:'';display:block;padding-top:100%}.OT_audio-level-meter__bar[_ngcontent-%COMP%]{position:absolute;width:192%;height:192%;top:-96%;right:-96%;border-radius:50%;background-color:rgba(0,0,0,.8)}.OT_audio-level-meter__audio-only-img[_ngcontent-%COMP%]{position:absolute;top:22%;right:15%;width:40%;opacity:.7;background:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+) center no-repeat}.OT_audio-level-meter__audio-only-img[_ngcontent-%COMP%]:before{content:'';display:block;padding-top:100%}.OT_audio-level-meter__value[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background-image:radial-gradient(circle,#97ce00 0,rgba(151,206,0,0) 100%)}.OT_audio-level-meter.OT_mode-off[_ngcontent-%COMP%]{display:none}.OT_audio-level-meter.OT_mode-on[_ngcontent-%COMP%], .OT_audio-only[_ngcontent-%COMP%]   .OT_audio-level-meter.OT_mode-auto[_ngcontent-%COMP%]{display:block}.OT_audio-only.OT_publisher[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%], .OT_audio-only.OT_subscriber[_ngcontent-%COMP%]   .OT_video-element[_ngcontent-%COMP%]{display:none}.OT_video-disabled-indicator[_ngcontent-%COMP%]{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:bottom right;pointer-events:none;top:0;left:0;bottom:3px;right:3px}.OT_video-disabled[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,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);background-size:33px auto}.OT_video-disabled-warning[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAGMElEQVR4Ae2aA7D0yBaAc7oH12vbRmlLaxYWb23btm3btm2899a2bWuYtPZ01cmtU9lJrib315yqr9I3Oem/5/s7acwEnehEJzoxCcX2O+wEeIgRBDDaGjAZOgQ6ihRpLklHZDJIXK1WWymMIhGGkVBKCWMM+Iv/f/b5t7faYtM/sGgIS7j8RNLjceUVl41GvGN1BFiHy9sgtRWaYbhvuVQ6o1VOvV5/tLe3dyssKoZuh8xClkDEi2MMS6ZjR0cScxdK/+HgnJsmLccYOx0e/PUGUqfTJDEHkV5go9lcMQoj4R8RpSIRRUr4a9baTJFCCNfqESKJ7RYJibK0xoi05EhFRTxMi1Rit6xHAuLaKRLwEVi6q1x+EhlVpd3d3Wfh4VQkQhRhxthYLg7SRGqdLlIp7UVOHf+JhEhEMscUolVje3p63saeeOFoKsT7fjj++BNuw2I/0ouUENmGaQcQEilQvUU6xuWC0kqmVWCt8df6kG7WLoFA20VSCOyNh0RKPT+SyrTWtQsvuvTYCy84z3+oAdbgAiLGIvHjTz6bFuu/B3lKKfVkFKknwih6EnnipZdfXQZzepAupXSGSCfwUGZtkrx3t/0dSQGnnXbmdocdetArQoj+4VR23wMP3bj/vnv9Sv/rBmkish09ca655thHSrlWq4TFF1vkNDxsgjiUnPqZnHPABIq47jx7pPMcecShfz7x1DO7D6eit99576X1113nVd8rqLGAuDaNitJonTGIqHgQGQjDsJglMrUH5iDSEQbRa6y2yrNvv/PuWVmV/PTzLz8steTit1B9FtGJeZrJksmWdBzBMcami4xUkaY1A1Qe94WIaPGBApJhaERrLrXkElf8+NPPz6YMLs1DDjn0Wn9PnI/UiQadM4jNEkhzVsEGE8nIHESM1j5/KqRX+/IEiOQ/yifNBlEkpnb00cccesbpp13T3983H88/48xzrrvm6it/8U5JXgX5G6nSvSq1R5LATR7aYGkwMG1RSwkWABH+4jUb3vT/uJ1Z0xpjraTBRltrxUQhksIRmgTJyy69+Pv99tv3qYX6FxgU+fU33352xGEHf5wisU7nNWJpZRMkAjZ6aIN1mwV7h29Jo2wCHlveu/GV169z65E+T6koexCh6c+EEiky3lnxQKFjUeVyOeI5AOBzIiayRhJryd7YYnkIHgvB0qk9Tdql6N3XH4bRUIOIIIKJSiRb0hkSEpZKRd1CpEq8GxtIyCVmDSgFl94GacTgaJw1rUlYhYng0c4ewaUsmKRIJjpiqMSOCh9QeI+UYECmtQIsxEu6OorEcv6Rl0gu0woh8MhFkmSCTXVI4pC704WCFRJvSRNJSzrMMEZO2iKZTCHAZYnmvXCny7ed5vfZK3viHSBdIFCKEFj2+nt+73nw8m2uedcLJlktA++VNMEPaR45aYukcKnnCfY3/DFbZS8t7eHxNgsPM0N1hXhJJwwM1QbpoQFlog2R13a/zBxEYHAQEUYUM6qiVwEyBYoM6JFNF2kFLelI5KQf+fVI4dJFCguDS7oAyx2R6SFQJKRedSDj/cMg/RXQ6ZE05GSIDAaXdCi1I3L021SQWNJ1RLY5OiIdL4/yvuw8ADfWPFrSciaMyH8tEQPwf1uGG54g5+KlJGTmsrxsQdl5PKidnPFe2QS///7Hu+VS6WX/HYnf0sevGL7lXydwod2/9DykZq0s5yff0sgSWCigNOH7TPHL7ufj+/TH8P/+qYpL4HkBDiRYpEXeM8/89/9zzjn7EtY64dfd1nqccM7Bs8+9MKy8555/8TnKS+5MufH6EZVASkgPzf+mJXroet17JirU0ALST3nT0y5ONyLpeo1y64ih+vuQfsoTOeRFSJXa+SvyB90TUmdw49EjLaKpMQ0mzEeTzkWsd/oI6fzfiKM8gWg6X6OjpXstu5ZHnmIb0GFiu29MIUfUewkmVrEN3RqVQ/bY8FzNcquMBv/pCNUZ5pHHem01KdN/I/DG66/lLhKSvTO5M84kav5C5z2ZfyAivi9i9VGd45RH7UWJbjwGG/7NYsRECt7jiOToHedKAui8SW4CsxyRc54mKH/8f7ELhCCACyNcIl/wI+FaAJyc8yzRtinQPzWzuFZrFHq/AAAAAElFTkSuQmCC);background-size:33px auto}.OT_video-disabled-indicator.OT_active[_ngcontent-%COMP%]{display:block}.OT_audio-blocked-indicator[_ngcontent-%COMP%]{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:center;pointer-events:none;top:0;left:0;bottom:0;right:0}.OT_audio-blocked[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwIDEgNDMgNDRhOC45ODggOC45ODggMCAwIDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAgMSAxMC4zNzQtLjQyQzUxLjcwMiAxOS4xMTQgNTQgMjkuMjA4IDU0IDQ1LjIwOGMwIDE0LjUyNy0yLjM0MyAyMy44OC03LjAzIDI4LjA1OGE3LjI4IDcuMjggMCAwIDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwIDEtNS01di0xM2E1IDUgMCAwIDEgNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-size:90px auto}.OT_container-audio-blocked[_ngcontent-%COMP%]{cursor:pointer}.OT_container-audio-blocked[_ngcontent-%COMP%]   .OT_mute[_ngcontent-%COMP%], .OT_container-audio-blocked.OT_mini[_ngcontent-%COMP%]   .OT_edge-bar-item[_ngcontent-%COMP%]{display:none}.OT_audio-blocked-indicator.OT_active[_ngcontent-%COMP%]{display:block}.OT_video-unsupported[_ngcontent-%COMP%]{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:center;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMCAxIDUgNVY1OC4xOGE1IDUgMCAwIDEtNSA1SDkuMTFhNSA1IDAgMCAxLTUtNVYyNS45N2E1IDUgMCAwIDEgNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwIDEgNC4zMDQgMi43MDJ2MjYuODM1YTMgMyAwIDAgMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-size:58px auto;pointer-events:none;top:0;left:0;bottom:0;right:0;margin-top:-30px}.OT_video-unsupported-bar[_ngcontent-%COMP%]{display:none;position:absolute;width:192%;height:192%;top:-96%;left:-96%;border-radius:50%;background-color:rgba(0,0,0,.8)}.OT_video-unsupported-img[_ngcontent-%COMP%]{display:none;position:absolute;top:11%;left:15%;width:70%;opacity:.7;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMCAxIDUgNVY1OC4xOGE1IDUgMCAwIDEtNSA1SDkuMTFhNSA1IDAgMCAxLTUtNVYyNS45N2E1IDUgMCAwIDEgNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwIDEgNC4zMDQgMi43MDJ2MjYuODM1YTMgMyAwIDAgMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-repeat:no-repeat;background-position:center;background-size:100% auto}.OT_video-unsupported-img[_ngcontent-%COMP%]:before{content:'';display:block;padding-top:93%}.OT_video-unsupported-text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;height:100%;margin-top:40px}@media only screen and (max-width:600px){#videoRoomNavBar[_ngcontent-%COMP%]{width:100%}}\"] });\nVideoRoomComponent.ctorParameters = () => [\n    { type: NetworkService },\n    { type: Router },\n    { type: UtilsService },\n    { type: RemoteUsersService },\n    { type: OpenViduSessionService },\n    { type: DevicesService },\n    { type: LoggerService },\n    { type: ChatService }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", ExternalConfigModel)\n], VideoRoomComponent.prototype, \"externalConfig\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], VideoRoomComponent.prototype, \"_session\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], VideoRoomComponent.prototype, \"_publisher\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], VideoRoomComponent.prototype, \"_error\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], VideoRoomComponent.prototype, \"_joinSession\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], VideoRoomComponent.prototype, \"_leaveSession\", void 0);\n__decorate([\n    ViewChild('chatComponent'),\n    __metadata(\"design:type\", ChatComponent)\n], VideoRoomComponent.prototype, \"chatComponent\", void 0);\n__decorate([\n    ViewChild('sidenav'),\n    __metadata(\"design:type\", MatSidenav)\n], VideoRoomComponent.prototype, \"chatSidenav\", void 0);\n__decorate([\n    HostListener('window:beforeunload'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], VideoRoomComponent.prototype, \"beforeunloadHandler\", null);\n__decorate([\n    HostListener('window:resize'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], VideoRoomComponent.prototype, \"sizeChange\", null);\nVideoRoomComponent = __decorate([ __metadata(\"design:paramtypes\", [NetworkService,\n        Router,\n        UtilsService,\n        RemoteUsersService,\n        OpenViduSessionService,\n        DevicesService,\n        LoggerService,\n        ChatService])\n], VideoRoomComponent);\n\nclass AngularLibraryModel extends ExternalConfigModel {\n    constructor() {\n        super();\n        this.NAME = 'Angular Library';\n    }\n    setTokens(tokens) {\n        var _a;\n        if (tokens) {\n            this.ovSettings.setScreenSharing(this.ovSettings.hasScreenSharing() && ((_a = tokens) === null || _a === void 0 ? void 0 : _a.length) > 1);\n            super.setTokens(tokens);\n        }\n    }\n    getComponentName() {\n        return this.NAME;\n    }\n}\n\nlet OpenviduSessionComponent = class OpenviduSessionComponent {\n    constructor(loggerSrv) {\n        this.loggerSrv = loggerSrv;\n        this.display = false;\n        this.sessionCreated = new EventEmitter();\n        this.publisherCreated = new EventEmitter();\n        this.error = new EventEmitter();\n        // !Deprecated\n        this.joinSession = new EventEmitter();\n        // !Deprecated\n        this.leaveSession = new EventEmitter();\n        this.log = this.loggerSrv.get('OpenviduSessionComponent');\n    }\n    ngOnInit() {\n        this.angularLibrary = new AngularLibraryModel();\n        this.angularLibrary.setOvSettings(this.ovSettings);\n        this.angularLibrary.setSessionName(this.sessionName);\n        this.angularLibrary.setOvServerUrl(this.openviduServerUrl);\n        this.angularLibrary.setOvSecret(this.openviduSecret);\n        this.angularLibrary.setTheme(this.theme);\n        this.angularLibrary.setNickname(this.user);\n        this.angularLibrary.setTokens(this.tokens);\n        if (this.angularLibrary.canJoinToSession()) {\n            this.display = true;\n            return;\n        }\n        this.log.e('Cannot join to session.');\n    }\n    emitSession(session) {\n        session.on('sessionDisconnected', (e) => (this.display = false));\n        session.on('connectionCreated', (e) => {\n            setTimeout(() => {\n                var _a, _b, _c;\n                if (!((_c = (_b = (_a = e.connection) === null || _a === void 0 ? void 0 : _a.stream) === null || _b === void 0 ? void 0 : _b.streamManager) === null || _c === void 0 ? void 0 : _c.remote)) {\n                    this.videoRoom.checkSizeComponent();\n                }\n            }, 700);\n        });\n        this.sessionCreated.emit(session);\n    }\n    emitPublisher(publisher) {\n        // publisher.on('streamPlaying', () => this.videoRoom.checkSizeComponent());\n        this.publisherCreated.emit(publisher);\n    }\n    emitErrorEvent(event) {\n        setTimeout(() => this.error.emit(event), 20);\n    }\n    // !Deprecated\n    getSession() {\n        this.log.w('getSession method is DEPRECATED. Please consider to use sessionCreated event');\n        return this.videoRoom.session;\n    }\n    getLocalUsers() {\n        return this.videoRoom.localUsers;\n    }\n    getOpenviduLayout() {\n        return this.videoRoom.openviduLayout;\n    }\n    getOpenviduLayoutOptions() {\n        return this.videoRoom.openviduLayoutOptions;\n    }\n    // !Deprecated\n    emitJoinSessionEvent(event) {\n        if (this.joinSession.observers.length > 0) {\n            this.log.w('joinSession event is DEPRECATED. Please consider to use sessionCreated event');\n        }\n        this.joinSession.emit(event);\n    }\n    // !Deprecated\n    emitLeaveSessionEvent(event) {\n        if (this.leaveSession.observers.length > 0) {\n            this.log.w('leaveSession event is DEPRECATED. Please consider to use sessionCreated event');\n        }\n        this.leaveSession.emit(event);\n    }\n};\nOpenviduSessionComponent.ɵfac = function OpenviduSessionComponent_Factory(t) { return new (t || OpenviduSessionComponent)(ɵngcc0.ɵɵdirectiveInject(LoggerService)); };\nOpenviduSessionComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: OpenviduSessionComponent, selectors: [[\"opv-session\"]], viewQuery: function OpenviduSessionComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c4, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.videoRoom = _t.first);\n    } }, inputs: { ovSettings: \"ovSettings\", sessionName: \"sessionName\", user: \"user\", openviduServerUrl: \"openviduServerUrl\", openviduSecret: \"openviduSecret\", tokens: \"tokens\", theme: \"theme\" }, outputs: { sessionCreated: \"sessionCreated\", publisherCreated: \"publisherCreated\", error: \"error\", joinSession: \"joinSession\", leaveSession: \"leaveSession\" }, decls: 1, vars: 1, consts: [[3, \"externalConfig\", \"_session\", \"_publisher\", \"_error\", \"_leaveSession\", \"_joinSession\", 4, \"ngIf\"], [3, \"externalConfig\", \"_session\", \"_publisher\", \"_error\", \"_leaveSession\", \"_joinSession\"], [\"videoRoom\", \"\"]], template: function OpenviduSessionComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, OpenviduSessionComponent_app_video_room_0_Template, 2, 1, \"app-video-room\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.display);\n    } }, directives: [ɵngcc5.NgIf, VideoRoomComponent], encapsulation: 2 });\nOpenviduSessionComponent.ctorParameters = () => [\n    { type: LoggerService }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], OpenviduSessionComponent.prototype, \"ovSettings\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], OpenviduSessionComponent.prototype, \"sessionName\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], OpenviduSessionComponent.prototype, \"user\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], OpenviduSessionComponent.prototype, \"openviduServerUrl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], OpenviduSessionComponent.prototype, \"openviduSecret\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], OpenviduSessionComponent.prototype, \"tokens\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], OpenviduSessionComponent.prototype, \"theme\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], OpenviduSessionComponent.prototype, \"sessionCreated\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], OpenviduSessionComponent.prototype, \"publisherCreated\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], OpenviduSessionComponent.prototype, \"error\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], OpenviduSessionComponent.prototype, \"joinSession\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], OpenviduSessionComponent.prototype, \"leaveSession\", void 0);\n__decorate([\n    ViewChild('videoRoom'),\n    __metadata(\"design:type\", VideoRoomComponent)\n], OpenviduSessionComponent.prototype, \"videoRoom\", void 0);\nOpenviduSessionComponent = __decorate([ __metadata(\"design:paramtypes\", [LoggerService])\n], OpenviduSessionComponent);\n\nlet LinkifyPipe = class LinkifyPipe {\n    constructor(linkifyService) {\n        this.linkifyService = linkifyService;\n    }\n    transform(str) {\n        return str ? this.linkifyService.linkify(str) : str;\n    }\n};\nLinkifyPipe.ɵfac = function LinkifyPipe_Factory(t) { return new (t || LinkifyPipe)(ɵngcc0.ɵɵdirectiveInject(ɵngcc12.NgxLinkifyjsService)); };\nLinkifyPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"linkify\", type: LinkifyPipe, pure: true });\nLinkifyPipe.ctorParameters = () => [\n    { type: NgxLinkifyjsService }\n];\nLinkifyPipe = __decorate([ __metadata(\"design:paramtypes\", [NgxLinkifyjsService])\n], LinkifyPipe);\n\nlet HasChatPipe = class HasChatPipe {\n    constructor() { }\n    transform(ovSettings) {\n        return !ovSettings || ovSettings.hasChat();\n    }\n};\nHasChatPipe.ɵfac = function HasChatPipe_Factory(t) { return new (t || HasChatPipe)(); };\nHasChatPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"hasChat\", type: HasChatPipe, pure: true });\nHasChatPipe = __decorate([ __metadata(\"design:paramtypes\", [])\n], HasChatPipe);\nlet HasAudioPipe = class HasAudioPipe {\n    constructor() { }\n    transform(ovSettings) {\n        return !ovSettings || ovSettings.hasAudio();\n    }\n};\nHasAudioPipe.ɵfac = function HasAudioPipe_Factory(t) { return new (t || HasAudioPipe)(); };\nHasAudioPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"hasAudio\", type: HasAudioPipe, pure: true });\nHasAudioPipe = __decorate([ __metadata(\"design:paramtypes\", [])\n], HasAudioPipe);\nlet HasVideoPipe = class HasVideoPipe {\n    constructor() { }\n    transform(ovSettings) {\n        return !ovSettings || ovSettings.hasVideo();\n    }\n};\nHasVideoPipe.ɵfac = function HasVideoPipe_Factory(t) { return new (t || HasVideoPipe)(); };\nHasVideoPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"hasVideo\", type: HasVideoPipe, pure: true });\nHasVideoPipe = __decorate([ __metadata(\"design:paramtypes\", [])\n], HasVideoPipe);\nlet IsAutoPublishPipe = class IsAutoPublishPipe {\n    constructor() { }\n    transform(ovSettings) {\n        return !ovSettings || ovSettings.isAutoPublish();\n    }\n};\nIsAutoPublishPipe.ɵfac = function IsAutoPublishPipe_Factory(t) { return new (t || IsAutoPublishPipe)(); };\nIsAutoPublishPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"isAutoPublish\", type: IsAutoPublishPipe, pure: true });\nIsAutoPublishPipe = __decorate([ __metadata(\"design:paramtypes\", [])\n], IsAutoPublishPipe);\nlet HasScreenSharingPipe = class HasScreenSharingPipe {\n    constructor() { }\n    transform(ovSettings) {\n        return !ovSettings || ovSettings.hasScreenSharing();\n    }\n};\nHasScreenSharingPipe.ɵfac = function HasScreenSharingPipe_Factory(t) { return new (t || HasScreenSharingPipe)(); };\nHasScreenSharingPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"hasScreenSharing\", type: HasScreenSharingPipe, pure: true });\nHasScreenSharingPipe = __decorate([ __metadata(\"design:paramtypes\", [])\n], HasScreenSharingPipe);\nlet HasFullscreenPipe = class HasFullscreenPipe {\n    constructor() { }\n    transform(ovSettings) {\n        return !ovSettings || ovSettings.hasFullscreen();\n    }\n};\nHasFullscreenPipe.ɵfac = function HasFullscreenPipe_Factory(t) { return new (t || HasFullscreenPipe)(); };\nHasFullscreenPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"hasFullscreen\", type: HasFullscreenPipe, pure: true });\nHasFullscreenPipe = __decorate([ __metadata(\"design:paramtypes\", [])\n], HasFullscreenPipe);\nlet HasLayoutSpeakingPipe = class HasLayoutSpeakingPipe {\n    constructor() { }\n    transform(ovSettings) {\n        return !ovSettings || ovSettings.hasLayoutSpeaking();\n    }\n};\nHasLayoutSpeakingPipe.ɵfac = function HasLayoutSpeakingPipe_Factory(t) { return new (t || HasLayoutSpeakingPipe)(); };\nHasLayoutSpeakingPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"hasLayoutSpeaking\", type: HasLayoutSpeakingPipe, pure: true });\nHasLayoutSpeakingPipe = __decorate([ __metadata(\"design:paramtypes\", [])\n], HasLayoutSpeakingPipe);\nlet HasExitPipe = class HasExitPipe {\n    constructor() { }\n    transform(ovSettings) {\n        return !ovSettings || ovSettings.hasExit();\n    }\n};\nHasExitPipe.ɵfac = function HasExitPipe_Factory(t) { return new (t || HasExitPipe)(); };\nHasExitPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"hasExit\", type: HasExitPipe, pure: true });\nHasExitPipe = __decorate([ __metadata(\"design:paramtypes\", [])\n], HasExitPipe);\n\nlet TooltipListPipe = class TooltipListPipe {\n    transform(lines) {\n        let list = '';\n        lines.forEach((line) => {\n            list += '• ' + line + '\\n';\n        });\n        return list;\n    }\n};\nTooltipListPipe.ɵfac = function TooltipListPipe_Factory(t) { return new (t || TooltipListPipe)(); };\nTooltipListPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"tooltipList\", type: TooltipListPipe, pure: true });\n\n/** Error when invalid control is dirty, touched, or submitted. */\nclass NicknameMatcher {\n    isErrorState(control, form) {\n        const isSubmitted = form && form.submitted;\n        return !!(control && control.invalid && (control.dirty || control.touched || isSubmitted));\n    }\n}\n\nvar VideoSizeIcon;\n(function (VideoSizeIcon) {\n    VideoSizeIcon[\"BIG\"] = \"zoom_in\";\n    VideoSizeIcon[\"NORMAL\"] = \"zoom_out\";\n})(VideoSizeIcon || (VideoSizeIcon = {}));\nvar VideoFullscreenIcon;\n(function (VideoFullscreenIcon) {\n    VideoFullscreenIcon[\"BIG\"] = \"fullscreen\";\n    VideoFullscreenIcon[\"NORMAL\"] = \"fullscreen_exit\";\n})(VideoFullscreenIcon || (VideoFullscreenIcon = {}));\n\nlet StreamComponent = class StreamComponent {\n    constructor(utilsSrv) {\n        this.utilsSrv = utilsSrv;\n        this.videoSizeIcon = VideoSizeIcon.BIG;\n        this.fullscreenIcon = VideoFullscreenIcon.BIG;\n        this.nicknameClicked = new EventEmitter();\n        this.replaceScreenTrackClicked = new EventEmitter();\n        this.toggleVideoSizeClicked = new EventEmitter();\n    }\n    sizeChange(event) {\n        const maxHeight = window.screen.height;\n        const maxWidth = window.screen.width;\n        const curHeight = window.innerHeight;\n        const curWidth = window.innerWidth;\n        if (maxWidth !== curWidth && maxHeight !== curHeight) {\n            this.isFullscreen = false;\n            this.videoSizeIcon = VideoSizeIcon.BIG;\n        }\n    }\n    // Has been mandatory fullscreen Input because of Input user did not fire changing\n    // the fullscreen user property in publisherStartSpeaking event in VideoRoom Component\n    set videoSizeBig(videoSizeBig) {\n        this.checkVideoSizeBigIcon(videoSizeBig);\n    }\n    set user(user) {\n        this._user = user;\n        this.nicknameFormControl = new FormControl(this._user.getNickname(), [Validators.maxLength(25), Validators.required]);\n    }\n    set nicknameInputElement(element) {\n        setTimeout(() => {\n            var _a;\n            (_a = element) === null || _a === void 0 ? void 0 : _a.nativeElement.focus();\n        });\n    }\n    ngOnInit() {\n        this.matcher = new NicknameMatcher();\n    }\n    toggleVideoSize(resetAll) {\n        const element = this.utilsSrv.getHTMLElementByClassName(this.streamComponent.element.nativeElement, LayoutType.ROOT_CLASS);\n        this.toggleVideoSizeClicked.emit({ element, connectionId: this._user.getConnectionId(), resetAll });\n    }\n    toggleFullscreen() {\n        this.utilsSrv.toggleFullscreen('container-' + this._user.getStreamManager().stream.streamId);\n        this.toggleFullscreenIcon();\n    }\n    toggleSound() {\n        this.mutedSound = !this.mutedSound;\n    }\n    toggleNicknameForm() {\n        if (this._user.isLocal()) {\n            this.toggleNickname = !this.toggleNickname;\n        }\n    }\n    eventKeyPress(event) {\n        if (event && event.keyCode === 13 && this.nicknameFormControl.valid) {\n            this.nicknameClicked.emit(this.nicknameFormControl.value);\n            this.toggleNicknameForm();\n        }\n    }\n    replaceScreenTrack() {\n        this.replaceScreenTrackClicked.emit();\n    }\n    checkVideoSizeBigIcon(videoSizeBig) {\n        this.videoSizeIcon = videoSizeBig ? VideoSizeIcon.NORMAL : VideoSizeIcon.BIG;\n    }\n    toggleFullscreenIcon() {\n        this.fullscreenIcon = this.fullscreenIcon === VideoFullscreenIcon.BIG ? VideoFullscreenIcon.NORMAL : VideoFullscreenIcon.BIG;\n    }\n};\nStreamComponent.ɵfac = function StreamComponent_Factory(t) { return new (t || StreamComponent)(ɵngcc0.ɵɵdirectiveInject(UtilsService)); };\nStreamComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: StreamComponent, selectors: [[\"stream-component\"]], viewQuery: function StreamComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c5, true);\n        ɵngcc0.ɵɵviewQuery(_c6, true, ViewContainerRef);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.nicknameInputElement = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.streamComponent = _t.first);\n    } }, hostBindings: function StreamComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function StreamComponent_resize_HostBindingHandler($event) { return ctx.sizeChange($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } }, inputs: { videoSizeBig: \"videoSizeBig\", user: \"user\" }, outputs: { nicknameClicked: \"nicknameClicked\", replaceScreenTrackClicked: \"replaceScreenTrackClicked\", toggleVideoSizeClicked: \"toggleVideoSizeClicked\" }, decls: 1, vars: 1, consts: [[\"class\", \"OT_widget-container\", 3, \"id\", \"dblclick\", 4, \"ngIf\"], [1, \"OT_widget-container\", 3, \"id\", \"dblclick\"], [\"streamComponent\", \"\"], [1, \"nickname\"], [\"class\", \"nicknameContainer\", \"selected\", \"\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"dialogNickname\", 3, \"fullscreen\", 4, \"ngIf\"], [3, \"streamManager\", \"mutedSound\", \"toggleVideoSizeEvent\"], [1, \"statusIcons\"], [\"id\", \"statusMic\", 4, \"ngIf\"], [\"id\", \"statusCam\", 4, \"ngIf\"], [1, \"videoButtons\"], [\"mat-icon-button\", \"\", \"id\", \"videoZoomButton\", 3, \"click\"], [\"mat-icon-button\", \"\", \"id\", \"fullscreenButton\", 3, \"click\"], [\"mat-icon-button\", \"\", \"id\", \"volumeButton\", 3, \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"id\", \"changeScreenButton\", 3, \"click\", 4, \"ngIf\"], [\"selected\", \"\", 1, \"nicknameContainer\", 3, \"click\"], [\"id\", \"nickname\"], [4, \"ngIf\"], [\"id\", \"dialogNickname\"], [\"mat-icon-button\", \"\", \"id\", \"closeButton\", 3, \"click\"], [\"matTooltip\", \"Close\"], [\"id\", \"nicknameForm\"], [\"color\", \"primary\"], [\"matInput\", \"\", \"autocomplete\", \"off\", 3, \"placeholder\", \"formControl\", \"errorStateMatcher\", \"keypress\"], [\"nicknameInput\", \"\"], [\"id\", \"statusMic\"], [\"id\", \"statusCam\"], [\"mat-icon-button\", \"\", \"id\", \"volumeButton\", 3, \"click\"], [\"matTooltip\", \"Mute sound\", 4, \"ngIf\"], [\"color\", \"warn\", \"matTooltip\", \"Unmute sound\", 4, \"ngIf\"], [\"matTooltip\", \"Mute sound\"], [\"color\", \"warn\", \"matTooltip\", \"Unmute sound\"], [\"mat-icon-button\", \"\", \"id\", \"changeScreenButton\", 3, \"click\"], [\"matTooltip\", \"Choose screen\"]], template: function StreamComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, StreamComponent_div_0_Template, 18, 13, \"div\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx._user);\n    } }, directives: function () { return [ɵngcc5.NgIf, OpenViduVideoComponent, ɵngcc2.MatButton, ɵngcc3.MatIcon, ɵngcc4.MatTooltip, ɵngcc6.ɵangular_packages_forms_forms_y, ɵngcc6.NgControlStatusGroup, ɵngcc6.NgForm, ɵngcc13.MatFormField, ɵngcc14.MatInput, ɵngcc6.DefaultValueAccessor, ɵngcc6.NgControlStatus, ɵngcc6.FormControlDirective, ɵngcc13.MatError]; }, styles: [\".nickname[_ngcontent-%COMP%]{padding:0;position:absolute;z-index:999;border-radius:5px;color:#fff;font-family:Ubuntu,sans-serif}.nicknameContainer[_ngcontent-%COMP%]{background-color:#424242;padding:5px;color:#fff;font-weight:700}#dialogNickname[_ngcontent-%COMP%]{background-color:#0000005e;border-radius:5px}#closeButton[_ngcontent-%COMP%]{position:absolute;top:-3px;right:0;z-index:999}#nicknameForm[_ngcontent-%COMP%]{padding:10px}.fullscreen[_ngcontent-%COMP%]{top:40px}mat-error[_ngcontent-%COMP%]{text-align:center;color:#353535}video[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;color:#fff;margin:0;padding:0;border:0;font-size:100%}.statusIcons[_ngcontent-%COMP%]{bottom:0;left:5px;width:40px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:absolute;color:#fff}.statusIcons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle;vertical-align:-moz-middle-with-baseline;font-size:20px}.videoButtons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.videoButtons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{line-height:0}#camStatus[_ngcontent-%COMP%]{bottom:43px}#statusCam[_ngcontent-%COMP%], #statusMic[_ngcontent-%COMP%]{text-align:center;width:28px;height:28px;border-radius:50%;background:#c71100;margin:5px auto}.videoButtons[_ngcontent-%COMP%]{right:0;position:absolute;bottom:0;z-index:9999999;width:50px;text-align:center}.videoButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;width:30px;height:30px;margin:1px}.OT_widget-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}  .mat-focused .mat-form-field-label,   .mat-form-field-appearance-legacy .mat-form-field-label, mat-error[_ngcontent-%COMP%]{color:#cacaca!important}  .mat-form-field-appearance-legacy .mat-form-field-underline,   .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#cacaca!important}input[_ngcontent-%COMP%]{caret-color:#fff!important}\"] });\nStreamComponent.ctorParameters = () => [\n    { type: UtilsService }\n];\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], StreamComponent.prototype, \"nicknameClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], StreamComponent.prototype, \"replaceScreenTrackClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], StreamComponent.prototype, \"toggleVideoSizeClicked\", void 0);\n__decorate([\n    ViewChild('streamComponent', { read: ViewContainerRef }),\n    __metadata(\"design:type\", ViewContainerRef)\n], StreamComponent.prototype, \"streamComponent\", void 0);\n__decorate([\n    HostListener('window:resize', ['$event']),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], StreamComponent.prototype, \"sizeChange\", null);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean),\n    __metadata(\"design:paramtypes\", [Boolean])\n], StreamComponent.prototype, \"videoSizeBig\", null);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", UserModel),\n    __metadata(\"design:paramtypes\", [UserModel])\n], StreamComponent.prototype, \"user\", null);\n__decorate([\n    ViewChild('nicknameInput'),\n    __metadata(\"design:type\", ElementRef),\n    __metadata(\"design:paramtypes\", [ElementRef])\n], StreamComponent.prototype, \"nicknameInputElement\", null);\nStreamComponent = __decorate([ __metadata(\"design:paramtypes\", [UtilsService])\n], StreamComponent);\n\nlet OpenViduVideoComponent = class OpenViduVideoComponent {\n    constructor() {\n        this.toggleVideoSizeEvent = new EventEmitter();\n    }\n    ngAfterViewInit() {\n        setTimeout(() => {\n            if (this._streamManager && this._videoElement) {\n                this._streamManager.addVideoElement(this._videoElement.nativeElement);\n            }\n        });\n    }\n    set videoElement(element) {\n        this._videoElement = element;\n    }\n    set streamManager(streamManager) {\n        setTimeout(() => {\n            this._streamManager = streamManager;\n            if (!!this._videoElement && this._streamManager) {\n                if (this._streamManager.stream.typeOfVideo === VideoType.SCREEN) {\n                    this._videoElement.nativeElement.style.objectFit = 'contain';\n                    this._videoElement.nativeElement.style.background = '#272727';\n                    this.enableVideoSizeBig();\n                }\n                else {\n                    this._videoElement.nativeElement.style.objectFit = 'cover';\n                }\n                this._streamManager.addVideoElement(this._videoElement.nativeElement);\n            }\n        });\n    }\n    enableVideoSizeBig() {\n        // Doing video size bigger.\n        // Timeout because of connectionId is null and icon does not change\n        setTimeout(() => {\n            this.toggleVideoSizeEvent.emit(true);\n        }, 590);\n    }\n};\nOpenViduVideoComponent.ɵfac = function OpenViduVideoComponent_Factory(t) { return new (t || OpenViduVideoComponent)(); };\nOpenViduVideoComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: OpenViduVideoComponent, selectors: [[\"ov-video\"]], viewQuery: function OpenViduVideoComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c7, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.videoElement = _t.first);\n    } }, inputs: { streamManager: \"streamManager\", mutedSound: \"mutedSound\" }, outputs: { toggleVideoSizeEvent: \"toggleVideoSizeEvent\" }, decls: 2, vars: 2, consts: [[3, \"muted\"], [\"videoElement\", \"\"]], template: function OpenViduVideoComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"video\", 0, 1);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"muted\", ctx.mutedSound);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.streamManager && ctx._streamManager.stream ? \"video-\" + ctx._streamManager.stream.streamId : \"video-undefined\");\n    } }, styles: [\".nickname[_ngcontent-%COMP%]{padding:0;position:absolute;z-index:999;border-radius:5px;color:#fff;font-family:Ubuntu,sans-serif}.nicknameContainer[_ngcontent-%COMP%]{background-color:#424242;padding:5px;color:#fff;font-weight:700}#dialogNickname[_ngcontent-%COMP%]{background-color:#0000005e;border-radius:5px}#closeButton[_ngcontent-%COMP%]{position:absolute;top:-3px;right:0;z-index:999}#nicknameForm[_ngcontent-%COMP%]{padding:10px}.fullscreen[_ngcontent-%COMP%]{top:40px}mat-error[_ngcontent-%COMP%]{text-align:center;color:#353535}video[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;color:#fff;margin:0;padding:0;border:0;font-size:100%}.statusIcons[_ngcontent-%COMP%]{bottom:0;left:5px;width:40px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:absolute;color:#fff}.statusIcons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle;vertical-align:-moz-middle-with-baseline;font-size:20px}.videoButtons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.videoButtons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{line-height:0}#camStatus[_ngcontent-%COMP%]{bottom:43px}#statusCam[_ngcontent-%COMP%], #statusMic[_ngcontent-%COMP%]{text-align:center;width:28px;height:28px;border-radius:50%;background:#c71100;margin:5px auto}.videoButtons[_ngcontent-%COMP%]{right:0;position:absolute;bottom:0;z-index:9999999;width:50px;text-align:center}.videoButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;width:30px;height:30px;margin:1px}.OT_widget-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}  .mat-focused .mat-form-field-label,   .mat-form-field-appearance-legacy .mat-form-field-label, mat-error[_ngcontent-%COMP%]{color:#cacaca!important}  .mat-form-field-appearance-legacy .mat-form-field-underline,   .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#cacaca!important}input[_ngcontent-%COMP%]{caret-color:#fff!important}\"] });\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], OpenViduVideoComponent.prototype, \"mutedSound\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], OpenViduVideoComponent.prototype, \"toggleVideoSizeEvent\", void 0);\n__decorate([\n    ViewChild('videoElement'),\n    __metadata(\"design:type\", ElementRef),\n    __metadata(\"design:paramtypes\", [ElementRef])\n], OpenViduVideoComponent.prototype, \"videoElement\", null);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", StreamManager),\n    __metadata(\"design:paramtypes\", [StreamManager])\n], OpenViduVideoComponent.prototype, \"streamManager\", null);\n\nlet ToolbarComponent = class ToolbarComponent {\n    constructor(utilsSrv, chatService) {\n        this.utilsSrv = utilsSrv;\n        this.chatService = chatService;\n        this.micButtonClicked = new EventEmitter();\n        this.camButtonClicked = new EventEmitter();\n        this.screenShareClicked = new EventEmitter();\n        this.layoutButtonClicked = new EventEmitter();\n        this.leaveSessionButtonClicked = new EventEmitter();\n        this.fullscreenIcon = VideoFullscreenIcon.BIG;\n        this.logoUrl = 'https://raw.githubusercontent.com/OpenVidu/openvidu-call/master/openvidu-call-front/src/assets/images/';\n        this.participantsNames = [];\n        this.chatServiceSubscription = this.chatService.messagesUnreadObs.subscribe((num) => {\n            this.newMessagesNum = num;\n        });\n    }\n    ngOnDestroy() {\n        this.chatServiceSubscription.unsubscribe();\n    }\n    sizeChange(event) {\n        const maxHeight = window.screen.height;\n        const maxWidth = window.screen.width;\n        const curHeight = window.innerHeight;\n        const curWidth = window.innerWidth;\n        if (maxWidth !== curWidth && maxHeight !== curHeight) {\n            this.fullscreenIcon = VideoFullscreenIcon.BIG;\n        }\n    }\n    ngOnInit() {\n        if (this.lightTheme) {\n            this.logoUrl += 'openvidu_logo_grey.png';\n            return;\n        }\n        this.logoUrl += 'openvidu_logo.png';\n    }\n    toggleMicrophone() {\n        this.micButtonClicked.emit();\n    }\n    toggleCamera() {\n        this.camButtonClicked.emit();\n    }\n    toggleScreenShare() {\n        this.screenShareClicked.emit();\n    }\n    toggleSpeakerLayout() {\n        this.layoutButtonClicked.emit();\n    }\n    leaveSession() {\n        this.leaveSessionButtonClicked.emit();\n    }\n    toggleChat() {\n        this.chatService.toggleChat();\n    }\n    toggleFullscreen() {\n        this.utilsSrv.toggleFullscreen('videoRoomNavBar');\n        this.fullscreenIcon = this.fullscreenIcon === VideoFullscreenIcon.BIG ? VideoFullscreenIcon.NORMAL : VideoFullscreenIcon.BIG;\n    }\n};\nToolbarComponent.ɵfac = function ToolbarComponent_Factory(t) { return new (t || ToolbarComponent)(ɵngcc0.ɵɵdirectiveInject(UtilsService), ɵngcc0.ɵɵdirectiveInject(ChatService)); };\nToolbarComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ToolbarComponent, selectors: [[\"app-toolbar\"]], hostBindings: function ToolbarComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function ToolbarComponent_resize_HostBindingHandler($event) { return ctx.sizeChange($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } }, inputs: { lightTheme: \"lightTheme\", mySessionId: \"mySessionId\", compact: \"compact\", showNotification: \"showNotification\", ovSettings: \"ovSettings\", isWebcamVideoEnabled: \"isWebcamVideoEnabled\", isWebcamAudioEnabled: \"isWebcamAudioEnabled\", isScreenEnabled: \"isScreenEnabled\", isAutoLayout: \"isAutoLayout\", isConnectionLost: \"isConnectionLost\", hasVideoDevices: \"hasVideoDevices\", hasAudioDevices: \"hasAudioDevices\" }, outputs: { micButtonClicked: \"micButtonClicked\", camButtonClicked: \"camButtonClicked\", screenShareClicked: \"screenShareClicked\", layoutButtonClicked: \"layoutButtonClicked\", leaveSessionButtonClicked: \"leaveSessionButtonClicked\" }, decls: 20, vars: 27, consts: [[\"id\", \"header\", \"role\", \"heading\", \"fxLayout\", \"\", \"fxLayoutAlign\", \"center\", \"fxLayoutGap\", \"10px\", 1, \"container\"], [\"fxFlex\", \"20%\"], [3, \"lightTheme\", \"sessionId\", \"compact\", \"logoUrl\"], [\"fxFlex\", \"70%\", \"fxFlexOrder\", \"2\"], [\"align\", \"center\", 1, \"buttonsContainer\"], [\"id\", \"navMicrophoneButton\", \"mat-icon-button\", \"\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"id\", \"navCameraButton\", \"mat-icon-button\", \"\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"id\", \"navScreenButton\", \"mat-icon-button\", \"\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"id\", \"navLeaveButton\", 3, \"click\", 4, \"ngIf\"], [\"fxFlex\", \"10%\", \"fxFlexOrder\", \"3\", \"align\", \"end\"], [\"id\", \"navMicrophoneButton\", \"mat-icon-button\", \"\", 3, \"disabled\", \"click\"], [\"matTooltip\", \"Mute your audio\", 4, \"ngIf\"], [\"color\", \"warn\", \"matTooltip\", \"Unmute your audio\", 4, \"ngIf\"], [\"matTooltip\", \"Mute your audio\"], [\"color\", \"warn\", \"matTooltip\", \"Unmute your audio\"], [\"id\", \"navCameraButton\", \"mat-icon-button\", \"\", 3, \"disabled\", \"click\"], [\"matTooltip\", \"Mute your cam\", 4, \"ngIf\"], [\"color\", \"warn\", \"matTooltip\", \"Unmute your cam\", 4, \"ngIf\"], [\"matTooltip\", \"Mute your cam\"], [\"color\", \"warn\", \"matTooltip\", \"Unmute your cam\"], [\"id\", \"navScreenButton\", \"mat-icon-button\", \"\", 3, \"disabled\", \"click\"], [\"matTooltip\", \"Screen share\", \"color\", \"warn\", 4, \"ngIf\"], [\"matTooltip\", \"Stop sharing\", 4, \"ngIf\"], [\"matTooltip\", \"Screen share\", \"color\", \"warn\"], [\"matTooltip\", \"Stop sharing\"], [\"mat-icon-button\", \"\", 3, \"disabled\", \"click\"], [\"matTooltip\", \"Fullscreen\"], [\"matTooltip\", \"Enable speaker layout\", \"color\", \"warn\", 4, \"ngIf\"], [\"matTooltip\", \"Disable speaker layout\", 4, \"ngIf\"], [\"matTooltip\", \"Enable speaker layout\", \"color\", \"warn\"], [\"matTooltip\", \"Disable speaker layout\"], [\"mat-icon-button\", \"\", \"id\", \"navLeaveButton\", 3, \"click\"], [\"color\", \"warn\", \"matTooltip\", \"Leave the session\"], [\"matBadgePosition\", \"above before\", \"matTooltip\", \"Chat\", \"matBadgeColor\", \"accent\", 3, \"matBadge\", \"matBadgeHidden\"]], template: function ToolbarComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"mat-toolbar\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵelement(2, \"app-toolbar-logo\", 2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(3, \"div\", 3);\n        ɵngcc0.ɵɵelementStart(4, \"div\", 4);\n        ɵngcc0.ɵɵtemplate(5, ToolbarComponent_button_5_Template, 3, 3, \"button\", 5);\n        ɵngcc0.ɵɵpipe(6, \"hasAudio\");\n        ɵngcc0.ɵɵtemplate(7, ToolbarComponent_button_7_Template, 3, 3, \"button\", 6);\n        ɵngcc0.ɵɵpipe(8, \"hasVideo\");\n        ɵngcc0.ɵɵtemplate(9, ToolbarComponent_button_9_Template, 3, 3, \"button\", 7);\n        ɵngcc0.ɵɵpipe(10, \"hasScreenSharing\");\n        ɵngcc0.ɵɵtemplate(11, ToolbarComponent_button_11_Template, 3, 2, \"button\", 8);\n        ɵngcc0.ɵɵpipe(12, \"hasFullscreen\");\n        ɵngcc0.ɵɵtemplate(13, ToolbarComponent_button_13_Template, 3, 3, \"button\", 8);\n        ɵngcc0.ɵɵpipe(14, \"hasLayoutSpeaking\");\n        ɵngcc0.ɵɵtemplate(15, ToolbarComponent_button_15_Template, 3, 0, \"button\", 9);\n        ɵngcc0.ɵɵpipe(16, \"hasExit\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(17, \"div\", 10);\n        ɵngcc0.ɵɵtemplate(18, ToolbarComponent_button_18_Template, 3, 3, \"button\", 8);\n        ɵngcc0.ɵɵpipe(19, \"hasChat\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"headerLight\", ctx.lightTheme);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"lightTheme\", ctx.lightTheme)(\"sessionId\", ctx.mySessionId)(\"compact\", ctx.compact)(\"logoUrl\", ctx.logoUrl);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasAudioDevices && ɵngcc0.ɵɵpipeBind1(6, 13, ctx.ovSettings));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.ovSettings || ctx.hasVideoDevices && ɵngcc0.ɵɵpipeBind1(8, 15, ctx.ovSettings));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(10, 17, ctx.ovSettings));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(12, 19, ctx.ovSettings));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(14, 21, ctx.ovSettings));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(16, 23, ctx.ovSettings));\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(19, 25, ctx.ovSettings));\n    } }, directives: function () { return [ɵngcc15.MatToolbar, ɵngcc16.DefaultLayoutDirective, ɵngcc16.DefaultLayoutAlignDirective, ɵngcc16.DefaultLayoutGapDirective, ɵngcc16.DefaultFlexDirective, ToolbarLogoComponent, ɵngcc16.DefaultFlexOrderDirective, ɵngcc5.NgIf, ɵngcc2.MatButton, ɵngcc3.MatIcon, ɵngcc4.MatTooltip, ɵngcc17.MatBadge]; }, pipes: function () { return [HasAudioPipe,\n        HasVideoPipe,\n        HasScreenSharingPipe,\n        HasFullscreenPipe,\n        HasLayoutSpeakingPipe,\n        HasExitPipe,\n        HasChatPipe]; }, styles: [\"#header[_ngcontent-%COMP%]{color:#fff;height:40px;background-color:#333;padding:0 14px 0 0;position:absolute;top:0;left:0;z-index:999999;min-width:400px!important}.buttonsContainer[_ngcontent-%COMP%]{position:absolute;left:0;right:0}.headerLight[_ngcontent-%COMP%]{color:#706969!important;background-color:#eee!important}#navSessionInfo[_ngcontent-%COMP%]{height:100%;display:inline-flex}#navChatButton[_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-17px}#navChatButton[_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-6px}.mat-icon-button[disabled][_ngcontent-%COMP%]{color:#fff}.titleContent[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;max-width:100px;margin:5px -18px;padding:0 15px;font-size:16px;overflow:hidden;text-overflow:ellipsis}.titleContentDark[_ngcontent-%COMP%]{background-color:#494949;color:#fff}.titleContentLight[_ngcontent-%COMP%]{background-color:#dfdfdf!important;color:#000}#header_img[_ngcontent-%COMP%]{max-width:135px;margin-right:10px;margin-top:-3px}#point[_ngcontent-%COMP%]{width:10px;height:10px;position:absolute;top:12px;right:33px;border-radius:50%;background-color:#ffa600;border:1px solid #000;z-index:99999}.pointLight[_ngcontent-%COMP%]{border:1px solid #fff!important}.tooltipList[_ngcontent-%COMP%]{white-space:pre}@media (max-width:600px){#navSessionInfo[_ngcontent-%COMP%]{display:none}}\"] });\nToolbarComponent.ctorParameters = () => [\n    { type: UtilsService },\n    { type: ChatService }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"lightTheme\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"mySessionId\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"compact\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"showNotification\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", OvSettingsModel)\n], ToolbarComponent.prototype, \"ovSettings\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"isWebcamVideoEnabled\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"isWebcamAudioEnabled\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"isScreenEnabled\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"isAutoLayout\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"isConnectionLost\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"hasVideoDevices\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarComponent.prototype, \"hasAudioDevices\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], ToolbarComponent.prototype, \"micButtonClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], ToolbarComponent.prototype, \"camButtonClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], ToolbarComponent.prototype, \"screenShareClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], ToolbarComponent.prototype, \"layoutButtonClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], ToolbarComponent.prototype, \"leaveSessionButtonClicked\", void 0);\n__decorate([\n    HostListener('window:resize', ['$event']),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], ToolbarComponent.prototype, \"sizeChange\", null);\nToolbarComponent = __decorate([ __metadata(\"design:paramtypes\", [UtilsService, ChatService])\n], ToolbarComponent);\n\nlet ToolbarLogoComponent = class ToolbarLogoComponent {\n    constructor() { }\n};\nToolbarLogoComponent.ɵfac = function ToolbarLogoComponent_Factory(t) { return new (t || ToolbarLogoComponent)(); };\nToolbarLogoComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ToolbarLogoComponent, selectors: [[\"app-toolbar-logo\"]], inputs: { lightTheme: \"lightTheme\", compact: \"compact\", sessionId: \"sessionId\", logoUrl: \"logoUrl\" }, decls: 4, vars: 2, consts: [[\"id\", \"navSessionInfo\"], [\"id\", \"header_img\", \"alt\", \"OpenVidu Logo\", 3, \"src\"], [3, \"ngClass\", 4, \"ngIf\"], [3, \"ngClass\"], [\"id\", \"session-title\"]], template: function ToolbarLogoComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"a\");\n        ɵngcc0.ɵɵelement(2, \"img\", 1);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(3, ToolbarLogoComponent_div_3_Template, 3, 5, \"div\", 2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"src\", ctx.logoUrl, ɵngcc0.ɵɵsanitizeUrl);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.compact && ctx.sessionId);\n    } }, directives: [ɵngcc5.NgIf, ɵngcc5.NgClass, ɵngcc7.DefaultClassDirective], styles: [\"#header[_ngcontent-%COMP%]{color:#fff;height:40px;background-color:#333;padding:0 14px 0 0;position:absolute;top:0;left:0;z-index:999999;min-width:400px!important}.buttonsContainer[_ngcontent-%COMP%]{position:absolute;left:0;right:0}.headerLight[_ngcontent-%COMP%]{color:#706969!important;background-color:#eee!important}#navSessionInfo[_ngcontent-%COMP%]{height:100%;display:inline-flex}#navChatButton[_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-17px}#navChatButton[_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-6px}.mat-icon-button[disabled][_ngcontent-%COMP%]{color:#fff}.titleContent[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;max-width:100px;margin:5px -18px;padding:0 15px;font-size:16px;overflow:hidden;text-overflow:ellipsis}.titleContentDark[_ngcontent-%COMP%]{background-color:#494949;color:#fff}.titleContentLight[_ngcontent-%COMP%]{background-color:#dfdfdf!important;color:#000}#header_img[_ngcontent-%COMP%]{max-width:135px;margin-right:10px;margin-top:-3px}#point[_ngcontent-%COMP%]{width:10px;height:10px;position:absolute;top:12px;right:33px;border-radius:50%;background-color:#ffa600;border:1px solid #000;z-index:99999}.pointLight[_ngcontent-%COMP%]{border:1px solid #fff!important}.tooltipList[_ngcontent-%COMP%]{white-space:pre}@media (max-width:600px){#navSessionInfo[_ngcontent-%COMP%]{display:none}}\"] });\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarLogoComponent.prototype, \"lightTheme\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], ToolbarLogoComponent.prototype, \"compact\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], ToolbarLogoComponent.prototype, \"sessionId\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], ToolbarLogoComponent.prototype, \"logoUrl\", void 0);\nToolbarLogoComponent = __decorate([ __metadata(\"design:paramtypes\", [])\n], ToolbarLogoComponent);\n\nlet FooterComponent = class FooterComponent {\n    constructor() {\n        this.participantsNames = [];\n    }\n    sizeChange(event) { }\n    ngOnInit() { }\n    set participants(participants) {\n        this.participantsNames = [];\n        participants.forEach((user) => {\n            if (user.isCamera()) {\n                this.participantsNames.push(user.getNickname());\n            }\n        });\n        this.participantsNames = [...this.participantsNames];\n    }\n};\nFooterComponent.ɵfac = function FooterComponent_Factory(t) { return new (t || FooterComponent)(); };\nFooterComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: FooterComponent, selectors: [[\"app-footer\"]], hostBindings: function FooterComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function FooterComponent_resize_HostBindingHandler($event) { return ctx.sizeChange($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } }, inputs: { participants: \"participants\", lightTheme: \"lightTheme\" }, decls: 9, vars: 6, consts: [[\"fxLayout\", \"\", \"fxLayout.xs\", \"row\", \"fxLayoutAlign\", \"center center\", \"fxLayoutGap\", \"2px\", \"id\", \"footer\", \"role\", \"heading\", 1, \"container\"], [1, \"participantsButtonContainer\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Remote participants\", 1, \"\"], [\"matBadgeSize\", \"small\", \"matBadgePosition\", \"above after\", \"matBadgeColor\", \"accent\", 3, \"matBadge\"], [\"fxFlex\", \"calc(100% - 40px)\", \"fxFlexOrder\", \"2\"], [1, \"participantNames\"]], template: function FooterComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"mat-toolbar\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"button\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"mat-icon\", 3);\n        ɵngcc0.ɵɵtext(4, \"people\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"div\", 4);\n        ɵngcc0.ɵɵelementStart(6, \"span\", 5);\n        ɵngcc0.ɵɵtext(7);\n        ɵngcc0.ɵɵpipe(8, \"tooltipList\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"headerLight\", ctx.lightTheme);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵpropertyInterpolate(\"matBadge\", ctx.participantsNames == null ? null : ctx.participantsNames.length);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(8, 4, ctx.participantsNames));\n    } }, directives: [ɵngcc15.MatToolbar, ɵngcc16.DefaultLayoutDirective, ɵngcc16.DefaultLayoutAlignDirective, ɵngcc16.DefaultLayoutGapDirective, ɵngcc2.MatButton, ɵngcc4.MatTooltip, ɵngcc3.MatIcon, ɵngcc17.MatBadge, ɵngcc16.DefaultFlexDirective, ɵngcc16.DefaultFlexOrderDirective], pipes: [TooltipListPipe], styles: [\"#footer[_ngcontent-%COMP%]{color:#fff;height:25px;background-color:#333;padding:0 14px 0 0;position:absolute;bottom:0;left:0;z-index:999999;min-width:400px!important}.footerLight[_ngcontent-%COMP%]{color:#706969!important;background-color:#eee!important}.participantNames[_ngcontent-%COMP%]{font-size:small;height:inherit}.participantsButton[_ngcontent-%COMP%]{position:absolute;left:5px;top:none;height:-webkit-fill-available;height:-moz-available}.participantsButtonContainer[_ngcontent-%COMP%]{height:-webkit-fill-available;height:-moz-available}.mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .participantsButtonContainer[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:18px}\"] });\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FooterComponent.prototype, \"lightTheme\", void 0);\n__decorate([\n    HostListener('window:resize', ['$event']),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], FooterComponent.prototype, \"sizeChange\", null);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array),\n    __metadata(\"design:paramtypes\", [Array])\n], FooterComponent.prototype, \"participants\", null);\nFooterComponent = __decorate([ __metadata(\"design:paramtypes\", [])\n], FooterComponent);\n\nlet RoomConfigComponent = class RoomConfigComponent {\n    constructor(route, utilsSrv, oVSessionService, oVDevicesService, loggerSrv, storageSrv) {\n        this.route = route;\n        this.utilsSrv = utilsSrv;\n        this.oVSessionService = oVSessionService;\n        this.oVDevicesService = oVDevicesService;\n        this.loggerSrv = loggerSrv;\n        this.storageSrv = storageSrv;\n        this.USER_NICKNAME = 'openviduCallNickname';\n        this.join = new EventEmitter();\n        this.leaveSession = new EventEmitter();\n        // Webcomponent event\n        this.publisherCreated = new EventEmitter();\n        this.isVideoActive = true;\n        this.isAudioActive = true;\n        this.localUsers = [];\n        this.nicknameFormControl = new FormControl('', [Validators.maxLength(25), Validators.required]);\n        this.matcher = new NicknameMatcher();\n        this.log = this.loggerSrv.get('RoomConfigComponent');\n    }\n    beforeunloadHandler() {\n        this.close();\n    }\n    ngOnInit() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.subscribeToUsers();\n            this.setNicknameForm();\n            this.setRandomAvatar();\n            this.columns = window.innerWidth > 900 ? 2 : 1;\n            this.setSessionName();\n            yield this.oVDevicesService.initDevices();\n            this.setDevicesInfo();\n            this.initwebcamPublisher();\n            // publisher.on('streamAudioVolumeChange', (event: any) => {\n            //   this.volumeValue = Math.round(Math.abs(event.value.newValue));\n            // });\n        });\n    }\n    ngOnDestroy() {\n        this.oVUsersSubscription.unsubscribe();\n    }\n    onCameraSelected(event) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const videoSource = (_a = event) === null || _a === void 0 ? void 0 : _a.value;\n            if (!!videoSource) {\n                // Is New deviceId different from the old one?\n                if (this.oVDevicesService.needUpdateVideoTrack(videoSource)) {\n                    const mirror = this.oVDevicesService.cameraNeedsMirror(videoSource);\n                    yield this.oVSessionService.replaceTrack(videoSource, null, mirror);\n                    this.oVDevicesService.setCamSelected(videoSource);\n                    this.camSelected = this.oVDevicesService.getCamSelected();\n                }\n                // Publish Webcam\n                this.oVSessionService.publishVideo(true);\n                this.isVideoActive = true;\n                return;\n            }\n            // Unpublish webcam\n            this.oVSessionService.publishVideo(false);\n            this.isVideoActive = false;\n        });\n    }\n    onMicrophoneSelected(event) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const audioSource = (_a = event) === null || _a === void 0 ? void 0 : _a.value;\n            if (!!audioSource) {\n                // Is New deviceId different than older?\n                if (this.oVDevicesService.needUpdateAudioTrack(audioSource)) {\n                    console.log(this.camSelected);\n                    const mirror = this.oVDevicesService.cameraNeedsMirror(this.camSelected.device);\n                    yield this.oVSessionService.replaceTrack(null, audioSource, mirror);\n                    this.oVDevicesService.setMicSelected(audioSource);\n                    this.micSelected = this.oVDevicesService.getMicSelected();\n                }\n                // Publish microphone\n                this.publishAudio(true);\n                this.isAudioActive = true;\n                return;\n            }\n            // Unpublish microhpone\n            this.publishAudio(false);\n            this.isAudioActive = false;\n        });\n    }\n    toggleCam() {\n        this.isVideoActive = !this.isVideoActive;\n        this.oVSessionService.publishVideo(this.isVideoActive);\n        if (this.oVSessionService.areBothConnected()) {\n            this.oVSessionService.disableWebcamUser();\n            this.oVSessionService.publishScreenAudio(this.isAudioActive);\n            // !this.subscribeToVolumeChange(<Publisher>this.localUsers[0].getStreamManager());\n        }\n        else if (this.oVSessionService.isOnlyScreenConnected()) {\n            // (<Publisher>this.localUsers[0].getStreamManager()).off('streamAudioVolumeChange');\n            this.oVSessionService.enableWebcamUser();\n        }\n    }\n    toggleScreenShare() {\n        if (this.oVSessionService.areBothConnected()) {\n            this.oVSessionService.disableScreenUser();\n            return;\n        }\n        if (this.oVSessionService.isOnlyWebcamConnected()) {\n            const screenPublisher = this.initScreenPublisher();\n            screenPublisher.on('accessAllowed', (event) => {\n                screenPublisher.stream.getMediaStream().getVideoTracks()[0].addEventListener('ended', () => {\n                    this.log.d('Clicked native stop button. Stopping screen sharing');\n                    this.toggleScreenShare();\n                });\n                this.oVSessionService.enableScreenUser(screenPublisher);\n                if (!this.oVSessionService.hasWebcamVideoActive()) {\n                    this.oVSessionService.disableWebcamUser();\n                }\n            });\n            screenPublisher.on('accessDenied', (event) => {\n                this.log.w('ScreenShare: Access Denied');\n            });\n            return;\n        }\n        this.oVSessionService.enableWebcamUser();\n        this.oVSessionService.disableScreenUser();\n    }\n    toggleMic() {\n        this.isAudioActive = !this.isAudioActive;\n        this.publishAudio(this.isAudioActive);\n    }\n    takePhoto() {\n        this.oVSessionService.setWebcamAvatar();\n        this.videoAvatar = this.oVSessionService.getWebCamAvatar();\n        this.oVSessionService.setAvatar(AvatarType.VIDEO);\n    }\n    setNicknameForm() {\n        if (this.externalConfig) {\n            this.nicknameFormControl.setValue(this.externalConfig.getNickname());\n            return;\n        }\n        const nickname = this.storageSrv.get(this.USER_NICKNAME) || this.utilsSrv.generateNickname();\n        this.nicknameFormControl.setValue(nickname);\n    }\n    eventKeyPress(event) {\n        if (event && event.keyCode === 13 && this.nicknameFormControl.valid) {\n            this.joinSession();\n        }\n    }\n    onResize(event) {\n        this.columns = event.target.innerWidth > 900 ? 2 : 1;\n    }\n    // updateVolumeColor(): string {\n    // \t// max = 0 / min = 100\n    // \tif (this.volumeValue <= 20) {\n    // \t\treturn 'warn';\n    // \t} else if (this.volumeValue > 20 && this.volumeValue <= 35) {\n    // \t\treturn 'accent';\n    // \t} else if (this.volumeValue > 35) {\n    // \t\treturn 'primary';\n    // \t}\n    // }\n    joinSession() {\n        if (this.nicknameFormControl.valid) {\n            // this.localUsers.forEach(user => {\n            // \tuser.getStreamManager().off('streamAudioVolumeChange');\n            // });\n            // if (this.avatarSelected === AVATAR_TYPE.RANDOM) {\n            // \tthis.localUsers[0].removeVideoAvatar();\n            // }\n            // if (this.localUsers[1]) {\n            // \tthis.localUsers[1].setUserAvatar(this.localUsers[0].getAvatar());\n            // }\n            this.oVSessionService.setWebcamName(this.nicknameFormControl.value);\n            this.storageSrv.set(this.USER_NICKNAME, this.nicknameFormControl.value);\n            this.join.emit();\n        }\n        this.scrollToBottom();\n    }\n    close() {\n        this.leaveSession.emit();\n        this.showConfigCard = false;\n    }\n    setAvatar(avatar) {\n        // !! REFACTOR\n        const avatarType = avatar === AvatarType.VIDEO ? AvatarType.VIDEO : AvatarType.RANDOM;\n        if ((avatarType === AvatarType.RANDOM && this.randomAvatar) || (avatarType === AvatarType.VIDEO && this.videoAvatar)) {\n            this.avatarSelected = avatarType;\n            // if (avatarType === AVATAR_TYPE.RANDOM) {\n            //   this.localUsers[0].setUserAvatar(this.randomAvatar);\n            // }\n        }\n    }\n    setDevicesInfo() {\n        this.hasVideoDevices = this.oVDevicesService.hasVideoDeviceAvailable();\n        this.hasAudioDevices = this.oVDevicesService.hasAudioDeviceAvailable();\n        this.microphones = this.oVDevicesService.getMicrophones();\n        this.cameras = this.oVDevicesService.getCameras();\n        this.camSelected = this.oVDevicesService.getCamSelected();\n        this.micSelected = this.oVDevicesService.getMicSelected();\n    }\n    setSessionName() {\n        this.route.params.subscribe((params) => {\n            this.mySessionId = this.externalConfig ? this.externalConfig.getSessionName() : params.roomName;\n            this.oVSessionService.setSessionId(this.mySessionId);\n        });\n    }\n    setRandomAvatar() {\n        this.randomAvatar = this.utilsSrv.getOpenViduAvatar();\n        this.oVSessionService.setAvatar(AvatarType.RANDOM, this.randomAvatar);\n        this.avatarSelected = AvatarType.RANDOM;\n    }\n    scrollToBottom() {\n        try {\n            this.bodyCard.nativeElement.scrollTop = this.bodyCard.nativeElement.scrollHeight;\n        }\n        catch (err) {\n        }\n    }\n    initScreenPublisher() {\n        const videoSource = ScreenType.SCREEN;\n        const willThereBeWebcam = this.oVSessionService.isWebCamEnabled() && this.oVSessionService.hasWebcamVideoActive();\n        const hasAudio = willThereBeWebcam ? false : this.isAudioActive;\n        const properties = this.oVSessionService.createProperties(videoSource, undefined, true, hasAudio, false);\n        try {\n            return this.oVSessionService.initScreenPublisher(undefined, properties);\n        }\n        catch (error) {\n            this.log.e(error);\n            this.utilsSrv.handlerScreenShareError(error);\n        }\n    }\n    publishAudio(audio) {\n        this.oVSessionService.isWebCamEnabled()\n            ? this.oVSessionService.publishWebcamAudio(audio)\n            : this.oVSessionService.publishScreenAudio(audio);\n    }\n    subscribeToUsers() {\n        this.oVUsersSubscription = this.oVSessionService.OVUsers.subscribe((users) => {\n            this.localUsers = users;\n        });\n    }\n    initwebcamPublisher() {\n        var _a, _b;\n        const micStorageDevice = ((_a = this.micSelected) === null || _a === void 0 ? void 0 : _a.device) || undefined;\n        const camStorageDevice = ((_b = this.camSelected) === null || _b === void 0 ? void 0 : _b.device) || undefined;\n        const videoSource = this.hasVideoDevices ? camStorageDevice : false;\n        const audioSource = this.hasAudioDevices ? micStorageDevice : false;\n        const publishAudio = this.hasAudioDevices ? this.isAudioActive : false;\n        const publishVideo = this.hasVideoDevices ? this.isVideoActive : false;\n        const mirror = this.camSelected && this.camSelected.type === CameraType.FRONT;\n        const properties = this.oVSessionService.createProperties(videoSource, audioSource, publishVideo, publishAudio, mirror);\n        const publisher = this.oVSessionService.initCamPublisher(undefined, properties);\n        this.handlePublisherSuccess(publisher);\n        this.handlePublisherError(publisher);\n    }\n    emitPublisher(publisher) {\n        this.publisherCreated.emit(publisher);\n    }\n    handlePublisherSuccess(publisher) {\n        publisher.once('accessAllowed', () => __awaiter(this, void 0, void 0, function* () {\n            if (this.oVDevicesService.areEmptyLabels()) {\n                yield this.oVDevicesService.initDevices();\n                if (this.hasAudioDevices) {\n                    const audioLabel = publisher.stream.getMediaStream().getAudioTracks()[0].label;\n                    this.oVDevicesService.setMicSelected(audioLabel);\n                }\n                if (this.hasVideoDevices) {\n                    const videoLabel = publisher.stream.getMediaStream().getVideoTracks()[0].label;\n                    this.oVDevicesService.setCamSelected(videoLabel);\n                }\n                this.setDevicesInfo();\n            }\n            // Emit publisher to webcomponent and angular-library\n            this.emitPublisher(publisher);\n            if (this.ovSettings.isAutoPublish()) {\n                this.joinSession();\n                return;\n            }\n            this.showConfigCard = true;\n        }));\n    }\n    handlePublisherError(publisher) {\n        publisher.once('accessDenied', (e) => {\n            let message;\n            if (e.name === 'DEVICE_ACCESS_DENIED') {\n                message = 'Access to media devices was not allowed.';\n            }\n            if (e.name === 'NO_INPUT_SOURCE_SET') {\n                message = 'No video or audio devices have been found. Please, connect at least one.';\n            }\n            this.utilsSrv.showErrorMessage(e.name.replace(/_/g, ' '), message, true);\n            this.log.e(e.message);\n        });\n    }\n};\nRoomConfigComponent.ɵfac = function RoomConfigComponent_Factory(t) { return new (t || RoomConfigComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc10.ActivatedRoute), ɵngcc0.ɵɵdirectiveInject(UtilsService), ɵngcc0.ɵɵdirectiveInject(OpenViduSessionService), ɵngcc0.ɵɵdirectiveInject(DevicesService), ɵngcc0.ɵɵdirectiveInject(LoggerService), ɵngcc0.ɵɵdirectiveInject(StorageService)); };\nRoomConfigComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: RoomConfigComponent, selectors: [[\"app-room-config\"]], viewQuery: function RoomConfigComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c9, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.bodyCard = _t.first);\n    } }, hostBindings: function RoomConfigComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"beforeunload\", function RoomConfigComponent_beforeunload_HostBindingHandler() { return ctx.beforeunloadHandler(); }, false, ɵngcc0.ɵɵresolveWindow);\n    } }, inputs: { externalConfig: \"externalConfig\", ovSettings: \"ovSettings\" }, outputs: { join: \"join\", leaveSession: \"leaveSession\", publisherCreated: \"publisherCreated\" }, decls: 3, vars: 6, consts: [[\"id\", \"roomConfig\", 3, \"ngStyle\"], [\"class\", \"modal\", 4, \"ngIf\"], [1, \"modal\"], [1, \"modal-dialog\", \"modal-xl\"], [1, \"modal-content\", \"cardContainer\"], [1, \"modal-header\", \"cardHeader\"], [1, \"headerLogo\"], [\"id\", \"header_img\", \"alt\", \"OpenVidu Logo\", \"src\", \"https://raw.githubusercontent.com/OpenVidu/openvidu-call/master/openvidu-call-front/src/assets/images/openvidu_logo_grey.png\"], [1, \"headerTitle\"], [\"mat-mini-fab\", \"\", \"id\", \"closeButton\", 1, \"closeButton\", 3, \"click\"], [\"color\", \"warn\", \"matTooltip\", \"Close\"], [1, \"modal-body\"], [\"bodyCard\", \"\"], [1, \"row\", \"align-items-center\"], [1, \"col-sm-6\", \"col-md-6\", \"col-lg-6\", \"leftSection\"], [1, \"videoContainer\"], [4, \"ngFor\", \"ngForOf\"], [1, \"avatarButton\"], [\"mat-stroked-button\", \"\", 3, \"click\"], [\"matTooltip\", \"Take Photo\"], [2, \"margin-left\", \"5px\"], [1, \"col-sm-6\", \"col-md-6\", \"col-lg-6\", \"rightSection\"], [1, \"avatarContainer\"], [\"fxLayout\", \"row\", \"fxFill\", \"\", \"id\", \"avatarSection\", 4, \"ngIf\"], [\"fxLayout\", \"row\", \"fxFill\", \"\", \"id\", \"devicesSection\"], [\"fxLayout\", \"\", \"fxFlex\", \"\"], [\"fxFlex\", \"20\", \"fxLayoutAlign\", \"center center\", 1, \"one\"], [\"mat-mini-fab\", \"\", 1, \"deviceButton\", 3, \"click\"], [\"matTooltip\", \"Nickname\"], [\"fxFlex\", \"80\", \"fxLayoutAlign\", \"center center\", 1, \"two\"], [\"id\", \"nicknameForm\", 1, \"alternate-theme\"], [\"matInput\", \"\", \"placeholder\", \"Nickname\", \"autocomplete\", \"off\", 3, \"formControl\", \"errorStateMatcher\", \"keypress\"], [4, \"ngIf\"], [\"fxLayout\", \"row\", \"fxFill\", \"\", \"id\", \"devicesSection\", 4, \"ngIf\"], [1, \"modal-footer\", 2, \"justify-content\", \"center\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", \"form\", \"nicknameForm\", \"id\", \"joinButton\", 3, \"click\"], [3, \"streamManager\", \"className\", 4, \"ngIf\"], [\"class\", \"cameraMessageContainer\", 4, \"ngIf\"], [3, \"streamManager\", \"className\"], [1, \"cameraMessageContainer\"], [\"fxLayout\", \"row\", \"fxFill\", \"\", \"id\", \"avatarSection\"], [\"fxFlex\", \"100\", \"fxLayoutAlign\", \"center center\", 1, \"\"], [\"id\", \"avatarContainer\", 3, \"click\"], [\"id\", \"imgText\", 4, \"ngIf\"], [\"id\", \"avatarImg\", 3, \"src\", 4, \"ngIf\"], [\"id\", \"imgText\", \"color\", \"accent\", 3, \"diameter\", 4, \"ngIf\"], [\"id\", \"imgText\"], [\"id\", \"avatarImg\", 3, \"src\"], [\"id\", \"imgText\", \"color\", \"accent\", 3, \"diameter\"], [\"mat-mini-fab\", \"\", \"id\", \"configCardMicrophoneButton\", 1, \"deviceButton\", 3, \"click\"], [\"matTooltip\", \"Microphone Enabled\", 4, \"ngIf\"], [\"color\", \"warn\", \"matTooltip\", \"Microphone Disabled\", 4, \"ngIf\"], [1, \"alternate-theme\"], [\"placeholder\", \"Microphone Options\", 3, \"ngModel\", \"selectionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"matTooltip\", \"Microphone Enabled\"], [\"color\", \"warn\", \"matTooltip\", \"Microphone Disabled\"], [3, \"value\"], [\"mat-mini-fab\", \"\", \"id\", \"configCardCameraButton\", 1, \"deviceButton\", 3, \"click\"], [\"matTooltip\", \"Camera Enabled\", 4, \"ngIf\"], [\"color\", \"warn\", \"matTooltip\", \"Camera Disabled\", 4, \"ngIf\"], [\"placeholder\", \"Camera Options\", 3, \"ngModel\", \"selectionChange\"], [\"matTooltip\", \"Camera Enabled\"], [\"color\", \"warn\", \"matTooltip\", \"Camera Disabled\"], [\"mat-mini-fab\", \"\", \"id\", \"configCardScreenButton\", 1, \"deviceButton\", 3, \"click\"], [\"matTooltip\", \"Screen Share Enabled\", 4, \"ngIf\"], [\"color\", \"warn\", \"matTooltip\", \"Screen Share Disabled\", 4, \"ngIf\"], [\"matInput\", \"\", \"disabled\", \"\", \"placeholder\", \"Screen\", 3, \"ngModel\"], [\"matTooltip\", \"Screen Share Enabled\"], [\"color\", \"warn\", \"matTooltip\", \"Screen Share Disabled\"]], template: function RoomConfigComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵpipe(1, \"isAutoPublish\");\n        ɵngcc0.ɵɵtemplate(2, RoomConfigComponent_div_2_Template, 49, 16, \"div\", 1);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngStyle\", ɵngcc0.ɵɵpureFunction1(4, _c10, ɵngcc0.ɵɵpipeBind1(1, 2, ctx.ovSettings) ? \"none\" : \"block\"));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showConfigCard);\n    } }, directives: [ɵngcc5.NgStyle, ɵngcc7.DefaultStyleDirective, ɵngcc5.NgIf, ɵngcc2.MatButton, ɵngcc3.MatIcon, ɵngcc4.MatTooltip, ɵngcc5.NgForOf, ɵngcc16.DefaultLayoutDirective, ɵngcc16.FlexFillDirective, ɵngcc16.DefaultFlexDirective, ɵngcc16.DefaultLayoutAlignDirective, ɵngcc6.ɵangular_packages_forms_forms_y, ɵngcc6.NgControlStatusGroup, ɵngcc6.NgForm, ɵngcc13.MatFormField, ɵngcc14.MatInput, ɵngcc6.DefaultValueAccessor, ɵngcc6.NgControlStatus, ɵngcc6.FormControlDirective, OpenViduVideoComponent, ɵngcc18.MatSpinner, ɵngcc13.MatError, ɵngcc19.MatSelect, ɵngcc6.NgModel, ɵngcc20.MatOption], pipes: [IsAutoPublishPipe,\n        HasAudioPipe,\n        HasVideoPipe,\n        HasScreenSharingPipe], styles: [\".cardHeader[_ngcontent-%COMP%]{background-color:#ccc;border-radius:14px 14px 0 0;text-align:center;height:50px}.headerLogo[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:inherit}.headerTitle[_ngcontent-%COMP%]{font-size:large;margin:auto}.videoContainer[_ngcontent-%COMP%]{width:100%;height:calc(100% - 50px);text-align:center;margin:auto}.avatarButton[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.videoContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline}.ovVideoSmall[_ngcontent-%COMP%]{position:absolute;width:30%;left:15px;bottom:46px}.cameraMessageContainer[_ngcontent-%COMP%]{height:100%;width:100%;text-align:center;border:2px solid;font-size:large;display:table}.cameraMessageContainer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.deviceButton[_ngcontent-%COMP%]{box-shadow:none;background-color:#f5f5f5}.rightSection[_ngcontent-%COMP%]{padding-left:0!important;text-align:center}.avatarContainer[_ngcontent-%COMP%]{background-color:#f5f5f5;height:40px;text-align:center;display:flex}.avatarContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto}.closeButton[_ngcontent-%COMP%]{position:absolute;top:5px;right:7px;box-shadow:none;background-color:transparent}#roomConfig[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}#header_img[_ngcontent-%COMP%]{max-width:150px}#sessionInfo[_ngcontent-%COMP%]{margin-top:0}#joinButton[_ngcontent-%COMP%]{margin:15px;width:80%}#photoButton[_ngcontent-%COMP%]{margin:10px;text-align:center}#avatarContainer[_ngcontent-%COMP%]{border:1px solid #b6b6b6;width:100px;height:100px;margin:10px;position:relative;cursor:pointer;display:inline-block}#devicesSection[_ngcontent-%COMP%]{margin:15px 0}#avatarSection[_ngcontent-%COMP%], #devicesSection[_ngcontent-%COMP%]{height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important;min-height:auto!important}#imgText[_ngcontent-%COMP%]{display:table}#avatarImg[_ngcontent-%COMP%], #imgText[_ngcontent-%COMP%]{text-align:center;position:absolute;margin:auto;top:25%;left:0;right:0;bottom:25%}#avatarImg[_ngcontent-%COMP%]{height:83%;width:83%}#avatarContainer[_ngcontent-%COMP%], #avatarImg[_ngcontent-%COMP%]{border-radius:25%}#optionsContent[_ngcontent-%COMP%]{position:initial}#nicknameForm[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{max-width:85%!important;position:absolute;top:0;bottom:0;left:0;right:0;max-height:90%;margin:auto;padding:20px;overflow:auto;border:2px solid #fff;border-right:4px solid #fff}@media only screen and (max-width:959px){mat-card[_ngcontent-%COMP%]{max-width:80%!important;max-height:80%!important}}  .mat-option-text{color:#000!important}  .mat-slider-thumb{visibility:hidden}  .mat-slider-vertical .mat-slider-track-background,   .mat-slider-vertical .mat-slider-track-fill,   .mat-slider-vertical .mat-slider-track-wrapper{width:10px!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#b8afaf;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#888}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e1e1e1;border-radius:4px}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}.container[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:768px){.container[_ngcontent-%COMP%]{width:750px}}@media (min-width:992px){.container[_ngcontent-%COMP%]{width:970px}}@media (min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.container-fluid[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px}.row-no-gutters[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.row-no-gutters[_ngcontent-%COMP%]   [class*=col-][_ngcontent-%COMP%]{padding-right:0;padding-left:0}.col-lg-1[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-xs-1[_ngcontent-%COMP%], .col-xs-10[_ngcontent-%COMP%], .col-xs-11[_ngcontent-%COMP%], .col-xs-12[_ngcontent-%COMP%], .col-xs-2[_ngcontent-%COMP%], .col-xs-3[_ngcontent-%COMP%], .col-xs-4[_ngcontent-%COMP%], .col-xs-5[_ngcontent-%COMP%], .col-xs-6[_ngcontent-%COMP%], .col-xs-7[_ngcontent-%COMP%], .col-xs-8[_ngcontent-%COMP%], .col-xs-9[_ngcontent-%COMP%]{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-1[_ngcontent-%COMP%], .col-xs-10[_ngcontent-%COMP%], .col-xs-11[_ngcontent-%COMP%], .col-xs-12[_ngcontent-%COMP%], .col-xs-2[_ngcontent-%COMP%], .col-xs-3[_ngcontent-%COMP%], .col-xs-4[_ngcontent-%COMP%], .col-xs-5[_ngcontent-%COMP%], .col-xs-6[_ngcontent-%COMP%], .col-xs-7[_ngcontent-%COMP%], .col-xs-8[_ngcontent-%COMP%], .col-xs-9[_ngcontent-%COMP%]{float:left}.col-xs-12[_ngcontent-%COMP%]{width:100%}.col-xs-11[_ngcontent-%COMP%]{width:91.66666667%}.col-xs-10[_ngcontent-%COMP%]{width:83.33333333%}.col-xs-9[_ngcontent-%COMP%]{width:75%}.col-xs-8[_ngcontent-%COMP%]{width:66.66666667%}.col-xs-7[_ngcontent-%COMP%]{width:58.33333333%}.col-xs-6[_ngcontent-%COMP%]{width:50%}.col-xs-5[_ngcontent-%COMP%]{width:41.66666667%}.col-xs-4[_ngcontent-%COMP%]{width:33.33333333%}.col-xs-3[_ngcontent-%COMP%]{width:25%}.col-xs-2[_ngcontent-%COMP%]{width:16.66666667%}.col-xs-1[_ngcontent-%COMP%]{width:8.33333333%}.col-xs-pull-12[_ngcontent-%COMP%]{right:100%}.col-xs-pull-11[_ngcontent-%COMP%]{right:91.66666667%}.col-xs-pull-10[_ngcontent-%COMP%]{right:83.33333333%}.col-xs-pull-9[_ngcontent-%COMP%]{right:75%}.col-xs-pull-8[_ngcontent-%COMP%]{right:66.66666667%}.col-xs-pull-7[_ngcontent-%COMP%]{right:58.33333333%}.col-xs-pull-6[_ngcontent-%COMP%]{right:50%}.col-xs-pull-5[_ngcontent-%COMP%]{right:41.66666667%}.col-xs-pull-4[_ngcontent-%COMP%]{right:33.33333333%}.col-xs-pull-3[_ngcontent-%COMP%]{right:25%}.col-xs-pull-2[_ngcontent-%COMP%]{right:16.66666667%}.col-xs-pull-1[_ngcontent-%COMP%]{right:8.33333333%}.col-xs-pull-0[_ngcontent-%COMP%]{right:auto}.col-xs-push-12[_ngcontent-%COMP%]{left:100%}.col-xs-push-11[_ngcontent-%COMP%]{left:91.66666667%}.col-xs-push-10[_ngcontent-%COMP%]{left:83.33333333%}.col-xs-push-9[_ngcontent-%COMP%]{left:75%}.col-xs-push-8[_ngcontent-%COMP%]{left:66.66666667%}.col-xs-push-7[_ngcontent-%COMP%]{left:58.33333333%}.col-xs-push-6[_ngcontent-%COMP%]{left:50%}.col-xs-push-5[_ngcontent-%COMP%]{left:41.66666667%}.col-xs-push-4[_ngcontent-%COMP%]{left:33.33333333%}.col-xs-push-3[_ngcontent-%COMP%]{left:25%}.col-xs-push-2[_ngcontent-%COMP%]{left:16.66666667%}.col-xs-push-1[_ngcontent-%COMP%]{left:8.33333333%}.col-xs-push-0[_ngcontent-%COMP%]{left:auto}.col-xs-offset-12[_ngcontent-%COMP%]{margin-left:100%}.col-xs-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.col-xs-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.col-xs-offset-9[_ngcontent-%COMP%]{margin-left:75%}.col-xs-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.col-xs-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.col-xs-offset-6[_ngcontent-%COMP%]{margin-left:50%}.col-xs-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.col-xs-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.col-xs-offset-3[_ngcontent-%COMP%]{margin-left:25%}.col-xs-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.col-xs-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-xs-offset-0[_ngcontent-%COMP%]{margin-left:0}@media (min-width:768px){.col-sm-1[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%]{float:left}.col-sm-12[_ngcontent-%COMP%]{width:100%}.col-sm-11[_ngcontent-%COMP%]{width:91.66666667%}.col-sm-10[_ngcontent-%COMP%]{width:83.33333333%}.col-sm-9[_ngcontent-%COMP%]{width:75%}.col-sm-8[_ngcontent-%COMP%]{width:66.66666667%}.col-sm-7[_ngcontent-%COMP%]{width:58.33333333%}.col-sm-6[_ngcontent-%COMP%]{width:50%}.col-sm-5[_ngcontent-%COMP%]{width:41.66666667%}.col-sm-4[_ngcontent-%COMP%]{width:33.33333333%}.col-sm-3[_ngcontent-%COMP%]{width:25%}.col-sm-2[_ngcontent-%COMP%]{width:16.66666667%}.col-sm-1[_ngcontent-%COMP%]{width:8.33333333%}.col-sm-pull-12[_ngcontent-%COMP%]{right:100%}.col-sm-pull-11[_ngcontent-%COMP%]{right:91.66666667%}.col-sm-pull-10[_ngcontent-%COMP%]{right:83.33333333%}.col-sm-pull-9[_ngcontent-%COMP%]{right:75%}.col-sm-pull-8[_ngcontent-%COMP%]{right:66.66666667%}.col-sm-pull-7[_ngcontent-%COMP%]{right:58.33333333%}.col-sm-pull-6[_ngcontent-%COMP%]{right:50%}.col-sm-pull-5[_ngcontent-%COMP%]{right:41.66666667%}.col-sm-pull-4[_ngcontent-%COMP%]{right:33.33333333%}.col-sm-pull-3[_ngcontent-%COMP%]{right:25%}.col-sm-pull-2[_ngcontent-%COMP%]{right:16.66666667%}.col-sm-pull-1[_ngcontent-%COMP%]{right:8.33333333%}.col-sm-pull-0[_ngcontent-%COMP%]{right:auto}.col-sm-push-12[_ngcontent-%COMP%]{left:100%}.col-sm-push-11[_ngcontent-%COMP%]{left:91.66666667%}.col-sm-push-10[_ngcontent-%COMP%]{left:83.33333333%}.col-sm-push-9[_ngcontent-%COMP%]{left:75%}.col-sm-push-8[_ngcontent-%COMP%]{left:66.66666667%}.col-sm-push-7[_ngcontent-%COMP%]{left:58.33333333%}.col-sm-push-6[_ngcontent-%COMP%]{left:50%}.col-sm-push-5[_ngcontent-%COMP%]{left:41.66666667%}.col-sm-push-4[_ngcontent-%COMP%]{left:33.33333333%}.col-sm-push-3[_ngcontent-%COMP%]{left:25%}.col-sm-push-2[_ngcontent-%COMP%]{left:16.66666667%}.col-sm-push-1[_ngcontent-%COMP%]{left:8.33333333%}.col-sm-push-0[_ngcontent-%COMP%]{left:auto}.col-sm-offset-12[_ngcontent-%COMP%]{margin-left:100%}.col-sm-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.col-sm-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.col-sm-offset-9[_ngcontent-%COMP%]{margin-left:75%}.col-sm-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.col-sm-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.col-sm-offset-6[_ngcontent-%COMP%]{margin-left:50%}.col-sm-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.col-sm-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.col-sm-offset-3[_ngcontent-%COMP%]{margin-left:25%}.col-sm-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.col-sm-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-sm-offset-0[_ngcontent-%COMP%]{margin-left:0}}@media (min-width:992px){.col-md-1[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%]{float:left}.col-md-12[_ngcontent-%COMP%]{width:100%}.col-md-11[_ngcontent-%COMP%]{width:91.66666667%}.col-md-10[_ngcontent-%COMP%]{width:83.33333333%}.col-md-9[_ngcontent-%COMP%]{width:75%}.col-md-8[_ngcontent-%COMP%]{width:66.66666667%}.col-md-7[_ngcontent-%COMP%]{width:58.33333333%}.col-md-6[_ngcontent-%COMP%]{width:50%}.col-md-5[_ngcontent-%COMP%]{width:41.66666667%}.col-md-4[_ngcontent-%COMP%]{width:33.33333333%}.col-md-3[_ngcontent-%COMP%]{width:25%}.col-md-2[_ngcontent-%COMP%]{width:16.66666667%}.col-md-1[_ngcontent-%COMP%]{width:8.33333333%}.col-md-pull-12[_ngcontent-%COMP%]{right:100%}.col-md-pull-11[_ngcontent-%COMP%]{right:91.66666667%}.col-md-pull-10[_ngcontent-%COMP%]{right:83.33333333%}.col-md-pull-9[_ngcontent-%COMP%]{right:75%}.col-md-pull-8[_ngcontent-%COMP%]{right:66.66666667%}.col-md-pull-7[_ngcontent-%COMP%]{right:58.33333333%}.col-md-pull-6[_ngcontent-%COMP%]{right:50%}.col-md-pull-5[_ngcontent-%COMP%]{right:41.66666667%}.col-md-pull-4[_ngcontent-%COMP%]{right:33.33333333%}.col-md-pull-3[_ngcontent-%COMP%]{right:25%}.col-md-pull-2[_ngcontent-%COMP%]{right:16.66666667%}.col-md-pull-1[_ngcontent-%COMP%]{right:8.33333333%}.col-md-pull-0[_ngcontent-%COMP%]{right:auto}.col-md-push-12[_ngcontent-%COMP%]{left:100%}.col-md-push-11[_ngcontent-%COMP%]{left:91.66666667%}.col-md-push-10[_ngcontent-%COMP%]{left:83.33333333%}.col-md-push-9[_ngcontent-%COMP%]{left:75%}.col-md-push-8[_ngcontent-%COMP%]{left:66.66666667%}.col-md-push-7[_ngcontent-%COMP%]{left:58.33333333%}.col-md-push-6[_ngcontent-%COMP%]{left:50%}.col-md-push-5[_ngcontent-%COMP%]{left:41.66666667%}.col-md-push-4[_ngcontent-%COMP%]{left:33.33333333%}.col-md-push-3[_ngcontent-%COMP%]{left:25%}.col-md-push-2[_ngcontent-%COMP%]{left:16.66666667%}.col-md-push-1[_ngcontent-%COMP%]{left:8.33333333%}.col-md-push-0[_ngcontent-%COMP%]{left:auto}.col-md-offset-12[_ngcontent-%COMP%]{margin-left:100%}.col-md-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.col-md-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.col-md-offset-9[_ngcontent-%COMP%]{margin-left:75%}.col-md-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.col-md-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.col-md-offset-6[_ngcontent-%COMP%]{margin-left:50%}.col-md-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.col-md-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.col-md-offset-3[_ngcontent-%COMP%]{margin-left:25%}.col-md-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.col-md-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-md-offset-0[_ngcontent-%COMP%]{margin-left:0}}@media (min-width:1200px){.col-lg-1[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%]{float:left}.col-lg-12[_ngcontent-%COMP%]{width:100%}.col-lg-11[_ngcontent-%COMP%]{width:91.66666667%}.col-lg-10[_ngcontent-%COMP%]{width:83.33333333%}.col-lg-9[_ngcontent-%COMP%]{width:75%}.col-lg-8[_ngcontent-%COMP%]{width:66.66666667%}.col-lg-7[_ngcontent-%COMP%]{width:58.33333333%}.col-lg-6[_ngcontent-%COMP%]{width:50%}.col-lg-5[_ngcontent-%COMP%]{width:41.66666667%}.col-lg-4[_ngcontent-%COMP%]{width:33.33333333%}.col-lg-3[_ngcontent-%COMP%]{width:25%}.col-lg-2[_ngcontent-%COMP%]{width:16.66666667%}.col-lg-1[_ngcontent-%COMP%]{width:8.33333333%}.col-lg-pull-12[_ngcontent-%COMP%]{right:100%}.col-lg-pull-11[_ngcontent-%COMP%]{right:91.66666667%}.col-lg-pull-10[_ngcontent-%COMP%]{right:83.33333333%}.col-lg-pull-9[_ngcontent-%COMP%]{right:75%}.col-lg-pull-8[_ngcontent-%COMP%]{right:66.66666667%}.col-lg-pull-7[_ngcontent-%COMP%]{right:58.33333333%}.col-lg-pull-6[_ngcontent-%COMP%]{right:50%}.col-lg-pull-5[_ngcontent-%COMP%]{right:41.66666667%}.col-lg-pull-4[_ngcontent-%COMP%]{right:33.33333333%}.col-lg-pull-3[_ngcontent-%COMP%]{right:25%}.col-lg-pull-2[_ngcontent-%COMP%]{right:16.66666667%}.col-lg-pull-1[_ngcontent-%COMP%]{right:8.33333333%}.col-lg-pull-0[_ngcontent-%COMP%]{right:auto}.col-lg-push-12[_ngcontent-%COMP%]{left:100%}.col-lg-push-11[_ngcontent-%COMP%]{left:91.66666667%}.col-lg-push-10[_ngcontent-%COMP%]{left:83.33333333%}.col-lg-push-9[_ngcontent-%COMP%]{left:75%}.col-lg-push-8[_ngcontent-%COMP%]{left:66.66666667%}.col-lg-push-7[_ngcontent-%COMP%]{left:58.33333333%}.col-lg-push-6[_ngcontent-%COMP%]{left:50%}.col-lg-push-5[_ngcontent-%COMP%]{left:41.66666667%}.col-lg-push-4[_ngcontent-%COMP%]{left:33.33333333%}.col-lg-push-3[_ngcontent-%COMP%]{left:25%}.col-lg-push-2[_ngcontent-%COMP%]{left:16.66666667%}.col-lg-push-1[_ngcontent-%COMP%]{left:8.33333333%}.col-lg-push-0[_ngcontent-%COMP%]{left:auto}.col-lg-offset-12[_ngcontent-%COMP%]{margin-left:100%}.col-lg-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.col-lg-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.col-lg-offset-9[_ngcontent-%COMP%]{margin-left:75%}.col-lg-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.col-lg-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.col-lg-offset-6[_ngcontent-%COMP%]{margin-left:50%}.col-lg-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.col-lg-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.col-lg-offset-3[_ngcontent-%COMP%]{margin-left:25%}.col-lg-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.col-lg-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-lg-offset-0[_ngcontent-%COMP%]{margin-left:0}}.modal-open[_ngcontent-%COMP%]{overflow:hidden}.modal[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:0;z-index:1050;overflow:hidden;-webkit-overflow-scrolling:touch;outline:0;display:block;height:100%}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translate(0,-25%);transition:transform .3s ease-out}.modal.in[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translate(0,0)}.modal-open[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.modal-dialog[_ngcontent-%COMP%]{width:auto;margin:30px;padding:100px 0;position:absolute;top:40%;left:50%;transform:translate(-50%,-50%)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:15px;box-shadow:0 3px 9px rgba(0,0,0,.5);outline:0}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade[_ngcontent-%COMP%]{opacity:0}.modal-backdrop.in[_ngcontent-%COMP%]{opacity:.5}.modal-header[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #e5e5e5}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-top:-2px}.modal-title[_ngcontent-%COMP%]{margin:0;line-height:1.42857143}.modal-body[_ngcontent-%COMP%]{position:relative;padding:15px}.modal-footer[_ngcontent-%COMP%]{padding:1px;text-align:center;border-top:1px solid #e5e5e5}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-bottom:0;margin-left:5px}.modal-footer[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:-1px}.modal-footer[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%] + .btn-block[_ngcontent-%COMP%]{margin-left:0}.modal-scrollbar-measure[_ngcontent-%COMP%]{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (max-width:600px){.headerTitle[_ngcontent-%COMP%]{display:none}.headerLogo[_ngcontent-%COMP%]{right:0}}@media (max-width:767px){.row[_ngcontent-%COMP%]{height:100%}.leftSection[_ngcontent-%COMP%]{height:60%}.rightSection[_ngcontent-%COMP%]{padding-right:0!important}.headerTitle[_ngcontent-%COMP%]{font-size:medium}.modal-content[_ngcontent-%COMP%]{max-height:100%;height:100%}.modal-dialog[_ngcontent-%COMP%]{height:calc(100% - 10px);margin:5px;padding:0;position:relative;top:0;left:0;transform:none}.modal-body[_ngcontent-%COMP%]{padding:10px 20px;overflow:auto;height:calc(100% - 120px);overflow:-moz-scrollbars-vertical;overflow-x:hidden;overflow-y:scroll}.modal[_ngcontent-%COMP%]{max-height:100%}.videoContainer[_ngcontent-%COMP%]{width:60%}}@media (min-width:768px){.ovVideoSmall[_ngcontent-%COMP%]{width:40%}.row[_ngcontent-%COMP%]{display:flex!important}.modal-dialog[_ngcontent-%COMP%]{width:90%;margin:55px auto}.modal-content[_ngcontent-%COMP%]{box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm[_ngcontent-%COMP%]{width:300px}}@media (min-width:992px){.modal-lg[_ngcontent-%COMP%]{width:75%}}@media (min-width:1440px){.modal-xl[_ngcontent-%COMP%]{width:75%}}\"] });\nRoomConfigComponent.ctorParameters = () => [\n    { type: ActivatedRoute },\n    { type: UtilsService },\n    { type: OpenViduSessionService },\n    { type: DevicesService },\n    { type: LoggerService },\n    { type: StorageService }\n];\n__decorate([\n    ViewChild('bodyCard'),\n    __metadata(\"design:type\", ElementRef)\n], RoomConfigComponent.prototype, \"bodyCard\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", ExternalConfigModel)\n], RoomConfigComponent.prototype, \"externalConfig\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", OvSettingsModel)\n], RoomConfigComponent.prototype, \"ovSettings\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], RoomConfigComponent.prototype, \"join\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], RoomConfigComponent.prototype, \"leaveSession\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], RoomConfigComponent.prototype, \"publisherCreated\", void 0);\n__decorate([\n    HostListener('window:beforeunload'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], RoomConfigComponent.prototype, \"beforeunloadHandler\", null);\nRoomConfigComponent = __decorate([ __metadata(\"design:paramtypes\", [ActivatedRoute,\n        UtilsService,\n        OpenViduSessionService,\n        DevicesService,\n        LoggerService,\n        StorageService])\n], RoomConfigComponent);\n\nlet OpenviduSessionModule = class OpenviduSessionModule {\n};\nOpenviduSessionModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: OpenviduSessionModule });\nOpenviduSessionModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function OpenviduSessionModule_Factory(t) { return new (t || OpenviduSessionModule)(); }, providers: [\n        NetworkService,\n        OpenViduSessionService,\n        UtilsService,\n        RemoteUsersService,\n        DevicesService,\n        LoggerService,\n        ChatService,\n        NotificationService,\n        StorageService\n    ], imports: [[\n            CommonModule,\n            HttpClientModule,\n            FormsModule,\n            ReactiveFormsModule,\n            MatButtonModule,\n            MatCardModule,\n            MatToolbarModule,\n            MatIconModule,\n            MatInputModule,\n            MatFormFieldModule,\n            MatDialogModule,\n            MatTooltipModule,\n            MatBadgeModule,\n            MatGridListModule,\n            MatSelectModule,\n            MatOptionModule,\n            MatProgressSpinnerModule,\n            MatSliderModule,\n            MatSidenavModule,\n            MatSnackBarModule,\n            FlexLayoutModule,\n            NgxLinkifyjsModule.forRoot()\n        ]] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LoggerService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(OpenViduSessionService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: LoggerService }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(RemoteUsersService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: LoggerService }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NotificationService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: ɵngcc1.MatSnackBar }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ChatService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: LoggerService }, { type: OpenViduSessionService }, { type: RemoteUsersService }, { type: NotificationService }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ChatComponent, [{\n        type: Component,\n        args: [{\n                selector: 'chat-component',\n                template: \"<div id=\\\"chatContainer\\\">\\n\\t<div id=\\\"chatComponent\\\" [class.chatComponentLight]=\\\"lightTheme\\\">\\n\\t\\t<div id=\\\"chatToolbar\\\">\\n\\t\\t\\t<span> CHAT</span>\\n\\t\\t\\t<button mat-icon-button (click)=\\\"close()\\\" id=\\\"closeButton\\\">\\n\\t\\t\\t\\t<mat-icon matTooltip=\\\"Close\\\" color=\\\"warn\\\">highlight_off</mat-icon>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"message-wrap\\\" #chatScroll>\\n\\t\\t\\t<div *ngFor=\\\"let data of messageList\\\" class=\\\"message\\\" [ngClass]=\\\"data.isLocal ? 'right' : 'left'\\\">\\n\\t\\t\\t\\t<img class=\\\"user-img\\\" [src]=\\\"data.userAvatar\\\" />\\n\\t\\t\\t\\t<div class=\\\"msg-detail\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"msg-info\\\">\\n\\t\\t\\t\\t\\t\\t<p>{{ data.nickname }}</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"msg-content\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"triangle\\\"></span>\\n\\t\\t\\t\\t\\t\\t<p class=\\\"text\\\" [innerHTML]=\\\"data.message | linkify\\\"></p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<div id=\\\"messageInput\\\">\\n\\t\\t\\t<input\\n\\t\\t\\t\\t#chatInput\\n\\t\\t\\t\\tplaceholder=\\\"Send a message\\\"\\n\\t\\t\\t\\tautocomplete=\\\"off\\\"\\n\\t\\t\\t\\t(keypress)=\\\"eventKeyPress($event)\\\"\\n\\t\\t\\t\\t[(ngModel)]=\\\"message\\\"\\n\\t\\t\\t\\tid=\\\"chatInput\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<button mat-mini-fab id=\\\"sendButton\\\" (click)=\\\"sendMessage()\\\">\\n\\t\\t\\t\\t<mat-icon matTooltip=\\\"Send\\\">send</mat-icon>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\",\n                styles: [\"#chatContainer{position:absolute;z-index:0;width:100%;height:calc(100% - 20px)}input{font-family:Ubuntu,sans-serif}#chatToolbar{height:30px;background-color:#3d3d3d;box-sizing:border-box;font-weight:700;font-size:14px;text-align:center;padding-top:4px;border-top-left-radius:6px;border-top-right-radius:6px;color:#fff}#closeButton{position:absolute;right:0;top:-5px}#chatComponent{background-color:#b8b8b8;position:absolute;z-index:99999;top:0;left:0;right:0;bottom:0;margin:auto;height:calc(100% - 30px);width:calc(100% - 30px);border-radius:20px}.message-wrap{padding:0 15px;height:calc(100% - 80px);overflow:auto}.message{position:relative;padding:7px 0}.user-img{position:absolute;border-radius:45px;width:60px;height:60px;top:15px}.msg-detail{width:calc(100% - 65px);display:inline-block}.msg-detail p{margin:0;font-size:15px}.msg-info p{font-size:.8em;color:#000;font-style:italic}.msg-content{position:relative;margin-top:5px;border-radius:5px;padding:8px;color:#000;width:auto;max-width:95%}span.triangle{border-radius:2px;height:8px;width:8px;top:12px;display:block;transform:rotate(45deg);position:absolute}.text{word-break:break-all}.message.left .msg-detail .msg-info{text-align:left}.message.left .msg-detail{padding-left:65px}.message.left .user-img{left:-5px;border:1px solid #f0f0f094}.message.left .msg-detail .msg-content{background-color:#f0f0f0;float:left}.message.left .msg-detail .msg-content span.triangle{background-color:#f0f0f0;border-bottom-width:0;border-left-width:0;left:-5px}.message.right .msg-detail .msg-info{text-align:right}.message.right .user-img{right:-5px;border:1px solid #c8ffe8ab}.message.right .msg-detail .msg-content{background-color:#c8ffe8;float:right}.message.right .msg-detail .msg-content span.triangle{background-color:#c8ffe8;border-bottom-width:0;border-left-width:0;right:-5px}#messageInput{position:absolute;bottom:0;width:100%;background-color:#fff;text-align:center;padding:10px 0;height:30px;border-bottom-left-radius:6px;border-bottom-right-radius:6px}#messageInput input{width:90%;height:100%;border:none;outline:0;font-size:14px;margin-left:-6%}#sendButton{background-color:#81e9b0;position:absolute;right:10px;top:0;bottom:0;margin:auto;border:1px solid #7ae2a9;box-shadow:none!important}#sendButton mat-icon{margin-left:3px!important;margin-bottom:2px!important}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-thumb{background-color:#6b6b6b}.chatComponentLight ::-webkit-scrollbar-thumb{background-color:#eee!important}\"]\n            }]\n    }], function () { return [{ type: ChatService }]; }, { onKeydownHandler: [{\n            type: HostListener,\n            args: ['document:keydown.escape', ['$event']]\n        }], chatScroll: [{\n            type: ViewChild,\n            args: ['chatScroll']\n        }], chatInput: [{\n            type: ViewChild,\n            args: ['chatInput']\n        }], lightTheme: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DialogErrorComponent, [{\n        type: Component,\n        args: [{\n                selector: 'app-dialog-error',\n                template: \"\\n<div>\\n\\t<h1 mat-dialog-title>{{ data.header }}</h1>\\n\\t<span> {{ data.message }} </span>\\n</div>\\n\",\n                styles: [\"h1{color:#a30101}\"]\n            }]\n    }], function () { return [{ type: ɵngcc8.MatDialogRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_DIALOG_DATA]\n            }] }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(UtilsService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: ɵngcc8.MatDialog }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(StorageService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: LoggerService }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DevicesService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: LoggerService }, { type: UtilsService }, { type: StorageService }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NetworkService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: ɵngcc9.HttpClient }, { type: LoggerService }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(VideoRoomComponent, [{\n        type: Component,\n        args: [{\n                selector: 'app-video-room',\n                template: \"<div *ngIf=\\\"!!ovSettings\\\" id=\\\"videoRoomNavBar\\\" [class.boundsLight]=\\\"lightTheme\\\">\\n  <app-room-config\\n    *ngIf=\\\"showConfigRoomCard\\\"\\n    [ovSettings]=\\\"ovSettings\\\"\\n    [externalConfig]=\\\"externalConfig\\\"\\n    (join)=\\\"onConfigRoomJoin()\\\"\\n    (leaveSession)=\\\"leaveSession()\\\"\\n    (publisherCreated)=\\\"emitPublisher($event)\\\"\\n  ></app-room-config>\\n\\n  <div *ngIf=\\\"localUsers && localUsers.length > 0\\\">\\n    <div *ngIf=\\\"isConnectionLost\\\" class=\\\"reconnecting-container\\\"></div>\\n    <app-toolbar\\n      [lightTheme]=\\\"lightTheme\\\"\\n      [compact]=\\\"compact\\\"\\n      [mySessionId]=\\\"mySessionId\\\"\\n      [ovSettings]=\\\"ovSettings\\\"\\n      [hasVideoDevices]=\\\"hasVideoDevices\\\"\\n      [hasAudioDevices]=\\\"hasAudioDevices\\\"\\n      [isWebcamVideoEnabled]=\\\"oVSessionService.hasWebcamVideoActive()\\\"\\n      [isWebcamAudioEnabled]=\\\"toolbarMicIconEnabled()\\\"\\n      [isScreenEnabled]=\\\"oVSessionService.isScreenShareEnabled()\\\"\\n      [isAutoLayout]=\\\"isAutoLayout\\\"\\n      [isConnectionLost]=\\\"isConnectionLost\\\"\\n      (camButtonClicked)=\\\"toggleCam()\\\"\\n      (micButtonClicked)=\\\"toggleMic()\\\"\\n      (screenShareClicked)=\\\"toggleScreenShare()\\\"\\n      (layoutButtonClicked)=\\\"toggleSpeakerLayout()\\\"\\n      (leaveSessionButtonClicked)=\\\"leaveSession()\\\"\\n    ></app-toolbar>\\n\\n    <mat-sidenav-container class=\\\"sidenav-container\\\" id=\\\"room-container\\\" [class.boundsLight]=\\\"lightTheme\\\" fullscreen>\\n      <mat-sidenav\\n        #sidenav\\n        mode=\\\"{{sidenavMode}}\\\"\\n        position=\\\"end\\\"\\n        class=\\\"sidenav-chat\\\"\\n        [class.boundsLight]=\\\"lightTheme\\\"\\n        fixedInViewport=\\\"true\\\"\\n        fixedTopGap=\\\"40\\\"\\n        fixedBottomGap=\\\"0\\\"\\n        *ngIf=\\\"ovSettings | hasChat\\\"\\n      >\\n        <chat-component\\n          #chatComponent\\n          [lightTheme]=\\\"lightTheme\\\"\\n        ></chat-component>\\n      </mat-sidenav>\\n\\n      <mat-sidenav-content class=\\\"sidenav-main\\\">\\n        <div id=\\\"layout\\\" class=\\\"bounds\\\" [class.boundsLight]=\\\"lightTheme\\\">\\n          <div\\n            class=\\\"OT_root OT_publisher custom-class\\\"\\n            id=\\\"localUser\\\"\\n            *ngFor=\\\"let localUser of localUsers\\\"\\n            [style.display]=\\\"!localUser.streamManager?.stream?.videoActive ? 'none' : 'block'\\\"\\n          >\\n          <!-- Only webcam video will be shown if webcamera is available -->\\n            <stream-component\\n              [user]=\\\"localUser\\\"\\n              [videoSizeBig]=\\\"localUser.videoSizeBig\\\"\\n              (nicknameClicked)=\\\"onNicknameUpdate($event)\\\"\\n              (replaceScreenTrackClicked)=\\\"onReplaceScreenTrack($event)\\\"\\n              (toggleVideoSizeClicked)=\\\"onToggleVideoSize($event)\\\"\\n            ></stream-component>\\n          </div>\\n\\n          <div\\n            *ngFor=\\\"let user of remoteUsers\\\"\\n            class=\\\"OT_root OT_publisher custom-class\\\"\\n            id=\\\"remoteUsers\\\"\\n            [style.display]=\\\"!user.streamManager?.stream?.videoActive ? 'none' : 'block'\\\"\\n          >\\n            <stream-component\\n              [user]=\\\"user\\\"\\n              [videoSizeBig]=\\\"user.videoSizeBig\\\"\\n              (toggleVideoSizeClicked)=\\\"onToggleVideoSize($event)\\\"\\n            ></stream-component>\\n          </div>\\n        </div>\\n      </mat-sidenav-content>\\n    </mat-sidenav-container>\\n\\n    <app-footer\\n      [lightTheme]=\\\"lightTheme\\\"\\n      [participants]=\\\"remoteUsers\\\"\\n    ></app-footer>\\n  </div>\\n</div>\\n\",\n                styles: [\"#videoRoomNavBar{min-width:400px;background-color:#494949;height:100%}.stream-container{padding:0}.reconnecting-container{width:100%;height:100%;z-index:1000;background-color:#000;opacity:80%;position:absolute}.sidenav-container{position:relative;width:100%;height:100%;min-height:-webkit-fill-available;overflow:hidden}.sidenav-chat{display:flex;align-items:center;justify-content:center;width:450px;background-color:#494949;border-left:none;position:absolute}.mat-drawer-container{background-color:#494949}.sidenav-main{height:100%;overflow:hidden;min-height:-webkit-fill-available;min-height:-moz-available}.bounds{background-color:#494949;position:absolute;left:0;right:0;top:40px;bottom:25px;min-width:400px!important;width:inherit}.boundsLight{background-color:#dfdfdf!important}/*!\\n * Copyright (c) 2017 TokBox, Inc.\\n * Released under the MIT license\\n * http://opensource.org/licenses/MIT\\n */.custom-class{min-height:0!important}.OT_root,.OT_root *{color:#fff;margin:0;padding:0;border:0;font-size:100%;font-family:Ubuntu,sans-serif;vertical-align:baseline}.OT_dialog-centering{display:table;width:100%;height:100%}.OT_dialog-centering-child{display:table-cell;vertical-align:middle}.OT_dialog{position:relative;box-sizing:border-box;margin-right:auto;margin-left:auto;color:#fff;font-family:Ubuntu,sans-serif;font-size:13px;line-height:1.4}.OT_dialog *{font-family:inherit;box-sizing:inherit}.OT_closeButton{color:#999;cursor:pointer;font-size:32px;line-height:36px;position:absolute;right:18px;top:0}.OT_dialog-messages{text-align:center}.OT_dialog-messages-main{margin-bottom:36px;line-height:36px;font-weight:300;font-size:24px}.OT_dialog-messages-minor{margin-bottom:18px;font-size:13px;line-height:18px;color:#a4a4a4}.OT_dialog-messages-minor strong{color:#fff}.OT_dialog-actions-card{display:inline-block}.OT_dialog-button-title{margin-bottom:18px;line-height:18px;font-weight:300;text-align:center;font-size:14px;color:#999}.OT_dialog-button-title label{color:#999}.OT_dialog-button-title a,.OT_dialog-button-title a:active,.OT_dialog-button-title a:link{color:#02a1de}.OT_dialog-button-title strong{color:#fff;font-weight:100;display:block}.OT_dialog-button{display:inline-block;margin-bottom:18px;padding:0 1em;background-color:#1ca3dc;text-align:center;cursor:pointer}.OT_dialog-button:disabled{cursor:not-allowed;opacity:.5}.OT_dialog-button-large{line-height:36px;padding-top:9px;padding-bottom:9px;font-weight:100;font-size:24px}.OT_dialog-button-small{line-height:18px;padding-top:9px;padding-bottom:9px;background-color:#444;color:#999;font-size:16px}.OT_dialog-progress-bar{display:inline-block;width:100%;margin-top:5px;margin-bottom:41px;border:1px solid #4e4e4e;height:8px}.OT_dialog-progress-bar-fill{height:100%;background-color:#29a4da}.OT_dialog-plugin-upgrading .OT_dialog-plugin-upgrade-percentage{line-height:54px;font-size:48px;font-weight:100}.OT_centered{position:fixed;left:50%;top:50%;margin:0}.OT_dialog-hidden{display:none}.OT_dialog-button-block{display:block}.OT_dialog-no-natural-margin{margin-bottom:0}.OT_publisher,.OT_subscriber{position:relative;min-width:48px;min-height:48px}.OT_publisher .OT_video-element,.OT_subscriber .OT_video-element{display:block;position:absolute;width:100%;height:100%;transform-origin:0 0}.OT_publisher.OT_mirrored .OT_video-element{transform:scale(-1,1);transform-origin:50% 50%}.OT_subscriber_error{background-color:#000;color:#fff;text-align:center}.OT_subscriber_error>p{padding:20px}.OT_publisher .OT_archiving,.OT_publisher .OT_archiving-light-box,.OT_publisher .OT_archiving-status,.OT_publisher .OT_bar,.OT_publisher .OT_name,.OT_subscriber .OT_archiving,.OT_subscriber .OT_archiving-light-box,.OT_subscriber .OT_archiving-status,.OT_subscriber .OT_bar,.OT_subscriber .OT_name{-ms-box-sizing:border-box;box-sizing:border-box;top:0;left:0;right:0;display:block;height:34px;position:absolute}.OT_publisher .OT_bar,.OT_subscriber .OT_bar{background:rgba(0,0,0,.4)}.OT_publisher .OT_edge-bar-item,.OT_subscriber .OT_edge-bar-item{z-index:1;transition-property:top,bottom,opacity;transition-duration:.5s;transition-timing-function:ease-in}.OT_publisher .OT_name,.OT_subscriber .OT_name{background-color:transparent;color:#fff;font-size:15px;line-height:34px;font-weight:400;padding:0 4px 0 36px}.OT_publisher .OT_archiving-status,.OT_subscriber .OT_archiving-status{background:rgba(0,0,0,.4);top:auto;bottom:0;left:34px;padding:0 4px;color:rgba(255,255,255,.8);font-size:15px;line-height:34px;font-weight:400}.OT_micro .OT_archiving-status,.OT_micro:hover .OT_archiving-status,.OT_mini .OT_archiving-status,.OT_mini:hover .OT_archiving-status{display:none}.OT_publisher .OT_archiving-light-box,.OT_subscriber .OT_archiving-light-box{background:rgba(0,0,0,.4);top:auto;bottom:0;right:auto;width:34px;height:34px}.OT_archiving-light{width:7px;height:7px;border-radius:30px;position:absolute;top:14px;left:14px;background-color:#575757;box-shadow:0 0 5px 1px #575757}.OT_archiving-light.OT_active{background-color:#970d13;animation:1.3s ease-in infinite OT_pulse;-webkit-animation:1.3s ease-in OT_pulse;-moz-animation:1.3s ease-in infinite OT_pulse;-webkit-animation-iteration-count:infinite}@-webkit-keyframes OT_pulse{0%,100%,80%{box-shadow:0 0 0 0 #c70019}30%,50%{box-shadow:0 0 5px 1px #c70019}}.OT_bar.OT_mode-mini,.OT_bar.OT_mode-mini-auto,.OT_mini .OT_bar{bottom:0;height:auto}.OT_mini .OT_name.OT_mode-auto,.OT_mini .OT_name.OT_mode-off,.OT_mini .OT_name.OT_mode-on,.OT_mini:hover .OT_name.OT_mode-auto{display:none}.OT_publisher .OT_name,.OT_subscriber .OT_name{left:10px;right:37px;height:34px;padding-left:0}.OT_publisher .OT_mute,.OT_subscriber .OT_mute{border:none;cursor:pointer;display:block;position:absolute;text-align:center;text-indent:-9999em;background-color:transparent;background-repeat:no-repeat;right:0;top:0;border-left:1px solid rgba(255,255,255,.2);height:36px;width:37px}.OT_mini .OT_mute,.OT_publisher.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold,.OT_subscriber.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold{top:50%;left:50%;right:auto;margin-top:-18px;margin-left:-18.5px;border-left:none}.OT_publisher .OT_mute{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII=);background-position:9px 5px}.OT_publisher .OT_mute.OT_active{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg==);background-position:9px 4px}.OT_subscriber .OT_mute{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII=);background-position:8px 7px}.OT_subscriber .OT_mute.OT_active{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg==);background-position:7px 7px}.OT_publisher .OT_edge-bar-item.OT_mode-auto,.OT_publisher .OT_edge-bar-item.OT_mode-mini-auto,.OT_publisher .OT_edge-bar-item.OT_mode-off,.OT_subscriber .OT_edge-bar-item.OT_mode-auto,.OT_subscriber .OT_edge-bar-item.OT_mode-mini-auto,.OT_subscriber .OT_edge-bar-item.OT_mode-off{top:-25px;opacity:0}.OT_publisher .OT_edge-bar-item.OT_mode-off,.OT_subscriber .OT_edge-bar-item.OT_mode-off{display:none}.OT_mini .OT_mute.OT_mode-auto,.OT_publisher .OT_mute.OT_mode-mini-auto,.OT_subscriber .OT_mute.OT_mode-mini-auto{top:50%}.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto,.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto,.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-off{top:auto;bottom:-25px}.OT_publisher .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,.OT_publisher .OT_edge-bar-item.OT_mode-on,.OT_publisher:hover .OT_edge-bar-item.OT_mode-auto,.OT_publisher:hover .OT_edge-bar-item.OT_mode-mini-auto,.OT_subscriber .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,.OT_subscriber .OT_edge-bar-item.OT_mode-on,.OT_subscriber:hover .OT_edge-bar-item.OT_mode-auto,.OT_subscriber:hover .OT_edge-bar-item.OT_mode-mini-auto{top:0;opacity:1}.OT_mini .OT_mute.OT_mode-on,.OT_mini:hover .OT_mute.OT_mode-auto,.OT_mute.OT_mode-mini,.OT_root:hover .OT_mute.OT_mode-mini-auto{top:50%}.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,.OT_publisher:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,.OT_subscriber:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto{top:auto;bottom:0;opacity:1}.OT_root .OT_video-loading{position:absolute;z-index:1;width:100%;height:100%;display:none;background-color:rgba(0,0,0,.75)}.OT_root .OT_video-loading .OT_video-loading-spinner{background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwIDEgMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2IpIiBkPSJNODYuNiA1MEExMDAgMTAwIDAgMCAxIDAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNjKSIgZD0iTTAgMTAwYTEwMCAxMDAgMCAwIDEtODYuNi01MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48cGF0aCBzdHJva2U9InVybCgjZCkiIGQ9Ik0tODYuNiA1MGExMDAgMTAwIDAgMCAxIDAtMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNlKSIgZD0iTS04Ni42LTUwQTEwMCAxMDAgMCAwIDEgMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAgMSA4Ni42IDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjwvZz48L21hc2s+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHg9Ii0yMCIgeT0iLTIwIiBtYXNrPSJ1cmwoI2cpIiBmaWxsPSIjZmZmIi8+PC9zdmc+) no-repeat;position:absolute;width:32px;height:32px;left:50%;top:50%;margin-left:-16px;margin-top:-16px;-webkit-animation:2s linear infinite OT_spin;animation:2s linear infinite OT_spin}@-webkit-keyframes OT_spin{100%{-webkit-transform:rotate(360deg)}}@keyframes OT_spin{100%{transform:rotate(360deg)}}.OT_publisher.OT_loading .OT_video-loading,.OT_subscriber.OT_loading .OT_video-loading{display:block}.OT_video-centering{display:table;width:100%;height:100%}.OT_video-container{display:table-cell;vertical-align:middle}.OT_video-poster{position:absolute;z-index:1;width:100%;height:100%;display:none;opacity:.25;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDcxIDQ2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSI2Ni42NiUiIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc5IDMwOGMxNC4yNS02LjUgNTQuMjUtMTkuNzUgNzEtMjkgOS0zLjI1IDI1LTIxIDI1LTIxczMuNzUtMTMgMy0yMmMtMS43NS02Ljc1LTE1LTQzLTE1LTQzLTIuNSAzLTQuNzQxIDMuMjU5LTcgMS0zLjI1LTcuNS0yMC41LTQ0LjUtMTYtNTcgMS4yNS03LjUgMTAtNiAxMC02LTExLjI1LTMzLjc1LTgtNjctOC02N3MuMDczLTcuMzQ2IDYtMTVjLTMuNDguNjM3LTkgNC05IDQgMi41NjMtMTEuNzI3IDE1LTIxIDE1LTIxIC4xNDgtLjMxMi0xLjMyMS0xLjQ1NC0xMCAxIDEuNS0yLjc4IDE2LjY3NS04LjY1NCAzMC0xMSAzLjc4Ny05LjM2MSAxMi43ODItMTcuMzk4IDIyLTIyLTIuMzY1IDMuMTMzLTMgNi0zIDZzMTUuNjQ3LTguMDg4IDQxLTZjLTE5Ljc1IDItMjQgNi0yNCA2czc0LjUtMTAuNzUgMTA0IDM3YzcuNSA5LjUgMjQuNzUgNTUuNzUgMTAgODkgMy43NS0xLjUgNC41LTQuNSA5IDEgLjI1IDE0Ljc1LTExLjUgNjMtMTkgNjItMi43NSAxLTQtMy00LTMtMTAuNzUgMjkuNS0xNCAzOC0xNCAzOC0yIDQuMjUtMy43NSAxOC41LTEgMjIgMS4yNSA0LjUgMjMgMjMgMjMgMjNsMTI3IDUzYzM3IDM1IDIzIDEzNSAyMyAxMzVMMCA0NjRzLTMtOTYuNzUgMTQtMTIwYzUuMjUtNi4yNSAyMS43NS0xOS43NSA2NS0zNnoiLz48L3N2Zz4=);background-size:auto 76%}.OT_fit-mode-cover .OT_video-element{-o-object-fit:cover;object-fit:cover}@media only screen and (orientation:portrait){.OT_subscriber.OT_ForceContain.OT_fit-mode-cover .OT_video-element{-o-object-fit:contain!important;object-fit:contain!important}}.OT_fit-mode-contain .OT_video-element{-o-object-fit:contain;object-fit:contain}.OT_fit-mode-cover .OT_video-poster{background-position:center bottom}.OT_fit-mode-contain .OT_video-poster{background-position:center}.OT_audio-level-meter{position:absolute;width:25%;max-width:224px;min-width:21px;top:0;right:0;overflow:hidden}.OT_audio-level-meter:before{content:'';display:block;padding-top:100%}.OT_audio-level-meter__bar{position:absolute;width:192%;height:192%;top:-96%;right:-96%;border-radius:50%;background-color:rgba(0,0,0,.8)}.OT_audio-level-meter__audio-only-img{position:absolute;top:22%;right:15%;width:40%;opacity:.7;background:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+) center no-repeat}.OT_audio-level-meter__audio-only-img:before{content:'';display:block;padding-top:100%}.OT_audio-level-meter__value{position:absolute;border-radius:50%;background-image:radial-gradient(circle,#97ce00 0,rgba(151,206,0,0) 100%)}.OT_audio-level-meter.OT_mode-off{display:none}.OT_audio-level-meter.OT_mode-on,.OT_audio-only .OT_audio-level-meter.OT_mode-auto{display:block}.OT_audio-only.OT_publisher .OT_video-element,.OT_audio-only.OT_subscriber .OT_video-element{display:none}.OT_video-disabled-indicator{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:bottom right;pointer-events:none;top:0;left:0;bottom:3px;right:3px}.OT_video-disabled{background-image:url(data:image/png;base64,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);background-size:33px auto}.OT_video-disabled-warning{background-image:url(data:image/png;base64,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);background-size:33px auto}.OT_video-disabled-indicator.OT_active{display:block}.OT_audio-blocked-indicator{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:center;pointer-events:none;top:0;left:0;bottom:0;right:0}.OT_audio-blocked{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwIDEgNDMgNDRhOC45ODggOC45ODggMCAwIDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAgMSAxMC4zNzQtLjQyQzUxLjcwMiAxOS4xMTQgNTQgMjkuMjA4IDU0IDQ1LjIwOGMwIDE0LjUyNy0yLjM0MyAyMy44OC03LjAzIDI4LjA1OGE3LjI4IDcuMjggMCAwIDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwIDEtNS01di0xM2E1IDUgMCAwIDEgNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-size:90px auto}.OT_container-audio-blocked{cursor:pointer}.OT_container-audio-blocked .OT_mute,.OT_container-audio-blocked.OT_mini .OT_edge-bar-item{display:none}.OT_audio-blocked-indicator.OT_active{display:block}.OT_video-unsupported{opacity:1;border:none;display:none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-position:center;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMCAxIDUgNVY1OC4xOGE1IDUgMCAwIDEtNSA1SDkuMTFhNSA1IDAgMCAxLTUtNVYyNS45N2E1IDUgMCAwIDEgNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwIDEgNC4zMDQgMi43MDJ2MjYuODM1YTMgMyAwIDAgMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-size:58px auto;pointer-events:none;top:0;left:0;bottom:0;right:0;margin-top:-30px}.OT_video-unsupported-bar{display:none;position:absolute;width:192%;height:192%;top:-96%;left:-96%;border-radius:50%;background-color:rgba(0,0,0,.8)}.OT_video-unsupported-img{display:none;position:absolute;top:11%;left:15%;width:70%;opacity:.7;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMCAxIDUgNVY1OC4xOGE1IDUgMCAwIDEtNSA1SDkuMTFhNSA1IDAgMCAxLTUtNVYyNS45N2E1IDUgMCAwIDEgNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwIDEgNC4zMDQgMi43MDJ2MjYuODM1YTMgMyAwIDAgMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg==);background-repeat:no-repeat;background-position:center;background-size:100% auto}.OT_video-unsupported-img:before{content:'';display:block;padding-top:93%}.OT_video-unsupported-text{display:flex;justify-content:center;align-items:center;text-align:center;height:100%;margin-top:40px}@media only screen and (max-width:600px){#videoRoomNavBar{width:100%}}\"]\n            }]\n    }], function () { return [{ type: NetworkService }, { type: ɵngcc10.Router }, { type: UtilsService }, { type: RemoteUsersService }, { type: OpenViduSessionService }, { type: DevicesService }, { type: LoggerService }, { type: ChatService }]; }, { _session: [{\n            type: Output\n        }], _publisher: [{\n            type: Output\n        }], _error: [{\n            type: Output\n        }], _joinSession: [{\n            type: Output\n        }], _leaveSession: [{\n            type: Output\n        }], beforeunloadHandler: [{\n            type: HostListener,\n            args: ['window:beforeunload']\n        }], sizeChange: [{\n            type: HostListener,\n            args: ['window:resize']\n        }], externalConfig: [{\n            type: Input\n        }], chatComponent: [{\n            type: ViewChild,\n            args: ['chatComponent']\n        }], chatSidenav: [{\n            type: ViewChild,\n            args: ['sidenav']\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(OpenviduSessionComponent, [{\n        type: Component,\n        args: [{\n                selector: 'opv-session',\n                template: `\n\t\t<app-video-room\n\t\t\t#videoRoom\n\t\t\t*ngIf=\"display\"\n\t\t\t[externalConfig]=\"angularLibrary\"\n\t\t\t(_session)=\"emitSession($event)\"\n\t\t\t(_publisher)=\"emitPublisher($event)\"\n\t\t\t(_error)=\"emitErrorEvent($event)\"\n\t\t\t(_leaveSession)=\"emitLeaveSessionEvent($event)\"\n\t\t\t(_joinSession)=\"emitJoinSessionEvent($event)\"\n\t\t>\n\t\t</app-video-room>\n\t`\n            }]\n    }], function () { return [{ type: LoggerService }]; }, { sessionCreated: [{\n            type: Output\n        }], publisherCreated: [{\n            type: Output\n        }], error: [{\n            type: Output\n        }], joinSession: [{\n            type: Output\n        }], leaveSession: [{\n            type: Output\n        }], ovSettings: [{\n            type: Input\n        }], sessionName: [{\n            type: Input\n        }], user: [{\n            type: Input\n        }], openviduServerUrl: [{\n            type: Input\n        }], openviduSecret: [{\n            type: Input\n        }], tokens: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }], videoRoom: [{\n            type: ViewChild,\n            args: ['videoRoom']\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LinkifyPipe, [{\n        type: Pipe,\n        args: [{ name: 'linkify' }]\n    }], function () { return [{ type: ɵngcc12.NgxLinkifyjsService }]; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HasChatPipe, [{\n        type: Pipe,\n        args: [{ name: 'hasChat', pure: true }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HasAudioPipe, [{\n        type: Pipe,\n        args: [{ name: 'hasAudio', pure: true }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HasVideoPipe, [{\n        type: Pipe,\n        args: [{ name: 'hasVideo', pure: true }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(IsAutoPublishPipe, [{\n        type: Pipe,\n        args: [{ name: 'isAutoPublish', pure: true }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HasScreenSharingPipe, [{\n        type: Pipe,\n        args: [{ name: 'hasScreenSharing', pure: true }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HasFullscreenPipe, [{\n        type: Pipe,\n        args: [{ name: 'hasFullscreen', pure: true }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HasLayoutSpeakingPipe, [{\n        type: Pipe,\n        args: [{ name: 'hasLayoutSpeaking', pure: true }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HasExitPipe, [{\n        type: Pipe,\n        args: [{ name: 'hasExit', pure: true }]\n    }], function () { return []; }, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TooltipListPipe, [{\n        type: Pipe,\n        args: [{ name: 'tooltipList', pure: true }]\n    }], null, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(StreamComponent, [{\n        type: Component,\n        args: [{\n                selector: 'stream-component',\n                template: \"<div *ngIf=\\\"this._user\\\"\\n\\tclass=\\\"OT_widget-container\\\"\\n\\t[id]=\\\"'container-' + this._user.streamManager.stream.streamId\\\"\\n\\t#streamComponent\\n\\t(dblclick)=\\\"toggleVideoSize()\\\"\\n>\\n\\t<div class=\\\"nickname\\\" [class.fullscreen]=\\\"isFullscreen\\\">\\n\\t\\t<div (click)=\\\"toggleNicknameForm()\\\" class=\\\"nicknameContainer\\\" selected *ngIf=\\\"!toggleNickname\\\">\\n\\t\\t\\t<span id=\\\"nickname\\\">{{ this._user.nickname }}</span>\\n\\t\\t\\t<span *ngIf=\\\"!this._user.streamManager.remote\\\"> (edit)</span>\\n\\t\\t</div>\\n\\t\\t<div *ngIf=\\\"toggleNickname && !this._user.streamManager.remote\\\" [class.fullscreen]=\\\"isFullscreen\\\" id=\\\"dialogNickname\\\">\\n\\t\\t\\t<button mat-icon-button (click)=\\\"toggleNicknameForm()\\\" id=\\\"closeButton\\\">\\n\\t\\t\\t\\t<mat-icon matTooltip=\\\"Close\\\">highlight_off</mat-icon>\\n\\t\\t\\t</button>\\n\\t\\t\\t<form id=\\\"nicknameForm\\\">\\n\\t\\t\\t\\t<mat-form-field color=\\\"primary\\\">\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\tmatInput\\n\\t\\t\\t\\t\\t\\t#nicknameInput\\n\\t\\t\\t\\t\\t\\tplaceholder=\\\"Nick: {{ this._user.nickname }}\\\"\\n\\t\\t\\t\\t\\t\\t[formControl]=\\\"nicknameFormControl\\\"\\n\\t\\t\\t\\t\\t\\t[errorStateMatcher]=\\\"matcher\\\"\\n\\t\\t\\t\\t\\t\\t(keypress)=\\\"eventKeyPress($event)\\\"\\n\\t\\t\\t\\t\\t\\tautocomplete=\\\"off\\\"\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<mat-error *ngIf=\\\"nicknameFormControl.hasError('required')\\\"> Nickname is <strong>required</strong> </mat-error>\\n\\t\\t\\t\\t\\t<mat-error *ngIf=\\\"nicknameFormControl.hasError('maxlength')\\\"> Nickname is <strong>too long!</strong> </mat-error>\\n\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t</form>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<ov-video\\n\\t\\t[streamManager]=\\\"this._user.streamManager\\\"\\n\\t\\t[mutedSound]=\\\"mutedSound\\\"\\n\\t\\t(toggleVideoSizeEvent)=\\\"toggleVideoSize($event)\\\"\\n\\t></ov-video>\\n\\t<div class=\\\"statusIcons\\\">\\n\\t\\t<div id=\\\"statusMic\\\" *ngIf=\\\"!this._user.streamManager.stream.audioActive\\\">\\n\\t\\t\\t<mat-icon>mic_off</mat-icon>\\n\\t\\t</div>\\n\\t\\t<div id=\\\"statusCam\\\" *ngIf=\\\"!this._user.streamManager.stream.videoActive\\\">\\n\\t\\t\\t<mat-icon>videocam_off</mat-icon>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"videoButtons\\\">\\n\\t\\t<button mat-icon-button id=\\\"videoZoomButton\\\"  (click)=\\\"toggleVideoSize()\\\">\\n\\t\\t\\t<mat-icon>{{ this.videoSizeIcon }}</mat-icon>\\n\\t\\t</button>\\n\\t\\t<button mat-icon-button id=\\\"fullscreenButton\\\" (click)=\\\"toggleFullscreen()\\\">\\n\\t\\t\\t<mat-icon>{{ this.fullscreenIcon }}</mat-icon>\\n\\t\\t</button>\\n\\t\\t<button mat-icon-button id=\\\"volumeButton\\\" *ngIf=\\\"this._user.streamManager.remote\\\" (click)=\\\"toggleSound()\\\">\\n\\t\\t\\t<mat-icon *ngIf=\\\"!mutedSound\\\" matTooltip=\\\"Mute sound\\\">volume_up</mat-icon>\\n\\t\\t\\t<mat-icon *ngIf=\\\"mutedSound\\\" color=\\\"warn\\\" matTooltip=\\\"Unmute sound\\\">volume_off</mat-icon>\\n\\t\\t</button>\\n\\t\\t<button\\n\\t\\t\\tmat-icon-button\\n\\t\\t\\t(click)=\\\"replaceScreenTrack()\\\"\\n\\t\\t\\tid=\\\"changeScreenButton\\\"\\n\\t\\t\\t*ngIf=\\\"!this._user.streamManager.remote && this._user.isScreen()\\\"\\n\\t\\t>\\n\\t\\t\\t<mat-icon matTooltip=\\\"Choose screen\\\">picture_in_picture</mat-icon>\\n\\t\\t</button>\\n\\t</div>\\n</div>\\n\",\n                styles: [\".nickname{padding:0;position:absolute;z-index:999;border-radius:5px;color:#fff;font-family:Ubuntu,sans-serif}.nicknameContainer{background-color:#424242;padding:5px;color:#fff;font-weight:700}#dialogNickname{background-color:#0000005e;border-radius:5px}#closeButton{position:absolute;top:-3px;right:0;z-index:999}#nicknameForm{padding:10px}.fullscreen{top:40px}mat-error{text-align:center;color:#353535}video{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;color:#fff;margin:0;padding:0;border:0;font-size:100%}.statusIcons{bottom:0;left:5px;width:40px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:absolute;color:#fff}.statusIcons mat-icon{vertical-align:-webkit-baseline-middle;vertical-align:-moz-middle-with-baseline;font-size:20px}.videoButtons mat-icon{font-size:24px}.videoButtons .mat-icon-button{line-height:0}#camStatus{bottom:43px}#statusCam,#statusMic{text-align:center;width:28px;height:28px;border-radius:50%;background:#c71100;margin:5px auto}.videoButtons{right:0;position:absolute;bottom:0;z-index:9999999;width:50px;text-align:center}.videoButtons button{background-color:#000;width:30px;height:30px;margin:1px}.OT_widget-container{width:100%;height:100%;position:absolute;overflow:hidden}::ng-deep .mat-focused .mat-form-field-label,::ng-deep .mat-form-field-appearance-legacy .mat-form-field-label,mat-error{color:#cacaca!important}::ng-deep .mat-form-field-appearance-legacy .mat-form-field-underline,::ng-deep .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#cacaca!important}input{caret-color:#fff!important}\"]\n            }]\n    }], function () { return [{ type: UtilsService }]; }, { nicknameClicked: [{\n            type: Output\n        }], replaceScreenTrackClicked: [{\n            type: Output\n        }], toggleVideoSizeClicked: [{\n            type: Output\n        }], sizeChange: [{\n            type: HostListener,\n            args: ['window:resize', ['$event']]\n        }], videoSizeBig: [{\n            type: Input\n        }], user: [{\n            type: Input\n        }], nicknameInputElement: [{\n            type: ViewChild,\n            args: ['nicknameInput']\n        }], streamComponent: [{\n            type: ViewChild,\n            args: ['streamComponent', { read: ViewContainerRef }]\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(OpenViduVideoComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ov-video',\n                template: `\n\t\t<video\n\t\t\t#videoElement\n\t\t\t[attr.id]=\"streamManager && _streamManager.stream ? 'video-' + _streamManager.stream.streamId : 'video-undefined'\"\n\t\t\t[muted]=\"mutedSound\"\n\t\t></video>\n\t`,\n                styles: [\".nickname{padding:0;position:absolute;z-index:999;border-radius:5px;color:#fff;font-family:Ubuntu,sans-serif}.nicknameContainer{background-color:#424242;padding:5px;color:#fff;font-weight:700}#dialogNickname{background-color:#0000005e;border-radius:5px}#closeButton{position:absolute;top:-3px;right:0;z-index:999}#nicknameForm{padding:10px}.fullscreen{top:40px}mat-error{text-align:center;color:#353535}video{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;color:#fff;margin:0;padding:0;border:0;font-size:100%}.statusIcons{bottom:0;left:5px;width:40px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:absolute;color:#fff}.statusIcons mat-icon{vertical-align:-webkit-baseline-middle;vertical-align:-moz-middle-with-baseline;font-size:20px}.videoButtons mat-icon{font-size:24px}.videoButtons .mat-icon-button{line-height:0}#camStatus{bottom:43px}#statusCam,#statusMic{text-align:center;width:28px;height:28px;border-radius:50%;background:#c71100;margin:5px auto}.videoButtons{right:0;position:absolute;bottom:0;z-index:9999999;width:50px;text-align:center}.videoButtons button{background-color:#000;width:30px;height:30px;margin:1px}.OT_widget-container{width:100%;height:100%;position:absolute;overflow:hidden}::ng-deep .mat-focused .mat-form-field-label,::ng-deep .mat-form-field-appearance-legacy .mat-form-field-label,mat-error{color:#cacaca!important}::ng-deep .mat-form-field-appearance-legacy .mat-form-field-underline,::ng-deep .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#cacaca!important}input{caret-color:#fff!important}\"]\n            }]\n    }], function () { return []; }, { toggleVideoSizeEvent: [{\n            type: Output\n        }], videoElement: [{\n            type: ViewChild,\n            args: ['videoElement']\n        }], streamManager: [{\n            type: Input\n        }], mutedSound: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ToolbarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'app-toolbar',\n                template: \"<mat-toolbar\\n\\tid=\\\"header\\\"\\n\\trole=\\\"heading\\\"\\n\\t[class.headerLight]=\\\"lightTheme\\\"\\n\\tclass=\\\"container\\\"\\n\\tfxLayout\\n\\tfxLayoutAlign=\\\"center\\\"\\n\\tfxLayoutGap=\\\"10px\\\"\\n>\\n\\t<div fxFlex=\\\"20%\\\">\\n\\t\\t<app-toolbar-logo [lightTheme]=\\\"lightTheme\\\" [sessionId]=\\\"mySessionId\\\" [compact]=\\\"compact\\\" [logoUrl]=\\\"logoUrl\\\"></app-toolbar-logo>\\n\\t</div>\\n\\t<div fxFlex=\\\"70%\\\" fxFlexOrder=\\\"2\\\">\\n\\t\\t<div align=\\\"center\\\" class=\\\"buttonsContainer\\\">\\n\\t\\t\\t<button\\n\\t\\t\\t\\tid=\\\"navMicrophoneButton\\\"\\n\\t\\t\\t\\tmat-icon-button\\n\\t\\t\\t\\t(click)=\\\"toggleMicrophone()\\\"\\n\\t\\t\\t\\t[disabled]=\\\"isConnectionLost\\\"\\n\\t\\t\\t\\t*ngIf=\\\"hasAudioDevices && (ovSettings | hasAudio)\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<mat-icon *ngIf=\\\"isWebcamAudioEnabled\\\" matTooltip=\\\"Mute your audio\\\">mic</mat-icon>\\n\\t\\t\\t\\t<mat-icon *ngIf=\\\"!isWebcamAudioEnabled\\\" color=\\\"warn\\\" matTooltip=\\\"Unmute your audio\\\">mic_off</mat-icon>\\n\\t\\t\\t</button>\\n\\n\\t\\t\\t<!-- Camera button -->\\n\\t\\t\\t<button\\n\\t\\t\\t\\tid=\\\"navCameraButton\\\"\\n\\t\\t\\t\\tmat-icon-button\\n\\t\\t\\t\\t(click)=\\\"toggleCamera()\\\"\\n\\t\\t\\t\\t[disabled]=\\\"isConnectionLost\\\"\\n\\t\\t\\t\\t*ngIf=\\\"!this.ovSettings || (hasVideoDevices && (this.ovSettings | hasVideo))\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<mat-icon *ngIf=\\\"isWebcamVideoEnabled\\\" matTooltip=\\\"Mute your cam\\\">videocam</mat-icon>\\n\\t\\t\\t\\t<mat-icon *ngIf=\\\"!isWebcamVideoEnabled\\\" color=\\\"warn\\\" matTooltip=\\\"Unmute your cam\\\">videocam_off</mat-icon>\\n\\t\\t\\t</button>\\n\\n\\t\\t\\t<!-- Screenshare button -->\\n\\t\\t\\t<button\\n\\t\\t\\t\\tid=\\\"navScreenButton\\\"\\n\\t\\t\\t\\tmat-icon-button\\n\\t\\t\\t\\t(click)=\\\"toggleScreenShare()\\\"\\n\\t\\t\\t\\t[disabled]=\\\"isConnectionLost\\\"\\n\\t\\t\\t\\t*ngIf=\\\"ovSettings | hasScreenSharing\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<mat-icon *ngIf=\\\"!isScreenEnabled\\\" matTooltip=\\\"Screen share\\\" color=\\\"warn\\\">stop_screen_share</mat-icon>\\n\\t\\t\\t\\t<mat-icon *ngIf=\\\"isScreenEnabled\\\" matTooltip=\\\"Stop sharing\\\">screen_share</mat-icon>\\n\\t\\t\\t</button>\\n\\n\\t\\t\\t<!-- Fullscreen button -->\\n\\t\\t\\t<button mat-icon-button (click)=\\\"toggleFullscreen()\\\" [disabled]=\\\"isConnectionLost\\\" *ngIf=\\\"ovSettings | hasFullscreen\\\">\\n\\t\\t\\t\\t<mat-icon matTooltip=\\\"Fullscreen\\\">{{ fullscreenIcon }}</mat-icon>\\n\\t\\t\\t</button>\\n\\n\\t\\t\\t<!-- Automatic / grid layout button -->\\n\\t\\t\\t<button\\n\\t\\t\\t\\tmat-icon-button\\n\\t\\t\\t\\t(click)=\\\"toggleSpeakerLayout()\\\"\\n\\t\\t\\t\\t[disabled]=\\\"isConnectionLost\\\"\\n\\t\\t\\t\\t*ngIf=\\\"ovSettings | hasLayoutSpeaking\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<mat-icon matTooltip=\\\"Enable speaker layout\\\" color=\\\"warn\\\" *ngIf=\\\"!isAutoLayout\\\">voice_over_off</mat-icon>\\n\\t\\t\\t\\t<mat-icon matTooltip=\\\"Disable speaker layout\\\" *ngIf=\\\"isAutoLayout\\\">record_voice_over</mat-icon>\\n\\t\\t\\t</button>\\n\\n\\t\\t\\t<!-- Leave seassion button -->\\n\\t\\t\\t<button mat-icon-button (click)=\\\"leaveSession()\\\" id=\\\"navLeaveButton\\\" *ngIf=\\\"ovSettings | hasExit\\\">\\n\\t\\t\\t\\t<mat-icon color=\\\"warn\\\" matTooltip=\\\"Leave the session\\\">power_settings_new</mat-icon>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div fxFlex=\\\"10%\\\" fxFlexOrder=\\\"3\\\" align=\\\"end\\\">\\n\\t\\t<button mat-icon-button (click)=\\\"toggleChat()\\\" [disabled]=\\\"isConnectionLost\\\" *ngIf=\\\"ovSettings | hasChat\\\">\\n\\t\\t\\t<mat-icon\\n\\t\\t\\t\\tmatBadge=\\\"{{ newMessagesNum }}\\\"\\n\\t\\t\\t\\t[matBadgeHidden]=\\\"newMessagesNum === 0\\\"\\n\\t\\t\\t\\tmatBadgePosition=\\\"above before\\\"\\n\\t\\t\\t\\tmatTooltip=\\\"Chat\\\"\\n\\t\\t\\t\\tmatBadgeColor=\\\"accent\\\"\\n\\t\\t\\t\\t>chat</mat-icon\\n\\t\\t\\t>\\n\\t\\t</button>\\n\\t</div>\\n</mat-toolbar>\\n\",\n                styles: [\"#header{color:#fff;height:40px;background-color:#333;padding:0 14px 0 0;position:absolute;top:0;left:0;z-index:999999;min-width:400px!important}.buttonsContainer{position:absolute;left:0;right:0}.headerLight{color:#706969!important;background-color:#eee!important}#navSessionInfo{height:100%;display:inline-flex}#navChatButton .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-17px}#navChatButton .mat-badge-medium.mat-badge-above .mat-badge-content{top:-6px}.mat-icon-button[disabled]{color:#fff}.titleContent{font-family:Ubuntu,sans-serif;max-width:100px;margin:5px -18px;padding:0 15px;font-size:16px;overflow:hidden;text-overflow:ellipsis}.titleContentDark{background-color:#494949;color:#fff}.titleContentLight{background-color:#dfdfdf!important;color:#000}#header_img{max-width:135px;margin-right:10px;margin-top:-3px}#point{width:10px;height:10px;position:absolute;top:12px;right:33px;border-radius:50%;background-color:#ffa600;border:1px solid #000;z-index:99999}.pointLight{border:1px solid #fff!important}.tooltipList{white-space:pre}@media (max-width:600px){#navSessionInfo{display:none}}\"]\n            }]\n    }], function () { return [{ type: UtilsService }, { type: ChatService }]; }, { micButtonClicked: [{\n            type: Output\n        }], camButtonClicked: [{\n            type: Output\n        }], screenShareClicked: [{\n            type: Output\n        }], layoutButtonClicked: [{\n            type: Output\n        }], leaveSessionButtonClicked: [{\n            type: Output\n        }], sizeChange: [{\n            type: HostListener,\n            args: ['window:resize', ['$event']]\n        }], lightTheme: [{\n            type: Input\n        }], mySessionId: [{\n            type: Input\n        }], compact: [{\n            type: Input\n        }], showNotification: [{\n            type: Input\n        }], ovSettings: [{\n            type: Input\n        }], isWebcamVideoEnabled: [{\n            type: Input\n        }], isWebcamAudioEnabled: [{\n            type: Input\n        }], isScreenEnabled: [{\n            type: Input\n        }], isAutoLayout: [{\n            type: Input\n        }], isConnectionLost: [{\n            type: Input\n        }], hasVideoDevices: [{\n            type: Input\n        }], hasAudioDevices: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ToolbarLogoComponent, [{\n        type: Component,\n        args: [{\n                selector: 'app-toolbar-logo',\n                template: `\n\t\t<div id=\"navSessionInfo\">\n\t\t\t<a>\n\t\t\t\t<img id=\"header_img\" alt=\"OpenVidu Logo\" [src]=\"logoUrl\" />\n\t\t\t</a>\n\t\t\t<div *ngIf=\"!compact && sessionId\" [ngClass]=\"{'titleContent': true, 'titleContentLight': lightTheme, 'titleContentDark': !lightTheme}\">\n\t\t\t\t<span id=\"session-title\">{{ sessionId }}</span>\n\t\t\t</div>\n\t\t</div>\n\t`,\n                styles: [\"#header{color:#fff;height:40px;background-color:#333;padding:0 14px 0 0;position:absolute;top:0;left:0;z-index:999999;min-width:400px!important}.buttonsContainer{position:absolute;left:0;right:0}.headerLight{color:#706969!important;background-color:#eee!important}#navSessionInfo{height:100%;display:inline-flex}#navChatButton .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-17px}#navChatButton .mat-badge-medium.mat-badge-above .mat-badge-content{top:-6px}.mat-icon-button[disabled]{color:#fff}.titleContent{font-family:Ubuntu,sans-serif;max-width:100px;margin:5px -18px;padding:0 15px;font-size:16px;overflow:hidden;text-overflow:ellipsis}.titleContentDark{background-color:#494949;color:#fff}.titleContentLight{background-color:#dfdfdf!important;color:#000}#header_img{max-width:135px;margin-right:10px;margin-top:-3px}#point{width:10px;height:10px;position:absolute;top:12px;right:33px;border-radius:50%;background-color:#ffa600;border:1px solid #000;z-index:99999}.pointLight{border:1px solid #fff!important}.tooltipList{white-space:pre}@media (max-width:600px){#navSessionInfo{display:none}}\"]\n            }]\n    }], function () { return []; }, { lightTheme: [{\n            type: Input\n        }], compact: [{\n            type: Input\n        }], sessionId: [{\n            type: Input\n        }], logoUrl: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FooterComponent, [{\n        type: Component,\n        args: [{\n                selector: 'app-footer',\n                template: \"<mat-toolbar\\n\\tclass=\\\"container\\\"\\n\\tfxLayout\\n\\tfxLayout.xs=\\\"row\\\"\\n\\tfxLayoutAlign=\\\"center center\\\"\\n\\tfxLayoutGap=\\\"2px\\\"\\n\\tid=\\\"footer\\\"\\n\\trole=\\\"heading\\\"\\n\\t[class.headerLight]=\\\"lightTheme\\\"\\n>\\n\\t<div class=\\\"participantsButtonContainer\\\">\\n\\t\\t<button mat-icon-button class=\\\"\\\" matTooltip=\\\"Remote participants\\\">\\n\\t\\t\\t<mat-icon matBadge=\\\"{{ participantsNames?.length }}\\\" matBadgeSize=\\\"small\\\" matBadgePosition=\\\"above after\\\" matBadgeColor=\\\"accent\\\">people</mat-icon>\\n\\t\\t</button>\\n\\t</div>\\n\\t<div fxFlex=\\\"calc(100% - 40px)\\\" fxFlexOrder=\\\"2\\\">\\n\\t\\t<span class=\\\"participantNames\\\">{{ participantsNames | tooltipList }}</span>\\n\\t</div>\\n</mat-toolbar>\\n\",\n                styles: [\"#footer{color:#fff;height:25px;background-color:#333;padding:0 14px 0 0;position:absolute;bottom:0;left:0;z-index:999999;min-width:400px!important}.footerLight{color:#706969!important;background-color:#eee!important}.participantNames{font-size:small;height:inherit}.participantsButton{position:absolute;left:5px;top:none;height:-webkit-fill-available;height:-moz-available}.participantsButtonContainer{height:-webkit-fill-available;height:-moz-available}.mat-icon-button .mat-icon,.participantsButtonContainer .mat-icon-button i{line-height:18px}\"]\n            }]\n    }], function () { return []; }, { sizeChange: [{\n            type: HostListener,\n            args: ['window:resize', ['$event']]\n        }], participants: [{\n            type: Input\n        }], lightTheme: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(RoomConfigComponent, [{\n        type: Component,\n        args: [{\n                selector: 'app-room-config',\n                template: \"<div id=\\\"roomConfig\\\" [ngStyle]=\\\"{ display: (ovSettings | isAutoPublish) ? 'none' : 'block' }\\\">\\n<!-- Modal -->\\n<div class=\\\"modal\\\" *ngIf=\\\"showConfigCard\\\">\\n    <div class=\\\"modal-dialog modal-xl\\\">\\n      <div class=\\\"modal-content cardContainer\\\">\\n\\n        <!-- Modal Header -->\\n        <div class=\\\"modal-header cardHeader\\\">\\n\\t\\t\\t<div class=\\\"headerLogo\\\">\\n\\t\\t\\t\\t<img\\n\\t\\t\\t\\t\\tid=\\\"header_img\\\"\\n\\t\\t\\t\\t\\talt=\\\"OpenVidu Logo\\\"\\n\\t\\t\\t\\t\\tsrc=\\\"https://raw.githubusercontent.com/OpenVidu/openvidu-call/master/openvidu-call-front/src/assets/images/openvidu_logo_grey.png\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<h3 class=\\\"headerTitle\\\">{{ mySessionId }}</h3>\\n\\n\\t\\t\\t<button mat-mini-fab (click)=\\\"close()\\\" class=\\\"closeButton\\\" id=\\\"closeButton\\\">\\n\\t\\t\\t\\t<mat-icon color=\\\"warn\\\" matTooltip=\\\"Close\\\">highlight_off</mat-icon>\\n\\t\\t\\t</button>\\n        </div>\\n\\n        <!-- Modal body -->\\n        <div class=\\\"modal-body\\\" #bodyCard>\\n\\n\\t\\t  <div class=\\\"row align-items-center\\\">\\n\\t\\t\\t<div class=\\\"col-sm-6 col-md-6 col-lg-6 leftSection\\\">\\n\\t\\t\\t\\t<div class=\\\"videoContainer\\\">\\n\\n\\t\\t\\t\\t<!-- <mat-slider\\n\\t\\t\\t\\t\\t\\tclass=\\\"volumeSlider\\\"\\n\\t\\t\\t\\t\\t\\t*ngIf=\\\"volumeValue < 100\\\"\\n\\t\\t\\t\\t\\t\\t[max]=\\\"0\\\"\\n\\t\\t\\t\\t\\t\\t[min]=\\\"100\\\"\\n\\t\\t\\t\\t\\t\\t[color]=\\\"updateVolumeColor()\\\"\\n\\t\\t\\t\\t\\t\\t[ngModel]=\\\"volumeValue\\\"\\n\\t\\t\\t\\t\\t\\t[vertical]=\\\"true\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t</mat-slider> -->\\n\\n\\t\\t\\t\\t\\t<div *ngFor=\\\"let localUser of localUsers; let i = index\\\">\\n\\t\\t\\t\\t\\t\\t<!-- Only webcam video will be shown if webcamera is available -->\\n\\t\\t\\t\\t\\t\\t<ov-video\\n\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"(localUser.isCamera() && hasVideoDevices) || localUser.isScreen()\\\"\\n\\t\\t\\t\\t\\t\\t\\t[streamManager]=\\\"localUser.streamManager\\\"\\n\\n\\t\\t\\t\\t\\t\\t\\t[className]=\\\"localUsers.length > 1 && i === 0 ? 'ovVideoSmall' : ''\\\"\\n\\t\\t\\t\\t\\t\\t></ov-video>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"cameraMessageContainer\\\" *ngIf=\\\"localUser.isCamera() && !hasVideoDevices\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span>Oops! Camera is not available</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\\\"avatarButton\\\">\\n\\t\\t\\t\\t\\t<button mat-stroked-button (click)=\\\"takePhoto()\\\">\\n\\t\\t\\t\\t\\t\\t<mat-icon matTooltip=\\\"Take Photo\\\">photo_camera</mat-icon>\\n\\t\\t\\t\\t\\t\\t<span style=\\\"margin-left: 5px;\\\">Capture Avatar</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\\"col-sm-6 col-md-6 col-lg-6 rightSection\\\">\\n\\t\\t\\t\\t<div class=\\\"avatarContainer\\\">\\n\\t\\t\\t\\t\\t<h3>Avatar</h3>\\n\\n\\t\\t\\t\\t</div>\\n\\n\\n\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxFill id=\\\"avatarSection\\\" *ngIf=\\\"hasVideoDevices\\\">\\n\\n\\t\\t\\t\\t\\t<div class=\\\"\\\" fxFlex=\\\"100\\\" fxLayoutAlign=\\\"center center\\\">\\n\\n\\n\\t\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t\\tid=\\\"avatarContainer\\\"\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"setAvatar('video')\\\"\\n\\t\\t\\t\\t\\t\\t\\t[style.background]=\\\"avatarSelected === 'video' ? 'lightgreen' : 'transparent'\\\"\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<div id=\\\"imgText\\\" *ngIf=\\\"!videoAvatar\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span>Press Avatar Button</span>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<img id=\\\"avatarImg\\\" *ngIf=\\\"videoAvatar\\\" [src]=\\\"videoAvatar\\\" />\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t\\tid=\\\"avatarContainer\\\"\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"setAvatar('random')\\\"\\n\\t\\t\\t\\t\\t\\t\\t[style.background]=\\\"avatarSelected === 'random' ? 'lightgreen' : 'transparent'\\\"\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t<mat-spinner id=\\\"imgText\\\" [diameter]=\\\"70\\\" *ngIf=\\\"!randomAvatar\\\" color=\\\"accent\\\"></mat-spinner>\\n\\t\\t\\t\\t\\t\\t\\t<img id=\\\"avatarImg\\\" *ngIf=\\\"randomAvatar\\\" [src]=\\\"randomAvatar\\\" />\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<!-- Devices section / Nickname-->\\n\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxFill id=\\\"devicesSection\\\">\\n\\t\\t\\t\\t\\t<div fxLayout fxFlex>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"one\\\" fxFlex=\\\"20\\\" fxLayoutAlign=\\\"center center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button mat-mini-fab (click)=\\\"setNicknameForm()\\\" class=\\\"deviceButton\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon matTooltip=\\\"Nickname\\\">person</mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"two\\\" fxFlex=\\\"80\\\" fxLayoutAlign=\\\"center center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<form id=\\\"nicknameForm\\\" class=\\\"alternate-theme\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmatInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Nickname\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[formControl]=\\\"nicknameFormControl\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[errorStateMatcher]=\\\"matcher\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(keypress)=\\\"eventKeyPress($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tautocomplete=\\\"off\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error *ngIf=\\\"nicknameFormControl.hasError('required')\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNickname is <strong>required</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error *ngIf=\\\"nicknameFormControl.hasError('maxlength')\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNickname is <strong>too long!</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<!-- Devices section / Microphone-->\\n\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxFill id=\\\"devicesSection\\\" *ngIf=\\\"hasAudioDevices && (ovSettings | hasAudio)\\\">\\n\\t\\t\\t\\t\\t<div fxLayout fxFlex>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"one\\\" fxFlex=\\\"20\\\" fxLayoutAlign=\\\"center center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button mat-mini-fab (click)=\\\"toggleMic()\\\" class=\\\"deviceButton\\\"  id=\\\"configCardMicrophoneButton\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon *ngIf=\\\"isAudioActive\\\" matTooltip=\\\"Microphone Enabled\\\">mic</mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon *ngIf=\\\"!isAudioActive\\\" color=\\\"warn\\\" matTooltip=\\\"Microphone Disabled\\\">mic_off</mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"two\\\" fxFlex=\\\"80\\\" fxLayoutAlign=\\\"center center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"alternate-theme\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-select\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Microphone Options\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t[ngModel]=\\\"isAudioActive && micSelected ? micSelected.device : 'None'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t(selectionChange)=\\\"onMicrophoneSelected($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option *ngFor=\\\"let microphone of microphones\\\" [value]=\\\"microphone.device\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ microphone.label }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-option>\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-select>\\n\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<!-- Devices section / Camera-->\\n\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxFill id=\\\"devicesSection\\\" *ngIf=\\\"hasVideoDevices && (ovSettings | hasVideo)\\\">\\n\\t\\t\\t\\t\\t<div fxLayout fxFlex>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"one\\\" fxFlex=\\\"20\\\" fxLayoutAlign=\\\"center center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button mat-mini-fab (click)=\\\"toggleCam()\\\" class=\\\"deviceButton\\\" id=\\\"configCardCameraButton\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon *ngIf=\\\"isVideoActive\\\" matTooltip=\\\"Camera Enabled\\\">videocam</mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon *ngIf=\\\"!isVideoActive\\\" color=\\\"warn\\\" matTooltip=\\\"Camera Disabled\\\">videocam_off</mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"two\\\" fxFlex=\\\"80\\\" fxLayoutAlign=\\\"center center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"alternate-theme\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-select\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Camera Options\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t[ngModel]=\\\"isVideoActive && camSelected ? camSelected.device : 'None'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t(selectionChange)=\\\"onCameraSelected($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option *ngFor=\\\"let camera of cameras\\\" [value]=\\\"camera.device\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ camera.label }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-option>\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-select>\\n\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<!-- Devices section / ScreenShare-->\\n\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxFill id=\\\"devicesSection\\\" *ngIf=\\\"ovSettings | hasScreenSharing\\\">\\n\\t\\t\\t\\t\\t<div fxLayout fxFlex>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"one\\\" fxFlex=\\\"20\\\" fxLayoutAlign=\\\"center center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button mat-mini-fab (click)=\\\"toggleScreenShare()\\\" class=\\\"deviceButton\\\" id=\\\"configCardScreenButton\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon *ngIf=\\\"this.oVSessionService.isScreenShareEnabled()\\\" matTooltip=\\\"Screen Share Enabled\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t>screen_share</mat-icon\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"!this.oVSessionService.isScreenShareEnabled()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcolor=\\\"warn\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Screen Share Disabled\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tstop_screen_share</mat-icon\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"two\\\" fxFlex=\\\"80\\\" fxLayoutAlign=\\\"center center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"alternate-theme\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmatInput\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisabled\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Screen\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t[ngModel]=\\\"this.oVSessionService.isScreenShareEnabled() ? 'Screen' : 'None'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t  </div>\\n\\n        </div>\\n\\n        <!-- Modal footer -->\\n        <div class=\\\"modal-footer\\\" style=\\\"justify-content: center\\\">\\n\\t\\t\\t<button mat-flat-button color=\\\"accent\\\" (click)=\\\"joinSession()\\\" form=\\\"nicknameForm\\\" id=\\\"joinButton\\\">JOIN</button>\\n\\n        </div>\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\",\n                styles: [\".cardHeader{background-color:#ccc;border-radius:14px 14px 0 0;text-align:center;height:50px}.headerLogo{position:absolute;top:0;left:0;height:inherit}.headerTitle{font-size:large;margin:auto}.videoContainer{width:100%;height:calc(100% - 50px);text-align:center;margin:auto}.avatarButton{text-align:center;margin-top:10px}.videoContainer>div{display:inline}.ovVideoSmall{position:absolute;width:30%;left:15px;bottom:46px}.cameraMessageContainer{height:100%;width:100%;text-align:center;border:2px solid;font-size:large;display:table}.cameraMessageContainer>span{display:table-cell;vertical-align:middle}.deviceButton{box-shadow:none;background-color:#f5f5f5}.rightSection{padding-left:0!important;text-align:center}.avatarContainer{background-color:#f5f5f5;height:40px;text-align:center;display:flex}.avatarContainer h3{margin:auto}.closeButton{position:absolute;top:5px;right:7px;box-shadow:none;background-color:transparent}#roomConfig{position:absolute;width:100%;height:100%}#header_img{max-width:150px}#sessionInfo{margin-top:0}#joinButton{margin:15px;width:80%}#photoButton{margin:10px;text-align:center}#avatarContainer{border:1px solid #b6b6b6;width:100px;height:100px;margin:10px;position:relative;cursor:pointer;display:inline-block}#devicesSection{margin:15px 0}#avatarSection,#devicesSection{height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important;min-height:auto!important}#imgText{display:table}#avatarImg,#imgText{text-align:center;position:absolute;margin:auto;top:25%;left:0;right:0;bottom:25%}#avatarImg{height:83%;width:83%}#avatarContainer,#avatarImg{border-radius:25%}#optionsContent{position:initial}#nicknameForm,mat-form-field{width:100%}mat-card{max-width:85%!important;position:absolute;top:0;bottom:0;left:0;right:0;max-height:90%;margin:auto;padding:20px;overflow:auto;border:2px solid #fff;border-right:4px solid #fff}@media only screen and (max-width:959px){mat-card{max-width:80%!important;max-height:80%!important}}::ng-deep .mat-option-text{color:#000!important}::ng-deep .mat-slider-thumb{visibility:hidden}::ng-deep .mat-slider-vertical .mat-slider-track-background,::ng-deep .mat-slider-vertical .mat-slider-track-fill,::ng-deep .mat-slider-vertical .mat-slider-track-wrapper{width:10px!important}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-thumb{background:#b8afaf;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#888}::-webkit-scrollbar-track{background:#e1e1e1;border-radius:4px}/*!\\n * Generated using the Bootstrap Customizer (https://getbootstrap.com/docs/3.4/customize/)\\n *//*!\\n * Bootstrap v3.4.1 (https://getbootstrap.com/)\\n * Copyright 2011-2019 Twitter, Inc.\\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\\n *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */*,:after,:before{box-sizing:border-box}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.container-fluid{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{margin-right:-15px;margin-left:-15px}.row-no-gutters{margin-right:0;margin-left:0}.row-no-gutters [class*=col-]{padding-right:0;padding-left:0}.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}.modal-open{overflow:hidden}.modal{top:0;right:0;bottom:0;left:0;z-index:1050;overflow:hidden;-webkit-overflow-scrolling:touch;outline:0;display:block;height:100%}.modal.fade .modal-dialog{transform:translate(0,-25%);transition:transform .3s ease-out}.modal.in .modal-dialog{transform:translate(0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{width:auto;margin:30px;padding:100px 0;position:absolute;top:40%;left:50%;transform:translate(-50%,-50%)}.modal-content{position:relative;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:15px;box-shadow:0 3px 9px rgba(0,0,0,.5);outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.in{opacity:.5}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:15px}.modal-footer{padding:1px;text-align:center;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-bottom:0;margin-left:5px}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (max-width:600px){.headerTitle{display:none}.headerLogo{right:0}}@media (max-width:767px){.row{height:100%}.leftSection{height:60%}.rightSection{padding-right:0!important}.headerTitle{font-size:medium}.modal-content{max-height:100%;height:100%}.modal-dialog{height:calc(100% - 10px);margin:5px;padding:0;position:relative;top:0;left:0;transform:none}.modal-body{padding:10px 20px;overflow:auto;height:calc(100% - 120px);overflow:-moz-scrollbars-vertical;overflow-x:hidden;overflow-y:scroll}.modal{max-height:100%}.videoContainer{width:60%}}@media (min-width:768px){.ovVideoSmall{width:40%}.row{display:flex!important}.modal-dialog{width:90%;margin:55px auto}.modal-content{box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:75%}}@media (min-width:1440px){.modal-xl{width:75%}}\"]\n            }]\n    }], function () { return [{ type: ɵngcc10.ActivatedRoute }, { type: UtilsService }, { type: OpenViduSessionService }, { type: DevicesService }, { type: LoggerService }, { type: StorageService }]; }, { join: [{\n            type: Output\n        }], leaveSession: [{\n            type: Output\n        }], publisherCreated: [{\n            type: Output\n        }], beforeunloadHandler: [{\n            type: HostListener,\n            args: ['window:beforeunload']\n        }], bodyCard: [{\n            type: ViewChild,\n            args: ['bodyCard']\n        }], externalConfig: [{\n            type: Input\n        }], ovSettings: [{\n            type: Input\n        }] }); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(OpenviduSessionModule, { declarations: function () { return [OpenviduSessionComponent,\n        VideoRoomComponent,\n        StreamComponent,\n        ChatComponent,\n        OpenViduVideoComponent,\n        DialogErrorComponent,\n        RoomConfigComponent,\n        FooterComponent,\n        ToolbarComponent,\n        ToolbarLogoComponent,\n        LinkifyPipe,\n        HasChatPipe,\n        HasAudioPipe,\n        HasVideoPipe,\n        IsAutoPublishPipe,\n        HasScreenSharingPipe,\n        HasFullscreenPipe,\n        HasLayoutSpeakingPipe,\n        HasExitPipe,\n        TooltipListPipe]; }, imports: function () { return [CommonModule,\n        HttpClientModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatButtonModule,\n        MatCardModule,\n        MatToolbarModule,\n        MatIconModule,\n        MatInputModule,\n        MatFormFieldModule,\n        MatDialogModule,\n        MatTooltipModule,\n        MatBadgeModule,\n        MatGridListModule,\n        MatSelectModule,\n        MatOptionModule,\n        MatProgressSpinnerModule,\n        MatSliderModule,\n        MatSidenavModule,\n        MatSnackBarModule,\n        FlexLayoutModule, ɵngcc12.NgxLinkifyjsModule]; }, exports: function () { return [OpenviduSessionComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(OpenviduSessionModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    HttpClientModule,\n                    FormsModule,\n                    ReactiveFormsModule,\n                    MatButtonModule,\n                    MatCardModule,\n                    MatToolbarModule,\n                    MatIconModule,\n                    MatInputModule,\n                    MatFormFieldModule,\n                    MatDialogModule,\n                    MatTooltipModule,\n                    MatBadgeModule,\n                    MatGridListModule,\n                    MatSelectModule,\n                    MatOptionModule,\n                    MatProgressSpinnerModule,\n                    MatSliderModule,\n                    MatSidenavModule,\n                    MatSnackBarModule,\n                    FlexLayoutModule,\n                    NgxLinkifyjsModule.forRoot()\n                ],\n                declarations: [\n                    OpenviduSessionComponent,\n                    VideoRoomComponent,\n                    StreamComponent,\n                    ChatComponent,\n                    OpenViduVideoComponent,\n                    DialogErrorComponent,\n                    RoomConfigComponent,\n                    FooterComponent,\n                    ToolbarComponent,\n                    ToolbarLogoComponent,\n                    LinkifyPipe,\n                    HasChatPipe,\n                    HasAudioPipe,\n                    HasVideoPipe,\n                    IsAutoPublishPipe,\n                    HasScreenSharingPipe,\n                    HasFullscreenPipe,\n                    HasLayoutSpeakingPipe,\n                    HasExitPipe,\n                    TooltipListPipe\n                ],\n                entryComponents: [DialogErrorComponent],\n                providers: [\n                    NetworkService,\n                    OpenViduSessionService,\n                    UtilsService,\n                    RemoteUsersService,\n                    DevicesService,\n                    LoggerService,\n                    ChatService,\n                    NotificationService,\n                    StorageService\n                ],\n                exports: [OpenviduSessionComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of openvidu-angular\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OpenViduLayout, OpenviduSessionComponent, OpenviduSessionModule, UserModel, LoggerService as ɵa, VideoRoomComponent as ɵb, HasExitPipe as ɵba, TooltipListPipe as ɵbb, NetworkService as ɵc, UtilsService as ɵd, RemoteUsersService as ɵe, OpenViduSessionService as ɵf, DevicesService as ɵg, StorageService as ɵh, ChatService as ɵi, NotificationService as ɵj, StreamComponent as ɵk, ChatComponent as ɵl, OpenViduVideoComponent as ɵm, DialogErrorComponent as ɵn, RoomConfigComponent as ɵo, FooterComponent as ɵp, ToolbarComponent as ɵq, ToolbarLogoComponent as ɵr, LinkifyPipe as ɵs, HasChatPipe as ɵt, HasAudioPipe as ɵu, HasVideoPipe as ɵv, IsAutoPublishPipe as ɵw, HasScreenSharingPipe as ɵx, HasFullscreenPipe as ɵy, HasLayoutSpeakingPipe as ɵz };\n\n//# sourceMappingURL=openvidu-angular.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\n/**\n * How the video will be inserted in the DOM for Publishers and Subscribers. See [[PublisherProperties.insertMode]] and [[SubscriberProperties.insertMode]]\n */\nvar VideoInsertMode;\n(function (VideoInsertMode) {\n    /**\n     * Video inserted after the target element (as next sibling)\n     */\n    VideoInsertMode[\"AFTER\"] = \"AFTER\";\n    /**\n     * Video inserted as last child of the target element\n     */\n    VideoInsertMode[\"APPEND\"] = \"APPEND\";\n    /**\n     * Video inserted before the target element (as previous sibling)\n     */\n    VideoInsertMode[\"BEFORE\"] = \"BEFORE\";\n    /**\n     * Video inserted as first child of the target element\n     */\n    VideoInsertMode[\"PREPEND\"] = \"PREPEND\";\n    /**\n     * Video replaces target element\n     */\n    VideoInsertMode[\"REPLACE\"] = \"REPLACE\";\n})(VideoInsertMode = exports.VideoInsertMode || (exports.VideoInsertMode = {}));\n//# sourceMappingURL=VideoInsertMode.js.map","'use strict';\n\nexports.__esModule = true;\n\nvar _linkify = require('./linkify');\n\nvar linkify = _interopRequireWildcard(_linkify);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar tokenize = linkify.tokenize,\n    options = linkify.options; /**\n                               \tConvert strings of text into linkable HTML text\n                               */\n\nvar Options = options.Options;\n\n\nfunction escapeText(text) {\n\treturn text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\nfunction escapeAttr(href) {\n\treturn href.replace(/\"/g, '&quot;');\n}\n\nfunction attributesToString(attributes) {\n\tif (!attributes) {\n\t\treturn '';\n\t}\n\tvar result = [];\n\n\tfor (var attr in attributes) {\n\t\tvar val = attributes[attr] + '';\n\t\tresult.push(attr + '=\"' + escapeAttr(val) + '\"');\n\t}\n\treturn result.join(' ');\n}\n\nfunction linkifyStr(str) {\n\tvar opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\topts = new Options(opts);\n\n\tvar tokens = tokenize(str);\n\tvar result = [];\n\n\tfor (var i = 0; i < tokens.length; i++) {\n\t\tvar token = tokens[i];\n\n\t\tif (token.type === 'nl' && opts.nl2br) {\n\t\t\tresult.push('<br>\\n');\n\t\t\tcontinue;\n\t\t} else if (!token.isLink || !opts.check(token)) {\n\t\t\tresult.push(escapeText(token.toString()));\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar _opts$resolve = opts.resolve(token),\n\t\t    formatted = _opts$resolve.formatted,\n\t\t    formattedHref = _opts$resolve.formattedHref,\n\t\t    tagName = _opts$resolve.tagName,\n\t\t    className = _opts$resolve.className,\n\t\t    target = _opts$resolve.target,\n\t\t    attributes = _opts$resolve.attributes;\n\n\t\tvar link = '<' + tagName + ' href=\"' + escapeAttr(formattedHref) + '\"';\n\n\t\tif (className) {\n\t\t\tlink += ' class=\"' + escapeAttr(className) + '\"';\n\t\t}\n\n\t\tif (target) {\n\t\t\tlink += ' target=\"' + escapeAttr(target) + '\"';\n\t\t}\n\n\t\tif (attributes) {\n\t\t\tlink += ' ' + attributesToString(attributes);\n\t\t}\n\n\t\tlink += '>' + escapeText(formatted) + '</' + tagName + '>';\n\t\tresult.push(link);\n\t}\n\n\treturn result.join('');\n}\n\nif (!String.prototype.linkify) {\n\ttry {\n\t\tObject.defineProperty(String.prototype, 'linkify', {\n\t\t\tset: function set() {},\n\t\t\tget: function get() {\n\t\t\t\treturn function linkify(opts) {\n\t\t\t\t\treturn linkifyStr(this, opts);\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t} catch (e) {\n\t\t// IE 8 doesn't like Object.defineProperty on non-DOM objects\n\t\tif (!String.prototype.linkify) {\n\t\t\tString.prototype.linkify = function (opts) {\n\t\t\t\treturn linkifyStr(this, opts);\n\t\t\t};\n\t\t}\n\t}\n}\n\nexports.default = linkifyStr;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nexport default v1;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = new Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    bytes[i] = str.charCodeAt(i);\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  var generateUUID = function generateUUID(value, namespace, buf, offset) {\n    var off = buf && offset || 0;\n    if (typeof value == 'string') value = stringToBytes(value);\n    if (typeof namespace == 'string') namespace = uuidToBytes(namespace);\n    if (!Array.isArray(value)) throw TypeError('value must be an array of bytes');\n    if (!Array.isArray(namespace) || namespace.length !== 16) throw TypeError('namespace must be uuid string or an Array of 16 byte values'); // Per 4.3\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || bytesToUuid(bytes);\n  }; // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name;\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var i;\n  var x;\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n  var hex;\n\n  for (i = 0; i < length32; i += 8) {\n    x = input[i >> 5] >>> i % 32 & 0xff;\n    hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[(len + 64 >>> 9 << 4) + 14] = len;\n  var i;\n  var olda;\n  var oldb;\n  var oldc;\n  var oldd;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (i = 0; i < x.length; i += 16) {\n    olda = a;\n    oldb = b;\n    oldc = c;\n    oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  var i;\n  var output = [];\n  output[(input.length >> 2) - 1] = undefined;\n\n  for (i = 0; i < output.length; i += 1) {\n    output[i] = 0;\n  }\n\n  var length8 = input.length * 8;\n\n  for (i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var i = 0; i < N; i++) {\n    M[i] = new Array(16);\n\n    for (var j = 0; j < 16; j++) {\n      M[i][j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var i = 0; i < N; i++) {\n    var W = new Array(80);\n\n    for (var t = 0; t < 16; t++) {\n      W[t] = M[i][t];\n    }\n\n    for (var t = 16; t < 80; t++) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var t = 0; t < 80; t++) {\n      var s = Math.floor(t / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","var JsonRPC = require('./JsonRPC');\nvar XmlRPC = require('./XmlRPC');\nexports.JsonRPC = JsonRPC;\nexports.XmlRPC = XmlRPC;\n//# sourceMappingURL=index.js.map","/* jshint node: true */\n'use strict';\n\nvar normalice = require('normalice');\n\n/**\n  # freeice\n\n  The `freeice` module is a simple way of getting random STUN or TURN server\n  for your WebRTC application.  The list of servers (just STUN at this stage)\n  were sourced from this [gist](https://gist.github.com/zziuni/3741933).\n\n  ## Example Use\n\n  The following demonstrates how you can use `freeice` with\n  [rtc-quickconnect](https://github.com/rtc-io/rtc-quickconnect):\n\n  <<< examples/quickconnect.js\n\n  As the `freeice` module generates ice servers in a list compliant with the\n  WebRTC spec you will be able to use it with raw `RTCPeerConnection`\n  constructors and other WebRTC libraries.\n\n  ## Hey, don't use my STUN/TURN server!\n\n  If for some reason your free STUN or TURN server ends up in the\n  list of servers ([stun](https://github.com/DamonOehlman/freeice/blob/master/stun.json) or\n  [turn](https://github.com/DamonOehlman/freeice/blob/master/turn.json))\n  that is used in this module, you can feel\n  free to open an issue on this repository and those servers will be removed\n  within 24 hours (or sooner).  This is the quickest and probably the most\n  polite way to have something removed (and provides us some visibility\n  if someone opens a pull request requesting that a server is added).\n\n  ## Please add my server!\n\n  If you have a server that you wish to add to the list, that's awesome! I'm\n  sure I speak on behalf of a whole pile of WebRTC developers who say thanks.\n  To get it into the list, feel free to either open a pull request or if you\n  find that process a bit daunting then just create an issue requesting\n  the addition of the server (make sure you provide all the details, and if\n  you have a Terms of Service then including that in the PR/issue would be\n  awesome).\n\n  ## I know of a free server, can I add it?\n\n  Sure, if you do your homework and make sure it is ok to use (I'm currently\n  in the process of reviewing the terms of those STUN servers included from\n  the original list).  If it's ok to go, then please see the previous entry\n  for how to add it.\n\n  ## Current List of Servers\n\n  * current as at the time of last `README.md` file generation\n\n  ### STUN\n\n  <<< stun.json\n\n  ### TURN\n\n  <<< turn.json\n\n**/\n\nvar freeice = function(opts) {\n  // if a list of servers has been provided, then use it instead of defaults\n  var servers = {\n    stun: (opts || {}).stun || require('./stun.json'),\n    turn: (opts || {}).turn || require('./turn.json')\n  };\n\n  var stunCount = (opts || {}).stunCount || 2;\n  var turnCount = (opts || {}).turnCount || 0;\n  var selected;\n\n  function getServers(type, count) {\n    var out = [];\n    var input = [].concat(servers[type]);\n    var idx;\n\n    while (input.length && out.length < count) {\n      idx = (Math.random() * input.length) | 0;\n      out = out.concat(input.splice(idx, 1));\n    }\n\n    return out.map(function(url) {\n        //If it's a not a string, don't try to \"normalice\" it otherwise using type:url will screw it up\n        if ((typeof url !== 'string') && (! (url instanceof String))) {\n            return url;\n        } else {\n            return normalice(type + ':' + url);\n        }\n    });\n  }\n\n  // add stun servers\n  selected = [].concat(getServers('stun', stunCount));\n\n  if (turnCount) {\n    selected = selected.concat(getServers('turn', turnCount));\n  }\n\n  return selected;\n};\n\nmodule.exports = freeice;","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar freeice = require(\"freeice\");\nvar uuid = require(\"uuid\");\nvar platform = require(\"platform\");\nvar OpenViduLogger_1 = require(\"../Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\nvar WebRtcPeer = /** @class */ (function () {\n    function WebRtcPeer(configuration) {\n        var _this = this;\n        this.configuration = configuration;\n        this.remoteCandidatesQueue = [];\n        this.localCandidatesQueue = [];\n        this.iceCandidateList = [];\n        this.candidategatheringdone = false;\n        this.configuration.iceServers = (!!this.configuration.iceServers && this.configuration.iceServers.length > 0) ? this.configuration.iceServers : freeice();\n        this.pc = new RTCPeerConnection({ iceServers: this.configuration.iceServers });\n        this.id = !!configuration.id ? configuration.id : this.generateUniqueId();\n        this.pc.onicecandidate = function (event) {\n            if (!!event.candidate) {\n                var candidate = event.candidate;\n                if (candidate) {\n                    _this.localCandidatesQueue.push({ candidate: candidate.candidate });\n                    _this.candidategatheringdone = false;\n                    _this.configuration.onicecandidate(event.candidate);\n                }\n                else if (!_this.candidategatheringdone) {\n                    _this.candidategatheringdone = true;\n                }\n            }\n        };\n        this.pc.onsignalingstatechange = function () {\n            if (_this.pc.signalingState === 'stable') {\n                while (_this.iceCandidateList.length > 0) {\n                    var candidate = _this.iceCandidateList.shift();\n                    _this.pc.addIceCandidate(candidate);\n                }\n            }\n        };\n        this.start();\n    }\n    /**\n     * This function creates the RTCPeerConnection object taking into account the\n     * properties received in the constructor. It starts the SDP negotiation\n     * process: generates the SDP offer and invokes the onsdpoffer callback. This\n     * callback is expected to send the SDP offer, in order to obtain an SDP\n     * answer from another peer.\n     */\n    WebRtcPeer.prototype.start = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (_this.pc.signalingState === 'closed') {\n                reject('The peer connection object is in \"closed\" state. This is most likely due to an invocation of the dispose method before accepting in the dialogue');\n            }\n            if (!!_this.configuration.mediaStream) {\n                for (var _i = 0, _a = _this.configuration.mediaStream.getTracks(); _i < _a.length; _i++) {\n                    var track = _a[_i];\n                    _this.pc.addTrack(track, _this.configuration.mediaStream);\n                }\n                resolve();\n            }\n        });\n    };\n    /**\n     * This method frees the resources used by WebRtcPeer\n     */\n    WebRtcPeer.prototype.dispose = function () {\n        logger.debug('Disposing WebRtcPeer');\n        if (this.pc) {\n            if (this.pc.signalingState === 'closed') {\n                return;\n            }\n            this.pc.close();\n            this.remoteCandidatesQueue = [];\n            this.localCandidatesQueue = [];\n        }\n    };\n    /**\n     * Function that creates an offer, sets it as local description and returns the offer param\n     * to send to OpenVidu Server (will be the remote description of other peer)\n     */\n    WebRtcPeer.prototype.generateOffer = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var offerAudio, offerVideo = true;\n            // Constraints must have both blocks\n            if (!!_this.configuration.mediaConstraints) {\n                offerAudio = (typeof _this.configuration.mediaConstraints.audio === 'boolean') ?\n                    _this.configuration.mediaConstraints.audio : true;\n                offerVideo = (typeof _this.configuration.mediaConstraints.video === 'boolean') ?\n                    _this.configuration.mediaConstraints.video : true;\n            }\n            var constraints = {\n                offerToReceiveAudio: (_this.configuration.mode !== 'sendonly' && offerAudio),\n                offerToReceiveVideo: (_this.configuration.mode !== 'sendonly' && offerVideo)\n            };\n            logger.debug('RTCPeerConnection constraints: ' + JSON.stringify(constraints));\n            if (platform.name === 'Safari' && platform.ua.indexOf('Safari') !== -1) {\n                // Safari (excluding Ionic), at least on iOS just seems to support unified plan, whereas in other browsers is not yet ready and considered experimental\n                if (offerAudio) {\n                    _this.pc.addTransceiver('audio', {\n                        direction: _this.configuration.mode\n                    });\n                }\n                if (offerVideo) {\n                    _this.pc.addTransceiver('video', {\n                        direction: _this.configuration.mode\n                    });\n                }\n                _this.pc\n                    .createOffer()\n                    .then(function (offer) {\n                    logger.debug('Created SDP offer');\n                    return _this.pc.setLocalDescription(offer);\n                })\n                    .then(function () {\n                    var localDescription = _this.pc.localDescription;\n                    if (!!localDescription) {\n                        logger.debug('Local description set', localDescription.sdp);\n                        resolve(localDescription.sdp);\n                    }\n                    else {\n                        reject('Local description is not defined');\n                    }\n                })[\"catch\"](function (error) { return reject(error); });\n            }\n            else {\n                // Rest of platforms\n                _this.pc.createOffer(constraints).then(function (offer) {\n                    logger.debug('Created SDP offer');\n                    return _this.pc.setLocalDescription(offer);\n                })\n                    .then(function () {\n                    var localDescription = _this.pc.localDescription;\n                    if (!!localDescription) {\n                        logger.debug('Local description set', localDescription.sdp);\n                        resolve(localDescription.sdp);\n                    }\n                    else {\n                        reject('Local description is not defined');\n                    }\n                })[\"catch\"](function (error) { return reject(error); });\n            }\n        });\n    };\n    /**\n     * Function invoked when a SDP answer is received. Final step in SDP negotiation, the peer\n     * just needs to set the answer as its remote description\n     */\n    WebRtcPeer.prototype.processAnswer = function (sdpAnswer, needsTimeoutOnProcessAnswer) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var answer = {\n                type: 'answer',\n                sdp: sdpAnswer\n            };\n            logger.debug('SDP answer received, setting remote description');\n            if (_this.pc.signalingState === 'closed') {\n                reject('RTCPeerConnection is closed');\n            }\n            _this.setRemoteDescription(answer, needsTimeoutOnProcessAnswer, resolve, reject);\n        });\n    };\n    /**\n     * @hidden\n     */\n    WebRtcPeer.prototype.setRemoteDescription = function (answer, needsTimeoutOnProcessAnswer, resolve, reject) {\n        var _this = this;\n        if (platform['isIonicIos']) {\n            // Ionic iOS platform\n            if (needsTimeoutOnProcessAnswer) {\n                // 400 ms have not elapsed yet since first remote stream triggered Stream#initWebRtcPeerReceive\n                setTimeout(function () {\n                    logger.info('setRemoteDescription run after timeout for Ionic iOS device');\n                    _this.pc.setRemoteDescription(new RTCSessionDescription(answer)).then(function () { return resolve(); })[\"catch\"](function (error) { return reject(error); });\n                }, 250);\n            }\n            else {\n                // 400 ms have elapsed\n                this.pc.setRemoteDescription(new RTCSessionDescription(answer)).then(function () { return resolve(); })[\"catch\"](function (error) { return reject(error); });\n            }\n        }\n        else {\n            // Rest of platforms\n            this.pc.setRemoteDescription(answer).then(function () { return resolve(); })[\"catch\"](function (error) { return reject(error); });\n        }\n    };\n    /**\n     * Callback function invoked when an ICE candidate is received\n     */\n    WebRtcPeer.prototype.addIceCandidate = function (iceCandidate) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            logger.debug('Remote ICE candidate received', iceCandidate);\n            _this.remoteCandidatesQueue.push(iceCandidate);\n            switch (_this.pc.signalingState) {\n                case 'closed':\n                    reject(new Error('PeerConnection object is closed'));\n                    break;\n                case 'stable':\n                    if (!!_this.pc.remoteDescription) {\n                        _this.pc.addIceCandidate(iceCandidate).then(function () { return resolve(); })[\"catch\"](function (error) { return reject(error); });\n                    }\n                    else {\n                        _this.iceCandidateList.push(iceCandidate);\n                        resolve();\n                    }\n                    break;\n                default:\n                    _this.iceCandidateList.push(iceCandidate);\n                    resolve();\n            }\n        });\n    };\n    WebRtcPeer.prototype.addIceConnectionStateChangeListener = function (otherId) {\n        var _this = this;\n        this.pc.oniceconnectionstatechange = function () {\n            var iceConnectionState = _this.pc.iceConnectionState;\n            switch (iceConnectionState) {\n                case 'disconnected':\n                    // Possible network disconnection\n                    logger.warn('IceConnectionState of RTCPeerConnection ' + _this.id + ' (' + otherId + ') change to \"disconnected\". Possible network disconnection');\n                    break;\n                case 'failed':\n                    logger.error('IceConnectionState of RTCPeerConnection ' + _this.id + ' (' + otherId + ') to \"failed\"');\n                    break;\n                case 'closed':\n                    logger.log('IceConnectionState of RTCPeerConnection ' + _this.id + ' (' + otherId + ') change to \"closed\"');\n                    break;\n                case 'new':\n                    logger.log('IceConnectionState of RTCPeerConnection ' + _this.id + ' (' + otherId + ') change to \"new\"');\n                    break;\n                case 'checking':\n                    logger.log('IceConnectionState of RTCPeerConnection ' + _this.id + ' (' + otherId + ') change to \"checking\"');\n                    break;\n                case 'connected':\n                    logger.log('IceConnectionState of RTCPeerConnection ' + _this.id + ' (' + otherId + ') change to \"connected\"');\n                    break;\n                case 'completed':\n                    logger.log('IceConnectionState of RTCPeerConnection ' + _this.id + ' (' + otherId + ') change to \"completed\"');\n                    break;\n            }\n        };\n    };\n    /**\n     * @hidden\n     */\n    WebRtcPeer.prototype.generateUniqueId = function () {\n        return uuid.v4();\n    };\n    return WebRtcPeer;\n}());\nexports.WebRtcPeer = WebRtcPeer;\nvar WebRtcPeerRecvonly = /** @class */ (function (_super) {\n    __extends(WebRtcPeerRecvonly, _super);\n    function WebRtcPeerRecvonly(configuration) {\n        var _this = this;\n        configuration.mode = 'recvonly';\n        _this = _super.call(this, configuration) || this;\n        return _this;\n    }\n    return WebRtcPeerRecvonly;\n}(WebRtcPeer));\nexports.WebRtcPeerRecvonly = WebRtcPeerRecvonly;\nvar WebRtcPeerSendonly = /** @class */ (function (_super) {\n    __extends(WebRtcPeerSendonly, _super);\n    function WebRtcPeerSendonly(configuration) {\n        var _this = this;\n        configuration.mode = 'sendonly';\n        _this = _super.call(this, configuration) || this;\n        return _this;\n    }\n    return WebRtcPeerSendonly;\n}(WebRtcPeer));\nexports.WebRtcPeerSendonly = WebRtcPeerSendonly;\nvar WebRtcPeerSendrecv = /** @class */ (function (_super) {\n    __extends(WebRtcPeerSendrecv, _super);\n    function WebRtcPeerSendrecv(configuration) {\n        var _this = this;\n        configuration.mode = 'sendrecv';\n        _this = _super.call(this, configuration) || this;\n        return _this;\n    }\n    return WebRtcPeerSendrecv;\n}(WebRtcPeer));\nexports.WebRtcPeerSendrecv = WebRtcPeerSendrecv;\n//# sourceMappingURL=WebRtcPeer.js.map","/*!\n * EventEmitter v5.2.9 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - https://oli.me.uk/\n * @preserve\n */\n\n;(function (exports) {\n    'use strict';\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    function isValidListener (listener) {\n        if (typeof listener === 'function' || listener instanceof RegExp) {\n            return true\n        } else if (listener && typeof listener === 'object') {\n            return isValidListener(listener.listener)\n        } else {\n            return false\n        }\n    }\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        if (!isValidListener(listener)) {\n            throw new TypeError('listener must be a function');\n        }\n\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n\n                for (i = 0; i < listeners.length; i++) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}(typeof window !== 'undefined' ? window : this || {}));\n","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\nvar StreamPropertyChangedEvent_1 = require(\"../OpenViduInternal/Events/StreamPropertyChangedEvent\");\nvar OpenViduError_1 = require(\"../OpenViduInternal/Enums/OpenViduError\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * **WARNING**: experimental option. This interface may change in the near future\n *\n * Video/audio filter applied to a Stream. See [[Stream.applyFilter]]\n */\nvar Filter = /** @class */ (function () {\n    /**\n     * @hidden\n     */\n    function Filter(type, options) {\n        /**\n         * @hidden\n         */\n        this.handlers = {};\n        this.type = type;\n        this.options = options;\n    }\n    /**\n     * Executes a filter method. Available methods are specific for each filter\n     *\n     * @param method Name of the method\n     * @param params Parameters of the method\n     */\n    Filter.prototype.execMethod = function (method, params) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            logger.info('Executing filter method to stream ' + _this.stream.streamId);\n            var stringParams;\n            if (typeof params !== 'string') {\n                try {\n                    stringParams = JSON.stringify(params);\n                }\n                catch (error) {\n                    var errorMsg = \"'params' property must be a JSON formatted object\";\n                    logger.error(errorMsg);\n                    reject(errorMsg);\n                }\n            }\n            else {\n                stringParams = params;\n            }\n            _this.stream.session.openvidu.sendRequest('execFilterMethod', { streamId: _this.stream.streamId, method: method, params: stringParams }, function (error, response) {\n                if (error) {\n                    logger.error('Error executing filter method for Stream ' + _this.stream.streamId, error);\n                    if (error.code === 401) {\n                        reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED, \"You don't have permissions to execute a filter method\"));\n                    }\n                    else {\n                        reject(error);\n                    }\n                }\n                else {\n                    logger.info('Filter method successfully executed on Stream ' + _this.stream.streamId);\n                    var oldValue = Object.assign({}, _this.stream.filter);\n                    _this.stream.filter.lastExecMethod = { method: method, params: JSON.parse(stringParams) };\n                    _this.stream.session.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.stream.session, _this.stream, 'filter', _this.stream.filter, oldValue, 'execFilterMethod')]);\n                    _this.stream.streamManager.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.stream.streamManager, _this.stream, 'filter', _this.stream.filter, oldValue, 'execFilterMethod')]);\n                    resolve();\n                }\n            });\n        });\n    };\n    /**\n     * Subscribe to certain filter event. Available events are specific for each filter\n     *\n     * @param eventType Event to which subscribe to.\n     * @param handler Function to execute upon event dispatched. It receives as parameter a [[FilterEvent]] object\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the event listener was successfully attached to the filter and rejected with an Error object if not\n     */\n    Filter.prototype.addEventListener = function (eventType, handler) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            logger.info('Adding filter event listener to event ' + eventType + ' to stream ' + _this.stream.streamId);\n            _this.stream.session.openvidu.sendRequest('addFilterEventListener', { streamId: _this.stream.streamId, eventType: eventType }, function (error, response) {\n                if (error) {\n                    logger.error('Error adding filter event listener to event ' + eventType + 'for Stream ' + _this.stream.streamId, error);\n                    if (error.code === 401) {\n                        reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED, \"You don't have permissions to add a filter event listener\"));\n                    }\n                    else {\n                        reject(error);\n                    }\n                }\n                else {\n                    _this.handlers[eventType] = handler;\n                    logger.info('Filter event listener to event ' + eventType + ' successfully applied on Stream ' + _this.stream.streamId);\n                    resolve();\n                }\n            });\n        });\n    };\n    /**\n     * Removes certain filter event listener previously set.\n     *\n     * @param eventType Event to unsubscribe from.\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the event listener was successfully removed from the filter and rejected with an Error object in other case\n     */\n    Filter.prototype.removeEventListener = function (eventType) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            logger.info('Removing filter event listener to event ' + eventType + ' to stream ' + _this.stream.streamId);\n            _this.stream.session.openvidu.sendRequest('removeFilterEventListener', { streamId: _this.stream.streamId, eventType: eventType }, function (error, response) {\n                if (error) {\n                    logger.error('Error removing filter event listener to event ' + eventType + 'for Stream ' + _this.stream.streamId, error);\n                    if (error.code === 401) {\n                        reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED, \"You don't have permissions to add a filter event listener\"));\n                    }\n                    else {\n                        reject(error);\n                    }\n                }\n                else {\n                    delete _this.handlers[eventType];\n                    logger.info('Filter event listener to event ' + eventType + ' successfully removed on Stream ' + _this.stream.streamId);\n                    resolve();\n                }\n            });\n        });\n    };\n    return Filter;\n}());\nexports.Filter = Filter;\n//# sourceMappingURL=Filter.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\n/**\n * Defines the following events:\n * - `connectionCreated`: dispatched by [[Session]] after a new user has connected to the session\n * - `connectionDestroyed`: dispatched by [[Session]] after a new user has left the session\n */\nvar ConnectionEvent = /** @class */ (function (_super) {\n    __extends(ConnectionEvent, _super);\n    /**\n     * @hidden\n     */\n    function ConnectionEvent(cancelable, target, type, connection, reason) {\n        var _this = _super.call(this, cancelable, target, type) || this;\n        _this.connection = connection;\n        _this.reason = reason;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    // tslint:disable-next-line:no-empty\n    ConnectionEvent.prototype.callDefaultBehavior = function () { };\n    return ConnectionEvent;\n}(Event_1.Event));\nexports.ConnectionEvent = ConnectionEvent;\n//# sourceMappingURL=ConnectionEvent.js.map","\"use strict\";\nexports.__esModule = true;\nvar OpenViduLogger = /** @class */ (function () {\n    function OpenViduLogger() {\n        this.logger = window.console;\n        this.LOG_FNS = [this.logger.log, this.logger.debug, this.logger.info, this.logger.warn, this.logger.error];\n        this.isProdMode = false;\n    }\n    OpenViduLogger.getInstance = function () {\n        if (!OpenViduLogger.instance) {\n            OpenViduLogger.instance = new OpenViduLogger();\n        }\n        return OpenViduLogger.instance;\n    };\n    OpenViduLogger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.isProdMode) {\n            this.LOG_FNS[0].apply(this.logger, arguments);\n        }\n    };\n    OpenViduLogger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.isProdMode) {\n            this.LOG_FNS[1].apply(this.logger, arguments);\n        }\n    };\n    OpenViduLogger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.isProdMode) {\n            this.LOG_FNS[2].apply(this.logger, arguments);\n        }\n    };\n    OpenViduLogger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.isProdMode) {\n            this.LOG_FNS[3].apply(this.logger, arguments);\n        }\n    };\n    OpenViduLogger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.LOG_FNS[4].apply(this.logger, arguments);\n    };\n    OpenViduLogger.prototype.enableProdMode = function () {\n        this.isProdMode = true;\n    };\n    return OpenViduLogger;\n}());\nexports.OpenViduLogger = OpenViduLogger;\n//# sourceMappingURL=OpenViduLogger.js.map","var defineProperty_IE8 = false;\nif (Object.defineProperty) {\n    try {\n        Object.defineProperty({}, \"x\", {});\n    }\n    catch (e) {\n        defineProperty_IE8 = true;\n    }\n}\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n        if (typeof this !== 'function') {\n            throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n        }\n        var aArgs = Array.prototype.slice.call(arguments, 1), fToBind = this, fNOP = function () { }, fBound = function () {\n            return fToBind.apply(this instanceof fNOP && oThis\n                ? this\n                : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n        return fBound;\n    };\n}\nvar EventEmitter = require('events').EventEmitter;\nvar inherits = require('inherits');\nvar packers = require('./packers');\nvar Mapper = require('./Mapper');\nvar BASE_TIMEOUT = 5000;\nfunction unifyResponseMethods(responseMethods) {\n    if (!responseMethods)\n        return {};\n    for (var key in responseMethods) {\n        var value = responseMethods[key];\n        if (typeof value == 'string')\n            responseMethods[key] =\n                {\n                    response: value\n                };\n    }\n    ;\n    return responseMethods;\n}\n;\nfunction unifyTransport(transport) {\n    if (!transport)\n        return;\n    if (transport instanceof Function)\n        return { send: transport };\n    if (transport.send instanceof Function)\n        return transport;\n    if (transport.postMessage instanceof Function) {\n        transport.send = transport.postMessage;\n        return transport;\n    }\n    if (transport.write instanceof Function) {\n        transport.send = transport.write;\n        return transport;\n    }\n    if (transport.onmessage !== undefined)\n        return;\n    if (transport.pause instanceof Function)\n        return;\n    throw new SyntaxError(\"Transport is not a function nor a valid object\");\n}\n;\nfunction RpcNotification(method, params) {\n    if (defineProperty_IE8) {\n        this.method = method;\n        this.params = params;\n    }\n    else {\n        Object.defineProperty(this, 'method', { value: method, enumerable: true });\n        Object.defineProperty(this, 'params', { value: params, enumerable: true });\n    }\n}\n;\nfunction RpcBuilder(packer, options, transport, onRequest) {\n    var self = this;\n    if (!packer)\n        throw new SyntaxError('Packer is not defined');\n    if (!packer.pack || !packer.unpack)\n        throw new SyntaxError('Packer is invalid');\n    var responseMethods = unifyResponseMethods(packer.responseMethods);\n    if (options instanceof Function) {\n        if (transport != undefined)\n            throw new SyntaxError(\"There can't be parameters after onRequest\");\n        onRequest = options;\n        transport = undefined;\n        options = undefined;\n    }\n    ;\n    if (options && options.send instanceof Function) {\n        if (transport && !(transport instanceof Function))\n            throw new SyntaxError(\"Only a function can be after transport\");\n        onRequest = transport;\n        transport = options;\n        options = undefined;\n    }\n    ;\n    if (transport instanceof Function) {\n        if (onRequest != undefined)\n            throw new SyntaxError(\"There can't be parameters after onRequest\");\n        onRequest = transport;\n        transport = undefined;\n    }\n    ;\n    if (transport && transport.send instanceof Function)\n        if (onRequest && !(onRequest instanceof Function))\n            throw new SyntaxError(\"Only a function can be after transport\");\n    options = options || {};\n    EventEmitter.call(this);\n    if (onRequest)\n        this.on('request', onRequest);\n    if (defineProperty_IE8)\n        this.peerID = options.peerID;\n    else\n        Object.defineProperty(this, 'peerID', { value: options.peerID });\n    var max_retries = options.max_retries || 0;\n    function transportMessage(event) {\n        self.decode(event.data || event);\n    }\n    ;\n    this.getTransport = function () {\n        return transport;\n    };\n    this.setTransport = function (value) {\n        if (transport) {\n            if (transport.removeEventListener)\n                transport.removeEventListener('message', transportMessage);\n            else if (transport.removeListener)\n                transport.removeListener('data', transportMessage);\n        }\n        ;\n        if (value) {\n            if (value.addEventListener)\n                value.addEventListener('message', transportMessage);\n            else if (value.addListener)\n                value.addListener('data', transportMessage);\n        }\n        ;\n        transport = unifyTransport(value);\n    };\n    if (!defineProperty_IE8)\n        Object.defineProperty(this, 'transport', {\n            get: this.getTransport.bind(this),\n            set: this.setTransport.bind(this)\n        });\n    this.setTransport(transport);\n    var request_timeout = options.request_timeout || BASE_TIMEOUT;\n    var ping_request_timeout = options.ping_request_timeout || request_timeout;\n    var response_timeout = options.response_timeout || BASE_TIMEOUT;\n    var duplicates_timeout = options.duplicates_timeout || BASE_TIMEOUT;\n    var requestID = 0;\n    var requests = new Mapper();\n    var responses = new Mapper();\n    var processedResponses = new Mapper();\n    var message2Key = {};\n    function storeResponse(message, id, dest) {\n        var response = {\n            message: message,\n            timeout: setTimeout(function () {\n                responses.remove(id, dest);\n            }, response_timeout)\n        };\n        responses.set(response, id, dest);\n    }\n    ;\n    function storeProcessedResponse(ack, from) {\n        var timeout = setTimeout(function () {\n            processedResponses.remove(ack, from);\n        }, duplicates_timeout);\n        processedResponses.set(timeout, ack, from);\n    }\n    ;\n    function RpcRequest(method, params, id, from, transport) {\n        RpcNotification.call(this, method, params);\n        this.getTransport = function () {\n            return transport;\n        };\n        this.setTransport = function (value) {\n            transport = unifyTransport(value);\n        };\n        if (!defineProperty_IE8)\n            Object.defineProperty(this, 'transport', {\n                get: this.getTransport.bind(this),\n                set: this.setTransport.bind(this)\n            });\n        var response = responses.get(id, from);\n        if (!(transport || self.getTransport())) {\n            if (defineProperty_IE8)\n                this.duplicated = Boolean(response);\n            else\n                Object.defineProperty(this, 'duplicated', {\n                    value: Boolean(response)\n                });\n        }\n        var responseMethod = responseMethods[method];\n        this.pack = packer.pack.bind(packer, this, id);\n        this.reply = function (error, result, transport) {\n            if (error instanceof Function || error && error.send instanceof Function) {\n                if (result != undefined)\n                    throw new SyntaxError(\"There can't be parameters after callback\");\n                transport = error;\n                result = null;\n                error = undefined;\n            }\n            else if (result instanceof Function\n                || result && result.send instanceof Function) {\n                if (transport != undefined)\n                    throw new SyntaxError(\"There can't be parameters after callback\");\n                transport = result;\n                result = null;\n            }\n            ;\n            transport = unifyTransport(transport);\n            if (response)\n                clearTimeout(response.timeout);\n            if (from != undefined) {\n                if (error)\n                    error.dest = from;\n                if (result)\n                    result.dest = from;\n            }\n            ;\n            var message;\n            if (error || result != undefined) {\n                if (self.peerID != undefined) {\n                    if (error)\n                        error.from = self.peerID;\n                    else\n                        result.from = self.peerID;\n                }\n                if (responseMethod) {\n                    if (responseMethod.error == undefined && error)\n                        message =\n                            {\n                                error: error\n                            };\n                    else {\n                        var method = error\n                            ? responseMethod.error\n                            : responseMethod.response;\n                        message =\n                            {\n                                method: method,\n                                params: error || result\n                            };\n                    }\n                }\n                else\n                    message =\n                        {\n                            error: error,\n                            result: result\n                        };\n                message = packer.pack(message, id);\n            }\n            else if (response)\n                message = response.message;\n            else\n                message = packer.pack({ result: null }, id);\n            storeResponse(message, id, from);\n            transport = transport || this.getTransport() || self.getTransport();\n            if (transport)\n                return transport.send(message);\n            return message;\n        };\n    }\n    ;\n    inherits(RpcRequest, RpcNotification);\n    function cancel(message) {\n        var key = message2Key[message];\n        if (!key)\n            return;\n        delete message2Key[message];\n        var request = requests.pop(key.id, key.dest);\n        if (!request)\n            return;\n        clearTimeout(request.timeout);\n        storeProcessedResponse(key.id, key.dest);\n    }\n    ;\n    this.cancel = function (message) {\n        if (message)\n            return cancel(message);\n        for (var message in message2Key)\n            cancel(message);\n    };\n    this.close = function () {\n        var transport = this.getTransport();\n        if (transport && transport.close)\n            transport.close(4003, \"Cancel request\");\n        this.cancel();\n        processedResponses.forEach(clearTimeout);\n        responses.forEach(function (response) {\n            clearTimeout(response.timeout);\n        });\n    };\n    this.encode = function (method, params, dest, transport, callback) {\n        if (params instanceof Function) {\n            if (dest != undefined)\n                throw new SyntaxError(\"There can't be parameters after callback\");\n            callback = params;\n            transport = undefined;\n            dest = undefined;\n            params = undefined;\n        }\n        else if (dest instanceof Function) {\n            if (transport != undefined)\n                throw new SyntaxError(\"There can't be parameters after callback\");\n            callback = dest;\n            transport = undefined;\n            dest = undefined;\n        }\n        else if (transport instanceof Function) {\n            if (callback != undefined)\n                throw new SyntaxError(\"There can't be parameters after callback\");\n            callback = transport;\n            transport = undefined;\n        }\n        ;\n        if (self.peerID != undefined) {\n            params = params || {};\n            params.from = self.peerID;\n        }\n        ;\n        if (dest != undefined) {\n            params = params || {};\n            params.dest = dest;\n        }\n        ;\n        var message = {\n            method: method,\n            params: params\n        };\n        if (callback) {\n            var id = requestID++;\n            var retried = 0;\n            message = packer.pack(message, id);\n            function dispatchCallback(error, result) {\n                self.cancel(message);\n                callback(error, result);\n            }\n            ;\n            var request = {\n                message: message,\n                callback: dispatchCallback,\n                responseMethods: responseMethods[method] || {}\n            };\n            var encode_transport = unifyTransport(transport);\n            function sendRequest(transport) {\n                var rt = (method === 'ping' ? ping_request_timeout : request_timeout);\n                request.timeout = setTimeout(timeout, rt * Math.pow(2, retried++));\n                message2Key[message] = { id: id, dest: dest };\n                requests.set(request, id, dest);\n                transport = transport || encode_transport || self.getTransport();\n                if (transport)\n                    return transport.send(message);\n                return message;\n            }\n            ;\n            function retry(transport) {\n                transport = unifyTransport(transport);\n                console.warn(retried + ' retry for request message:', message);\n                var timeout = processedResponses.pop(id, dest);\n                clearTimeout(timeout);\n                return sendRequest(transport);\n            }\n            ;\n            function timeout() {\n                if (retried < max_retries)\n                    return retry(transport);\n                var error = new Error('Request has timed out');\n                error.request = message;\n                error.retry = retry;\n                dispatchCallback(error);\n            }\n            ;\n            return sendRequest(transport);\n        }\n        ;\n        message = packer.pack(message);\n        transport = transport || this.getTransport();\n        if (transport)\n            return transport.send(message);\n        return message;\n    };\n    this.decode = function (message, transport) {\n        if (!message)\n            throw new TypeError(\"Message is not defined\");\n        try {\n            message = packer.unpack(message);\n        }\n        catch (e) {\n            return console.debug(e, message);\n        }\n        ;\n        var id = message.id;\n        var ack = message.ack;\n        var method = message.method;\n        var params = message.params || {};\n        var from = params.from;\n        var dest = params.dest;\n        if (self.peerID != undefined && from == self.peerID)\n            return;\n        if (id == undefined && ack == undefined) {\n            var notification = new RpcNotification(method, params);\n            if (self.emit('request', notification))\n                return;\n            return notification;\n        }\n        ;\n        function processRequest() {\n            transport = unifyTransport(transport) || self.getTransport();\n            if (transport) {\n                var response = responses.get(id, from);\n                if (response)\n                    return transport.send(response.message);\n            }\n            ;\n            var idAck = (id != undefined) ? id : ack;\n            var request = new RpcRequest(method, params, idAck, from, transport);\n            if (self.emit('request', request))\n                return;\n            return request;\n        }\n        ;\n        function processResponse(request, error, result) {\n            request.callback(error, result);\n        }\n        ;\n        function duplicatedResponse(timeout) {\n            console.warn(\"Response already processed\", message);\n            clearTimeout(timeout);\n            storeProcessedResponse(ack, from);\n        }\n        ;\n        if (method) {\n            if (dest == undefined || dest == self.peerID) {\n                var request = requests.get(ack, from);\n                if (request) {\n                    var responseMethods = request.responseMethods;\n                    if (method == responseMethods.error)\n                        return processResponse(request, params);\n                    if (method == responseMethods.response)\n                        return processResponse(request, null, params);\n                    return processRequest();\n                }\n                var processed = processedResponses.get(ack, from);\n                if (processed)\n                    return duplicatedResponse(processed);\n            }\n            return processRequest();\n        }\n        ;\n        var error = message.error;\n        var result = message.result;\n        if (error && error.dest && error.dest != self.peerID)\n            return;\n        if (result && result.dest && result.dest != self.peerID)\n            return;\n        var request = requests.get(ack, from);\n        if (!request) {\n            var processed = processedResponses.get(ack, from);\n            if (processed)\n                return duplicatedResponse(processed);\n            return console.warn(\"No callback was defined for this message\", message);\n        }\n        ;\n        processResponse(request, error, result);\n    };\n}\n;\ninherits(RpcBuilder, EventEmitter);\nRpcBuilder.RpcNotification = RpcNotification;\nmodule.exports = RpcBuilder;\nvar clients = require('./clients');\nvar transports = require('./clients/transports');\nRpcBuilder.clients = clients;\nRpcBuilder.clients.transports = transports;\nRpcBuilder.packers = packers;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\n/**\n * Defines event `streamPropertyChanged` dispatched by [[Session]] as well as by [[StreamManager]] ([[Publisher]] and [[Subscriber]]).\n * This event is fired when any remote stream (owned by a Subscriber) or local stream (owned by a Publisher) undergoes\n * any change in any of its mutable properties (see [[changedProperty]]).\n */\nvar StreamPropertyChangedEvent = /** @class */ (function (_super) {\n    __extends(StreamPropertyChangedEvent, _super);\n    /**\n     * @hidden\n     */\n    function StreamPropertyChangedEvent(target, stream, changedProperty, newValue, oldValue, reason) {\n        var _this = _super.call(this, false, target, 'streamPropertyChanged') || this;\n        _this.stream = stream;\n        _this.changedProperty = changedProperty;\n        _this.newValue = newValue;\n        _this.oldValue = oldValue;\n        _this.reason = reason;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    // tslint:disable-next-line:no-empty\n    StreamPropertyChangedEvent.prototype.callDefaultBehavior = function () { };\n    return StreamPropertyChangedEvent;\n}(Event_1.Event));\nexports.StreamPropertyChangedEvent = StreamPropertyChangedEvent;\n//# sourceMappingURL=StreamPropertyChangedEvent.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Filter_1 = require(\"./Filter\");\nvar Subscriber_1 = require(\"./Subscriber\");\nvar EventDispatcher_1 = require(\"./EventDispatcher\");\nvar WebRtcPeer_1 = require(\"../OpenViduInternal/WebRtcPeer/WebRtcPeer\");\nvar WebRtcStats_1 = require(\"../OpenViduInternal/WebRtcStats/WebRtcStats\");\nvar PublisherSpeakingEvent_1 = require(\"../OpenViduInternal/Events/PublisherSpeakingEvent\");\nvar StreamManagerEvent_1 = require(\"../OpenViduInternal/Events/StreamManagerEvent\");\nvar StreamPropertyChangedEvent_1 = require(\"../OpenViduInternal/Events/StreamPropertyChangedEvent\");\nvar OpenViduError_1 = require(\"../OpenViduInternal/Enums/OpenViduError\");\n/**\n * @hidden\n */\nvar hark = require(\"hark\");\nvar platform = require(\"platform\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Represents each one of the media streams available in OpenVidu Server for certain session.\n * Each [[Publisher]] and [[Subscriber]] has an attribute of type Stream, as they give access\n * to one of them (sending and receiving it, respectively)\n */\nvar Stream = /** @class */ (function (_super) {\n    __extends(Stream, _super);\n    /**\n     * @hidden\n     */\n    function Stream(session, options) {\n        var _this = _super.call(this) || this;\n        _this.isSubscribeToRemote = false;\n        /**\n         * @hidden\n         */\n        _this.isLocalStreamReadyToPublish = false;\n        /**\n         * @hidden\n         */\n        _this.isLocalStreamPublished = false;\n        /**\n         * @hidden\n         */\n        _this.publishedOnce = false;\n        /**\n         * @hidden\n         */\n        _this.publisherStartSpeakingEventEnabled = false;\n        /**\n         * @hidden\n         */\n        _this.publisherStartSpeakingEventEnabledOnce = false;\n        /**\n         * @hidden\n         */\n        _this.publisherStopSpeakingEventEnabled = false;\n        /**\n         * @hidden\n         */\n        _this.publisherStopSpeakingEventEnabledOnce = false;\n        /**\n         * @hidden\n         */\n        _this.volumeChangeEventEnabled = false;\n        /**\n         * @hidden\n         */\n        _this.volumeChangeEventEnabledOnce = false;\n        _this.session = session;\n        if (options.hasOwnProperty('id')) {\n            // InboundStreamOptions: stream belongs to a Subscriber\n            _this.inboundStreamOpts = options;\n            _this.streamId = _this.inboundStreamOpts.id;\n            _this.creationTime = _this.inboundStreamOpts.createdAt;\n            _this.hasAudio = _this.inboundStreamOpts.hasAudio;\n            _this.hasVideo = _this.inboundStreamOpts.hasVideo;\n            if (_this.hasAudio) {\n                _this.audioActive = _this.inboundStreamOpts.audioActive;\n            }\n            if (_this.hasVideo) {\n                _this.videoActive = _this.inboundStreamOpts.videoActive;\n                _this.typeOfVideo = (!_this.inboundStreamOpts.typeOfVideo) ? undefined : _this.inboundStreamOpts.typeOfVideo;\n                _this.frameRate = (_this.inboundStreamOpts.frameRate === -1) ? undefined : _this.inboundStreamOpts.frameRate;\n                _this.videoDimensions = _this.inboundStreamOpts.videoDimensions;\n            }\n            if (!!_this.inboundStreamOpts.filter && (Object.keys(_this.inboundStreamOpts.filter).length > 0)) {\n                if (!!_this.inboundStreamOpts.filter.lastExecMethod && Object.keys(_this.inboundStreamOpts.filter.lastExecMethod).length === 0) {\n                    delete _this.inboundStreamOpts.filter.lastExecMethod;\n                }\n                _this.filter = _this.inboundStreamOpts.filter;\n            }\n        }\n        else {\n            // OutboundStreamOptions: stream belongs to a Publisher\n            _this.outboundStreamOpts = options;\n            _this.hasAudio = _this.isSendAudio();\n            _this.hasVideo = _this.isSendVideo();\n            if (_this.hasAudio) {\n                _this.audioActive = !!_this.outboundStreamOpts.publisherProperties.publishAudio;\n            }\n            if (_this.hasVideo) {\n                _this.videoActive = !!_this.outboundStreamOpts.publisherProperties.publishVideo;\n                _this.frameRate = _this.outboundStreamOpts.publisherProperties.frameRate;\n                if (typeof MediaStreamTrack !== 'undefined' && _this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack) {\n                    _this.typeOfVideo = 'CUSTOM';\n                }\n                else {\n                    _this.typeOfVideo = _this.isSendScreen() ? 'SCREEN' : 'CAMERA';\n                }\n            }\n            if (!!_this.outboundStreamOpts.publisherProperties.filter) {\n                _this.filter = _this.outboundStreamOpts.publisherProperties.filter;\n            }\n        }\n        _this.ee.on('mediastream-updated', function () {\n            _this.streamManager.updateMediaStream(_this.mediaStream);\n            logger.debug('Video srcObject [' + _this.mediaStream + '] updated in stream [' + _this.streamId + ']');\n        });\n        return _this;\n    }\n    /**\n     * See [[EventDispatcher.on]]\n     */\n    Stream.prototype.on = function (type, handler) {\n        _super.prototype.onAux.call(this, type, \"Event '\" + type + \"' triggered by stream '\" + this.streamId + \"'\", handler);\n        return this;\n    };\n    /**\n     * See [[EventDispatcher.once]]\n     */\n    Stream.prototype.once = function (type, handler) {\n        _super.prototype.onceAux.call(this, type, \"Event '\" + type + \"' triggered once by stream '\" + this.streamId + \"'\", handler);\n        return this;\n    };\n    /**\n     * See [[EventDispatcher.off]]\n     */\n    Stream.prototype.off = function (type, handler) {\n        _super.prototype.off.call(this, type, handler);\n        return this;\n    };\n    /**\n     * Applies an audio/video filter to the stream.\n     *\n     * @param type Type of filter applied. See [[Filter.type]]\n     * @param options Parameters used to initialize the filter. See [[Filter.options]]\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved to the applied filter if success and rejected with an Error object if not\n     */\n    Stream.prototype.applyFilter = function (type, options) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            logger.info('Applying filter to stream ' + _this.streamId);\n            options = !!options ? options : {};\n            if (typeof options !== 'string') {\n                options = JSON.stringify(options);\n            }\n            _this.session.openvidu.sendRequest('applyFilter', { streamId: _this.streamId, type: type, options: options }, function (error, response) {\n                if (error) {\n                    logger.error('Error applying filter for Stream ' + _this.streamId, error);\n                    if (error.code === 401) {\n                        reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED, \"You don't have permissions to apply a filter\"));\n                    }\n                    else {\n                        reject(error);\n                    }\n                }\n                else {\n                    logger.info('Filter successfully applied on Stream ' + _this.streamId);\n                    var oldValue = _this.filter;\n                    _this.filter = new Filter_1.Filter(type, options);\n                    _this.filter.stream = _this;\n                    _this.session.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.session, _this, 'filter', _this.filter, oldValue, 'applyFilter')]);\n                    _this.streamManager.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.streamManager, _this, 'filter', _this.filter, oldValue, 'applyFilter')]);\n                    resolve(_this.filter);\n                }\n            });\n        });\n    };\n    /**\n     * Removes an audio/video filter previously applied.\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the previously applied filter has been successfully removed and rejected with an Error object in other case\n     */\n    Stream.prototype.removeFilter = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            logger.info('Removing filter of stream ' + _this.streamId);\n            _this.session.openvidu.sendRequest('removeFilter', { streamId: _this.streamId }, function (error, response) {\n                if (error) {\n                    logger.error('Error removing filter for Stream ' + _this.streamId, error);\n                    if (error.code === 401) {\n                        reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED, \"You don't have permissions to remove a filter\"));\n                    }\n                    else {\n                        reject(error);\n                    }\n                }\n                else {\n                    logger.info('Filter successfully removed from Stream ' + _this.streamId);\n                    var oldValue = _this.filter;\n                    delete _this.filter;\n                    _this.session.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.session, _this, 'filter', _this.filter, oldValue, 'applyFilter')]);\n                    _this.streamManager.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.streamManager, _this, 'filter', _this.filter, oldValue, 'applyFilter')]);\n                    resolve();\n                }\n            });\n        });\n    };\n    /**\n     * Returns the internal RTCPeerConnection object associated to this stream (https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection)\n     *\n     * @returns Native RTCPeerConnection Web API object\n     */\n    Stream.prototype.getRTCPeerConnection = function () {\n        return this.webRtcPeer.pc;\n    };\n    /**\n     * Returns the internal MediaStream object associated to this stream (https://developer.mozilla.org/en-US/docs/Web/API/MediaStream)\n     *\n     * @returns Native MediaStream Web API object\n     */\n    Stream.prototype.getMediaStream = function () {\n        return this.mediaStream;\n    };\n    /* Hidden methods */\n    /**\n     * @hidden\n     */\n    Stream.prototype.setMediaStream = function (mediaStream) {\n        this.mediaStream = mediaStream;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.updateMediaStreamInVideos = function () {\n        this.ee.emitEvent('mediastream-updated', []);\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.getWebRtcPeer = function () {\n        return this.webRtcPeer;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.subscribeToMyRemote = function (value) {\n        this.isSubscribeToRemote = value;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.setOutboundStreamOptions = function (outboundStreamOpts) {\n        this.outboundStreamOpts = outboundStreamOpts;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.subscribe = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.initWebRtcPeerReceive(false)\n                .then(function () {\n                resolve();\n            })[\"catch\"](function (error) {\n                reject(error);\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.publish = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (_this.isLocalStreamReadyToPublish) {\n                _this.initWebRtcPeerSend(false)\n                    .then(function () {\n                    resolve();\n                })[\"catch\"](function (error) {\n                    reject(error);\n                });\n            }\n            else {\n                _this.ee.once('stream-ready-to-publish', function () {\n                    _this.publish()\n                        .then(function () {\n                        resolve();\n                    })[\"catch\"](function (error) {\n                        reject(error);\n                    });\n                });\n            }\n        });\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.disposeWebRtcPeer = function () {\n        if (!!this.webRtcPeer) {\n            this.webRtcPeer.dispose();\n            this.stopWebRtcStats();\n        }\n        logger.info((!!this.outboundStreamOpts ? 'Outbound ' : 'Inbound ') + \"WebRTCPeer from 'Stream' with id [\" + this.streamId + '] is now closed');\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.disposeMediaStream = function () {\n        if (this.mediaStream) {\n            this.mediaStream.getAudioTracks().forEach(function (track) {\n                track.stop();\n            });\n            this.mediaStream.getVideoTracks().forEach(function (track) {\n                track.stop();\n            });\n            delete this.mediaStream;\n        }\n        // If subscribeToRemote local MediaStream must be stopped\n        if (this.localMediaStreamWhenSubscribedToRemote) {\n            this.localMediaStreamWhenSubscribedToRemote.getAudioTracks().forEach(function (track) {\n                track.stop();\n            });\n            this.localMediaStreamWhenSubscribedToRemote.getVideoTracks().forEach(function (track) {\n                track.stop();\n            });\n            delete this.localMediaStreamWhenSubscribedToRemote;\n        }\n        if (!!this.speechEvent) {\n            if (!!this.speechEvent.stop) {\n                this.speechEvent.stop();\n            }\n            delete this.speechEvent;\n        }\n        logger.info((!!this.outboundStreamOpts ? 'Local ' : 'Remote ') + \"MediaStream from 'Stream' with id [\" + this.streamId + '] is now disposed');\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.displayMyRemote = function () {\n        return this.isSubscribeToRemote;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.isSendAudio = function () {\n        return (!!this.outboundStreamOpts &&\n            this.outboundStreamOpts.publisherProperties.audioSource !== null &&\n            this.outboundStreamOpts.publisherProperties.audioSource !== false);\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.isSendVideo = function () {\n        return (!!this.outboundStreamOpts &&\n            this.outboundStreamOpts.publisherProperties.videoSource !== null &&\n            this.outboundStreamOpts.publisherProperties.videoSource !== false);\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.isSendScreen = function () {\n        var screen = this.outboundStreamOpts.publisherProperties.videoSource === 'screen';\n        if (platform.name === 'Electron') {\n            screen = typeof this.outboundStreamOpts.publisherProperties.videoSource === 'string' &&\n                this.outboundStreamOpts.publisherProperties.videoSource.startsWith('screen:');\n        }\n        return !!this.outboundStreamOpts && screen;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.enableStartSpeakingEvent = function () {\n        var _this = this;\n        this.setSpeechEventIfNotExists();\n        if (!this.publisherStartSpeakingEventEnabled) {\n            this.publisherStartSpeakingEventEnabled = true;\n            this.speechEvent.on('speaking', function () {\n                _this.session.emitEvent('publisherStartSpeaking', [new PublisherSpeakingEvent_1.PublisherSpeakingEvent(_this.session, 'publisherStartSpeaking', _this.connection, _this.streamId)]);\n                _this.publisherStartSpeakingEventEnabledOnce = false; // Disable 'once' version if 'on' version was triggered\n            });\n        }\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.enableOnceStartSpeakingEvent = function () {\n        var _this = this;\n        this.setSpeechEventIfNotExists();\n        if (!this.publisherStartSpeakingEventEnabledOnce) {\n            this.publisherStartSpeakingEventEnabledOnce = true;\n            this.speechEvent.once('speaking', function () {\n                if (_this.publisherStartSpeakingEventEnabledOnce) {\n                    // If the listener has been disabled in the meantime (for example by the 'on' version) do not trigger the event\n                    _this.session.emitEvent('publisherStartSpeaking', [new PublisherSpeakingEvent_1.PublisherSpeakingEvent(_this.session, 'publisherStartSpeaking', _this.connection, _this.streamId)]);\n                }\n                _this.disableStartSpeakingEvent(true);\n            });\n        }\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.disableStartSpeakingEvent = function (disabledByOnce) {\n        if (!!this.speechEvent) {\n            this.publisherStartSpeakingEventEnabledOnce = false;\n            if (disabledByOnce) {\n                if (this.publisherStartSpeakingEventEnabled) {\n                    // The 'on' version of this same event is enabled too. Do not remove the hark listener\n                    return;\n                }\n            }\n            else {\n                this.publisherStartSpeakingEventEnabled = false;\n            }\n            // Shutting down the hark event\n            if (this.volumeChangeEventEnabled ||\n                this.volumeChangeEventEnabledOnce ||\n                this.publisherStopSpeakingEventEnabled ||\n                this.publisherStopSpeakingEventEnabledOnce) {\n                // Some other hark event is enabled. Cannot stop the hark process, just remove the specific listener\n                this.speechEvent.off('speaking');\n            }\n            else {\n                // No other hark event is enabled. We can get entirely rid of it\n                this.speechEvent.stop();\n                delete this.speechEvent;\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.enableStopSpeakingEvent = function () {\n        var _this = this;\n        this.setSpeechEventIfNotExists();\n        if (!this.publisherStopSpeakingEventEnabled) {\n            this.publisherStopSpeakingEventEnabled = true;\n            this.speechEvent.on('stopped_speaking', function () {\n                _this.session.emitEvent('publisherStopSpeaking', [new PublisherSpeakingEvent_1.PublisherSpeakingEvent(_this.session, 'publisherStopSpeaking', _this.connection, _this.streamId)]);\n                _this.publisherStopSpeakingEventEnabledOnce = false; // Disable 'once' version if 'on' version was triggered\n            });\n        }\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.enableOnceStopSpeakingEvent = function () {\n        var _this = this;\n        this.setSpeechEventIfNotExists();\n        if (!this.publisherStopSpeakingEventEnabledOnce) {\n            this.publisherStopSpeakingEventEnabledOnce = true;\n            this.speechEvent.once('stopped_speaking', function () {\n                if (_this.publisherStopSpeakingEventEnabledOnce) {\n                    // If the listener has been disabled in the meantime (for example by the 'on' version) do not trigger the event\n                    _this.session.emitEvent('publisherStopSpeaking', [new PublisherSpeakingEvent_1.PublisherSpeakingEvent(_this.session, 'publisherStopSpeaking', _this.connection, _this.streamId)]);\n                }\n                _this.disableStopSpeakingEvent(true);\n            });\n        }\n    };\n    /**\n    * @hidden\n    */\n    Stream.prototype.disableStopSpeakingEvent = function (disabledByOnce) {\n        if (!!this.speechEvent) {\n            this.publisherStopSpeakingEventEnabledOnce = false;\n            if (disabledByOnce) {\n                if (this.publisherStopSpeakingEventEnabled) {\n                    // We are cancelling the 'once' listener for this event, but the 'on' version\n                    // of this same event is enabled too. Do not remove the hark listener\n                    return;\n                }\n            }\n            else {\n                this.publisherStopSpeakingEventEnabled = false;\n            }\n            // Shutting down the hark event\n            if (this.volumeChangeEventEnabled ||\n                this.volumeChangeEventEnabledOnce ||\n                this.publisherStartSpeakingEventEnabled ||\n                this.publisherStartSpeakingEventEnabledOnce) {\n                // Some other hark event is enabled. Cannot stop the hark process, just remove the specific listener\n                this.speechEvent.off('stopped_speaking');\n            }\n            else {\n                // No other hark event is enabled. We can get entirely rid of it\n                this.speechEvent.stop();\n                delete this.speechEvent;\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.enableVolumeChangeEvent = function (force) {\n        var _this = this;\n        if (this.setSpeechEventIfNotExists()) {\n            if (!this.volumeChangeEventEnabled || force) {\n                this.volumeChangeEventEnabled = true;\n                this.speechEvent.on('volume_change', function (harkEvent) {\n                    var oldValue = _this.speechEvent.oldVolumeValue;\n                    var value = { newValue: harkEvent, oldValue: oldValue };\n                    _this.speechEvent.oldVolumeValue = harkEvent;\n                    _this.streamManager.emitEvent('streamAudioVolumeChange', [new StreamManagerEvent_1.StreamManagerEvent(_this.streamManager, 'streamAudioVolumeChange', value)]);\n                });\n            }\n        }\n        else {\n            // This way whenever the MediaStream object is available, the event listener will be automatically added\n            this.volumeChangeEventEnabled = true;\n        }\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.enableOnceVolumeChangeEvent = function (force) {\n        var _this = this;\n        if (this.setSpeechEventIfNotExists()) {\n            if (!this.volumeChangeEventEnabledOnce || force) {\n                this.volumeChangeEventEnabledOnce = true;\n                this.speechEvent.once('volume_change', function (harkEvent) {\n                    var oldValue = _this.speechEvent.oldVolumeValue;\n                    var value = { newValue: harkEvent, oldValue: oldValue };\n                    _this.speechEvent.oldVolumeValue = harkEvent;\n                    _this.disableVolumeChangeEvent(true);\n                    _this.streamManager.emitEvent('streamAudioVolumeChange', [new StreamManagerEvent_1.StreamManagerEvent(_this.streamManager, 'streamAudioVolumeChange', value)]);\n                });\n            }\n        }\n        else {\n            // This way whenever the MediaStream object is available, the event listener will be automatically added\n            this.volumeChangeEventEnabledOnce = true;\n        }\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.disableVolumeChangeEvent = function (disabledByOnce) {\n        if (!!this.speechEvent) {\n            this.volumeChangeEventEnabledOnce = false;\n            if (disabledByOnce) {\n                if (this.volumeChangeEventEnabled) {\n                    // We are cancelling the 'once' listener for this event, but the 'on' version\n                    // of this same event is enabled too. Do not remove the hark listener\n                    return;\n                }\n            }\n            else {\n                this.volumeChangeEventEnabled = false;\n            }\n            // Shutting down the hark event\n            if (this.publisherStartSpeakingEventEnabled ||\n                this.publisherStartSpeakingEventEnabledOnce ||\n                this.publisherStopSpeakingEventEnabled ||\n                this.publisherStopSpeakingEventEnabledOnce) {\n                // Some other hark event is enabled. Cannot stop the hark process, just remove the specific listener\n                this.speechEvent.off('volume_change');\n            }\n            else {\n                // No other hark event is enabled. We can get entirely rid of it\n                this.speechEvent.stop();\n                delete this.speechEvent;\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.isLocal = function () {\n        // inbound options undefined and outbound options defined\n        return (!this.inboundStreamOpts && !!this.outboundStreamOpts);\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.getSelectedIceCandidate = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.webRtcStats.getSelectedIceCandidateInfo()\n                .then(function (report) { return resolve(report); })[\"catch\"](function (error) { return reject(error); });\n        });\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.getRemoteIceCandidateList = function () {\n        return this.webRtcPeer.remoteCandidatesQueue;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.getLocalIceCandidateList = function () {\n        return this.webRtcPeer.localCandidatesQueue;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.streamIceConnectionStateBroken = function () {\n        if (!this.getWebRtcPeer() || !this.getRTCPeerConnection()) {\n            return false;\n        }\n        if (this.isLocal && !!this.session.openvidu.advancedConfiguration.forceMediaReconnectionAfterNetworkDrop) {\n            logger.warn('OpenVidu Browser advanced configuration option \"forceMediaReconnectionAfterNetworkDrop\" is enabled. Publisher stream ' + this.streamId + 'will force a reconnection');\n            return true;\n        }\n        var iceConnectionState = this.getRTCPeerConnection().iceConnectionState;\n        return iceConnectionState === 'disconnected' || iceConnectionState === 'failed';\n    };\n    /* Private methods */\n    Stream.prototype.setSpeechEventIfNotExists = function () {\n        if (!!this.mediaStream) {\n            if (!this.speechEvent) {\n                var harkOptions = !!this.harkOptions ? this.harkOptions : (this.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions || {});\n                harkOptions.interval = (typeof harkOptions.interval === 'number') ? harkOptions.interval : 100;\n                harkOptions.threshold = (typeof harkOptions.threshold === 'number') ? harkOptions.threshold : -50;\n                this.speechEvent = hark(this.mediaStream, harkOptions);\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.initWebRtcPeerSend = function (reconnect) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (!reconnect) {\n                _this.initHarkEvents(); // Init hark events for the local stream\n            }\n            var userMediaConstraints = {\n                audio: _this.isSendAudio(),\n                video: _this.isSendVideo()\n            };\n            var options = {\n                mediaStream: _this.mediaStream,\n                mediaConstraints: userMediaConstraints,\n                onicecandidate: _this.connection.sendIceCandidate.bind(_this.connection),\n                iceServers: _this.getIceServersConf(),\n                simulcast: false\n            };\n            var successCallback = function (sdpOfferParam) {\n                logger.debug('Sending SDP offer to publish as '\n                    + _this.streamId, sdpOfferParam);\n                var method = reconnect ? 'reconnectStream' : 'publishVideo';\n                var params;\n                if (reconnect) {\n                    params = {\n                        stream: _this.streamId\n                    };\n                }\n                else {\n                    var typeOfVideo = '';\n                    if (_this.isSendVideo()) {\n                        typeOfVideo = (typeof MediaStreamTrack !== 'undefined' && _this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack) ? 'CUSTOM' : (_this.isSendScreen() ? 'SCREEN' : 'CAMERA');\n                    }\n                    params = {\n                        doLoopback: _this.displayMyRemote() || false,\n                        hasAudio: _this.isSendAudio(),\n                        hasVideo: _this.isSendVideo(),\n                        audioActive: _this.audioActive,\n                        videoActive: _this.videoActive,\n                        typeOfVideo: typeOfVideo,\n                        frameRate: !!_this.frameRate ? _this.frameRate : -1,\n                        videoDimensions: JSON.stringify(_this.videoDimensions),\n                        filter: _this.outboundStreamOpts.publisherProperties.filter\n                    };\n                }\n                params['sdpOffer'] = sdpOfferParam;\n                _this.session.openvidu.sendRequest(method, params, function (error, response) {\n                    if (error) {\n                        if (error.code === 401) {\n                            reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED, \"You don't have permissions to publish\"));\n                        }\n                        else {\n                            reject('Error on publishVideo: ' + JSON.stringify(error));\n                        }\n                    }\n                    else {\n                        _this.webRtcPeer.processAnswer(response.sdpAnswer, false)\n                            .then(function () {\n                            _this.streamId = response.id;\n                            _this.creationTime = response.createdAt;\n                            _this.isLocalStreamPublished = true;\n                            _this.publishedOnce = true;\n                            if (_this.displayMyRemote()) {\n                                _this.localMediaStreamWhenSubscribedToRemote = _this.mediaStream;\n                                _this.remotePeerSuccessfullyEstablished();\n                            }\n                            if (reconnect) {\n                                _this.ee.emitEvent('stream-reconnected-by-publisher', []);\n                            }\n                            else {\n                                _this.ee.emitEvent('stream-created-by-publisher', []);\n                            }\n                            _this.initWebRtcStats();\n                            logger.info(\"'Publisher' (\" + _this.streamId + \") successfully \" + (reconnect ? \"reconnected\" : \"published\") + \" to session\");\n                            resolve();\n                        })[\"catch\"](function (error) {\n                            reject(error);\n                        });\n                    }\n                });\n            };\n            if (reconnect) {\n                _this.disposeWebRtcPeer();\n            }\n            if (_this.displayMyRemote()) {\n                _this.webRtcPeer = new WebRtcPeer_1.WebRtcPeerSendrecv(options);\n            }\n            else {\n                _this.webRtcPeer = new WebRtcPeer_1.WebRtcPeerSendonly(options);\n            }\n            _this.webRtcPeer.addIceConnectionStateChangeListener('publisher of ' + _this.connection.connectionId);\n            _this.webRtcPeer.generateOffer().then(function (sdpOffer) {\n                successCallback(sdpOffer);\n            })[\"catch\"](function (error) {\n                reject(new Error('(publish) SDP offer error: ' + JSON.stringify(error)));\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.initWebRtcPeerReceive = function (reconnect) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var offerConstraints = {\n                audio: _this.inboundStreamOpts.hasAudio,\n                video: _this.inboundStreamOpts.hasVideo\n            };\n            logger.debug(\"'Session.subscribe(Stream)' called. Constraints of generate SDP offer\", offerConstraints);\n            var options = {\n                onicecandidate: _this.connection.sendIceCandidate.bind(_this.connection),\n                mediaConstraints: offerConstraints,\n                iceServers: _this.getIceServersConf(),\n                simulcast: false\n            };\n            var successCallback = function (sdpOfferParam) {\n                logger.debug('Sending SDP offer to subscribe to '\n                    + _this.streamId, sdpOfferParam);\n                var method = reconnect ? 'reconnectStream' : 'receiveVideoFrom';\n                var params = { sdpOffer: sdpOfferParam };\n                params[reconnect ? 'stream' : 'sender'] = _this.streamId;\n                _this.session.openvidu.sendRequest(method, params, function (error, response) {\n                    if (error) {\n                        reject(new Error('Error on recvVideoFrom: ' + JSON.stringify(error)));\n                    }\n                    else {\n                        // Ios Ionic. Limitation: some bug in iosrtc cordova plugin makes it necessary\n                        // to add a timeout before calling PeerConnection#setRemoteDescription during\n                        // some time (400 ms) from the moment first subscriber stream is received\n                        if (_this.session.isFirstIonicIosSubscriber) {\n                            _this.session.isFirstIonicIosSubscriber = false;\n                            setTimeout(function () {\n                                // After 400 ms Ionic iOS subscribers won't need to run\n                                // PeerConnection#setRemoteDescription after 250 ms timeout anymore\n                                _this.session.countDownForIonicIosSubscribersActive = false;\n                            }, 400);\n                        }\n                        var needsTimeoutOnProcessAnswer = _this.session.countDownForIonicIosSubscribersActive;\n                        _this.webRtcPeer.processAnswer(response.sdpAnswer, needsTimeoutOnProcessAnswer).then(function () {\n                            logger.info(\"'Subscriber' (\" + _this.streamId + \") successfully \" + (reconnect ? \"reconnected\" : \"subscribed\"));\n                            _this.remotePeerSuccessfullyEstablished();\n                            _this.initWebRtcStats();\n                            resolve();\n                        })[\"catch\"](function (error) {\n                            reject(error);\n                        });\n                    }\n                });\n            };\n            _this.webRtcPeer = new WebRtcPeer_1.WebRtcPeerRecvonly(options);\n            _this.webRtcPeer.addIceConnectionStateChangeListener(_this.streamId);\n            _this.webRtcPeer.generateOffer()\n                .then(function (sdpOffer) {\n                successCallback(sdpOffer);\n            })[\"catch\"](function (error) {\n                reject(new Error('(subscribe) SDP offer error: ' + JSON.stringify(error)));\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    Stream.prototype.remotePeerSuccessfullyEstablished = function () {\n        this.mediaStream = new MediaStream();\n        var receiver;\n        for (var _i = 0, _a = this.webRtcPeer.pc.getReceivers(); _i < _a.length; _i++) {\n            receiver = _a[_i];\n            if (!!receiver.track) {\n                this.mediaStream.addTrack(receiver.track);\n            }\n        }\n        logger.debug('Peer remote stream', this.mediaStream);\n        if (!!this.mediaStream) {\n            if (this.streamManager instanceof Subscriber_1.Subscriber) {\n                // Apply SubscriberProperties.subscribeToAudio and SubscriberProperties.subscribeToVideo\n                if (!!this.mediaStream.getAudioTracks()[0]) {\n                    var enabled = !!(this.streamManager.properties.subscribeToAudio);\n                    this.mediaStream.getAudioTracks()[0].enabled = enabled;\n                }\n                if (!!this.mediaStream.getVideoTracks()[0]) {\n                    var enabled = !!(this.streamManager.properties.subscribeToVideo);\n                    this.mediaStream.getVideoTracks()[0].enabled = enabled;\n                }\n            }\n            this.updateMediaStreamInVideos();\n            this.initHarkEvents(); // Init hark events for the remote stream\n        }\n    };\n    Stream.prototype.initHarkEvents = function () {\n        if (!!this.mediaStream.getAudioTracks()[0]) {\n            // Hark events can only be set if audio track is available\n            if (this.streamManager.remote) {\n                // publisherStartSpeaking/publisherStopSpeaking is only defined for remote streams\n                if (this.session.startSpeakingEventsEnabled) {\n                    this.enableStartSpeakingEvent();\n                }\n                if (this.session.startSpeakingEventsEnabledOnce) {\n                    this.enableOnceStartSpeakingEvent();\n                }\n                if (this.session.stopSpeakingEventsEnabled) {\n                    this.enableStopSpeakingEvent();\n                }\n                if (this.session.stopSpeakingEventsEnabledOnce) {\n                    this.enableOnceStopSpeakingEvent();\n                }\n            }\n            // streamAudioVolumeChange event is defined for both Publishers and Subscribers\n            if (this.volumeChangeEventEnabled) {\n                this.enableVolumeChangeEvent(true);\n            }\n            if (this.volumeChangeEventEnabledOnce) {\n                this.enableOnceVolumeChangeEvent(true);\n            }\n        }\n    };\n    Stream.prototype.initWebRtcStats = function () {\n        this.webRtcStats = new WebRtcStats_1.WebRtcStats(this);\n        this.webRtcStats.initWebRtcStats();\n        //TODO: send common webrtc stats from client to openvidu-server\n        /*if (this.session.openvidu.webrtcStatsInterval > 0) {\n            setInterval(() => {\n                this.gatherStatsForPeer().then(jsonStats => {\n                    const body = {\n                        sessionId: this.session.sessionId,\n                        participantPrivateId: this.connection.rpcSessionId,\n                        stats: jsonStats\n                    }\n                    var xhr = new XMLHttpRequest();\n                    xhr.open('POST', this.session.openvidu.httpUri + '/elasticsearch/webrtc-stats', true);\n                    xhr.setRequestHeader('Content-Type', 'application/json');\n                    xhr.send(JSON.stringify(body));\n                })\n            }, this.session.openvidu.webrtcStatsInterval * 1000);\n        }*/\n    };\n    Stream.prototype.stopWebRtcStats = function () {\n        if (!!this.webRtcStats && this.webRtcStats.isEnabled()) {\n            this.webRtcStats.stopWebRtcStats();\n        }\n    };\n    Stream.prototype.getIceServersConf = function () {\n        var returnValue;\n        if (!!this.session.openvidu.advancedConfiguration.iceServers) {\n            returnValue = this.session.openvidu.advancedConfiguration.iceServers === 'freeice' ?\n                undefined :\n                this.session.openvidu.advancedConfiguration.iceServers;\n        }\n        else if (this.session.openvidu.iceServers) {\n            returnValue = this.session.openvidu.iceServers;\n        }\n        else {\n            returnValue = undefined;\n        }\n        return returnValue;\n    };\n    Stream.prototype.gatherStatsForPeer = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (_this.isLocal()) {\n                // Publisher stream stats\n                _this.getRTCPeerConnection().getSenders().forEach(function (sender) { return sender.getStats()\n                    .then(function (response) {\n                    response.forEach(function (report) {\n                        if (_this.isReportWanted(report)) {\n                            var finalReport = {};\n                            finalReport['type'] = report.type;\n                            finalReport['timestamp'] = report.timestamp;\n                            finalReport['id'] = report.id;\n                            // Common to Chrome, Firefox and Safari\n                            if (report.type === 'outbound-rtp') {\n                                finalReport['ssrc'] = report.ssrc;\n                                finalReport['firCount'] = report.firCount;\n                                finalReport['pliCount'] = report.pliCount;\n                                finalReport['nackCount'] = report.nackCount;\n                                finalReport['qpSum'] = report.qpSum;\n                                // Set media type\n                                if (!!report.kind) {\n                                    finalReport['mediaType'] = report.kind;\n                                }\n                                else if (!!report.mediaType) {\n                                    finalReport['mediaType'] = report.mediaType;\n                                }\n                                else {\n                                    // Safari does not have 'mediaType' defined for inbound-rtp. Must be inferred from 'id' field\n                                    finalReport['mediaType'] = (report.id.indexOf('VideoStream') !== -1) ? 'video' : 'audio';\n                                }\n                                if (finalReport['mediaType'] === 'video') {\n                                    finalReport['framesEncoded'] = report.framesEncoded;\n                                }\n                                finalReport['packetsSent'] = report.packetsSent;\n                                finalReport['bytesSent'] = report.bytesSent;\n                            }\n                            // Only for Chrome and Safari\n                            if (report.type === 'candidate-pair' && report.totalRoundTripTime !== undefined) {\n                                // This is the final selected candidate pair\n                                finalReport['availableOutgoingBitrate'] = report.availableOutgoingBitrate;\n                                finalReport['rtt'] = report.currentRoundTripTime;\n                                finalReport['averageRtt'] = report.totalRoundTripTime / report.responsesReceived;\n                            }\n                            // Only for Firefox >= 66.0\n                            if (report.type === 'remote-inbound-rtp' || report.type === 'remote-outbound-rtp') {\n                            }\n                            logger.log(finalReport);\n                        }\n                    });\n                }); });\n            }\n            else {\n                // Subscriber stream stats\n                _this.getRTCPeerConnection().getReceivers().forEach(function (receiver) { return receiver.getStats()\n                    .then(function (response) {\n                    response.forEach(function (report) {\n                        if (_this.isReportWanted(report)) {\n                            var finalReport = {};\n                            finalReport['type'] = report.type;\n                            finalReport['timestamp'] = report.timestamp;\n                            finalReport['id'] = report.id;\n                            // Common to Chrome, Firefox and Safari\n                            if (report.type === 'inbound-rtp') {\n                                finalReport['ssrc'] = report.ssrc;\n                                finalReport['firCount'] = report.firCount;\n                                finalReport['pliCount'] = report.pliCount;\n                                finalReport['nackCount'] = report.nackCount;\n                                finalReport['qpSum'] = report.qpSum;\n                                // Set media type\n                                if (!!report.kind) {\n                                    finalReport['mediaType'] = report.kind;\n                                }\n                                else if (!!report.mediaType) {\n                                    finalReport['mediaType'] = report.mediaType;\n                                }\n                                else {\n                                    // Safari does not have 'mediaType' defined for inbound-rtp. Must be inferred from 'id' field\n                                    finalReport['mediaType'] = (report.id.indexOf('VideoStream') !== -1) ? 'video' : 'audio';\n                                }\n                                if (finalReport['mediaType'] === 'video') {\n                                    finalReport['framesDecoded'] = report.framesDecoded;\n                                }\n                                finalReport['packetsReceived'] = report.packetsReceived;\n                                finalReport['packetsLost'] = report.packetsLost;\n                                finalReport['jitter'] = report.jitter;\n                                finalReport['bytesReceived'] = report.bytesReceived;\n                            }\n                            // Only for Chrome and Safari\n                            if (report.type === 'candidate-pair' && report.totalRoundTripTime !== undefined) {\n                                // This is the final selected candidate pair\n                                finalReport['availableIncomingBitrate'] = report.availableIncomingBitrate;\n                                finalReport['rtt'] = report.currentRoundTripTime;\n                                finalReport['averageRtt'] = report.totalRoundTripTime / report.responsesReceived;\n                            }\n                            // Only for Firefox >= 66.0\n                            if (report.type === 'remote-inbound-rtp' || report.type === 'remote-outbound-rtp') {\n                            }\n                            logger.log(finalReport);\n                        }\n                    });\n                }); });\n            }\n        });\n    };\n    Stream.prototype.isReportWanted = function (report) {\n        return report.type === 'inbound-rtp' && !this.isLocal() ||\n            report.type === 'outbound-rtp' && this.isLocal() ||\n            (report.type === 'candidate-pair' && report.nominated && report.bytesSent > 0);\n    };\n    return Stream;\n}(EventDispatcher_1.EventDispatcher));\nexports.Stream = Stream;\n//# sourceMappingURL=Stream.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\nvar EventEmitter = require(\"wolfy87-eventemitter\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\nvar EventDispatcher = /** @class */ (function () {\n    function EventDispatcher() {\n        /**\n         * @hidden\n         */\n        this.userHandlerArrowHandler = new WeakMap();\n        /**\n         * @hidden\n         */\n        this.ee = new EventEmitter();\n    }\n    /**\n     * Removes a `handler` from event `type`. If no handler is provided, all handlers will be removed from the event\n     *\n     * @returns The object that dispatched the event\n     */\n    EventDispatcher.prototype.off = function (type, handler) {\n        if (!handler) {\n            this.ee.removeAllListeners(type);\n        }\n        else {\n            // Must remove internal arrow function handler paired with user handler\n            var arrowHandler = this.userHandlerArrowHandler.get(handler);\n            if (!!arrowHandler) {\n                this.ee.off(type, arrowHandler);\n            }\n            this.userHandlerArrowHandler[\"delete\"](handler);\n        }\n        return this;\n    };\n    /**\n     * @hidden\n     */\n    EventDispatcher.prototype.onAux = function (type, message, handler) {\n        var arrowHandler = function (event) {\n            if (event) {\n                logger.info(message, event);\n            }\n            else {\n                logger.info(message);\n            }\n            handler(event);\n        };\n        this.userHandlerArrowHandler.set(handler, arrowHandler);\n        this.ee.on(type, arrowHandler);\n        return this;\n    };\n    /**\n     * @hidden\n     */\n    EventDispatcher.prototype.onceAux = function (type, message, handler) {\n        var _this = this;\n        var arrowHandler = function (event) {\n            if (event) {\n                logger.info(message, event);\n            }\n            else {\n                logger.info(message);\n            }\n            handler(event);\n            // Remove handler from map after first and only execution\n            _this.userHandlerArrowHandler[\"delete\"](handler);\n        };\n        this.userHandlerArrowHandler.set(handler, arrowHandler);\n        this.ee.once(type, arrowHandler);\n        return this;\n    };\n    return EventDispatcher;\n}());\nexports.EventDispatcher = EventDispatcher;\n//# sourceMappingURL=EventDispatcher.js.map","var RpcBuilder = require('../');\nvar WebSocketWithReconnection = require('./transports/webSocketWithReconnection');\nDate.now = Date.now || function () {\n    return +new Date;\n};\nvar PING_INTERVAL = 5000;\nvar RECONNECTING = 'RECONNECTING';\nvar CONNECTED = 'CONNECTED';\nvar DISCONNECTED = 'DISCONNECTED';\nvar Logger = console;\nfunction JsonRpcClient(configuration) {\n    var self = this;\n    var wsConfig = configuration.ws;\n    var notReconnectIfNumLessThan = -1;\n    var pingNextNum = 0;\n    var enabledPings = true;\n    var pingPongStarted = false;\n    var pingInterval;\n    var status = DISCONNECTED;\n    var onreconnecting = wsConfig.onreconnecting;\n    var onreconnected = wsConfig.onreconnected;\n    var onconnected = wsConfig.onconnected;\n    var onerror = wsConfig.onerror;\n    configuration.rpc.pull = function (params, request) {\n        request.reply(null, \"push\");\n    };\n    wsConfig.onreconnecting = function () {\n        Logger.debug(\"--------- ONRECONNECTING -----------\");\n        if (status === RECONNECTING) {\n            Logger.error(\"Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it\");\n            return;\n        }\n        stopPing();\n        status = RECONNECTING;\n        if (onreconnecting) {\n            onreconnecting();\n        }\n    };\n    wsConfig.onreconnected = function () {\n        Logger.debug(\"--------- ONRECONNECTED -----------\");\n        if (status === CONNECTED) {\n            Logger.error(\"Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it\");\n            return;\n        }\n        status = CONNECTED;\n        updateNotReconnectIfLessThan();\n        if (onreconnected) {\n            onreconnected();\n        }\n    };\n    wsConfig.onconnected = function () {\n        Logger.debug(\"--------- ONCONNECTED -----------\");\n        if (status === CONNECTED) {\n            Logger.error(\"Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it\");\n            return;\n        }\n        status = CONNECTED;\n        enabledPings = true;\n        usePing();\n        if (onconnected) {\n            onconnected();\n        }\n    };\n    wsConfig.onerror = function (error) {\n        Logger.debug(\"--------- ONERROR -----------\");\n        status = DISCONNECTED;\n        stopPing();\n        if (onerror) {\n            onerror(error);\n        }\n    };\n    var ws = new WebSocketWithReconnection(wsConfig);\n    Logger.debug('Connecting websocket to URI: ' + wsConfig.uri);\n    var rpcBuilderOptions = {\n        request_timeout: configuration.rpc.requestTimeout,\n        ping_request_timeout: configuration.rpc.heartbeatRequestTimeout\n    };\n    var rpc = new RpcBuilder(RpcBuilder.packers.JsonRPC, rpcBuilderOptions, ws, function (request) {\n        Logger.debug('Received request: ' + JSON.stringify(request));\n        try {\n            var func = configuration.rpc[request.method];\n            if (func === undefined) {\n                Logger.error(\"Method \" + request.method + \" not registered in client\");\n            }\n            else {\n                func(request.params, request);\n            }\n        }\n        catch (err) {\n            Logger.error('Exception processing request: ' + JSON.stringify(request));\n            Logger.error(err);\n        }\n    });\n    this.send = function (method, params, callback) {\n        if (method !== 'ping') {\n            Logger.debug('Request: method:' + method + \" params:\" + JSON.stringify(params));\n        }\n        var requestTime = Date.now();\n        rpc.encode(method, params, function (error, result) {\n            if (error) {\n                try {\n                    Logger.error(\"ERROR:\" + error.message + \" in Request: method:\" +\n                        method + \" params:\" + JSON.stringify(params) + \" request:\" +\n                        error.request);\n                    if (error.data) {\n                        Logger.error(\"ERROR DATA:\" + JSON.stringify(error.data));\n                    }\n                }\n                catch (e) { }\n                error.requestTime = requestTime;\n            }\n            if (callback) {\n                if (result != undefined && result.value !== 'pong') {\n                    Logger.debug('Response: ' + JSON.stringify(result));\n                }\n                callback(error, result);\n            }\n        });\n    };\n    function updateNotReconnectIfLessThan() {\n        Logger.debug(\"notReconnectIfNumLessThan = \" + pingNextNum + ' (old=' +\n            notReconnectIfNumLessThan + ')');\n        notReconnectIfNumLessThan = pingNextNum;\n    }\n    function sendPing() {\n        if (enabledPings) {\n            var params = null;\n            if (pingNextNum == 0 || pingNextNum == notReconnectIfNumLessThan) {\n                params = {\n                    interval: configuration.heartbeat || PING_INTERVAL\n                };\n            }\n            pingNextNum++;\n            self.send('ping', params, (function (pingNum) {\n                return function (error, result) {\n                    if (error) {\n                        Logger.debug(\"Error in ping request #\" + pingNum + \" (\" +\n                            error.message + \")\");\n                        if (pingNum > notReconnectIfNumLessThan) {\n                            enabledPings = false;\n                            updateNotReconnectIfLessThan();\n                            Logger.debug(\"Server did not respond to ping message #\" +\n                                pingNum + \". Reconnecting... \");\n                            ws.reconnectWs();\n                        }\n                    }\n                };\n            })(pingNextNum));\n        }\n        else {\n            Logger.debug(\"Trying to send ping, but ping is not enabled\");\n        }\n    }\n    function usePing() {\n        if (!pingPongStarted) {\n            Logger.debug(\"Starting ping (if configured)\");\n            pingPongStarted = true;\n            if (configuration.heartbeat != undefined) {\n                pingInterval = setInterval(sendPing, configuration.heartbeat);\n                sendPing();\n            }\n        }\n    }\n    function stopPing() {\n        clearInterval(pingInterval);\n        pingPongStarted = false;\n        enabledPings = false;\n        pingNextNum = -1;\n        rpc.cancel();\n    }\n    this.close = function (code, reason) {\n        Logger.debug(\"Closing  with code: \" + code + \" because: \" + reason);\n        if (pingInterval != undefined) {\n            Logger.debug(\"Clearing ping interval\");\n            clearInterval(pingInterval);\n        }\n        pingPongStarted = false;\n        enabledPings = false;\n        if (configuration.sendCloseMessage) {\n            Logger.debug(\"Sending close message\");\n            this.send('closeSession', null, function (error, result) {\n                if (error) {\n                    Logger.error(\"Error sending close message: \" + JSON.stringify(error));\n                }\n                ws.close(code, reason);\n            });\n        }\n        else {\n            ws.close(code, reason);\n        }\n    };\n    this.forceClose = function (millis) {\n        ws.forceClose(millis);\n    };\n    this.reconnect = function () {\n        ws.reconnectWs();\n    };\n    this.resetPing = function () {\n        enabledPings = true;\n        pingNextNum = 0;\n        usePing();\n    };\n}\nmodule.exports = JsonRpcClient;\n//# sourceMappingURL=jsonrpcclient.js.map","var chromeMediaSource = 'screen';\nvar sourceId;\nvar screenCallback;\nif (typeof window !== 'undefined' && typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined') {\n    var isFirefox = typeof window.InstallTrigger !== 'undefined';\n    var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n    var isChrome = !!window.chrome && !isOpera;\n    window.addEventListener('message', function (event) {\n        if (event.origin != window.location.origin) {\n            return;\n        }\n        onMessageCallback(event.data);\n    });\n}\nfunction onMessageCallback(data) {\n    if (data == 'PermissionDeniedError') {\n        if (screenCallback)\n            return screenCallback('PermissionDeniedError');\n        else\n            throw new Error('PermissionDeniedError');\n    }\n    if (data == 'rtcmulticonnection-extension-loaded') {\n        chromeMediaSource = 'desktop';\n    }\n    if (data.sourceId && screenCallback) {\n        screenCallback(sourceId = data.sourceId, data.canRequestAudioTrack === true);\n    }\n}\nfunction isChromeExtensionAvailable(callback) {\n    if (!callback)\n        return;\n    if (chromeMediaSource == 'desktop')\n        return callback(true);\n    window.postMessage('are-you-there', '*');\n    setTimeout(function () {\n        if (chromeMediaSource == 'screen') {\n            callback(false);\n        }\n        else\n            callback(true);\n    }, 2000);\n}\nfunction getSourceId(callback) {\n    if (!callback)\n        throw '\"callback\" parameter is mandatory.';\n    if (sourceId)\n        return callback(sourceId);\n    screenCallback = callback;\n    window.postMessage('get-sourceId', '*');\n}\nfunction getCustomSourceId(arr, callback) {\n    if (!arr || !arr.forEach)\n        throw '\"arr\" parameter is mandatory and it must be an array.';\n    if (!callback)\n        throw '\"callback\" parameter is mandatory.';\n    if (sourceId)\n        return callback(sourceId);\n    screenCallback = callback;\n    window.postMessage({\n        'get-custom-sourceId': arr\n    }, '*');\n}\nfunction getSourceIdWithAudio(callback) {\n    if (!callback)\n        throw '\"callback\" parameter is mandatory.';\n    if (sourceId)\n        return callback(sourceId);\n    screenCallback = callback;\n    window.postMessage('audio-plus-tab', '*');\n}\nfunction getChromeExtensionStatus(extensionid, callback) {\n    if (isFirefox)\n        return callback('not-chrome');\n    if (arguments.length != 2) {\n        callback = extensionid;\n        extensionid = 'lfcgfepafnobdloecchnfaclibenjold';\n    }\n    var image = document.createElement('img');\n    image.src = 'chrome-extension://' + extensionid + '/icon.png';\n    image.onload = function () {\n        chromeMediaSource = 'screen';\n        window.postMessage('are-you-there', '*');\n        setTimeout(function () {\n            if (chromeMediaSource == 'screen') {\n                callback('installed-disabled');\n            }\n            else\n                callback('installed-enabled');\n        }, 2000);\n    };\n    image.onerror = function () {\n        callback('not-installed');\n    };\n}\nfunction getScreenConstraintsWithAudio(callback) {\n    getScreenConstraints(callback, true);\n}\nfunction getScreenConstraints(callback, captureSourceIdWithAudio) {\n    sourceId = '';\n    var firefoxScreenConstraints = {\n        mozMediaSource: 'window',\n        mediaSource: 'window'\n    };\n    if (isFirefox)\n        return callback(null, firefoxScreenConstraints);\n    var screen_constraints = {\n        mandatory: {\n            chromeMediaSource: chromeMediaSource,\n            maxWidth: screen.width > 1920 ? screen.width : 1920,\n            maxHeight: screen.height > 1080 ? screen.height : 1080\n        },\n        optional: []\n    };\n    if (chromeMediaSource == 'desktop' && !sourceId) {\n        if (captureSourceIdWithAudio) {\n            getSourceIdWithAudio(function (sourceId, canRequestAudioTrack) {\n                screen_constraints.mandatory.chromeMediaSourceId = sourceId;\n                if (canRequestAudioTrack) {\n                    screen_constraints.canRequestAudioTrack = true;\n                }\n                callback(sourceId == 'PermissionDeniedError' ? sourceId : null, screen_constraints);\n            });\n        }\n        else {\n            getSourceId(function (sourceId) {\n                screen_constraints.mandatory.chromeMediaSourceId = sourceId;\n                callback(sourceId == 'PermissionDeniedError' ? sourceId : null, screen_constraints);\n            });\n        }\n        return;\n    }\n    if (chromeMediaSource == 'desktop') {\n        screen_constraints.mandatory.chromeMediaSourceId = sourceId;\n    }\n    callback(null, screen_constraints);\n}\nexports.getScreenConstraints = getScreenConstraints;\nexports.getScreenConstraintsWithAudio = getScreenConstraintsWithAudio;\nexports.isChromeExtensionAvailable = isChromeExtensionAvailable;\nexports.getChromeExtensionStatus = getChromeExtensionStatus;\nexports.getSourceId = getSourceId;\n//# sourceMappingURL=Screen-Capturing.js.map","'use strict';\n\nexports.__esModule = true;\nexports.stateify = exports.TokenState = exports.CharacterState = undefined;\n\nvar _class = require('../utils/class');\n\nfunction createStateClass() {\n\treturn function (tClass) {\n\t\tthis.j = [];\n\t\tthis.T = tClass || null;\n\t};\n}\n\n/**\n\tA simple state machine that can emit token classes\n\n\tThe `j` property in this class refers to state jumps. It's a\n\tmultidimensional array where for each element:\n\n\t* index [0] is a symbol or class of symbols to transition to.\n\t* index [1] is a State instance which matches\n\n\tThe type of symbol will depend on the target implementation for this class.\n\tIn Linkify, we have a two-stage scanner. Each stage uses this state machine\n\tbut with a slighly different (polymorphic) implementation.\n\n\tThe `T` property refers to the token class.\n\n\tTODO: Can the `on` and `next` methods be combined?\n\n\t@class BaseState\n*/\nvar BaseState = createStateClass();\nBaseState.prototype = {\n\tdefaultTransition: false,\n\n\t/**\n \t@method constructor\n \t@param {Class} tClass Pass in the kind of token to emit if there are\n \t\tno jumps after this state and the state is accepting.\n */\n\n\t/**\n \tOn the given symbol(s), this machine should go to the given state\n \t\t@method on\n \t@param {Array|Mixed} symbol\n \t@param {BaseState} state Note that the type of this state should be the\n \t\tsame as the current instance (i.e., don't pass in a different\n \t\tsubclass)\n */\n\ton: function on(symbol, state) {\n\t\tif (symbol instanceof Array) {\n\t\t\tfor (var i = 0; i < symbol.length; i++) {\n\t\t\t\tthis.j.push([symbol[i], state]);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tthis.j.push([symbol, state]);\n\t\treturn this;\n\t},\n\n\n\t/**\n \tGiven the next item, returns next state for that item\n \t@method next\n \t@param {Mixed} item Should be an instance of the symbols handled by\n \t\tthis particular machine.\n \t@return {State} state Returns false if no jumps are available\n */\n\tnext: function next(item) {\n\t\tfor (var i = 0; i < this.j.length; i++) {\n\t\t\tvar jump = this.j[i];\n\t\t\tvar symbol = jump[0]; // Next item to check for\n\t\t\tvar state = jump[1]; // State to jump to if items match\n\n\t\t\t// compare item with symbol\n\t\t\tif (this.test(item, symbol)) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t}\n\n\t\t// Nowhere left to jump!\n\t\treturn this.defaultTransition;\n\t},\n\n\n\t/**\n \tDoes this state accept?\n \t`true` only of `this.T` exists\n \t\t@method accepts\n \t@return {Boolean}\n */\n\taccepts: function accepts() {\n\t\treturn !!this.T;\n\t},\n\n\n\t/**\n \tDetermine whether a given item \"symbolizes\" the symbol, where symbol is\n \ta class of items handled by this state machine.\n \t\tThis method should be overriden in extended classes.\n \t\t@method test\n \t@param {Mixed} item Does this item match the given symbol?\n \t@param {Mixed} symbol\n \t@return {Boolean}\n */\n\ttest: function test(item, symbol) {\n\t\treturn item === symbol;\n\t},\n\n\n\t/**\n \tEmit the token for this State (just return it in this case)\n \tIf this emits a token, this instance is an accepting state\n \t@method emit\n \t@return {Class} T\n */\n\temit: function emit() {\n\t\treturn this.T;\n\t}\n};\n\n/**\n\tState machine for string-based input\n\n\t@class CharacterState\n\t@extends BaseState\n*/\nvar CharacterState = (0, _class.inherits)(BaseState, createStateClass(), {\n\t/**\n \tDoes the given character match the given character or regular\n \texpression?\n \t\t@method test\n \t@param {String} char\n \t@param {String|RegExp} charOrRegExp\n \t@return {Boolean}\n */\n\ttest: function test(character, charOrRegExp) {\n\t\treturn character === charOrRegExp || charOrRegExp instanceof RegExp && charOrRegExp.test(character);\n\t}\n});\n\n/**\n\tState machine for input in the form of TextTokens\n\n\t@class TokenState\n\t@extends BaseState\n*/\nvar TokenState = (0, _class.inherits)(BaseState, createStateClass(), {\n\n\t/**\n  * Similar to `on`, but returns the state the results in the transition from\n  * the given item\n  * @method jump\n  * @param {Mixed} item\n  * @param {Token} [token]\n  * @return state\n  */\n\tjump: function jump(token) {\n\t\tvar tClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\t\tvar state = this.next(new token('')); // dummy temp token\n\t\tif (state === this.defaultTransition) {\n\t\t\t// Make a new state!\n\t\t\tstate = new this.constructor(tClass);\n\t\t\tthis.on(token, state);\n\t\t} else if (tClass) {\n\t\t\tstate.T = tClass;\n\t\t}\n\t\treturn state;\n\t},\n\n\n\t/**\n \tIs the given token an instance of the given token class?\n \t\t@method test\n \t@param {TextToken} token\n \t@param {Class} tokenClass\n \t@return {Boolean}\n */\n\ttest: function test(token, tokenClass) {\n\t\treturn token instanceof tokenClass;\n\t}\n});\n\n/**\n\tGiven a non-empty target string, generates states (if required) for each\n\tconsecutive substring of characters in str starting from the beginning of\n\tthe string. The final state will have a special value, as specified in\n\toptions. All other \"in between\" substrings will have a default end state.\n\n\tThis turns the state machine into a Trie-like data structure (rather than a\n\tintelligently-designed DFA).\n\n\tNote that I haven't really tried these with any strings other than\n\tDOMAIN.\n\n\t@param {String} str\n\t@param {CharacterState} start State to jump from the first character\n\t@param {Class} endToken Token class to emit when the given string has been\n\t\tmatched and no more jumps exist.\n\t@param {Class} defaultToken \"Filler token\", or which token type to emit when\n\t\twe don't have a full match\n\t@return {Array} list of newly-created states\n*/\nfunction stateify(str, start, endToken, defaultToken) {\n\tvar i = 0,\n\t    len = str.length,\n\t    state = start,\n\t    newStates = [],\n\t    nextState = void 0;\n\n\t// Find the next state without a jump to the next character\n\twhile (i < len && (nextState = state.next(str[i]))) {\n\t\tstate = nextState;\n\t\ti++;\n\t}\n\n\tif (i >= len) {\n\t\treturn [];\n\t} // no new tokens were added\n\n\twhile (i < len - 1) {\n\t\tnextState = new CharacterState(defaultToken);\n\t\tnewStates.push(nextState);\n\t\tstate.on(str[i], nextState);\n\t\tstate = nextState;\n\t\ti++;\n\t}\n\n\tnextState = new CharacterState(endToken);\n\tnewStates.push(nextState);\n\tstate.on(str[len - 1], nextState);\n\n\treturn newStates;\n}\n\nexports.CharacterState = CharacterState;\nexports.TokenState = TokenState;\nexports.stateify = stateify;","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\n/**\n * Defines the following events:\n * - `streamPlaying`: dispatched by [[StreamManager]] ([[Publisher]] and [[Subscriber]]) whenever its media stream starts playing (one of its videos has media\n * and has begun to play). This event will be dispatched when these 3 conditions are met 1) The StreamManager has no video associated in the DOM 2) It is associated to one video 3) That video starts playing\n * - `streamAudioVolumeChange`: dispatched by [[StreamManager]] ([[Publisher]] and [[Subscriber]]) when the volume of its Stream's audio track\n * changes. Only applies if [[Stream.hasAudio]] is `true`. The frequency this event is fired with is defined by property `interval` of\n * [[OpenViduAdvancedConfiguration.publisherSpeakingEventsOptions]] (default 100ms)\n */\nvar StreamManagerEvent = /** @class */ (function (_super) {\n    __extends(StreamManagerEvent, _super);\n    /**\n     * @hidden\n     */\n    function StreamManagerEvent(target, type, value) {\n        var _this = _super.call(this, false, target, type) || this;\n        _this.value = value;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    // tslint:disable-next-line:no-empty\n    StreamManagerEvent.prototype.callDefaultBehavior = function () { };\n    return StreamManagerEvent;\n}(Event_1.Event));\nexports.StreamManagerEvent = StreamManagerEvent;\n//# sourceMappingURL=StreamManagerEvent.js.map","'use strict';\n\nexports.__esModule = true;\nexports.default = mention;\n/**\n\tMention parser plugin for linkify\n*/\nfunction mention(linkify) {\n\tvar TT = linkify.scanner.TOKENS; // Text tokens\n\tvar _linkify$parser = linkify.parser,\n\t    MT = _linkify$parser.TOKENS,\n\t    State = _linkify$parser.State; // Multi tokens, state\n\n\tvar MultiToken = MT.Base;\n\tvar S_START = linkify.parser.start;\n\n\tvar TT_DOMAIN = TT.DOMAIN;\n\tvar TT_LOCALHOST = TT.LOCALHOST;\n\tvar TT_NUM = TT.NUM;\n\tvar TT_SLASH = TT.SLASH;\n\tvar TT_TLD = TT.TLD;\n\tvar TT_UNDERSCORE = TT.UNDERSCORE;\n\tvar TT_DOT = TT.DOT;\n\tvar TT_AT = TT.AT;\n\n\tfunction MENTION(value) {\n\t\tthis.v = value;\n\t}\n\n\tlinkify.inherits(MultiToken, MENTION, {\n\t\ttype: 'mention',\n\t\tisLink: true,\n\t\ttoHref: function toHref() {\n\t\t\treturn '/' + this.toString().substr(1);\n\t\t}\n\t});\n\n\tvar S_AT = S_START.jump(TT.AT); // @\n\tvar S_AT_SYMS = new State();\n\tvar S_MENTION = new State(MENTION);\n\tvar S_MENTION_DIVIDER = new State();\n\tvar S_MENTION_DIVIDER_SYMS = new State();\n\n\t// @_,\n\tS_AT.on(TT_UNDERSCORE, S_AT_SYMS);\n\n\t//  @_*\n\tS_AT_SYMS.on(TT_UNDERSCORE, S_AT_SYMS).on(TT_DOT, S_AT_SYMS);\n\n\t// Valid mention (not made up entirely of symbols)\n\tS_AT.on(TT_DOMAIN, S_MENTION).on(TT_LOCALHOST, S_MENTION).on(TT_TLD, S_MENTION).on(TT_NUM, S_MENTION);\n\n\tS_AT_SYMS.on(TT_DOMAIN, S_MENTION).on(TT_LOCALHOST, S_MENTION).on(TT_TLD, S_MENTION).on(TT_NUM, S_MENTION);\n\n\t// More valid mentions\n\tS_MENTION.on(TT_DOMAIN, S_MENTION).on(TT_LOCALHOST, S_MENTION).on(TT_TLD, S_MENTION).on(TT_NUM, S_MENTION).on(TT_UNDERSCORE, S_MENTION);\n\n\t// Mention with a divider\n\tS_MENTION.on(TT_SLASH, S_MENTION_DIVIDER).on(TT_DOT, S_MENTION_DIVIDER).on(TT_AT, S_MENTION_DIVIDER);\n\n\t// Mention _ trailing stash plus syms\n\tS_MENTION_DIVIDER.on(TT_UNDERSCORE, S_MENTION_DIVIDER_SYMS);\n\tS_MENTION_DIVIDER_SYMS.on(TT_UNDERSCORE, S_MENTION_DIVIDER_SYMS);\n\n\t// Once we get a word token, mentions can start up again\n\tS_MENTION_DIVIDER.on(TT_DOMAIN, S_MENTION).on(TT_LOCALHOST, S_MENTION).on(TT_TLD, S_MENTION).on(TT_NUM, S_MENTION);\n\n\tS_MENTION_DIVIDER_SYMS.on(TT_DOMAIN, S_MENTION).on(TT_LOCALHOST, S_MENTION).on(TT_TLD, S_MENTION).on(TT_NUM, S_MENTION);\n}","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Connection_1 = require(\"./Connection\");\nvar Filter_1 = require(\"./Filter\");\nvar Subscriber_1 = require(\"./Subscriber\");\nvar EventDispatcher_1 = require(\"./EventDispatcher\");\nvar ConnectionEvent_1 = require(\"../OpenViduInternal/Events/ConnectionEvent\");\nvar FilterEvent_1 = require(\"../OpenViduInternal/Events/FilterEvent\");\nvar RecordingEvent_1 = require(\"../OpenViduInternal/Events/RecordingEvent\");\nvar SessionDisconnectedEvent_1 = require(\"../OpenViduInternal/Events/SessionDisconnectedEvent\");\nvar SignalEvent_1 = require(\"../OpenViduInternal/Events/SignalEvent\");\nvar StreamEvent_1 = require(\"../OpenViduInternal/Events/StreamEvent\");\nvar StreamPropertyChangedEvent_1 = require(\"../OpenViduInternal/Events/StreamPropertyChangedEvent\");\nvar OpenViduError_1 = require(\"../OpenViduInternal/Enums/OpenViduError\");\nvar VideoInsertMode_1 = require(\"../OpenViduInternal/Enums/VideoInsertMode\");\nvar platform = require(\"platform\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Represents a video call. It can also be seen as a videoconference room where multiple users can connect.\n * Participants who publish their videos to a session can be seen by the rest of users connected to that specific session.\n * Initialized with [[OpenVidu.initSession]] method.\n *\n * ### Available event listeners (and events dispatched)\n *\n * - connectionCreated ([[ConnectionEvent]])\n * - connectionDestroyed ([[ConnectionEvent]])\n * - sessionDisconnected ([[SessionDisconnectedEvent]])\n * - streamCreated ([[StreamEvent]])\n * - streamDestroyed ([[StreamEvent]])\n * - streamPropertyChanged ([[StreamPropertyChangedEvent]])\n * - publisherStartSpeaking ([[PublisherSpeakingEvent]])\n * - publisherStopSpeaking ([[PublisherSpeakingEvent]])\n * - signal ([[SignalEvent]])\n * - recordingStarted ([[RecordingEvent]])\n * - recordingStopped ([[RecordingEvent]])\n * - reconnecting\n * - reconnected\n *\n */\nvar Session = /** @class */ (function (_super) {\n    __extends(Session, _super);\n    /**\n     * @hidden\n     */\n    function Session(openvidu) {\n        var _this = _super.call(this) || this;\n        /**\n         * Collection of all StreamManagers of this Session ([[Publisher]] and [[Subscriber]])\n         */\n        _this.streamManagers = [];\n        // This map is only used to avoid race condition between 'joinRoom' response and 'onParticipantPublished' notification\n        /**\n         * @hidden\n         */\n        _this.remoteStreamsCreated = {};\n        /**\n         * @hidden\n         */\n        _this.isFirstIonicIosSubscriber = true;\n        /**\n         * @hidden\n         */\n        _this.countDownForIonicIosSubscribersActive = true;\n        /**\n         * @hidden\n         */\n        _this.remoteConnections = {};\n        /**\n         * @hidden\n         */\n        _this.startSpeakingEventsEnabled = false;\n        /**\n         * @hidden\n         */\n        _this.startSpeakingEventsEnabledOnce = false;\n        /**\n         * @hidden\n         */\n        _this.stopSpeakingEventsEnabled = false;\n        /**\n         * @hidden\n         */\n        _this.stopSpeakingEventsEnabledOnce = false;\n        _this.openvidu = openvidu;\n        return _this;\n    }\n    /**\n     * Connects to the session using `token`. Parameter `metadata` allows you to pass extra data to share with other users when\n     * they receive `streamCreated` event. The structure of `metadata` string is up to you (maybe some standardized format\n     * as JSON or XML is a good idea).\n     *\n     * This metadata is not considered secure, as it is generated in the client side. To pass secure data, add it as a parameter in the\n     * token generation operation (through the API REST, openvidu-java-client or openvidu-node-client).\n     *\n     * Only after the returned Promise is successfully resolved [[Session.connection]] object will be available and properly defined.\n     *\n     * #### Events dispatched\n     *\n     * The [[Session]] object of the local participant will first dispatch one or more `connectionCreated` events upon successful termination of this method:\n     * - First one for your own local Connection object, so you can retrieve [[Session.connection]] property.\n     * - Then one for each remote Connection previously connected to the Session, if any. Any other remote user connecting to the Session after you have\n     * successfully connected will also dispatch a `connectionCreated` event when they do so.\n     *\n     * The [[Session]] object of the local participant will also dispatch a `streamCreated` event for each remote active [[Publisher]] that was already streaming\n     * when connecting, just after dispatching all remote `connectionCreated` events.\n     *\n     * The [[Session]] object of every other participant connected to the session will dispatch a `connectionCreated` event.\n     *\n     * See [[ConnectionEvent]] and [[StreamEvent]] to learn more.\n     *\n     * @returns A Promise to which you must subscribe that is resolved if the the connection to the Session was successful and rejected with an Error object if not\n     *\n     */\n    Session.prototype.connect = function (token, metadata) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.processToken(token);\n            if (_this.openvidu.checkSystemRequirements()) {\n                // Early configuration to deactivate automatic subscription to streams\n                _this.options = {\n                    sessionId: _this.sessionId,\n                    participantId: token,\n                    metadata: !!metadata ? _this.stringClientMetadata(metadata) : ''\n                };\n                _this.connectAux(token).then(function () {\n                    resolve();\n                })[\"catch\"](function (error) {\n                    reject(error);\n                });\n            }\n            else {\n                reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.BROWSER_NOT_SUPPORTED, 'Browser ' + platform.name + ' (version ' + platform.version + ') for ' + platform.os.family + ' is not supported in OpenVidu'));\n            }\n        });\n    };\n    /**\n     * Leaves the session, destroying all streams and deleting the user as a participant.\n     *\n     * #### Events dispatched\n     *\n     * The [[Session]] object of the local participant will dispatch a `sessionDisconnected` event.\n     * This event will automatically unsubscribe the leaving participant from every Subscriber object of the session (this includes closing the WebRTCPeer connection and disposing all MediaStreamTracks)\n     * and also deletes any HTML video element associated to each Subscriber (only those [created by OpenVidu Browser](/en/stable/cheatsheet/manage-videos/#let-openvidu-take-care-of-the-video-players)).\n     * For every video removed, each Subscriber object will dispatch a `videoElementDestroyed` event.\n     * Call `event.preventDefault()` upon event `sessionDisconnected` to avoid this behavior and take care of disposing and cleaning all the Subscriber objects yourself.\n     * See [[SessionDisconnectedEvent]] and [[VideoElementEvent]] to learn more to learn more.\n     *\n     * The [[Publisher]] object of the local participant will dispatch a `streamDestroyed` event if there is a [[Publisher]] object publishing to the session.\n     * This event will automatically stop all media tracks and delete any HTML video element associated to it (only those [created by OpenVidu Browser](/en/stable/cheatsheet/manage-videos/#let-openvidu-take-care-of-the-video-players)).\n     * For every video removed, the Publisher object will dispatch a `videoElementDestroyed` event.\n     * Call `event.preventDefault()` upon event `streamDestroyed` if you want to clean the Publisher object on your own or re-publish it in a different Session (to do so it is a mandatory requirement to call `Session.unpublish()`\n     * or/and `Session.disconnect()` in the previous session). See [[StreamEvent]] and [[VideoElementEvent]] to learn more.\n     *\n     * The [[Session]] object of every other participant connected to the session will dispatch a `streamDestroyed` event if the disconnected participant was publishing.\n     * This event will automatically unsubscribe the Subscriber object from the session (this includes closing the WebRTCPeer connection and disposing all MediaStreamTracks)\n     * and also deletes any HTML video element associated to that Subscriber (only those [created by OpenVidu Browser](/en/stable/cheatsheet/manage-videos/#let-openvidu-take-care-of-the-video-players)).\n     * For every video removed, the Subscriber object will dispatch a `videoElementDestroyed` event.\n     * Call `event.preventDefault()` upon event `streamDestroyed` to avoid this default behavior and take care of disposing and cleaning the Subscriber object yourself.\n     * See [[StreamEvent]] and [[VideoElementEvent]] to learn more.\n     *\n     * The [[Session]] object of every other participant connected to the session will dispatch a `connectionDestroyed` event in any case. See [[ConnectionEvent]] to learn more.\n     */\n    Session.prototype.disconnect = function () {\n        this.leave(false, 'disconnect');\n    };\n    /**\n     * Subscribes to a `stream`, adding a new HTML video element to DOM with `subscriberProperties` settings. This method is usually called in the callback of `streamCreated` event.\n     *\n     * #### Events dispatched\n     *\n     * The [[Subscriber]] object will dispatch a `videoElementCreated` event once the HTML video element has been added to DOM (only if you\n     * [let OpenVidu take care of the video players](/en/stable/cheatsheet/manage-videos/#let-openvidu-take-care-of-the-video-players)). See [[VideoElementEvent]] to learn more.\n     *\n     * The [[Subscriber]] object will dispatch a `streamPlaying` event once the remote stream starts playing. See [[StreamManagerEvent]] to learn more.\n     *\n     * @param stream Stream object to subscribe to\n     * @param targetElement HTML DOM element (or its `id` attribute) in which the video element of the Subscriber will be inserted (see [[SubscriberProperties.insertMode]]). If *null* or *undefined* no default video will be created for this Subscriber.\n     * You can always call method [[Subscriber.addVideoElement]] or [[Subscriber.createVideoElement]] to manage the video elements on your own (see [Manage video players](/en/stable/cheatsheet/manage-videos) section)\n     * @param completionHandler `error` parameter is null if `subscribe` succeeds, and is defined if it fails.\n     */\n    Session.prototype.subscribe = function (stream, targetElement, param3, param4) {\n        var properties = {};\n        if (!!param3 && typeof param3 !== 'function') {\n            properties = {\n                insertMode: (typeof param3.insertMode !== 'undefined') ? ((typeof param3.insertMode === 'string') ? VideoInsertMode_1.VideoInsertMode[param3.insertMode] : properties.insertMode) : VideoInsertMode_1.VideoInsertMode.APPEND,\n                subscribeToAudio: (typeof param3.subscribeToAudio !== 'undefined') ? param3.subscribeToAudio : true,\n                subscribeToVideo: (typeof param3.subscribeToVideo !== 'undefined') ? param3.subscribeToVideo : true\n            };\n        }\n        else {\n            properties = {\n                insertMode: VideoInsertMode_1.VideoInsertMode.APPEND,\n                subscribeToAudio: true,\n                subscribeToVideo: true\n            };\n        }\n        var completionHandler;\n        if (!!param3 && (typeof param3 === 'function')) {\n            completionHandler = param3;\n        }\n        else if (!!param4) {\n            completionHandler = param4;\n        }\n        logger.info('Subscribing to ' + stream.connection.connectionId);\n        stream.subscribe()\n            .then(function () {\n            logger.info('Subscribed correctly to ' + stream.connection.connectionId);\n            if (completionHandler !== undefined) {\n                completionHandler(undefined);\n            }\n        })[\"catch\"](function (error) {\n            if (completionHandler !== undefined) {\n                completionHandler(error);\n            }\n        });\n        var subscriber = new Subscriber_1.Subscriber(stream, targetElement, properties);\n        if (!!subscriber.targetElement) {\n            stream.streamManager.createVideoElement(subscriber.targetElement, properties.insertMode);\n        }\n        return subscriber;\n    };\n    Session.prototype.subscribeAsync = function (stream, targetElement, properties) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var subscriber;\n            var callback = function (error) {\n                if (!!error) {\n                    reject(error);\n                }\n                else {\n                    resolve(subscriber);\n                }\n            };\n            if (!!properties) {\n                subscriber = _this.subscribe(stream, targetElement, properties, callback);\n            }\n            else {\n                subscriber = _this.subscribe(stream, targetElement, callback);\n            }\n        });\n    };\n    /**\n     * Unsubscribes from `subscriber`, automatically removing its associated HTML video elements.\n     *\n     * #### Events dispatched\n     *\n     * The [[Subscriber]] object will dispatch a `videoElementDestroyed` event for each video associated to it that was removed from DOM.\n     * Only videos [created by OpenVidu Browser](/en/stable/cheatsheet/manage-videos/#let-openvidu-take-care-of-the-video-players)) will be automatically removed\n     *\n     * See [[VideoElementEvent]] to learn more\n     */\n    Session.prototype.unsubscribe = function (subscriber) {\n        var connectionId = subscriber.stream.connection.connectionId;\n        logger.info('Unsubscribing from ' + connectionId);\n        this.openvidu.sendRequest('unsubscribeFromVideo', { sender: subscriber.stream.connection.connectionId }, function (error, response) {\n            if (error) {\n                logger.error('Error unsubscribing from ' + connectionId, error);\n            }\n            else {\n                logger.info('Unsubscribed correctly from ' + connectionId);\n            }\n            subscriber.stream.disposeWebRtcPeer();\n            subscriber.stream.disposeMediaStream();\n        });\n        subscriber.stream.streamManager.removeAllVideos();\n    };\n    /**\n     * Publishes to the Session the Publisher object\n     *\n     * #### Events dispatched\n     *\n     * The local [[Publisher]] object will dispatch a `streamCreated` event upon successful termination of this method. See [[StreamEvent]] to learn more.\n     *\n     * The local [[Publisher]] object will dispatch a `streamPlaying` once the media stream starts playing. See [[StreamManagerEvent]] to learn more.\n     *\n     * The [[Session]] object of every other participant connected to the session will dispatch a `streamCreated` event so they can subscribe to it. See [[StreamEvent]] to learn more.\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved only after the publisher was successfully published and rejected with an Error object if not\n     */\n    Session.prototype.publish = function (publisher) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            publisher.session = _this;\n            publisher.stream.session = _this;\n            if (!publisher.stream.publishedOnce) {\n                // 'Session.unpublish(Publisher)' has NOT been called\n                _this.connection.addStream(publisher.stream);\n                publisher.stream.publish()\n                    .then(function () {\n                    resolve();\n                })[\"catch\"](function (error) {\n                    reject(error);\n                });\n            }\n            else {\n                // 'Session.unpublish(Publisher)' has been called. Must initialize again Publisher\n                publisher.initialize()\n                    .then(function () {\n                    _this.connection.addStream(publisher.stream);\n                    publisher.reestablishStreamPlayingEvent();\n                    publisher.stream.publish()\n                        .then(function () {\n                        resolve();\n                    })[\"catch\"](function (error) {\n                        reject(error);\n                    });\n                })[\"catch\"](function (error) {\n                    reject(error);\n                });\n            }\n        });\n    };\n    /**\n     * Unpublishes from the Session the Publisher object.\n     *\n     * #### Events dispatched\n     *\n     * The [[Publisher]] object of the local participant will dispatch a `streamDestroyed` event.\n     * This event will automatically stop all media tracks and delete any HTML video element associated to this Publisher\n     * (only those videos [created by OpenVidu Browser](/en/stable/cheatsheet/manage-videos/#let-openvidu-take-care-of-the-video-players)).\n     * For every video removed, the Publisher object will dispatch a `videoElementDestroyed` event.\n     * Call `event.preventDefault()` upon event `streamDestroyed` if you want to clean the Publisher object on your own or re-publish it in a different Session.\n     *\n     * The [[Session]] object of every other participant connected to the session will dispatch a `streamDestroyed` event.\n     * This event will automatically unsubscribe the Subscriber object from the session (this includes closing the WebRTCPeer connection and disposing all MediaStreamTracks) and\n     * delete any HTML video element associated to it (only those [created by OpenVidu Browser](/en/stable/cheatsheet/manage-videos/#let-openvidu-take-care-of-the-video-players)).\n     * For every video removed, the Subscriber object will dispatch a `videoElementDestroyed` event.\n     * Call `event.preventDefault()` upon event `streamDestroyed` to avoid this default behavior and take care of disposing and cleaning the Subscriber object on your own.\n     *\n     * See [[StreamEvent]] and [[VideoElementEvent]] to learn more.\n     */\n    Session.prototype.unpublish = function (publisher) {\n        var stream = publisher.stream;\n        if (!stream.connection) {\n            logger.error('The associated Connection object of this Publisher is null', stream);\n            return;\n        }\n        else if (stream.connection !== this.connection) {\n            logger.error('The associated Connection object of this Publisher is not your local Connection.' +\n                \"Only moderators can force unpublish on remote Streams via 'forceUnpublish' method\", stream);\n            return;\n        }\n        else {\n            logger.info('Unpublishing local media (' + stream.connection.connectionId + ')');\n            this.openvidu.sendRequest('unpublishVideo', function (error, response) {\n                if (error) {\n                    logger.error(error);\n                }\n                else {\n                    logger.info('Media unpublished correctly');\n                }\n            });\n            stream.disposeWebRtcPeer();\n            delete stream.connection.stream;\n            var streamEvent = new StreamEvent_1.StreamEvent(true, publisher, 'streamDestroyed', publisher.stream, 'unpublish');\n            publisher.emitEvent('streamDestroyed', [streamEvent]);\n            streamEvent.callDefaultBehavior();\n        }\n    };\n    /**\n     * Forces some user to leave the session\n     *\n     * #### Events dispatched\n     *\n     * The behavior is the same as when some user calls [[Session.disconnect]], but `reason` property in all events will be `\"forceDisconnectByUser\"`.\n     *\n     * The [[Session]] object of every participant will dispatch a `streamDestroyed` event if the evicted user was publishing a stream, with property `reason` set to `\"forceDisconnectByUser\"`.\n     * The [[Session]] object of every participant except the evicted one will dispatch a `connectionDestroyed` event for the evicted user, with property `reason` set to `\"forceDisconnectByUser\"`.\n     *\n     * If any, the [[Publisher]] object of the evicted participant will also dispatch a `streamDestroyed` event with property `reason` set to `\"forceDisconnectByUser\"`.\n     * The [[Session]] object of the evicted participant will dispatch a `sessionDisconnected` event with property `reason` set to `\"forceDisconnectByUser\"`.\n     *\n     * See [[StreamEvent]], [[ConnectionEvent]] and [[SessionDisconnectedEvent]] to learn more.\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved only after the participant has been successfully evicted from the session and rejected with an Error object if not\n     */\n    Session.prototype.forceDisconnect = function (connection) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            logger.info('Forcing disconnect for connection ' + connection.connectionId);\n            _this.openvidu.sendRequest('forceDisconnect', { connectionId: connection.connectionId }, function (error, response) {\n                if (error) {\n                    logger.error('Error forcing disconnect for Connection ' + connection.connectionId, error);\n                    if (error.code === 401) {\n                        reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED, \"You don't have permissions to force a disconnection\"));\n                    }\n                    else {\n                        reject(error);\n                    }\n                }\n                else {\n                    logger.info('Forcing disconnect correctly for Connection ' + connection.connectionId);\n                    resolve();\n                }\n            });\n        });\n    };\n    /**\n     * Forces some user to unpublish a Stream\n     *\n     * #### Events dispatched\n     *\n     * The behavior is the same as when some user calls [[Session.unpublish]], but `reason` property in all events will be `\"forceUnpublishByUser\"`\n     *\n     * The [[Session]] object of every participant will dispatch a `streamDestroyed` event with property `reason` set to `\"forceDisconnectByUser\"`\n     *\n     * The [[Publisher]] object of the affected participant will also dispatch a `streamDestroyed` event with property `reason` set to `\"forceDisconnectByUser\"`\n     *\n     * See [[StreamEvent]] to learn more.\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved only after the remote Stream has been successfully unpublished from the session and rejected with an Error object if not\n     */\n    Session.prototype.forceUnpublish = function (stream) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            logger.info('Forcing unpublish for stream ' + stream.streamId);\n            _this.openvidu.sendRequest('forceUnpublish', { streamId: stream.streamId }, function (error, response) {\n                if (error) {\n                    logger.error('Error forcing unpublish for Stream ' + stream.streamId, error);\n                    if (error.code === 401) {\n                        reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED, \"You don't have permissions to force an unpublishing\"));\n                    }\n                    else {\n                        reject(error);\n                    }\n                }\n                else {\n                    logger.info('Forcing unpublish correctly for Stream ' + stream.streamId);\n                    resolve();\n                }\n            });\n        });\n    };\n    /**\n     * Sends one signal. `signal` object has the following optional properties:\n     * ```json\n     * {data:string, to:Connection[], type:string}\n     * ```\n     * All users subscribed to that signal (`session.on('signal:type', ...)` or `session.on('signal', ...)` for all signals) and whose Connection objects are in `to` array will receive it. Their local\n     * Session objects will dispatch a `signal` or `signal:type` event. See [[SignalEvent]] to learn more.\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the message successfully reached openvidu-server and rejected with an Error object if not. _This doesn't\n     * mean that openvidu-server could resend the message to all the listed receivers._\n     */\n    /* tslint:disable:no-string-literal */\n    Session.prototype.signal = function (signal) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var signalMessage = {};\n            if (signal.to && signal.to.length > 0) {\n                var connectionIds_1 = [];\n                signal.to.forEach(function (connection) {\n                    if (!!connection.connectionId) {\n                        connectionIds_1.push(connection.connectionId);\n                    }\n                });\n                signalMessage['to'] = connectionIds_1;\n            }\n            else {\n                signalMessage['to'] = [];\n            }\n            signalMessage['data'] = signal.data ? signal.data : '';\n            var typeAux = signal.type ? signal.type : 'signal';\n            if (!!typeAux) {\n                if (typeAux.substring(0, 7) !== 'signal:') {\n                    typeAux = 'signal:' + typeAux;\n                }\n            }\n            signalMessage['type'] = typeAux;\n            _this.openvidu.sendRequest('sendMessage', {\n                message: JSON.stringify(signalMessage)\n            }, function (error, response) {\n                if (!!error) {\n                    reject(error);\n                }\n                else {\n                    resolve();\n                }\n            });\n        });\n    };\n    /* tslint:enable:no-string-literal */\n    /**\n     * See [[EventDispatcher.on]]\n     */\n    Session.prototype.on = function (type, handler) {\n        _super.prototype.onAux.call(this, type, \"Event '\" + type + \"' triggered by 'Session'\", handler);\n        if (type === 'publisherStartSpeaking') {\n            this.startSpeakingEventsEnabled = true;\n            // If there are already available remote streams, enable hark 'speaking' event in all of them\n            for (var connectionId in this.remoteConnections) {\n                var str = this.remoteConnections[connectionId].stream;\n                if (!!str && str.hasAudio) {\n                    str.enableStartSpeakingEvent();\n                }\n            }\n        }\n        if (type === 'publisherStopSpeaking') {\n            this.stopSpeakingEventsEnabled = true;\n            // If there are already available remote streams, enable hark 'stopped_speaking' event in all of them\n            for (var connectionId in this.remoteConnections) {\n                var str = this.remoteConnections[connectionId].stream;\n                if (!!str && str.hasAudio) {\n                    str.enableStopSpeakingEvent();\n                }\n            }\n        }\n        return this;\n    };\n    /**\n     * See [[EventDispatcher.once]]\n     */\n    Session.prototype.once = function (type, handler) {\n        _super.prototype.onceAux.call(this, type, \"Event '\" + type + \"' triggered once by 'Session'\", handler);\n        if (type === 'publisherStartSpeaking') {\n            this.startSpeakingEventsEnabledOnce = true;\n            // If there are already available remote streams, enable hark 'speaking' event in all of them once\n            for (var connectionId in this.remoteConnections) {\n                var str = this.remoteConnections[connectionId].stream;\n                if (!!str && str.hasAudio) {\n                    str.enableOnceStartSpeakingEvent();\n                }\n            }\n        }\n        if (type === 'publisherStopSpeaking') {\n            this.stopSpeakingEventsEnabledOnce = true;\n            // If there are already available remote streams, enable hark 'stopped_speaking' event in all of them once\n            for (var connectionId in this.remoteConnections) {\n                var str = this.remoteConnections[connectionId].stream;\n                if (!!str && str.hasAudio) {\n                    str.enableOnceStopSpeakingEvent();\n                }\n            }\n        }\n        return this;\n    };\n    /**\n     * See [[EventDispatcher.off]]\n     */\n    Session.prototype.off = function (type, handler) {\n        _super.prototype.off.call(this, type, handler);\n        if (type === 'publisherStartSpeaking') {\n            var remainingStartSpeakingListeners = this.ee.getListeners(type).length;\n            if (remainingStartSpeakingListeners === 0) {\n                this.startSpeakingEventsEnabled = false;\n                // If there are already available remote streams, disable hark in all of them\n                for (var connectionId in this.remoteConnections) {\n                    var str = this.remoteConnections[connectionId].stream;\n                    if (!!str) {\n                        str.disableStartSpeakingEvent(false);\n                    }\n                }\n            }\n        }\n        if (type === 'publisherStopSpeaking') {\n            var remainingStopSpeakingListeners = this.ee.getListeners(type).length;\n            if (remainingStopSpeakingListeners === 0) {\n                this.stopSpeakingEventsEnabled = false;\n                // If there are already available remote streams, disable hark in all of them\n                for (var connectionId in this.remoteConnections) {\n                    var str = this.remoteConnections[connectionId].stream;\n                    if (!!str) {\n                        str.disableStopSpeakingEvent(false);\n                    }\n                }\n            }\n        }\n        return this;\n    };\n    /* Hidden methods */\n    /**\n     * @hidden\n     */\n    Session.prototype.onParticipantJoined = function (response) {\n        var _this = this;\n        // Connection shouldn't exist\n        this.getConnection(response.id, '')\n            .then(function (connection) {\n            logger.warn('Connection ' + response.id + ' already exists in connections list');\n        })[\"catch\"](function (openViduError) {\n            var connection = new Connection_1.Connection(_this, response);\n            _this.remoteConnections[response.id] = connection;\n            _this.ee.emitEvent('connectionCreated', [new ConnectionEvent_1.ConnectionEvent(false, _this, 'connectionCreated', connection, '')]);\n        });\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onParticipantLeft = function (msg) {\n        var _this = this;\n        this.getRemoteConnection(msg.connectionId, 'Remote connection ' + msg.connectionId + \" unknown when 'onParticipantLeft'. \" +\n            'Existing remote connections: ' + JSON.stringify(Object.keys(this.remoteConnections)))\n            .then(function (connection) {\n            if (!!connection.stream) {\n                var stream = connection.stream;\n                var streamEvent = new StreamEvent_1.StreamEvent(true, _this, 'streamDestroyed', stream, msg.reason);\n                _this.ee.emitEvent('streamDestroyed', [streamEvent]);\n                streamEvent.callDefaultBehavior();\n                delete _this.remoteStreamsCreated[stream.streamId];\n                if (Object.keys(_this.remoteStreamsCreated).length === 0) {\n                    _this.isFirstIonicIosSubscriber = true;\n                    _this.countDownForIonicIosSubscribersActive = true;\n                }\n            }\n            delete _this.remoteConnections[connection.connectionId];\n            _this.ee.emitEvent('connectionDestroyed', [new ConnectionEvent_1.ConnectionEvent(false, _this, 'connectionDestroyed', connection, msg.reason)]);\n        })[\"catch\"](function (openViduError) {\n            logger.error(openViduError);\n        });\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onParticipantPublished = function (response) {\n        var _this = this;\n        var afterConnectionFound = function (connection) {\n            _this.remoteConnections[connection.connectionId] = connection;\n            if (!_this.remoteStreamsCreated[connection.stream.streamId]) {\n                // Avoid race condition between stream.subscribe() in \"onParticipantPublished\" and in \"joinRoom\" rpc callback\n                // This condition is false if openvidu-server sends \"participantPublished\" event to a subscriber participant that has\n                // already subscribed to certain stream in the callback of \"joinRoom\" method\n                _this.ee.emitEvent('streamCreated', [new StreamEvent_1.StreamEvent(false, _this, 'streamCreated', connection.stream, '')]);\n            }\n            _this.remoteStreamsCreated[connection.stream.streamId] = true;\n        };\n        // Get the existing Connection created on 'onParticipantJoined' for\n        // existing participants or create a new one for new participants\n        var connection;\n        this.getRemoteConnection(response.id, \"Remote connection '\" + response.id + \"' unknown when 'onParticipantPublished'. \" +\n            'Existing remote connections: ' + JSON.stringify(Object.keys(this.remoteConnections)))\n            .then(function (con) {\n            // Update existing Connection\n            connection = con;\n            response.metadata = con.data;\n            connection.options = response;\n            connection.initRemoteStreams(response.streams);\n            afterConnectionFound(connection);\n        })[\"catch\"](function (openViduError) {\n            // Create new Connection\n            connection = new Connection_1.Connection(_this, response);\n            afterConnectionFound(connection);\n        });\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onParticipantUnpublished = function (msg) {\n        var _this = this;\n        if (msg.connectionId === this.connection.connectionId) {\n            // Your stream has been forcedly unpublished from the session\n            this.stopPublisherStream(msg.reason);\n        }\n        else {\n            this.getRemoteConnection(msg.connectionId, \"Remote connection '\" + msg.connectionId + \"' unknown when 'onParticipantUnpublished'. \" +\n                'Existing remote connections: ' + JSON.stringify(Object.keys(this.remoteConnections)))\n                .then(function (connection) {\n                var streamEvent = new StreamEvent_1.StreamEvent(true, _this, 'streamDestroyed', connection.stream, msg.reason);\n                _this.ee.emitEvent('streamDestroyed', [streamEvent]);\n                streamEvent.callDefaultBehavior();\n                // Deleting the remote stream\n                var streamId = connection.stream.streamId;\n                delete _this.remoteStreamsCreated[streamId];\n                if (Object.keys(_this.remoteStreamsCreated).length === 0) {\n                    _this.isFirstIonicIosSubscriber = true;\n                    _this.countDownForIonicIosSubscribersActive = true;\n                }\n                connection.removeStream(streamId);\n            })[\"catch\"](function (openViduError) {\n                logger.error(openViduError);\n            });\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onParticipantEvicted = function (msg) {\n        if (msg.connectionId === this.connection.connectionId) {\n            // You have been evicted from the session\n            if (!!this.sessionId && !this.connection.disposed) {\n                this.leave(true, msg.reason);\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onNewMessage = function (msg) {\n        var _this = this;\n        logger.info('New signal: ' + JSON.stringify(msg));\n        var strippedType = !!msg.type ? msg.type.replace(/^(signal:)/, '') : undefined;\n        if (!!msg.from) {\n            // Signal sent by other client\n            this.getConnection(msg.from, \"Connection '\" + msg.from + \"' unknow when 'onNewMessage'. Existing remote connections: \"\n                + JSON.stringify(Object.keys(this.remoteConnections)) + '. Existing local connection: ' + this.connection.connectionId)\n                .then(function (connection) {\n                _this.ee.emitEvent('signal', [new SignalEvent_1.SignalEvent(_this, strippedType, msg.data, connection)]);\n                if (msg.type !== 'signal') {\n                    _this.ee.emitEvent(msg.type, [new SignalEvent_1.SignalEvent(_this, strippedType, msg.data, connection)]);\n                }\n            })[\"catch\"](function (openViduError) {\n                logger.error(openViduError);\n            });\n        }\n        else {\n            // Signal sent by server\n            this.ee.emitEvent('signal', [new SignalEvent_1.SignalEvent(this, strippedType, msg.data, undefined)]);\n            if (msg.type !== 'signal') {\n                this.ee.emitEvent(msg.type, [new SignalEvent_1.SignalEvent(this, strippedType, msg.data, undefined)]);\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onStreamPropertyChanged = function (msg) {\n        var _this = this;\n        var callback = function (connection) {\n            if (!!connection.stream && connection.stream.streamId === msg.streamId) {\n                var stream = connection.stream;\n                var oldValue = void 0;\n                switch (msg.property) {\n                    case 'audioActive':\n                        oldValue = stream.audioActive;\n                        msg.newValue = msg.newValue === 'true';\n                        stream.audioActive = msg.newValue;\n                        break;\n                    case 'videoActive':\n                        oldValue = stream.videoActive;\n                        msg.newValue = msg.newValue === 'true';\n                        stream.videoActive = msg.newValue;\n                        break;\n                    case 'videoDimensions':\n                        oldValue = stream.videoDimensions;\n                        msg.newValue = JSON.parse(JSON.parse(msg.newValue));\n                        stream.videoDimensions = msg.newValue;\n                        break;\n                    case 'filter':\n                        oldValue = stream.filter;\n                        msg.newValue = (Object.keys(msg.newValue).length > 0) ? msg.newValue : undefined;\n                        if (msg.newValue !== undefined) {\n                            stream.filter = new Filter_1.Filter(msg.newValue.type, msg.newValue.options);\n                            stream.filter.stream = stream;\n                            if (msg.newValue.lastExecMethod) {\n                                stream.filter.lastExecMethod = msg.newValue.lastExecMethod;\n                            }\n                        }\n                        else {\n                            delete stream.filter;\n                        }\n                        msg.newValue = stream.filter;\n                        break;\n                }\n                _this.ee.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this, stream, msg.property, msg.newValue, oldValue, msg.reason)]);\n                if (!!stream.streamManager) {\n                    stream.streamManager.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(stream.streamManager, stream, msg.property, msg.newValue, oldValue, msg.reason)]);\n                }\n            }\n            else {\n                logger.error(\"No stream with streamId '\" + msg.streamId + \"' found for connection '\" + msg.connectionId + \"' on 'streamPropertyChanged' event\");\n            }\n        };\n        if (msg.connectionId === this.connection.connectionId) {\n            // Your stream has been forcedly changed (filter feature)\n            callback(this.connection);\n        }\n        else {\n            this.getRemoteConnection(msg.connectionId, 'Remote connection ' + msg.connectionId + \" unknown when 'onStreamPropertyChanged'. \" +\n                'Existing remote connections: ' + JSON.stringify(Object.keys(this.remoteConnections)))\n                .then(function (connection) {\n                callback(connection);\n            })[\"catch\"](function (openViduError) {\n                logger.error(openViduError);\n            });\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.recvIceCandidate = function (msg) {\n        var candidate = {\n            candidate: msg.candidate,\n            component: msg.component,\n            foundation: msg.foundation,\n            port: msg.port,\n            priority: msg.priority,\n            protocol: msg.protocol,\n            relatedAddress: msg.relatedAddress,\n            relatedPort: msg.relatedPort,\n            sdpMid: msg.sdpMid,\n            sdpMLineIndex: msg.sdpMLineIndex,\n            tcpType: msg.tcpType,\n            usernameFragment: msg.usernameFragment,\n            type: msg.type,\n            toJSON: function () {\n                return { candidate: msg.candidate };\n            }\n        };\n        this.getConnection(msg.senderConnectionId, 'Connection not found for connectionId ' + msg.senderConnectionId + ' owning endpoint ' + msg.endpointName + '. Ice candidate will be ignored: ' + candidate)\n            .then(function (connection) {\n            var stream = connection.stream;\n            stream.getWebRtcPeer().addIceCandidate(candidate)[\"catch\"](function (error) {\n                logger.error('Error adding candidate for ' + stream.streamId\n                    + ' stream of endpoint ' + msg.endpointName + ': ' + error);\n            });\n        })[\"catch\"](function (openViduError) {\n            logger.error(openViduError);\n        });\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onSessionClosed = function (msg) {\n        logger.info('Session closed: ' + JSON.stringify(msg));\n        var s = msg.sessionId;\n        if (s !== undefined) {\n            this.ee.emitEvent('session-closed', [{\n                    session: s\n                }]);\n        }\n        else {\n            logger.warn('Session undefined on session closed', msg);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onLostConnection = function (reason) {\n        logger.warn('Lost connection in Session ' + this.sessionId);\n        if (!!this.sessionId && !this.connection.disposed) {\n            this.leave(true, reason);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onRecoveredConnection = function () {\n        logger.info('Recovered connection in Session ' + this.sessionId);\n        this.reconnectBrokenStreams();\n        this.ee.emitEvent('reconnected', []);\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onMediaError = function (params) {\n        logger.error('Media error: ' + JSON.stringify(params));\n        var err = params.error;\n        if (err) {\n            this.ee.emitEvent('error-media', [{\n                    error: err\n                }]);\n        }\n        else {\n            logger.warn('Received undefined media error. Params:', params);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onRecordingStarted = function (response) {\n        this.ee.emitEvent('recordingStarted', [new RecordingEvent_1.RecordingEvent(this, 'recordingStarted', response.id, response.name)]);\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.onRecordingStopped = function (response) {\n        this.ee.emitEvent('recordingStopped', [new RecordingEvent_1.RecordingEvent(this, 'recordingStopped', response.id, response.name, response.reason)]);\n    };\n    /**\n     * @hidden\n     * response = {connectionId: string, streamId: string, type: string, data: Object}\n     */\n    Session.prototype.onFilterEventDispatched = function (response) {\n        var connectionId = response.connectionId;\n        var streamId = response.streamId;\n        this.getConnection(connectionId, 'No connection found for connectionId ' + connectionId)\n            .then(function (connection) {\n            logger.info('Filter event dispatched');\n            var stream = connection.stream;\n            stream.filter.handlers[response.eventType](new FilterEvent_1.FilterEvent(stream.filter, response.eventType, response.data));\n        });\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.reconnectBrokenStreams = function () {\n        logger.info('Re-establishing media connections...');\n        var someReconnection = false;\n        // Re-establish Publisher stream\n        if (!!this.connection.stream && this.connection.stream.streamIceConnectionStateBroken()) {\n            logger.warn('Re-establishing Publisher ' + this.connection.stream.streamId);\n            this.connection.stream.initWebRtcPeerSend(true);\n            someReconnection = true;\n        }\n        // Re-establish Subscriber streams\n        for (var _i = 0, _a = Object.values(this.remoteConnections); _i < _a.length; _i++) {\n            var remoteConnection = _a[_i];\n            if (!!remoteConnection.stream && remoteConnection.stream.streamIceConnectionStateBroken()) {\n                logger.warn('Re-establishing Subscriber ' + remoteConnection.stream.streamId);\n                remoteConnection.stream.initWebRtcPeerReceive(true);\n                someReconnection = true;\n            }\n        }\n        if (!someReconnection) {\n            logger.info('There were no media streams in need of a reconnection');\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.emitEvent = function (type, eventArray) {\n        this.ee.emitEvent(type, eventArray);\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.leave = function (forced, reason) {\n        var _this = this;\n        forced = !!forced;\n        logger.info('Leaving Session (forced=' + forced + ')');\n        if (!!this.connection) {\n            if (!this.connection.disposed && !forced) {\n                this.openvidu.sendRequest('leaveRoom', function (error, response) {\n                    if (error) {\n                        logger.error(error);\n                    }\n                    _this.openvidu.closeWs();\n                });\n            }\n            else {\n                this.openvidu.closeWs();\n            }\n            this.stopPublisherStream(reason);\n            if (!this.connection.disposed) {\n                // Make Session object dispatch 'sessionDisconnected' event (if it is not already disposed)\n                var sessionDisconnectEvent = new SessionDisconnectedEvent_1.SessionDisconnectedEvent(this, reason);\n                this.ee.emitEvent('sessionDisconnected', [sessionDisconnectEvent]);\n                sessionDisconnectEvent.callDefaultBehavior();\n            }\n        }\n        else {\n            logger.warn('You were not connected to the session ' + this.sessionId);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Session.prototype.initializeParams = function (token) {\n        var joinParams = {\n            token: (!!token) ? token : '',\n            session: this.sessionId,\n            platform: !!platform.description ? platform.description : 'unknown',\n            metadata: !!this.options.metadata ? this.options.metadata : '',\n            secret: this.openvidu.getSecret(),\n            recorder: this.openvidu.getRecorder()\n        };\n        return joinParams;\n    };\n    /* Private methods */\n    Session.prototype.connectAux = function (token) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.openvidu.startWs(function (error) {\n                if (!!error) {\n                    reject(error);\n                }\n                else {\n                    var joinParams = _this.initializeParams(token);\n                    _this.openvidu.sendRequest('joinRoom', joinParams, function (error, response) {\n                        if (!!error) {\n                            reject(error);\n                        }\n                        else {\n                            // Initialize capabilities object with the role\n                            _this.capabilities = {\n                                subscribe: true,\n                                publish: _this.openvidu.role !== 'SUBSCRIBER',\n                                forceUnpublish: _this.openvidu.role === 'MODERATOR',\n                                forceDisconnect: _this.openvidu.role === 'MODERATOR'\n                            };\n                            // Initialize local Connection object with values returned by openvidu-server\n                            _this.connection = new Connection_1.Connection(_this);\n                            _this.connection.connectionId = response.id;\n                            _this.connection.creationTime = response.createdAt;\n                            _this.connection.data = response.metadata;\n                            _this.connection.rpcSessionId = response.sessionId;\n                            // Initialize remote Connections with value returned by openvidu-server\n                            var events_1 = {\n                                connections: new Array(),\n                                streams: new Array()\n                            };\n                            var existingParticipants = response.value;\n                            existingParticipants.forEach(function (participant) {\n                                var connection = new Connection_1.Connection(_this, participant);\n                                _this.remoteConnections[connection.connectionId] = connection;\n                                events_1.connections.push(connection);\n                                if (!!connection.stream) {\n                                    _this.remoteStreamsCreated[connection.stream.streamId] = true;\n                                    events_1.streams.push(connection.stream);\n                                }\n                            });\n                            // Own 'connectionCreated' event\n                            _this.ee.emitEvent('connectionCreated', [new ConnectionEvent_1.ConnectionEvent(false, _this, 'connectionCreated', _this.connection, '')]);\n                            // One 'connectionCreated' event for each existing connection in the session\n                            events_1.connections.forEach(function (connection) {\n                                _this.ee.emitEvent('connectionCreated', [new ConnectionEvent_1.ConnectionEvent(false, _this, 'connectionCreated', connection, '')]);\n                            });\n                            // One 'streamCreated' event for each active stream in the session\n                            events_1.streams.forEach(function (stream) {\n                                _this.ee.emitEvent('streamCreated', [new StreamEvent_1.StreamEvent(false, _this, 'streamCreated', stream, '')]);\n                            });\n                            resolve();\n                        }\n                    });\n                }\n            });\n        });\n    };\n    Session.prototype.stopPublisherStream = function (reason) {\n        if (!!this.connection.stream) {\n            // Dispose Publisher's  local stream\n            this.connection.stream.disposeWebRtcPeer();\n            if (this.connection.stream.isLocalStreamPublished) {\n                // Make Publisher object dispatch 'streamDestroyed' event if the Stream was published\n                this.connection.stream.ee.emitEvent('local-stream-destroyed', [reason]);\n            }\n        }\n    };\n    Session.prototype.stringClientMetadata = function (metadata) {\n        if (typeof metadata !== 'string') {\n            return JSON.stringify(metadata);\n        }\n        else {\n            return metadata;\n        }\n    };\n    Session.prototype.getConnection = function (connectionId, errorMessage) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var connection = _this.remoteConnections[connectionId];\n            if (!!connection) {\n                // Resolve remote connection\n                resolve(connection);\n            }\n            else {\n                if (_this.connection.connectionId === connectionId) {\n                    // Resolve local connection\n                    resolve(_this.connection);\n                }\n                else {\n                    // Connection not found. Reject with OpenViduError\n                    reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.GENERIC_ERROR, errorMessage));\n                }\n            }\n        });\n    };\n    Session.prototype.getRemoteConnection = function (connectionId, errorMessage) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var connection = _this.remoteConnections[connectionId];\n            if (!!connection) {\n                // Resolve remote connection\n                resolve(connection);\n            }\n            else {\n                // Remote connection not found. Reject with OpenViduError\n                reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.GENERIC_ERROR, errorMessage));\n            }\n        });\n    };\n    Session.prototype.processToken = function (token) {\n        var match = token.match(/^(wss?\\:)\\/\\/(([^:\\/?#]*)(?:\\:([0-9]+))?)([\\/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$/);\n        if (!!match) {\n            var url = {\n                protocol: match[1],\n                host: match[2],\n                hostname: match[3],\n                port: match[4],\n                pathname: match[5],\n                search: match[6],\n                hash: match[7]\n            };\n            var params = token.split('?');\n            var queryParams = decodeURI(params[1])\n                .split('&')\n                .map(function (param) { return param.split('='); })\n                .reduce(function (values, _a) {\n                var key = _a[0], value = _a[1];\n                values[key] = value;\n                return values;\n            }, {});\n            this.sessionId = queryParams['sessionId'];\n            var secret = queryParams['secret'];\n            var recorder = queryParams['recorder'];\n            var coturnIp = queryParams['coturnIp'];\n            var turnUsername = queryParams['turnUsername'];\n            var turnCredential = queryParams['turnCredential'];\n            var role = queryParams['role'];\n            var webrtcStatsInterval = queryParams['webrtcStatsInterval'];\n            var openviduServerVersion = queryParams['version'];\n            if (!!secret) {\n                this.openvidu.secret = secret;\n            }\n            if (!!recorder) {\n                this.openvidu.recorder = true;\n            }\n            if (!!turnUsername && !!turnCredential) {\n                var stunUrl = 'stun:' + coturnIp + ':3478';\n                var turnUrl1 = 'turn:' + coturnIp + ':3478';\n                var turnUrl2 = turnUrl1 + '?transport=tcp';\n                this.openvidu.iceServers = [\n                    { urls: [stunUrl] },\n                    { urls: [turnUrl1, turnUrl2], username: turnUsername, credential: turnCredential }\n                ];\n                logger.log(\"STUN/TURN server IP: \" + coturnIp);\n                logger.log('TURN temp credentials [' + turnUsername + ':' + turnCredential + ']');\n            }\n            if (!!role) {\n                this.openvidu.role = role;\n            }\n            if (!!webrtcStatsInterval) {\n                this.openvidu.webrtcStatsInterval = +webrtcStatsInterval;\n            }\n            if (!!openviduServerVersion) {\n                logger.info(\"openvidu-server version: \" + openviduServerVersion);\n                if (openviduServerVersion !== this.openvidu.libraryVersion) {\n                    logger.error('OpenVidu Server (' + openviduServerVersion +\n                        ') and OpenVidu Browser (' + this.openvidu.libraryVersion +\n                        ') versions do NOT match. There may be incompatibilities');\n                }\n            }\n            this.openvidu.wsUri = 'wss://' + url.host + '/openvidu';\n            this.openvidu.httpUri = 'https://' + url.host;\n        }\n        else {\n            logger.error('Token \"' + token + '\" is not valid');\n        }\n    };\n    return Session;\n}(EventDispatcher_1.EventDispatcher));\nexports.Session = Session;\n//# sourceMappingURL=Session.js.map","\"use strict\";\n\nexports.__esModule = true;\nexports.inherits = inherits;\nfunction inherits(parent, child) {\n\tvar props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tvar extended = Object.create(parent.prototype);\n\tfor (var p in props) {\n\t\textended[p] = props[p];\n\t}\n\textended.constructor = child;\n\tchild.prototype = extended;\n\treturn child;\n}","'use strict';\n\nexports.__esModule = true;\nexports.tokenize = exports.test = exports.scanner = exports.parser = exports.options = exports.inherits = exports.find = undefined;\n\nvar _class = require('./linkify/utils/class');\n\nvar _options = require('./linkify/utils/options');\n\nvar options = _interopRequireWildcard(_options);\n\nvar _scanner = require('./linkify/core/scanner');\n\nvar scanner = _interopRequireWildcard(_scanner);\n\nvar _parser = require('./linkify/core/parser');\n\nvar parser = _interopRequireWildcard(_parser);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nif (!Array.isArray) {\n\tArray.isArray = function (arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t};\n}\n\n/**\n\tConverts a string into tokens that represent linkable and non-linkable bits\n\t@method tokenize\n\t@param {String} str\n\t@return {Array} tokens\n*/\nvar tokenize = function tokenize(str) {\n\treturn parser.run(scanner.run(str));\n};\n\n/**\n\tReturns a list of linkable items in the given string.\n*/\nvar find = function find(str) {\n\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\tvar tokens = tokenize(str);\n\tvar filtered = [];\n\n\tfor (var i = 0; i < tokens.length; i++) {\n\t\tvar token = tokens[i];\n\t\tif (token.isLink && (!type || token.type === type)) {\n\t\t\tfiltered.push(token.toObject());\n\t\t}\n\t}\n\n\treturn filtered;\n};\n\n/**\n\tIs the given string valid linkable text of some sort\n\tNote that this does not trim the text for you.\n\n\tOptionally pass in a second `type` param, which is the type of link to test\n\tfor.\n\n\tFor example,\n\n\t\ttest(str, 'email');\n\n\tWill return `true` if str is a valid email.\n*/\nvar test = function test(str) {\n\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\tvar tokens = tokenize(str);\n\treturn tokens.length === 1 && tokens[0].isLink && (!type || tokens[0].type === type);\n};\n\n// Scanner and parser provide states and tokens for the lexicographic stage\n// (will be used to add additional link types)\nexports.find = find;\nexports.inherits = _class.inherits;\nexports.options = options;\nexports.parser = parser;\nexports.scanner = scanner;\nexports.test = test;\nexports.tokenize = tokenize;","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar defaults = {\n\tdefaultProtocol: 'http',\n\tevents: null,\n\tformat: noop,\n\tformatHref: noop,\n\tnl2br: false,\n\ttagName: 'a',\n\ttarget: typeToTarget,\n\tvalidate: true,\n\tignoreTags: [],\n\tattributes: null,\n\tclassName: 'linkified' // Deprecated value - no default class will be provided in the future\n};\n\nexports.defaults = defaults;\nexports.Options = Options;\nexports.contains = contains;\n\n\nfunction Options(opts) {\n\topts = opts || {};\n\n\tthis.defaultProtocol = opts.hasOwnProperty('defaultProtocol') ? opts.defaultProtocol : defaults.defaultProtocol;\n\tthis.events = opts.hasOwnProperty('events') ? opts.events : defaults.events;\n\tthis.format = opts.hasOwnProperty('format') ? opts.format : defaults.format;\n\tthis.formatHref = opts.hasOwnProperty('formatHref') ? opts.formatHref : defaults.formatHref;\n\tthis.nl2br = opts.hasOwnProperty('nl2br') ? opts.nl2br : defaults.nl2br;\n\tthis.tagName = opts.hasOwnProperty('tagName') ? opts.tagName : defaults.tagName;\n\tthis.target = opts.hasOwnProperty('target') ? opts.target : defaults.target;\n\tthis.validate = opts.hasOwnProperty('validate') ? opts.validate : defaults.validate;\n\tthis.ignoreTags = [];\n\n\t// linkAttributes and linkClass is deprecated\n\tthis.attributes = opts.attributes || opts.linkAttributes || defaults.attributes;\n\tthis.className = opts.hasOwnProperty('className') ? opts.className : opts.linkClass || defaults.className;\n\n\t// Make all tags names upper case\n\tvar ignoredTags = opts.hasOwnProperty('ignoreTags') ? opts.ignoreTags : defaults.ignoreTags;\n\tfor (var i = 0; i < ignoredTags.length; i++) {\n\t\tthis.ignoreTags.push(ignoredTags[i].toUpperCase());\n\t}\n}\n\nOptions.prototype = {\n\t/**\n  * Given the token, return all options for how it should be displayed\n  */\n\tresolve: function resolve(token) {\n\t\tvar href = token.toHref(this.defaultProtocol);\n\t\treturn {\n\t\t\tformatted: this.get('format', token.toString(), token),\n\t\t\tformattedHref: this.get('formatHref', href, token),\n\t\t\ttagName: this.get('tagName', href, token),\n\t\t\tclassName: this.get('className', href, token),\n\t\t\ttarget: this.get('target', href, token),\n\t\t\tevents: this.getObject('events', href, token),\n\t\t\tattributes: this.getObject('attributes', href, token)\n\t\t};\n\t},\n\n\n\t/**\n  * Returns true or false based on whether a token should be displayed as a\n  * link based on the user options. By default,\n  */\n\tcheck: function check(token) {\n\t\treturn this.get('validate', token.toString(), token);\n\t},\n\n\n\t// Private methods\n\n\t/**\n  * Resolve an option's value based on the value of the option and the given\n  * params.\n  * @param {String} key Name of option to use\n  * @param operator will be passed to the target option if it's method\n  * @param {MultiToken} token The token from linkify.tokenize\n  */\n\tget: function get(key, operator, token) {\n\t\tvar optionValue = void 0,\n\t\t    option = this[key];\n\t\tif (!option) {\n\t\t\treturn option;\n\t\t}\n\n\t\tswitch (typeof option === 'undefined' ? 'undefined' : _typeof(option)) {\n\t\t\tcase 'function':\n\t\t\t\treturn option(operator, token.type);\n\t\t\tcase 'object':\n\t\t\t\toptionValue = option.hasOwnProperty(token.type) ? option[token.type] : defaults[key];\n\t\t\t\treturn typeof optionValue === 'function' ? optionValue(operator, token.type) : optionValue;\n\t\t}\n\n\t\treturn option;\n\t},\n\tgetObject: function getObject(key, operator, token) {\n\t\tvar option = this[key];\n\t\treturn typeof option === 'function' ? option(operator, token.type) : option;\n\t}\n};\n\n/**\n * Quick indexOf replacement for checking the ignoreTags option\n */\nfunction contains(arr, value) {\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (arr[i] === value) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction noop(val) {\n\treturn val;\n}\n\nfunction typeToTarget(href, type) {\n\treturn type === 'url' ? '_blank' : null;\n}","/*!\n * videojs-record\n * @version 4.1.0\n * @see https://github.com/collab-project/videojs-record\n * @copyright 2014-2020 Collab\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"recordrtc\"), require(\"video.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VideojsRecord\", [\"recordrtc\", \"video.js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VideojsRecord\"] = factory(require(\"recordrtc\"), require(\"video.js\"));\n\telse\n\t\troot[\"VideojsRecord\"] = factory(root[\"RecordRTC\"], root[\"videojs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_recordrtc__, __WEBPACK_EXTERNAL_MODULE_video_js__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function _assertThisInitialized(self) {\\n  if (self === void 0) {\\n    throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");\\n  }\\n\\n  return self;\\n}\\n\\nmodule.exports = _assertThisInitialized;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/assertThisInitialized.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\\n  try {\\n    var info = gen[key](arg);\\n    var value = info.value;\\n  } catch (error) {\\n    reject(error);\\n    return;\\n  }\\n\\n  if (info.done) {\\n    resolve(value);\\n  } else {\\n    Promise.resolve(value).then(_next, _throw);\\n  }\\n}\\n\\nfunction _asyncToGenerator(fn) {\\n  return function () {\\n    var self = this,\\n        args = arguments;\\n    return new Promise(function (resolve, reject) {\\n      var gen = fn.apply(self, args);\\n\\n      function _next(value) {\\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \\\"next\\\", value);\\n      }\\n\\n      function _throw(err) {\\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \\\"throw\\\", err);\\n      }\\n\\n      _next(undefined);\\n    });\\n  };\\n}\\n\\nmodule.exports = _asyncToGenerator;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/asyncToGenerator.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function _classCallCheck(instance, Constructor) {\\n  if (!(instance instanceof Constructor)) {\\n    throw new TypeError(\\\"Cannot call a class as a function\\\");\\n  }\\n}\\n\\nmodule.exports = _classCallCheck;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/classCallCheck.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/createClass.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function _defineProperties(target, props) {\\n  for (var i = 0; i < props.length; i++) {\\n    var descriptor = props[i];\\n    descriptor.enumerable = descriptor.enumerable || false;\\n    descriptor.configurable = true;\\n    if (\\\"value\\\" in descriptor) descriptor.writable = true;\\n    Object.defineProperty(target, descriptor.key, descriptor);\\n  }\\n}\\n\\nfunction _createClass(Constructor, protoProps, staticProps) {\\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\\n  if (staticProps) _defineProperties(Constructor, staticProps);\\n  return Constructor;\\n}\\n\\nmodule.exports = _createClass;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/createClass.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/get.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/get.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var superPropBase = __webpack_require__(/*! ./superPropBase */ \\\"./node_modules/@babel/runtime/helpers/superPropBase.js\\\");\\n\\nfunction _get(target, property, receiver) {\\n  if (typeof Reflect !== \\\"undefined\\\" && Reflect.get) {\\n    module.exports = _get = Reflect.get;\\n  } else {\\n    module.exports = _get = function _get(target, property, receiver) {\\n      var base = superPropBase(target, property);\\n      if (!base) return;\\n      var desc = Object.getOwnPropertyDescriptor(base, property);\\n\\n      if (desc.get) {\\n        return desc.get.call(receiver);\\n      }\\n\\n      return desc.value;\\n    };\\n  }\\n\\n  return _get(target, property, receiver || target);\\n}\\n\\nmodule.exports = _get;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/get.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function _getPrototypeOf(o) {\\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\\n    return o.__proto__ || Object.getPrototypeOf(o);\\n  };\\n  return _getPrototypeOf(o);\\n}\\n\\nmodule.exports = _getPrototypeOf;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/getPrototypeOf.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/inherits.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/inherits.js ***!\n  \\*********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/setPrototypeOf.js\\\");\\n\\nfunction _inherits(subClass, superClass) {\\n  if (typeof superClass !== \\\"function\\\" && superClass !== null) {\\n    throw new TypeError(\\\"Super expression must either be null or a function\\\");\\n  }\\n\\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\\n    constructor: {\\n      value: subClass,\\n      writable: true,\\n      configurable: true\\n    }\\n  });\\n  if (superClass) setPrototypeOf(subClass, superClass);\\n}\\n\\nmodule.exports = _inherits;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/inherits.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function _interopRequireDefault(obj) {\\n  return obj && obj.__esModule ? obj : {\\n    \\\"default\\\": obj\\n  };\\n}\\n\\nmodule.exports = _interopRequireDefault;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/interopRequireDefault.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var _typeof = __webpack_require__(/*! ../helpers/typeof */ \\\"./node_modules/@babel/runtime/helpers/typeof.js\\\");\\n\\nvar assertThisInitialized = __webpack_require__(/*! ./assertThisInitialized */ \\\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\\\");\\n\\nfunction _possibleConstructorReturn(self, call) {\\n  if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) {\\n    return call;\\n  }\\n\\n  return assertThisInitialized(self);\\n}\\n\\nmodule.exports = _possibleConstructorReturn;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/setPrototypeOf.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function _setPrototypeOf(o, p) {\\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\\n    o.__proto__ = p;\\n    return o;\\n  };\\n\\n  return _setPrototypeOf(o, p);\\n}\\n\\nmodule.exports = _setPrototypeOf;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/setPrototypeOf.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/superPropBase.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/superPropBase.js ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var getPrototypeOf = __webpack_require__(/*! ./getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\");\\n\\nfunction _superPropBase(object, property) {\\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\\n    object = getPrototypeOf(object);\\n    if (object === null) break;\\n  }\\n\\n  return object;\\n}\\n\\nmodule.exports = _superPropBase;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/superPropBase.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/typeof.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function _typeof(obj) {\\n  \\\"@babel/helpers - typeof\\\";\\n\\n  if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") {\\n    module.exports = _typeof = function _typeof(obj) {\\n      return typeof obj;\\n    };\\n  } else {\\n    module.exports = _typeof = function _typeof(obj) {\\n      return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj;\\n    };\\n  }\\n\\n  return _typeof(obj);\\n}\\n\\nmodule.exports = _typeof;\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/helpers/typeof.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/regenerator/index.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!\n  \\**********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"module.exports = __webpack_require__(/*! regenerator-runtime */ \\\"./node_modules/regenerator-runtime/runtime.js\\\");\\n\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/@babel/runtime/regenerator/index.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/add-zero/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/add-zero/index.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_RESULT__;(function(exports) {\\n\\n  'use strict';\\n\\n  function addZero(value, digits) {\\n    digits = digits || 2;\\n\\n    var isNegative = Number(value) < 0;\\n    var buffer = value.toString();\\n    var size = 0;\\n\\n    // Strip minus sign if number is negative\\n    if(isNegative) {\\n      buffer = buffer.slice(1);\\n    }\\n\\n    size = digits - buffer.length + 1;\\n    buffer = new Array(size).join('0').concat(buffer);\\n\\n    // Adds back minus sign if needed\\n    return (isNegative ? '-' : '') + buffer;\\n  }\\n\\n  if(true) {\\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return addZero; }).call(exports, __webpack_require__, exports, module),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n  } else {}\\n\\n})(this);\\n\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/add-zero/index.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/global/window.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/global/window.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"/* WEBPACK VAR INJECTION */(function(global) {var win;\\n\\nif (typeof window !== \\\"undefined\\\") {\\n    win = window;\\n} else if (typeof global !== \\\"undefined\\\") {\\n    win = global;\\n} else if (typeof self !== \\\"undefined\\\"){\\n    win = self;\\n} else {\\n    win = {};\\n}\\n\\nmodule.exports = win;\\n\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \\\"./node_modules/webpack/buildin/global.js\\\")))\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/global/window.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parse-ms/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/parse-ms/index.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\nmodule.exports = milliseconds => {\\n\\tif (typeof milliseconds !== 'number') {\\n\\t\\tthrow new TypeError('Expected a number');\\n\\t}\\n\\n\\tconst roundTowardsZero = milliseconds > 0 ? Math.floor : Math.ceil;\\n\\n\\treturn {\\n\\t\\tdays: roundTowardsZero(milliseconds / 86400000),\\n\\t\\thours: roundTowardsZero(milliseconds / 3600000) % 24,\\n\\t\\tminutes: roundTowardsZero(milliseconds / 60000) % 60,\\n\\t\\tseconds: roundTowardsZero(milliseconds / 1000) % 60,\\n\\t\\tmilliseconds: roundTowardsZero(milliseconds) % 1000,\\n\\t\\tmicroseconds: roundTowardsZero(milliseconds * 1000) % 1000,\\n\\t\\tnanoseconds: roundTowardsZero(milliseconds * 1e6) % 1000\\n\\t};\\n};\\n\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/parse-ms/index.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/regenerator-runtime/runtime.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/regenerator-runtime/runtime.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"/**\\n * Copyright (c) 2014-present, Facebook, Inc.\\n *\\n * This source code is licensed under the MIT license found in the\\n * LICENSE file in the root directory of this source tree.\\n */\\n\\nvar runtime = (function (exports) {\\n  \\\"use strict\\\";\\n\\n  var Op = Object.prototype;\\n  var hasOwn = Op.hasOwnProperty;\\n  var undefined; // More compressible than void 0.\\n  var $Symbol = typeof Symbol === \\\"function\\\" ? Symbol : {};\\n  var iteratorSymbol = $Symbol.iterator || \\\"@@iterator\\\";\\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \\\"@@asyncIterator\\\";\\n  var toStringTagSymbol = $Symbol.toStringTag || \\\"@@toStringTag\\\";\\n\\n  function wrap(innerFn, outerFn, self, tryLocsList) {\\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\\n    var generator = Object.create(protoGenerator.prototype);\\n    var context = new Context(tryLocsList || []);\\n\\n    // The ._invoke method unifies the implementations of the .next,\\n    // .throw, and .return methods.\\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\\n\\n    return generator;\\n  }\\n  exports.wrap = wrap;\\n\\n  // Try/catch helper to minimize deoptimizations. Returns a completion\\n  // record like context.tryEntries[i].completion. This interface could\\n  // have been (and was previously) designed to take a closure to be\\n  // invoked without arguments, but in all the cases we care about we\\n  // already have an existing method we want to call, so there's no need\\n  // to create a new function object. We can even get away with assuming\\n  // the method takes exactly one argument, since that happens to be true\\n  // in every case, so we don't have to touch the arguments object. The\\n  // only additional allocation required is the completion record, which\\n  // has a stable shape and so hopefully should be cheap to allocate.\\n  function tryCatch(fn, obj, arg) {\\n    try {\\n      return { type: \\\"normal\\\", arg: fn.call(obj, arg) };\\n    } catch (err) {\\n      return { type: \\\"throw\\\", arg: err };\\n    }\\n  }\\n\\n  var GenStateSuspendedStart = \\\"suspendedStart\\\";\\n  var GenStateSuspendedYield = \\\"suspendedYield\\\";\\n  var GenStateExecuting = \\\"executing\\\";\\n  var GenStateCompleted = \\\"completed\\\";\\n\\n  // Returning this object from the innerFn has the same effect as\\n  // breaking out of the dispatch switch statement.\\n  var ContinueSentinel = {};\\n\\n  // Dummy constructor functions that we use as the .constructor and\\n  // .constructor.prototype properties for functions that return Generator\\n  // objects. For full spec compliance, you may wish to configure your\\n  // minifier not to mangle the names of these two functions.\\n  function Generator() {}\\n  function GeneratorFunction() {}\\n  function GeneratorFunctionPrototype() {}\\n\\n  // This is a polyfill for %IteratorPrototype% for environments that\\n  // don't natively support it.\\n  var IteratorPrototype = {};\\n  IteratorPrototype[iteratorSymbol] = function () {\\n    return this;\\n  };\\n\\n  var getProto = Object.getPrototypeOf;\\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\\n  if (NativeIteratorPrototype &&\\n      NativeIteratorPrototype !== Op &&\\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\\n    // This environment has a native %IteratorPrototype%; use it instead\\n    // of the polyfill.\\n    IteratorPrototype = NativeIteratorPrototype;\\n  }\\n\\n  var Gp = GeneratorFunctionPrototype.prototype =\\n    Generator.prototype = Object.create(IteratorPrototype);\\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\\n  GeneratorFunctionPrototype[toStringTagSymbol] =\\n    GeneratorFunction.displayName = \\\"GeneratorFunction\\\";\\n\\n  // Helper for defining the .next, .throw, and .return methods of the\\n  // Iterator interface in terms of a single ._invoke method.\\n  function defineIteratorMethods(prototype) {\\n    [\\\"next\\\", \\\"throw\\\", \\\"return\\\"].forEach(function(method) {\\n      prototype[method] = function(arg) {\\n        return this._invoke(method, arg);\\n      };\\n    });\\n  }\\n\\n  exports.isGeneratorFunction = function(genFun) {\\n    var ctor = typeof genFun === \\\"function\\\" && genFun.constructor;\\n    return ctor\\n      ? ctor === GeneratorFunction ||\\n        // For the native GeneratorFunction constructor, the best we can\\n        // do is to check its .name property.\\n        (ctor.displayName || ctor.name) === \\\"GeneratorFunction\\\"\\n      : false;\\n  };\\n\\n  exports.mark = function(genFun) {\\n    if (Object.setPrototypeOf) {\\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\\n    } else {\\n      genFun.__proto__ = GeneratorFunctionPrototype;\\n      if (!(toStringTagSymbol in genFun)) {\\n        genFun[toStringTagSymbol] = \\\"GeneratorFunction\\\";\\n      }\\n    }\\n    genFun.prototype = Object.create(Gp);\\n    return genFun;\\n  };\\n\\n  // Within the body of any async function, `await x` is transformed to\\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\\n  // `hasOwn.call(value, \\\"__await\\\")` to determine if the yielded value is\\n  // meant to be awaited.\\n  exports.awrap = function(arg) {\\n    return { __await: arg };\\n  };\\n\\n  function AsyncIterator(generator, PromiseImpl) {\\n    function invoke(method, arg, resolve, reject) {\\n      var record = tryCatch(generator[method], generator, arg);\\n      if (record.type === \\\"throw\\\") {\\n        reject(record.arg);\\n      } else {\\n        var result = record.arg;\\n        var value = result.value;\\n        if (value &&\\n            typeof value === \\\"object\\\" &&\\n            hasOwn.call(value, \\\"__await\\\")) {\\n          return PromiseImpl.resolve(value.__await).then(function(value) {\\n            invoke(\\\"next\\\", value, resolve, reject);\\n          }, function(err) {\\n            invoke(\\\"throw\\\", err, resolve, reject);\\n          });\\n        }\\n\\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\\n          // When a yielded Promise is resolved, its final value becomes\\n          // the .value of the Promise<{value,done}> result for the\\n          // current iteration.\\n          result.value = unwrapped;\\n          resolve(result);\\n        }, function(error) {\\n          // If a rejected Promise was yielded, throw the rejection back\\n          // into the async generator function so it can be handled there.\\n          return invoke(\\\"throw\\\", error, resolve, reject);\\n        });\\n      }\\n    }\\n\\n    var previousPromise;\\n\\n    function enqueue(method, arg) {\\n      function callInvokeWithMethodAndArg() {\\n        return new PromiseImpl(function(resolve, reject) {\\n          invoke(method, arg, resolve, reject);\\n        });\\n      }\\n\\n      return previousPromise =\\n        // If enqueue has been called before, then we want to wait until\\n        // all previous Promises have been resolved before calling invoke,\\n        // so that results are always delivered in the correct order. If\\n        // enqueue has not been called before, then it is important to\\n        // call invoke immediately, without waiting on a callback to fire,\\n        // so that the async generator function has the opportunity to do\\n        // any necessary setup in a predictable way. This predictability\\n        // is why the Promise constructor synchronously invokes its\\n        // executor callback, and why async functions synchronously\\n        // execute code before the first await. Since we implement simple\\n        // async functions in terms of async generators, it is especially\\n        // important to get this right, even though it requires care.\\n        previousPromise ? previousPromise.then(\\n          callInvokeWithMethodAndArg,\\n          // Avoid propagating failures to Promises returned by later\\n          // invocations of the iterator.\\n          callInvokeWithMethodAndArg\\n        ) : callInvokeWithMethodAndArg();\\n    }\\n\\n    // Define the unified helper method that is used to implement .next,\\n    // .throw, and .return (see defineIteratorMethods).\\n    this._invoke = enqueue;\\n  }\\n\\n  defineIteratorMethods(AsyncIterator.prototype);\\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\\n    return this;\\n  };\\n  exports.AsyncIterator = AsyncIterator;\\n\\n  // Note that simple async functions are implemented on top of\\n  // AsyncIterator objects; they just return a Promise for the value of\\n  // the final result produced by the iterator.\\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\\n\\n    var iter = new AsyncIterator(\\n      wrap(innerFn, outerFn, self, tryLocsList),\\n      PromiseImpl\\n    );\\n\\n    return exports.isGeneratorFunction(outerFn)\\n      ? iter // If outerFn is a generator, return the full iterator.\\n      : iter.next().then(function(result) {\\n          return result.done ? result.value : iter.next();\\n        });\\n  };\\n\\n  function makeInvokeMethod(innerFn, self, context) {\\n    var state = GenStateSuspendedStart;\\n\\n    return function invoke(method, arg) {\\n      if (state === GenStateExecuting) {\\n        throw new Error(\\\"Generator is already running\\\");\\n      }\\n\\n      if (state === GenStateCompleted) {\\n        if (method === \\\"throw\\\") {\\n          throw arg;\\n        }\\n\\n        // Be forgiving, per 25.3.3.3.3 of the spec:\\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\\n        return doneResult();\\n      }\\n\\n      context.method = method;\\n      context.arg = arg;\\n\\n      while (true) {\\n        var delegate = context.delegate;\\n        if (delegate) {\\n          var delegateResult = maybeInvokeDelegate(delegate, context);\\n          if (delegateResult) {\\n            if (delegateResult === ContinueSentinel) continue;\\n            return delegateResult;\\n          }\\n        }\\n\\n        if (context.method === \\\"next\\\") {\\n          // Setting context._sent for legacy support of Babel's\\n          // function.sent implementation.\\n          context.sent = context._sent = context.arg;\\n\\n        } else if (context.method === \\\"throw\\\") {\\n          if (state === GenStateSuspendedStart) {\\n            state = GenStateCompleted;\\n            throw context.arg;\\n          }\\n\\n          context.dispatchException(context.arg);\\n\\n        } else if (context.method === \\\"return\\\") {\\n          context.abrupt(\\\"return\\\", context.arg);\\n        }\\n\\n        state = GenStateExecuting;\\n\\n        var record = tryCatch(innerFn, self, context);\\n        if (record.type === \\\"normal\\\") {\\n          // If an exception is thrown from innerFn, we leave state ===\\n          // GenStateExecuting and loop back for another invocation.\\n          state = context.done\\n            ? GenStateCompleted\\n            : GenStateSuspendedYield;\\n\\n          if (record.arg === ContinueSentinel) {\\n            continue;\\n          }\\n\\n          return {\\n            value: record.arg,\\n            done: context.done\\n          };\\n\\n        } else if (record.type === \\\"throw\\\") {\\n          state = GenStateCompleted;\\n          // Dispatch the exception by looping back around to the\\n          // context.dispatchException(context.arg) call above.\\n          context.method = \\\"throw\\\";\\n          context.arg = record.arg;\\n        }\\n      }\\n    };\\n  }\\n\\n  // Call delegate.iterator[context.method](context.arg) and handle the\\n  // result, either by returning a { value, done } result from the\\n  // delegate iterator, or by modifying context.method and context.arg,\\n  // setting context.delegate to null, and returning the ContinueSentinel.\\n  function maybeInvokeDelegate(delegate, context) {\\n    var method = delegate.iterator[context.method];\\n    if (method === undefined) {\\n      // A .throw or .return when the delegate iterator has no .throw\\n      // method always terminates the yield* loop.\\n      context.delegate = null;\\n\\n      if (context.method === \\\"throw\\\") {\\n        // Note: [\\\"return\\\"] must be used for ES3 parsing compatibility.\\n        if (delegate.iterator[\\\"return\\\"]) {\\n          // If the delegate iterator has a return method, give it a\\n          // chance to clean up.\\n          context.method = \\\"return\\\";\\n          context.arg = undefined;\\n          maybeInvokeDelegate(delegate, context);\\n\\n          if (context.method === \\\"throw\\\") {\\n            // If maybeInvokeDelegate(context) changed context.method from\\n            // \\\"return\\\" to \\\"throw\\\", let that override the TypeError below.\\n            return ContinueSentinel;\\n          }\\n        }\\n\\n        context.method = \\\"throw\\\";\\n        context.arg = new TypeError(\\n          \\\"The iterator does not provide a 'throw' method\\\");\\n      }\\n\\n      return ContinueSentinel;\\n    }\\n\\n    var record = tryCatch(method, delegate.iterator, context.arg);\\n\\n    if (record.type === \\\"throw\\\") {\\n      context.method = \\\"throw\\\";\\n      context.arg = record.arg;\\n      context.delegate = null;\\n      return ContinueSentinel;\\n    }\\n\\n    var info = record.arg;\\n\\n    if (! info) {\\n      context.method = \\\"throw\\\";\\n      context.arg = new TypeError(\\\"iterator result is not an object\\\");\\n      context.delegate = null;\\n      return ContinueSentinel;\\n    }\\n\\n    if (info.done) {\\n      // Assign the result of the finished delegate to the temporary\\n      // variable specified by delegate.resultName (see delegateYield).\\n      context[delegate.resultName] = info.value;\\n\\n      // Resume execution at the desired location (see delegateYield).\\n      context.next = delegate.nextLoc;\\n\\n      // If context.method was \\\"throw\\\" but the delegate handled the\\n      // exception, let the outer generator proceed normally. If\\n      // context.method was \\\"next\\\", forget context.arg since it has been\\n      // \\\"consumed\\\" by the delegate iterator. If context.method was\\n      // \\\"return\\\", allow the original .return call to continue in the\\n      // outer generator.\\n      if (context.method !== \\\"return\\\") {\\n        context.method = \\\"next\\\";\\n        context.arg = undefined;\\n      }\\n\\n    } else {\\n      // Re-yield the result returned by the delegate method.\\n      return info;\\n    }\\n\\n    // The delegate iterator is finished, so forget it and continue with\\n    // the outer generator.\\n    context.delegate = null;\\n    return ContinueSentinel;\\n  }\\n\\n  // Define Generator.prototype.{next,throw,return} in terms of the\\n  // unified ._invoke helper method.\\n  defineIteratorMethods(Gp);\\n\\n  Gp[toStringTagSymbol] = \\\"Generator\\\";\\n\\n  // A Generator should always return itself as the iterator object when the\\n  // @@iterator function is called on it. Some browsers' implementations of the\\n  // iterator prototype chain incorrectly implement this, causing the Generator\\n  // object to not be returned from this call. This ensures that doesn't happen.\\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\\n  Gp[iteratorSymbol] = function() {\\n    return this;\\n  };\\n\\n  Gp.toString = function() {\\n    return \\\"[object Generator]\\\";\\n  };\\n\\n  function pushTryEntry(locs) {\\n    var entry = { tryLoc: locs[0] };\\n\\n    if (1 in locs) {\\n      entry.catchLoc = locs[1];\\n    }\\n\\n    if (2 in locs) {\\n      entry.finallyLoc = locs[2];\\n      entry.afterLoc = locs[3];\\n    }\\n\\n    this.tryEntries.push(entry);\\n  }\\n\\n  function resetTryEntry(entry) {\\n    var record = entry.completion || {};\\n    record.type = \\\"normal\\\";\\n    delete record.arg;\\n    entry.completion = record;\\n  }\\n\\n  function Context(tryLocsList) {\\n    // The root entry object (effectively a try statement without a catch\\n    // or a finally block) gives us a place to store values thrown from\\n    // locations where there is no enclosing try statement.\\n    this.tryEntries = [{ tryLoc: \\\"root\\\" }];\\n    tryLocsList.forEach(pushTryEntry, this);\\n    this.reset(true);\\n  }\\n\\n  exports.keys = function(object) {\\n    var keys = [];\\n    for (var key in object) {\\n      keys.push(key);\\n    }\\n    keys.reverse();\\n\\n    // Rather than returning an object with a next method, we keep\\n    // things simple and return the next function itself.\\n    return function next() {\\n      while (keys.length) {\\n        var key = keys.pop();\\n        if (key in object) {\\n          next.value = key;\\n          next.done = false;\\n          return next;\\n        }\\n      }\\n\\n      // To avoid creating an additional object, we just hang the .value\\n      // and .done properties off the next function object itself. This\\n      // also ensures that the minifier will not anonymize the function.\\n      next.done = true;\\n      return next;\\n    };\\n  };\\n\\n  function values(iterable) {\\n    if (iterable) {\\n      var iteratorMethod = iterable[iteratorSymbol];\\n      if (iteratorMethod) {\\n        return iteratorMethod.call(iterable);\\n      }\\n\\n      if (typeof iterable.next === \\\"function\\\") {\\n        return iterable;\\n      }\\n\\n      if (!isNaN(iterable.length)) {\\n        var i = -1, next = function next() {\\n          while (++i < iterable.length) {\\n            if (hasOwn.call(iterable, i)) {\\n              next.value = iterable[i];\\n              next.done = false;\\n              return next;\\n            }\\n          }\\n\\n          next.value = undefined;\\n          next.done = true;\\n\\n          return next;\\n        };\\n\\n        return next.next = next;\\n      }\\n    }\\n\\n    // Return an iterator with no values.\\n    return { next: doneResult };\\n  }\\n  exports.values = values;\\n\\n  function doneResult() {\\n    return { value: undefined, done: true };\\n  }\\n\\n  Context.prototype = {\\n    constructor: Context,\\n\\n    reset: function(skipTempReset) {\\n      this.prev = 0;\\n      this.next = 0;\\n      // Resetting context._sent for legacy support of Babel's\\n      // function.sent implementation.\\n      this.sent = this._sent = undefined;\\n      this.done = false;\\n      this.delegate = null;\\n\\n      this.method = \\\"next\\\";\\n      this.arg = undefined;\\n\\n      this.tryEntries.forEach(resetTryEntry);\\n\\n      if (!skipTempReset) {\\n        for (var name in this) {\\n          // Not sure about the optimal order of these conditions:\\n          if (name.charAt(0) === \\\"t\\\" &&\\n              hasOwn.call(this, name) &&\\n              !isNaN(+name.slice(1))) {\\n            this[name] = undefined;\\n          }\\n        }\\n      }\\n    },\\n\\n    stop: function() {\\n      this.done = true;\\n\\n      var rootEntry = this.tryEntries[0];\\n      var rootRecord = rootEntry.completion;\\n      if (rootRecord.type === \\\"throw\\\") {\\n        throw rootRecord.arg;\\n      }\\n\\n      return this.rval;\\n    },\\n\\n    dispatchException: function(exception) {\\n      if (this.done) {\\n        throw exception;\\n      }\\n\\n      var context = this;\\n      function handle(loc, caught) {\\n        record.type = \\\"throw\\\";\\n        record.arg = exception;\\n        context.next = loc;\\n\\n        if (caught) {\\n          // If the dispatched exception was caught by a catch block,\\n          // then let that catch block handle the exception normally.\\n          context.method = \\\"next\\\";\\n          context.arg = undefined;\\n        }\\n\\n        return !! caught;\\n      }\\n\\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\\n        var entry = this.tryEntries[i];\\n        var record = entry.completion;\\n\\n        if (entry.tryLoc === \\\"root\\\") {\\n          // Exception thrown outside of any try block that could handle\\n          // it, so set the completion value of the entire function to\\n          // throw the exception.\\n          return handle(\\\"end\\\");\\n        }\\n\\n        if (entry.tryLoc <= this.prev) {\\n          var hasCatch = hasOwn.call(entry, \\\"catchLoc\\\");\\n          var hasFinally = hasOwn.call(entry, \\\"finallyLoc\\\");\\n\\n          if (hasCatch && hasFinally) {\\n            if (this.prev < entry.catchLoc) {\\n              return handle(entry.catchLoc, true);\\n            } else if (this.prev < entry.finallyLoc) {\\n              return handle(entry.finallyLoc);\\n            }\\n\\n          } else if (hasCatch) {\\n            if (this.prev < entry.catchLoc) {\\n              return handle(entry.catchLoc, true);\\n            }\\n\\n          } else if (hasFinally) {\\n            if (this.prev < entry.finallyLoc) {\\n              return handle(entry.finallyLoc);\\n            }\\n\\n          } else {\\n            throw new Error(\\\"try statement without catch or finally\\\");\\n          }\\n        }\\n      }\\n    },\\n\\n    abrupt: function(type, arg) {\\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\\n        var entry = this.tryEntries[i];\\n        if (entry.tryLoc <= this.prev &&\\n            hasOwn.call(entry, \\\"finallyLoc\\\") &&\\n            this.prev < entry.finallyLoc) {\\n          var finallyEntry = entry;\\n          break;\\n        }\\n      }\\n\\n      if (finallyEntry &&\\n          (type === \\\"break\\\" ||\\n           type === \\\"continue\\\") &&\\n          finallyEntry.tryLoc <= arg &&\\n          arg <= finallyEntry.finallyLoc) {\\n        // Ignore the finally entry if control is not jumping to a\\n        // location outside the try/catch block.\\n        finallyEntry = null;\\n      }\\n\\n      var record = finallyEntry ? finallyEntry.completion : {};\\n      record.type = type;\\n      record.arg = arg;\\n\\n      if (finallyEntry) {\\n        this.method = \\\"next\\\";\\n        this.next = finallyEntry.finallyLoc;\\n        return ContinueSentinel;\\n      }\\n\\n      return this.complete(record);\\n    },\\n\\n    complete: function(record, afterLoc) {\\n      if (record.type === \\\"throw\\\") {\\n        throw record.arg;\\n      }\\n\\n      if (record.type === \\\"break\\\" ||\\n          record.type === \\\"continue\\\") {\\n        this.next = record.arg;\\n      } else if (record.type === \\\"return\\\") {\\n        this.rval = this.arg = record.arg;\\n        this.method = \\\"return\\\";\\n        this.next = \\\"end\\\";\\n      } else if (record.type === \\\"normal\\\" && afterLoc) {\\n        this.next = afterLoc;\\n      }\\n\\n      return ContinueSentinel;\\n    },\\n\\n    finish: function(finallyLoc) {\\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\\n        var entry = this.tryEntries[i];\\n        if (entry.finallyLoc === finallyLoc) {\\n          this.complete(entry.completion, entry.afterLoc);\\n          resetTryEntry(entry);\\n          return ContinueSentinel;\\n        }\\n      }\\n    },\\n\\n    \\\"catch\\\": function(tryLoc) {\\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\\n        var entry = this.tryEntries[i];\\n        if (entry.tryLoc === tryLoc) {\\n          var record = entry.completion;\\n          if (record.type === \\\"throw\\\") {\\n            var thrown = record.arg;\\n            resetTryEntry(entry);\\n          }\\n          return thrown;\\n        }\\n      }\\n\\n      // The context.catch method must only be called with a location\\n      // argument that corresponds to a known catch block.\\n      throw new Error(\\\"illegal catch attempt\\\");\\n    },\\n\\n    delegateYield: function(iterable, resultName, nextLoc) {\\n      this.delegate = {\\n        iterator: values(iterable),\\n        resultName: resultName,\\n        nextLoc: nextLoc\\n      };\\n\\n      if (this.method === \\\"next\\\") {\\n        // Deliberately forget the last sent value so that we don't\\n        // accidentally pass it on to the delegate.\\n        this.arg = undefined;\\n      }\\n\\n      return ContinueSentinel;\\n    }\\n  };\\n\\n  // Regardless of whether this script is executing as a CommonJS module\\n  // or not, return the runtime object so that we can declare the variable\\n  // regeneratorRuntime in the outer scope, which allows this module to be\\n  // injected easily by `bin/regenerator --include-runtime script.js`.\\n  return exports;\\n\\n}(\\n  // If this script is executing as a CommonJS module, use module.exports\\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\\n  // object. Either way, the resulting object will be used to initialize\\n  // the regeneratorRuntime variable at the top of this file.\\n   true ? module.exports : undefined\\n));\\n\\ntry {\\n  regeneratorRuntime = runtime;\\n} catch (accidentalStrictMode) {\\n  // This module should not be running in strict mode, so the above\\n  // assignment should always work unless something is misconfigured. Just\\n  // in case runtime.js accidentally runs in strict mode, we can escape\\n  // strict mode using a global Function call. This could conceivably fail\\n  // if a Content Security Policy forbids using Function, but in that case\\n  // the proper solution is to fix the accidental strict mode problem. If\\n  // you've misconfigured your bundler to force strict mode and applied a\\n  // CSP to forbid Function, and you're not willing to fix either of those\\n  // problems, please detail your unique predicament in a GitHub issue.\\n  Function(\\\"r\\\", \\\"regeneratorRuntime = r\\\")(runtime);\\n}\\n\\n\\n//# sourceURL=webpack://VideojsRecord/./node_modules/regenerator-runtime/runtime.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/global.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"var g;\\n\\n// This works in non-strict mode\\ng = (function() {\\n\\treturn this;\\n})();\\n\\ntry {\\n\\t// This works if eval is allowed (see CSP)\\n\\tg = g || new Function(\\\"return this\\\")();\\n} catch (e) {\\n\\t// This works if the window reference is available\\n\\tif (typeof window === \\\"object\\\") g = window;\\n}\\n\\n// g can still be undefined, but nothing to do about it...\\n// We return undefined, instead of nothing here, so it's\\n// easier to handle this case. if(!global) { ...}\\n\\nmodule.exports = g;\\n\\n\\n//# sourceURL=webpack://VideojsRecord/(webpack)/buildin/global.js?\");\n\n/***/ }),\n\n/***/ \"./src/css/videojs.record.scss\":\n/*!*************************************!*\\\n  !*** ./src/css/videojs.record.scss ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"// extracted by mini-css-extract-plugin\\n\\n//# sourceURL=webpack://VideojsRecord/./src/css/videojs.record.scss?\");\n\n/***/ }),\n\n/***/ \"./src/js/controls/animation-display.js\":\n/*!**********************************************!*\\\n  !*** ./src/js/controls/animation-display.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar AnimationDisplay = function (_Component) {\\n  (0, _inherits2.default)(AnimationDisplay, _Component);\\n\\n  var _super = _createSuper(AnimationDisplay);\\n\\n  function AnimationDisplay() {\\n    (0, _classCallCheck2.default)(this, AnimationDisplay);\\n    return _super.apply(this, arguments);\\n  }\\n\\n  (0, _createClass2.default)(AnimationDisplay, [{\\n    key: \\\"createEl\\\",\\n    value: function createEl() {\\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(AnimationDisplay.prototype), \\\"createEl\\\", this).call(this, 'div', {\\n        className: 'vjs-animation-display',\\n        innerHTML: '<img />'\\n      });\\n    }\\n  }]);\\n  return AnimationDisplay;\\n}(Component);\\n\\nComponent.registerComponent('AnimationDisplay', AnimationDisplay);\\nvar _default = AnimationDisplay;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/animation-display.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/controls/camera-button.js\":\n/*!******************************************!*\\\n  !*** ./src/js/controls/camera-button.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \\\"./src/js/event.js\\\"));\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Button = _video.default.getComponent('Button');\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar CameraButton = function (_Button) {\\n  (0, _inherits2.default)(CameraButton, _Button);\\n\\n  var _super = _createSuper(CameraButton);\\n\\n  function CameraButton() {\\n    (0, _classCallCheck2.default)(this, CameraButton);\\n    return _super.apply(this, arguments);\\n  }\\n\\n  (0, _createClass2.default)(CameraButton, [{\\n    key: \\\"buildCSSClass\\\",\\n    value: function buildCSSClass() {\\n      return 'vjs-camera-button vjs-control vjs-button vjs-icon-photo-camera';\\n    }\\n  }, {\\n    key: \\\"enable\\\",\\n    value: function enable() {\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), \\\"enable\\\", this).call(this);\\n      this.on(this.player_, _event.default.START_RECORD, this.onStart);\\n      this.on(this.player_, _event.default.STOP_RECORD, this.onStop);\\n    }\\n  }, {\\n    key: \\\"disable\\\",\\n    value: function disable() {\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), \\\"disable\\\", this).call(this);\\n      this.off(this.player_, _event.default.START_RECORD, this.onStart);\\n      this.off(this.player_, _event.default.STOP_RECORD, this.onStop);\\n    }\\n  }, {\\n    key: \\\"show\\\",\\n    value: function show() {\\n      if (this.layoutExclude && this.layoutExclude === true) {\\n        return;\\n      }\\n\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), \\\"show\\\", this).call(this);\\n    }\\n  }, {\\n    key: \\\"handleClick\\\",\\n    value: function handleClick(event) {\\n      var recorder = this.player_.record();\\n\\n      if (!recorder.isProcessing()) {\\n        recorder.start();\\n      } else {\\n        recorder.retrySnapshot();\\n        this.onStop();\\n        this.player_.trigger(_event.default.RETRY);\\n      }\\n    }\\n  }, {\\n    key: \\\"onStart\\\",\\n    value: function onStart(event) {\\n      this.removeClass('vjs-icon-photo-camera');\\n      this.addClass('vjs-icon-replay');\\n      this.controlText('Retry');\\n    }\\n  }, {\\n    key: \\\"onStop\\\",\\n    value: function onStop(event) {\\n      this.removeClass('vjs-icon-replay');\\n      this.addClass('vjs-icon-photo-camera');\\n      this.controlText('Image');\\n    }\\n  }]);\\n  return CameraButton;\\n}(Button);\\n\\nCameraButton.prototype.controlText_ = 'Image';\\nComponent.registerComponent('CameraButton', CameraButton);\\nvar _default = CameraButton;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/camera-button.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/controls/device-button.js\":\n/*!******************************************!*\\\n  !*** ./src/js/controls/device-button.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Button = _video.default.getComponent('Button');\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar DeviceButton = function (_Button) {\\n  (0, _inherits2.default)(DeviceButton, _Button);\\n\\n  var _super = _createSuper(DeviceButton);\\n\\n  function DeviceButton() {\\n    (0, _classCallCheck2.default)(this, DeviceButton);\\n    return _super.apply(this, arguments);\\n  }\\n\\n  (0, _createClass2.default)(DeviceButton, [{\\n    key: \\\"handleClick\\\",\\n    value: function handleClick(event) {\\n      this.player_.record().getDevice();\\n    }\\n  }, {\\n    key: \\\"show\\\",\\n    value: function show() {\\n      if (this.layoutExclude && this.layoutExclude === true) {\\n        return;\\n      }\\n\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(DeviceButton.prototype), \\\"show\\\", this).call(this);\\n    }\\n  }]);\\n  return DeviceButton;\\n}(Button);\\n\\nDeviceButton.prototype.controlText_ = 'Device';\\nComponent.registerComponent('DeviceButton', DeviceButton);\\nvar _default = DeviceButton;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/device-button.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/controls/picture-in-picture-toggle.js\":\n/*!******************************************************!*\\\n  !*** ./src/js/controls/picture-in-picture-toggle.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ \\\"./node_modules/@babel/runtime/regenerator/index.js\\\"));\\n\\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \\\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\\\"));\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \\\"./src/js/event.js\\\"));\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Button = _video.default.getComponent('Button');\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar PictureInPictureToggle = function (_Button) {\\n  (0, _inherits2.default)(PictureInPictureToggle, _Button);\\n\\n  var _super = _createSuper(PictureInPictureToggle);\\n\\n  function PictureInPictureToggle(player, options) {\\n    var _this;\\n\\n    (0, _classCallCheck2.default)(this, PictureInPictureToggle);\\n    _this = _super.call(this, player, options);\\n\\n    _this.on(_this.player_, _event.default.ENTER_PIP, _this.onStart);\\n\\n    _this.on(_this.player_, _event.default.LEAVE_PIP, _this.onStop);\\n\\n    return _this;\\n  }\\n\\n  (0, _createClass2.default)(PictureInPictureToggle, [{\\n    key: \\\"buildCSSClass\\\",\\n    value: function buildCSSClass() {\\n      return 'vjs-pip-button vjs-control vjs-button vjs-icon-picture-in-picture-start';\\n    }\\n  }, {\\n    key: \\\"show\\\",\\n    value: function show() {\\n      if (this.layoutExclude && this.layoutExclude === true) {\\n        return;\\n      }\\n\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(PictureInPictureToggle.prototype), \\\"show\\\", this).call(this);\\n    }\\n  }, {\\n    key: \\\"handleClick\\\",\\n    value: function () {\\n      var _handleClick = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee(event) {\\n        var recorder;\\n        return _regenerator.default.wrap(function _callee$(_context) {\\n          while (1) {\\n            switch (_context.prev = _context.next) {\\n              case 0:\\n                recorder = this.player_.record();\\n                this.disable();\\n                _context.prev = 2;\\n\\n                if (!(recorder.mediaElement !== document.pictureInPictureElement)) {\\n                  _context.next = 8;\\n                  break;\\n                }\\n\\n                _context.next = 6;\\n                return recorder.mediaElement.requestPictureInPicture();\\n\\n              case 6:\\n                _context.next = 10;\\n                break;\\n\\n              case 8:\\n                _context.next = 10;\\n                return document.exitPictureInPicture();\\n\\n              case 10:\\n                _context.next = 15;\\n                break;\\n\\n              case 12:\\n                _context.prev = 12;\\n                _context.t0 = _context[\\\"catch\\\"](2);\\n                this.player_.trigger(_event.default.ERROR, _context.t0);\\n\\n              case 15:\\n                _context.prev = 15;\\n                this.enable();\\n                return _context.finish(15);\\n\\n              case 18:\\n              case \\\"end\\\":\\n                return _context.stop();\\n            }\\n          }\\n        }, _callee, this, [[2, 12, 15, 18]]);\\n      }));\\n\\n      function handleClick(_x) {\\n        return _handleClick.apply(this, arguments);\\n      }\\n\\n      return handleClick;\\n    }()\\n  }, {\\n    key: \\\"onStart\\\",\\n    value: function onStart(event) {\\n      this.removeClass('vjs-icon-picture-in-picture-start');\\n      this.addClass('vjs-icon-picture-in-picture-stop');\\n    }\\n  }, {\\n    key: \\\"onStop\\\",\\n    value: function onStop(event) {\\n      this.removeClass('vjs-icon-picture-in-picture-stop');\\n      this.addClass('vjs-icon-picture-in-picture-start');\\n    }\\n  }]);\\n  return PictureInPictureToggle;\\n}(Button);\\n\\nPictureInPictureToggle.prototype.controlText_ = 'Picture in Picture';\\nComponent.registerComponent('PictureInPictureToggle', PictureInPictureToggle);\\nvar _default = PictureInPictureToggle;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/picture-in-picture-toggle.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/controls/record-canvas.js\":\n/*!******************************************!*\\\n  !*** ./src/js/controls/record-canvas.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar RecordCanvas = function (_Component) {\\n  (0, _inherits2.default)(RecordCanvas, _Component);\\n\\n  var _super = _createSuper(RecordCanvas);\\n\\n  function RecordCanvas() {\\n    (0, _classCallCheck2.default)(this, RecordCanvas);\\n    return _super.apply(this, arguments);\\n  }\\n\\n  (0, _createClass2.default)(RecordCanvas, [{\\n    key: \\\"createEl\\\",\\n    value: function createEl() {\\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(RecordCanvas.prototype), \\\"createEl\\\", this).call(this, 'div', {\\n        className: 'vjs-record-canvas',\\n        innerHTML: '<canvas></canvas>'\\n      });\\n    }\\n  }]);\\n  return RecordCanvas;\\n}(Component);\\n\\nComponent.registerComponent('RecordCanvas', RecordCanvas);\\nvar _default = RecordCanvas;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/record-canvas.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/controls/record-indicator.js\":\n/*!*********************************************!*\\\n  !*** ./src/js/controls/record-indicator.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \\\"./src/js/event.js\\\"));\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar RecordIndicator = function (_Component) {\\n  (0, _inherits2.default)(RecordIndicator, _Component);\\n\\n  var _super = _createSuper(RecordIndicator);\\n\\n  function RecordIndicator(player, options) {\\n    var _this;\\n\\n    (0, _classCallCheck2.default)(this, RecordIndicator);\\n    _this = _super.call(this, player, options);\\n\\n    _this.enable();\\n\\n    return _this;\\n  }\\n\\n  (0, _createClass2.default)(RecordIndicator, [{\\n    key: \\\"createEl\\\",\\n    value: function createEl() {\\n      var props = {\\n        className: 'vjs-record-indicator vjs-control',\\n        dir: 'ltr'\\n      };\\n      var attr = {\\n        'data-label': this.localize('REC')\\n      };\\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(RecordIndicator.prototype), \\\"createEl\\\", this).call(this, 'div', props, attr);\\n    }\\n  }, {\\n    key: \\\"enable\\\",\\n    value: function enable() {\\n      this.on(this.player_, _event.default.START_RECORD, this.show);\\n      this.on(this.player_, _event.default.STOP_RECORD, this.hide);\\n    }\\n  }, {\\n    key: \\\"disable\\\",\\n    value: function disable() {\\n      this.off(this.player_, _event.default.START_RECORD, this.show);\\n      this.off(this.player_, _event.default.STOP_RECORD, this.hide);\\n    }\\n  }, {\\n    key: \\\"show\\\",\\n    value: function show() {\\n      if (this.layoutExclude && this.layoutExclude === true) {\\n        return;\\n      }\\n\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordIndicator.prototype), \\\"show\\\", this).call(this);\\n    }\\n  }]);\\n  return RecordIndicator;\\n}(Component);\\n\\nComponent.registerComponent('RecordIndicator', RecordIndicator);\\nvar _default = RecordIndicator;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/record-indicator.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/controls/record-toggle.js\":\n/*!******************************************!*\\\n  !*** ./src/js/controls/record-toggle.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \\\"./src/js/event.js\\\"));\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Button = _video.default.getComponent('Button');\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar RecordToggle = function (_Button) {\\n  (0, _inherits2.default)(RecordToggle, _Button);\\n\\n  var _super = _createSuper(RecordToggle);\\n\\n  function RecordToggle() {\\n    (0, _classCallCheck2.default)(this, RecordToggle);\\n    return _super.apply(this, arguments);\\n  }\\n\\n  (0, _createClass2.default)(RecordToggle, [{\\n    key: \\\"buildCSSClass\\\",\\n    value: function buildCSSClass() {\\n      return 'vjs-record-button vjs-control vjs-button vjs-icon-record-start';\\n    }\\n  }, {\\n    key: \\\"enable\\\",\\n    value: function enable() {\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), \\\"enable\\\", this).call(this);\\n      this.on(this.player_, _event.default.START_RECORD, this.onStart);\\n      this.on(this.player_, _event.default.STOP_RECORD, this.onStop);\\n    }\\n  }, {\\n    key: \\\"disable\\\",\\n    value: function disable() {\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), \\\"disable\\\", this).call(this);\\n      this.off(this.player_, _event.default.START_RECORD, this.onStart);\\n      this.off(this.player_, _event.default.STOP_RECORD, this.onStop);\\n    }\\n  }, {\\n    key: \\\"show\\\",\\n    value: function show() {\\n      if (this.layoutExclude && this.layoutExclude === true) {\\n        return;\\n      }\\n\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), \\\"show\\\", this).call(this);\\n    }\\n  }, {\\n    key: \\\"handleClick\\\",\\n    value: function handleClick(event) {\\n      var recorder = this.player_.record();\\n\\n      if (!recorder.isRecording()) {\\n        recorder.start();\\n      } else {\\n        recorder.stop();\\n      }\\n    }\\n  }, {\\n    key: \\\"onStart\\\",\\n    value: function onStart(event) {\\n      this.removeClass('vjs-icon-record-start');\\n      this.addClass('vjs-icon-record-stop');\\n      this.controlText('Stop');\\n    }\\n  }, {\\n    key: \\\"onStop\\\",\\n    value: function onStop(event) {\\n      this.removeClass('vjs-icon-record-stop');\\n      this.addClass('vjs-icon-record-start');\\n      this.controlText('Record');\\n    }\\n  }]);\\n  return RecordToggle;\\n}(Button);\\n\\nRecordToggle.prototype.controlText_ = 'Record';\\nComponent.registerComponent('RecordToggle', RecordToggle);\\nvar _default = RecordToggle;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/controls/record-toggle.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/defaults.js\":\n/*!****************************!*\\\n  !*** ./src/js/defaults.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\nvar pluginDefaultOptions = {\\n  image: false,\\n  audio: false,\\n  video: false,\\n  animation: false,\\n  screen: false,\\n  maxLength: 10,\\n  maxFileSize: 0,\\n  displayMilliseconds: false,\\n  frameWidth: 320,\\n  frameHeight: 240,\\n  debug: false,\\n  pip: false,\\n  autoMuteDevice: false,\\n  videoBitRate: 1200,\\n  videoEngine: 'recordrtc',\\n  videoFrameRate: 30,\\n  videoMimeType: 'video/webm',\\n  videoRecorderType: 'auto',\\n  videoWorkerURL: '',\\n  videoWebAssemblyURL: '',\\n  audioEngine: 'recordrtc',\\n  audioRecorderType: 'auto',\\n  audioMimeType: 'auto',\\n  audioBufferSize: 4096,\\n  audioSampleRate: 44100,\\n  audioBitRate: 128,\\n  audioChannels: 2,\\n  audioWorkerURL: '',\\n  audioWebAssemblyURL: '',\\n  audioBufferUpdate: false,\\n  animationFrameRate: 200,\\n  animationQuality: 10,\\n  imageOutputType: 'dataURL',\\n  imageOutputFormat: 'image/png',\\n  imageOutputQuality: 0.92,\\n  timeSlice: 0,\\n  convertEngine: '',\\n  convertWorkerURL: '',\\n  convertOptions: [],\\n  hotKeys: false,\\n  pluginLibraryOptions: {}\\n};\\nvar _default = pluginDefaultOptions;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/defaults.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/engine/convert-engine.js\":\n/*!*****************************************!*\\\n  !*** ./src/js/engine/convert-engine.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.FFMPEGJS = exports.TSEBML = exports.CONVERT_PLUGINS = exports.ConvertEngine = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _fileUtil = __webpack_require__(/*! ../utils/file-util */ \\\"./src/js/utils/file-util.js\\\");\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar TSEBML = 'ts-ebml';\\nexports.TSEBML = TSEBML;\\nvar FFMPEGJS = 'ffmpeg.js';\\nexports.FFMPEGJS = FFMPEGJS;\\nvar CONVERT_PLUGINS = [TSEBML, FFMPEGJS];\\nexports.CONVERT_PLUGINS = CONVERT_PLUGINS;\\n\\nvar ConvertEngine = function (_Component) {\\n  (0, _inherits2.default)(ConvertEngine, _Component);\\n\\n  var _super = _createSuper(ConvertEngine);\\n\\n  function ConvertEngine(player, options) {\\n    (0, _classCallCheck2.default)(this, ConvertEngine);\\n    options.evented = true;\\n    return _super.call(this, player, options);\\n  }\\n\\n  (0, _createClass2.default)(ConvertEngine, [{\\n    key: \\\"setup\\\",\\n    value: function setup(mediaType, debug) {\\n      this.mediaType = mediaType;\\n      this.debug = debug;\\n    }\\n  }, {\\n    key: \\\"loadBlob\\\",\\n    value: function loadBlob(data) {\\n      return (0, _fileUtil.blobToArrayBuffer)(data);\\n    }\\n  }, {\\n    key: \\\"addFileInfo\\\",\\n    value: function addFileInfo(fileObj, now) {\\n      (0, _fileUtil.addFileInfo)(fileObj, now);\\n    }\\n  }]);\\n  return ConvertEngine;\\n}(Component);\\n\\nexports.ConvertEngine = ConvertEngine;\\n_video.default.ConvertEngine = ConvertEngine;\\nComponent.registerComponent('ConvertEngine', ConvertEngine);\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/convert-engine.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/engine/engine-loader.js\":\n/*!****************************************!*\\\n  !*** ./src/js/engine/engine-loader.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.getConvertEngine = exports.getVideoEngine = exports.isAudioPluginActive = exports.getAudioEngine = void 0;\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _recordRtc = _interopRequireDefault(__webpack_require__(/*! ./record-rtc */ \\\"./src/js/engine/record-rtc.js\\\"));\\n\\nvar _convertEngine = __webpack_require__(/*! ./convert-engine */ \\\"./src/js/engine/convert-engine.js\\\");\\n\\nvar _recordEngine = __webpack_require__(/*! ./record-engine */ \\\"./src/js/engine/record-engine.js\\\");\\n\\nvar getAudioEngine = function getAudioEngine(audioEngine) {\\n  var AudioEngineClass;\\n\\n  switch (audioEngine) {\\n    case _recordEngine.RECORDRTC:\\n      AudioEngineClass = _recordRtc.default;\\n      break;\\n\\n    case _recordEngine.LIBVORBISJS:\\n      AudioEngineClass = _video.default.LibVorbisEngine;\\n      break;\\n\\n    case _recordEngine.RECORDERJS:\\n      AudioEngineClass = _video.default.RecorderjsEngine;\\n      break;\\n\\n    case _recordEngine.LAMEJS:\\n      AudioEngineClass = _video.default.LamejsEngine;\\n      break;\\n\\n    case _recordEngine.OPUSRECORDER:\\n      AudioEngineClass = _video.default.OpusRecorderEngine;\\n      break;\\n\\n    case _recordEngine.VMSG:\\n      AudioEngineClass = _video.default.VmsgEngine;\\n      break;\\n\\n    default:\\n      throw new Error('Unknown audioEngine: ' + audioEngine);\\n  }\\n\\n  return AudioEngineClass;\\n};\\n\\nexports.getAudioEngine = getAudioEngine;\\n\\nvar getVideoEngine = function getVideoEngine(videoEngine) {\\n  var VideoEngineClass;\\n\\n  switch (videoEngine) {\\n    case _recordEngine.RECORDRTC:\\n      VideoEngineClass = _recordRtc.default;\\n      break;\\n\\n    case _recordEngine.WEBMWASM:\\n      VideoEngineClass = _video.default.WebmWasmEngine;\\n      break;\\n\\n    default:\\n      throw new Error('Unknown videoEngine: ' + videoEngine);\\n  }\\n\\n  return VideoEngineClass;\\n};\\n\\nexports.getVideoEngine = getVideoEngine;\\n\\nvar isAudioPluginActive = function isAudioPluginActive(audioEngine) {\\n  return _recordEngine.AUDIO_PLUGINS.indexOf(audioEngine) > -1;\\n};\\n\\nexports.isAudioPluginActive = isAudioPluginActive;\\n\\nvar getConvertEngine = function getConvertEngine(convertEngine) {\\n  var ConvertEngineClass;\\n\\n  switch (convertEngine) {\\n    case '':\\n      break;\\n\\n    case _convertEngine.TSEBML:\\n      ConvertEngineClass = _video.default.TsEBMLEngine;\\n      break;\\n\\n    case _convertEngine.FFMPEGJS:\\n      ConvertEngineClass = _video.default.FFmpegjsEngine;\\n      break;\\n\\n    default:\\n      throw new Error('Unknown convertEngine: ' + convertEngine);\\n  }\\n\\n  return ConvertEngineClass;\\n};\\n\\nexports.getConvertEngine = getConvertEngine;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/engine-loader.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/engine/record-engine.js\":\n/*!****************************************!*\\\n  !*** ./src/js/engine/record-engine.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.WEBMWASM = exports.VMSG = exports.OPUSRECORDER = exports.LAMEJS = exports.RECORDERJS = exports.LIBVORBISJS = exports.RECORDRTC = exports.VIDEO_PLUGINS = exports.AUDIO_PLUGINS = exports.RECORD_PLUGINS = exports.RecordEngine = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \\\"./src/js/event.js\\\"));\\n\\nvar _fileUtil = __webpack_require__(/*! ../utils/file-util */ \\\"./src/js/utils/file-util.js\\\");\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar RECORDRTC = 'recordrtc';\\nexports.RECORDRTC = RECORDRTC;\\nvar LIBVORBISJS = 'libvorbis.js';\\nexports.LIBVORBISJS = LIBVORBISJS;\\nvar RECORDERJS = 'recorder.js';\\nexports.RECORDERJS = RECORDERJS;\\nvar LAMEJS = 'lamejs';\\nexports.LAMEJS = LAMEJS;\\nvar OPUSRECORDER = 'opus-recorder';\\nexports.OPUSRECORDER = OPUSRECORDER;\\nvar VMSG = 'vmsg';\\nexports.VMSG = VMSG;\\nvar WEBMWASM = 'webm-wasm';\\nexports.WEBMWASM = WEBMWASM;\\nvar AUDIO_PLUGINS = [LIBVORBISJS, RECORDERJS, LAMEJS, OPUSRECORDER, VMSG];\\nexports.AUDIO_PLUGINS = AUDIO_PLUGINS;\\nvar VIDEO_PLUGINS = [WEBMWASM];\\nexports.VIDEO_PLUGINS = VIDEO_PLUGINS;\\nvar RECORD_PLUGINS = AUDIO_PLUGINS.concat(VIDEO_PLUGINS);\\nexports.RECORD_PLUGINS = RECORD_PLUGINS;\\n\\nvar RecordEngine = function (_Component) {\\n  (0, _inherits2.default)(RecordEngine, _Component);\\n\\n  var _super = _createSuper(RecordEngine);\\n\\n  function RecordEngine(player, options) {\\n    (0, _classCallCheck2.default)(this, RecordEngine);\\n    options.evented = true;\\n    return _super.call(this, player, options);\\n  }\\n\\n  (0, _createClass2.default)(RecordEngine, [{\\n    key: \\\"dispose\\\",\\n    value: function dispose() {\\n      if (this.recordedData !== undefined) {\\n        URL.revokeObjectURL(this.recordedData);\\n      }\\n    }\\n  }, {\\n    key: \\\"destroy\\\",\\n    value: function destroy() {}\\n  }, {\\n    key: \\\"addFileInfo\\\",\\n    value: function addFileInfo(fileObj) {\\n      (0, _fileUtil.addFileInfo)(fileObj);\\n    }\\n  }, {\\n    key: \\\"onStopRecording\\\",\\n    value: function onStopRecording(data) {\\n      this.recordedData = data;\\n      this.addFileInfo(this.recordedData);\\n      this.dispose();\\n      this.trigger(_event.default.RECORD_COMPLETE);\\n    }\\n  }, {\\n    key: \\\"saveAs\\\",\\n    value: function saveAs(name) {\\n      var fileName = name[Object.keys(name)[0]];\\n      (0, _fileUtil.downloadBlob)(fileName, this.recordedData);\\n    }\\n  }]);\\n  return RecordEngine;\\n}(Component);\\n\\nexports.RecordEngine = RecordEngine;\\n_video.default.RecordEngine = RecordEngine;\\nComponent.registerComponent('RecordEngine', RecordEngine);\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/record-engine.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/engine/record-mode.js\":\n/*!**************************************!*\\\n  !*** ./src/js/engine/record-mode.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.AUDIO_SCREEN = exports.SCREEN_ONLY = exports.ANIMATION = exports.AUDIO_VIDEO = exports.VIDEO_ONLY = exports.AUDIO_ONLY = exports.IMAGE_ONLY = exports.getRecorderMode = void 0;\\nvar IMAGE_ONLY = 'image_only';\\nexports.IMAGE_ONLY = IMAGE_ONLY;\\nvar AUDIO_ONLY = 'audio_only';\\nexports.AUDIO_ONLY = AUDIO_ONLY;\\nvar VIDEO_ONLY = 'video_only';\\nexports.VIDEO_ONLY = VIDEO_ONLY;\\nvar AUDIO_VIDEO = 'audio_video';\\nexports.AUDIO_VIDEO = AUDIO_VIDEO;\\nvar AUDIO_SCREEN = 'audio_screen';\\nexports.AUDIO_SCREEN = AUDIO_SCREEN;\\nvar ANIMATION = 'animation';\\nexports.ANIMATION = ANIMATION;\\nvar SCREEN_ONLY = 'screen_only';\\nexports.SCREEN_ONLY = SCREEN_ONLY;\\n\\nvar getRecorderMode = function getRecorderMode(image, audio, video, animation, screen) {\\n  if (isModeEnabled(image)) {\\n    return IMAGE_ONLY;\\n  } else if (isModeEnabled(animation)) {\\n    return ANIMATION;\\n  } else if (isModeEnabled(audio) && isModeEnabled(video)) {\\n    return AUDIO_VIDEO;\\n  } else if (isModeEnabled(audio) && isModeEnabled(screen)) {\\n    return AUDIO_SCREEN;\\n  } else if (!isModeEnabled(audio) && isModeEnabled(screen)) {\\n    return SCREEN_ONLY;\\n  } else if (isModeEnabled(audio) && !isModeEnabled(video)) {\\n    return AUDIO_ONLY;\\n  } else if (!isModeEnabled(audio) && isModeEnabled(video)) {\\n    return VIDEO_ONLY;\\n  }\\n};\\n\\nexports.getRecorderMode = getRecorderMode;\\n\\nvar isModeEnabled = function isModeEnabled(mode) {\\n  return mode === Object(mode) || mode === true;\\n};\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/record-mode.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/engine/record-rtc.js\":\n/*!*************************************!*\\\n  !*** ./src/js/engine/record-rtc.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _recordrtc = _interopRequireDefault(__webpack_require__(/*! recordrtc */ \\\"recordrtc\\\"));\\n\\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \\\"./src/js/event.js\\\"));\\n\\nvar _recordEngine = __webpack_require__(/*! ./record-engine */ \\\"./src/js/engine/record-engine.js\\\");\\n\\nvar _detectBrowser = __webpack_require__(/*! ../utils/detect-browser */ \\\"./src/js/utils/detect-browser.js\\\");\\n\\nvar _recordMode = __webpack_require__(/*! ./record-mode */ \\\"./src/js/engine/record-mode.js\\\");\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Component = _video.default.getComponent('Component');\\n\\nvar RecordRTCEngine = function (_RecordEngine) {\\n  (0, _inherits2.default)(RecordRTCEngine, _RecordEngine);\\n\\n  var _super = _createSuper(RecordRTCEngine);\\n\\n  function RecordRTCEngine() {\\n    (0, _classCallCheck2.default)(this, RecordRTCEngine);\\n    return _super.apply(this, arguments);\\n  }\\n\\n  (0, _createClass2.default)(RecordRTCEngine, [{\\n    key: \\\"setup\\\",\\n    value: function setup(stream, mediaType, debug) {\\n      this.inputStream = stream;\\n      this.mediaType = mediaType;\\n      this.debug = debug;\\n\\n      if ('screen' in this.mediaType) {\\n        this.mediaType.video = true;\\n      }\\n\\n      if (this.recorderType !== undefined) {\\n        this.mediaType.video = this.recorderType;\\n      }\\n\\n      this.engine = new _recordrtc.default.MRecordRTC();\\n      this.engine.mediaType = this.mediaType;\\n      this.engine.disableLogs = !this.debug;\\n      this.engine.mimeType = this.mimeType;\\n      this.engine.bufferSize = this.bufferSize;\\n      this.engine.sampleRate = this.sampleRate;\\n      this.engine.numberOfAudioChannels = this.audioChannels;\\n      this.engine.video = this.video;\\n      this.engine.canvas = this.canvas;\\n      this.engine.bitrate = this.bitRate;\\n      this.engine.quality = this.quality;\\n      this.engine.frameRate = this.frameRate;\\n\\n      if (this.timeSlice !== undefined) {\\n        this.engine.timeSlice = this.timeSlice;\\n        this.engine.onTimeStamp = this.onTimeStamp.bind(this);\\n      }\\n\\n      this.engine.workerPath = this.workerPath;\\n      this.engine.webAssemblyPath = this.videoWebAssemblyURL;\\n      this.engine.addStream(this.inputStream);\\n    }\\n  }, {\\n    key: \\\"dispose\\\",\\n    value: function dispose() {\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordRTCEngine.prototype), \\\"dispose\\\", this).call(this);\\n      this.destroy();\\n    }\\n  }, {\\n    key: \\\"destroy\\\",\\n    value: function destroy() {\\n      if (this.engine && typeof this.engine.destroy === 'function') {\\n        this.engine.destroy();\\n      }\\n    }\\n  }, {\\n    key: \\\"start\\\",\\n    value: function start() {\\n      this.engine.startRecording();\\n    }\\n  }, {\\n    key: \\\"stop\\\",\\n    value: function stop() {\\n      this.engine.stopRecording(this.onStopRecording.bind(this));\\n    }\\n  }, {\\n    key: \\\"pause\\\",\\n    value: function pause() {\\n      this.engine.pauseRecording();\\n    }\\n  }, {\\n    key: \\\"resume\\\",\\n    value: function resume() {\\n      this.engine.resumeRecording();\\n    }\\n  }, {\\n    key: \\\"saveAs\\\",\\n    value: function saveAs(name) {\\n      if (this.engine && name !== undefined) {\\n        this.engine.save(name);\\n      }\\n    }\\n  }, {\\n    key: \\\"onStopRecording\\\",\\n    value: function onStopRecording(audioVideoURL, type) {\\n      var _this = this;\\n\\n      URL.revokeObjectURL(audioVideoURL);\\n      var recordType = this.player().record().getRecordType();\\n      this.engine.getBlob(function (recording) {\\n        switch (recordType) {\\n          case _recordMode.AUDIO_ONLY:\\n            if (recording.audio !== undefined) {\\n              _this.recordedData = recording.audio;\\n            }\\n\\n            break;\\n\\n          case _recordMode.VIDEO_ONLY:\\n          case _recordMode.AUDIO_VIDEO:\\n          case _recordMode.AUDIO_SCREEN:\\n          case _recordMode.SCREEN_ONLY:\\n            if (recording.video !== undefined) {\\n              _this.recordedData = recording.video;\\n            }\\n\\n            break;\\n\\n          case _recordMode.ANIMATION:\\n            if (recording.gif !== undefined) {\\n              _this.recordedData = recording.gif;\\n            }\\n\\n            break;\\n        }\\n\\n        _this.addFileInfo(_this.recordedData);\\n\\n        _this.trigger(_event.default.RECORD_COMPLETE);\\n      });\\n    }\\n  }, {\\n    key: \\\"onTimeStamp\\\",\\n    value: function onTimeStamp(current, all) {\\n      this.player().currentTimestamp = current;\\n      this.player().allTimestamps = all;\\n      var internal;\\n\\n      switch (this.player().record().getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          internal = this.engine.audioRecorder;\\n          break;\\n\\n        case _recordMode.ANIMATION:\\n          internal = this.engine.gifRecorder;\\n          break;\\n\\n        default:\\n          internal = this.engine.videoRecorder;\\n      }\\n\\n      var maxFileSizeReached = false;\\n\\n      if (internal) {\\n        internal = internal.getInternalRecorder();\\n      }\\n\\n      if (internal instanceof _recordrtc.default.MediaStreamRecorder === true) {\\n        this.player().recordedData = internal.getArrayOfBlobs();\\n        this.addFileInfo(this.player().recordedData[this.player_.recordedData.length - 1]);\\n\\n        if (this.maxFileSize > 0) {\\n          var currentSize = new Blob(this.player().recordedData).size;\\n\\n          if (currentSize >= this.maxFileSize) {\\n            maxFileSizeReached = true;\\n          }\\n        }\\n      }\\n\\n      this.player().trigger(_event.default.TIMESTAMP);\\n\\n      if (maxFileSizeReached) {\\n        this.player().record().stop();\\n      }\\n    }\\n  }]);\\n  return RecordRTCEngine;\\n}(_recordEngine.RecordEngine);\\n\\n_video.default.RecordRTCEngine = RecordRTCEngine;\\nComponent.registerComponent('RecordRTCEngine', RecordRTCEngine);\\nvar _default = RecordRTCEngine;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/engine/record-rtc.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/event.js\":\n/*!*************************!*\\\n  !*** ./src/js/event.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar Event = function Event() {\\n  (0, _classCallCheck2.default)(this, Event);\\n};\\n\\nEvent.READY = 'ready';\\nEvent.ERROR = 'error';\\nEvent.PLAYING = 'playing';\\nEvent.LOADEDMETADATA = 'loadedmetadata';\\nEvent.LOADSTART = 'loadstart';\\nEvent.USERINACTIVE = 'userinactive';\\nEvent.TIMEUPDATE = 'timeupdate';\\nEvent.DURATIONCHANGE = 'durationchange';\\nEvent.ENDED = 'ended';\\nEvent.PAUSE = 'pause';\\nEvent.PLAY = 'play';\\nEvent.DEVICE_READY = 'deviceReady';\\nEvent.DEVICE_ERROR = 'deviceError';\\nEvent.START_RECORD = 'startRecord';\\nEvent.STOP_RECORD = 'stopRecord';\\nEvent.FINISH_RECORD = 'finishRecord';\\nEvent.RECORD_COMPLETE = 'recordComplete';\\nEvent.PROGRESS_RECORD = 'progressRecord';\\nEvent.TIMESTAMP = 'timestamp';\\nEvent.ENUMERATE_READY = 'enumerateReady';\\nEvent.ENUMERATE_ERROR = 'enumerateError';\\nEvent.AUDIO_BUFFER_UPDATE = 'audioBufferUpdate';\\nEvent.AUDIO_OUTPUT_READY = 'audioOutputReady';\\nEvent.START_CONVERT = 'startConvert';\\nEvent.FINISH_CONVERT = 'finishConvert';\\nEvent.ENTER_PIP = 'enterPIP';\\nEvent.LEAVE_PIP = 'leavePIP';\\nEvent.RETRY = 'retry';\\nEvent.ENTERPICTUREINPICTURE = 'enterpictureinpicture';\\nEvent.LEAVEPICTUREINPICTURE = 'leavepictureinpicture';\\nObject.freeze(Event);\\nvar _default = Event;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/event.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/hot-keys.js\":\n/*!****************************!*\\\n  !*** ./src/js/hot-keys.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _recordMode = __webpack_require__(/*! ./engine/record-mode */ \\\"./src/js/engine/record-mode.js\\\");\\n\\nvar X_KEY = 88;\\nvar P_KEY = 80;\\nvar C_KEY = 67;\\n\\nvar defaultKeyHandler = function defaultKeyHandler(event) {\\n  switch (event.which) {\\n    case X_KEY:\\n      switch (this.player_.record().getRecordType()) {\\n        case _recordMode.IMAGE_ONLY:\\n          this.player_.cameraButton.trigger('click');\\n          break;\\n\\n        default:\\n          this.player_.recordToggle.trigger('click');\\n      }\\n\\n      break;\\n\\n    case P_KEY:\\n      if (this.player_.record().pictureInPicture === true) {\\n        this.player_.pipToggle.trigger('click');\\n      }\\n\\n      break;\\n\\n    case C_KEY:\\n      if (this.player_.controlBar.playToggle && this.player_.controlBar.playToggle.contentEl()) {\\n        player.controlBar.playToggle.trigger('click');\\n      }\\n\\n      break;\\n  }\\n};\\n\\nvar _default = defaultKeyHandler;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/hot-keys.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/utils/browser-shim.js\":\n/*!**************************************!*\\\n  !*** ./src/js/utils/browser-shim.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar setSrcObject = function setSrcObject(stream, element) {\\n  if ('srcObject' in element) {\\n    element.srcObject = stream;\\n  } else if ('mozSrcObject' in element) {\\n    element.mozSrcObject = stream;\\n  } else {\\n    element.srcObject = stream;\\n  }\\n};\\n\\nvar _default = setSrcObject;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/browser-shim.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/utils/compare-version.js\":\n/*!*****************************************!*\\\n  !*** ./src/js/utils/compare-version.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar compareVersion = function compareVersion(v1, v2) {\\n  if (typeof v1 !== 'string') return false;\\n  if (typeof v2 !== 'string') return false;\\n  v1 = v1.split('.');\\n  v2 = v2.split('.');\\n  var k = Math.min(v1.length, v2.length);\\n  var i = 0;\\n\\n  for (i; i < k; ++i) {\\n    v1[i] = parseInt(v1[i], 10);\\n    v2[i] = parseInt(v2[i], 10);\\n    if (v1[i] > v2[i]) return 1;\\n    if (v1[i] < v2[i]) return -1;\\n  }\\n\\n  return v1.length === v2.length ? 0 : v1.length < v2.length ? -1 : 1;\\n};\\n\\nvar _default = compareVersion;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/compare-version.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/utils/detect-browser.js\":\n/*!****************************************!*\\\n  !*** ./src/js/utils/detect-browser.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.isFirefox = exports.isSafari = exports.isChrome = exports.isOpera = exports.isEdge = exports.detectBrowser = void 0;\\n\\nvar _window = _interopRequireDefault(__webpack_require__(/*! global/window */ \\\"./node_modules/global/window.js\\\"));\\n\\nvar detectBrowser = function detectBrowser() {\\n  var result = {};\\n  result.browser = null;\\n  result.version = null;\\n  result.minVersion = null;\\n\\n  if (typeof _window.default === 'undefined' || !_window.default.navigator) {\\n    result.browser = 'Not a supported browser.';\\n    return result;\\n  }\\n\\n  if (navigator.mozGetUserMedia) {\\n    result.browser = 'firefox';\\n    result.version = extractVersion(navigator.userAgent, /Firefox\\\\/(\\\\d+)\\\\./, 1);\\n    result.minVersion = 31;\\n  } else if (navigator.webkitGetUserMedia) {\\n    result.browser = 'chrome';\\n    result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\\\/(\\\\d+)\\\\./, 2);\\n    result.minVersion = 38;\\n  } else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\\\\/(\\\\d+).(\\\\d+)$/)) {\\n    result.browser = 'edge';\\n    result.version = extractVersion(navigator.userAgent, /Edge\\\\/(\\\\d+).(\\\\d+)$/, 2);\\n    result.minVersion = 10547;\\n  } else if (_window.default.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\\\/(\\\\d+)\\\\./)) {\\n    result.browser = 'safari';\\n    result.version = extractVersion(navigator.userAgent, /AppleWebKit\\\\/(\\\\d+)\\\\./, 1);\\n  } else {\\n    result.browser = 'Not a supported browser.';\\n    return result;\\n  }\\n\\n  return result;\\n};\\n\\nexports.detectBrowser = detectBrowser;\\n\\nvar extractVersion = function extractVersion(uastring, expr, pos) {\\n  var match = uastring.match(expr);\\n  return match && match.length >= pos && parseInt(match[pos], 10);\\n};\\n\\nvar isEdge = function isEdge() {\\n  return detectBrowser().browser === 'edge';\\n};\\n\\nexports.isEdge = isEdge;\\n\\nvar isSafari = function isSafari() {\\n  return detectBrowser().browser === 'safari';\\n};\\n\\nexports.isSafari = isSafari;\\n\\nvar isOpera = function isOpera() {\\n  return !!_window.default.opera || navigator.userAgent.indexOf('OPR/') !== -1;\\n};\\n\\nexports.isOpera = isOpera;\\n\\nvar isChrome = function isChrome() {\\n  return detectBrowser().browser === 'chrome';\\n};\\n\\nexports.isChrome = isChrome;\\n\\nvar isFirefox = function isFirefox() {\\n  return detectBrowser().browser === 'firefox';\\n};\\n\\nexports.isFirefox = isFirefox;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/detect-browser.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/utils/file-util.js\":\n/*!***********************************!*\\\n  !*** ./src/js/utils/file-util.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.addFileInfo = exports.blobToArrayBuffer = exports.downloadBlob = void 0;\\n\\nvar _mime = _interopRequireDefault(__webpack_require__(/*! ./mime */ \\\"./src/js/utils/mime.js\\\"));\\n\\nvar downloadBlob = function downloadBlob(fileName, data) {\\n  if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\\n    return navigator.msSaveOrOpenBlob(data, fileName);\\n  } else if (typeof navigator.msSaveBlob !== 'undefined') {\\n    return navigator.msSaveBlob(data, fileName);\\n  }\\n\\n  var hyperlink = document.createElement('a');\\n  hyperlink.href = URL.createObjectURL(data);\\n  hyperlink.download = fileName;\\n  hyperlink.style = 'display:none;opacity:0;color:transparent;';\\n  (document.body || document.documentElement).appendChild(hyperlink);\\n\\n  if (typeof hyperlink.click === 'function') {\\n    hyperlink.click();\\n  } else {\\n    hyperlink.target = '_blank';\\n    hyperlink.dispatchEvent(new MouseEvent('click', {\\n      view: window,\\n      bubbles: true,\\n      cancelable: true\\n    }));\\n  }\\n\\n  URL.revokeObjectURL(hyperlink.href);\\n};\\n\\nexports.downloadBlob = downloadBlob;\\n\\nvar blobToArrayBuffer = function blobToArrayBuffer(fileObj) {\\n  return new Promise(function (resolve, reject) {\\n    var reader = new FileReader();\\n\\n    reader.onloadend = function () {\\n      resolve(reader.result);\\n    };\\n\\n    reader.onerror = function (ev) {\\n      reject(ev.error);\\n    };\\n\\n    reader.readAsArrayBuffer(fileObj);\\n  });\\n};\\n\\nexports.blobToArrayBuffer = blobToArrayBuffer;\\n\\nvar addFileInfo = function addFileInfo(fileObj, dateObj, fileExtension) {\\n  if (fileObj instanceof Blob || fileObj instanceof File) {\\n    if (dateObj === undefined) {\\n      dateObj = new Date();\\n    }\\n\\n    try {\\n      fileObj.lastModified = dateObj.getTime();\\n      fileObj.lastModifiedDate = dateObj;\\n    } catch (e) {\\n      if (e instanceof TypeError) {} else {\\n        throw e;\\n      }\\n    }\\n\\n    if (fileExtension === undefined) {\\n      fileExtension = '.' + (0, _mime.default)(fileObj.type);\\n    }\\n\\n    try {\\n      fileObj.name = dateObj.getTime() + fileExtension;\\n    } catch (e) {\\n      if (e instanceof TypeError) {} else {\\n        throw e;\\n      }\\n    }\\n  }\\n};\\n\\nexports.addFileInfo = addFileInfo;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/file-util.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/utils/format-time.js\":\n/*!*************************************!*\\\n  !*** ./src/js/utils/format-time.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\n\\nvar _parseMs = _interopRequireDefault(__webpack_require__(/*! parse-ms */ \\\"./node_modules/parse-ms/index.js\\\"));\\n\\nvar _addZero = _interopRequireDefault(__webpack_require__(/*! add-zero */ \\\"./node_modules/add-zero/index.js\\\"));\\n\\nvar formatTime = function formatTime(seconds, guide) {\\n  var displayMilliseconds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\\n  seconds = seconds < 0 ? 0 : seconds;\\n\\n  if (isNaN(seconds) || seconds === Infinity) {\\n    seconds = 0;\\n  }\\n\\n  var inputTime = (0, _parseMs.default)(seconds * 1000);\\n  var guideTime = inputTime;\\n\\n  if (guide !== undefined) {\\n    guideTime = (0, _parseMs.default)(guide * 1000);\\n  }\\n\\n  var hr = (0, _addZero.default)(inputTime.hours);\\n  var min = (0, _addZero.default)(inputTime.minutes);\\n  var sec = (0, _addZero.default)(inputTime.seconds);\\n  var ms = (0, _addZero.default)(inputTime.milliseconds, 3);\\n\\n  if (inputTime.days > 0 || guideTime.days > 0) {\\n    var day = (0, _addZero.default)(inputTime.days);\\n    return \\\"\\\".concat(day, \\\":\\\").concat(hr, \\\":\\\").concat(min, \\\":\\\").concat(sec);\\n  }\\n\\n  if (inputTime.hours > 0 || guideTime.hours > 0) {\\n    return \\\"\\\".concat(hr, \\\":\\\").concat(min, \\\":\\\").concat(sec);\\n  }\\n\\n  if (displayMilliseconds) {\\n    return \\\"\\\".concat(min, \\\":\\\").concat(sec, \\\":\\\").concat(ms);\\n  }\\n\\n  return \\\"\\\".concat(min, \\\":\\\").concat(sec);\\n};\\n\\nvar _default = formatTime;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/format-time.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/utils/mime.js\":\n/*!******************************!*\\\n  !*** ./src/js/utils/mime.js ***!\n  \\******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = void 0;\\nvar EXTRACT_TYPE_REGEXP = /^\\\\s*([^;\\\\s]*)(?:;|\\\\s|$)/;\\nvar Mimetypes = {\\n  'video/ogg': 'ogv',\\n  'video/mp4': 'mp4',\\n  'video/x-matroska': 'mkv',\\n  'video/webm': 'webm',\\n  'audio/mp4': 'm4a',\\n  'audio/mpeg': 'mp3',\\n  'audio/aac': 'aac',\\n  'audio/flac': 'flac',\\n  'audio/ogg': 'oga',\\n  'audio/wav': 'wav',\\n  'audio/webm': 'webm',\\n  'application/x-mpegURL': 'm3u8',\\n  'image/jpeg': 'jpg',\\n  'image/gif': 'gif',\\n  'image/png': 'png',\\n  'image/svg+xml': 'svg',\\n  'image/webp': 'webp'\\n};\\n\\nvar getExtension = function getExtension(mimeType) {\\n  var match = EXTRACT_TYPE_REGEXP.exec(mimeType);\\n  var result = match && match[1].toLowerCase();\\n  return Mimetypes[result];\\n};\\n\\nvar _default = getExtension;\\nexports.default = _default;\\nmodule.exports = exports.default;\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/utils/mime.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/videojs.record.js\":\n/*!**********************************!*\\\n  !*** ./src/js/videojs.record.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \\\"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.Record = void 0;\\n\\nvar _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ \\\"./node_modules/@babel/runtime/helpers/typeof.js\\\"));\\n\\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \\\"./node_modules/@babel/runtime/helpers/classCallCheck.js\\\"));\\n\\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \\\"./node_modules/@babel/runtime/helpers/createClass.js\\\"));\\n\\nvar _assertThisInitialized2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \\\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\\\"));\\n\\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \\\"./node_modules/@babel/runtime/helpers/get.js\\\"));\\n\\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \\\"./node_modules/@babel/runtime/helpers/inherits.js\\\"));\\n\\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \\\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\\\"));\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \\\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\\\"));\\n\\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \\\"video.js\\\"));\\n\\nvar _animationDisplay = _interopRequireDefault(__webpack_require__(/*! ./controls/animation-display */ \\\"./src/js/controls/animation-display.js\\\"));\\n\\nvar _recordCanvas = _interopRequireDefault(__webpack_require__(/*! ./controls/record-canvas */ \\\"./src/js/controls/record-canvas.js\\\"));\\n\\nvar _deviceButton = _interopRequireDefault(__webpack_require__(/*! ./controls/device-button */ \\\"./src/js/controls/device-button.js\\\"));\\n\\nvar _cameraButton = _interopRequireDefault(__webpack_require__(/*! ./controls/camera-button */ \\\"./src/js/controls/camera-button.js\\\"));\\n\\nvar _recordToggle = _interopRequireDefault(__webpack_require__(/*! ./controls/record-toggle */ \\\"./src/js/controls/record-toggle.js\\\"));\\n\\nvar _recordIndicator = _interopRequireDefault(__webpack_require__(/*! ./controls/record-indicator */ \\\"./src/js/controls/record-indicator.js\\\"));\\n\\nvar _pictureInPictureToggle = _interopRequireDefault(__webpack_require__(/*! ./controls/picture-in-picture-toggle */ \\\"./src/js/controls/picture-in-picture-toggle.js\\\"));\\n\\nvar _event = _interopRequireDefault(__webpack_require__(/*! ./event */ \\\"./src/js/event.js\\\"));\\n\\nvar _hotKeys = _interopRequireDefault(__webpack_require__(/*! ./hot-keys */ \\\"./src/js/hot-keys.js\\\"));\\n\\nvar _defaults = _interopRequireDefault(__webpack_require__(/*! ./defaults */ \\\"./src/js/defaults.js\\\"));\\n\\nvar _formatTime = _interopRequireDefault(__webpack_require__(/*! ./utils/format-time */ \\\"./src/js/utils/format-time.js\\\"));\\n\\nvar _browserShim = _interopRequireDefault(__webpack_require__(/*! ./utils/browser-shim */ \\\"./src/js/utils/browser-shim.js\\\"));\\n\\nvar _compareVersion = _interopRequireDefault(__webpack_require__(/*! ./utils/compare-version */ \\\"./src/js/utils/compare-version.js\\\"));\\n\\nvar _detectBrowser = __webpack_require__(/*! ./utils/detect-browser */ \\\"./src/js/utils/detect-browser.js\\\");\\n\\nvar _engineLoader = __webpack_require__(/*! ./engine/engine-loader */ \\\"./src/js/engine/engine-loader.js\\\");\\n\\nvar _recordMode = __webpack_require__(/*! ./engine/record-mode */ \\\"./src/js/engine/record-mode.js\\\");\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nvar Plugin = _video.default.getPlugin('plugin');\\n\\nvar Player = _video.default.getComponent('Player');\\n\\nvar AUTO = 'auto';\\n\\nvar Record = function (_Plugin) {\\n  (0, _inherits2.default)(Record, _Plugin);\\n\\n  var _super = _createSuper(Record);\\n\\n  function Record(player, options) {\\n    var _this;\\n\\n    (0, _classCallCheck2.default)(this, Record);\\n    _this = _super.call(this, player, options);\\n\\n    Player.prototype.play = function play() {\\n      var retval = this.techGet_('play');\\n\\n      if (retval !== undefined && typeof retval.then === 'function') {\\n        retval.then(null, function (e) {});\\n      }\\n\\n      return retval;\\n    };\\n\\n    player.addClass('vjs-record');\\n\\n    _this.loadOptions();\\n\\n    _this.resetState();\\n\\n    _video.default.setFormatTime(function (seconds, guide) {\\n      return (0, _formatTime.default)(seconds, guide, _this.displayMilliseconds);\\n    });\\n\\n    var deviceIcon = 'av-perm';\\n\\n    switch (_this.getRecordType()) {\\n      case _recordMode.IMAGE_ONLY:\\n      case _recordMode.VIDEO_ONLY:\\n      case _recordMode.ANIMATION:\\n        deviceIcon = 'video-perm';\\n        break;\\n\\n      case _recordMode.AUDIO_ONLY:\\n        deviceIcon = 'audio-perm';\\n        break;\\n\\n      case _recordMode.SCREEN_ONLY:\\n        deviceIcon = 'screen-perm';\\n        break;\\n\\n      case _recordMode.AUDIO_SCREEN:\\n        deviceIcon = 'sv-perm';\\n        break;\\n    }\\n\\n    _deviceButton.default.prototype.buildCSSClass = function () {\\n      return 'vjs-record vjs-device-button vjs-control vjs-icon-' + deviceIcon;\\n    };\\n\\n    player.deviceButton = new _deviceButton.default(player, options);\\n    player.addChild(player.deviceButton);\\n    player.recordIndicator = new _recordIndicator.default(player, options);\\n    player.recordIndicator.hide();\\n    player.addChild(player.recordIndicator);\\n    player.recordCanvas = new _recordCanvas.default(player, options);\\n    player.recordCanvas.hide();\\n    player.addChild(player.recordCanvas);\\n    player.animationDisplay = new _animationDisplay.default(player, options);\\n    player.animationDisplay.hide();\\n    player.addChild(player.animationDisplay);\\n    player.cameraButton = new _cameraButton.default(player, options);\\n    player.cameraButton.hide();\\n    player.recordToggle = new _recordToggle.default(player, options);\\n    player.recordToggle.hide();\\n    var oldVideoJS = _video.default.VERSION === undefined || (0, _compareVersion.default)(_video.default.VERSION, '7.6.0') === -1;\\n\\n    if (!('exitPictureInPicture' in document)) {\\n      _this.pictureInPicture = false;\\n    } else if (oldVideoJS) {\\n      player.pipToggle = new _pictureInPictureToggle.default(player, options);\\n      player.pipToggle.hide();\\n    }\\n\\n    if (_this.pictureInPicture === true) {\\n      _this.onEnterPiPHandler = _this.onEnterPiP.bind((0, _assertThisInitialized2.default)(_this));\\n      _this.onLeavePiPHandler = _this.onLeavePiP.bind((0, _assertThisInitialized2.default)(_this));\\n    }\\n\\n    if (_this.player.options_.controlBar) {\\n      var customUIElements = ['deviceButton', 'recordIndicator', 'cameraButton', 'recordToggle'];\\n\\n      if (player.pipToggle) {\\n        customUIElements.push('pipToggle');\\n      }\\n\\n      customUIElements.forEach(function (element) {\\n        if (_this.player.options_.controlBar[element] !== undefined) {\\n          _this.player[element].layoutExclude = true;\\n\\n          _this.player[element].hide();\\n        }\\n      });\\n    }\\n\\n    _this.player.one(_event.default.READY, _this.setupUI.bind((0, _assertThisInitialized2.default)(_this)));\\n\\n    return _this;\\n  }\\n\\n  (0, _createClass2.default)(Record, [{\\n    key: \\\"loadOptions\\\",\\n    value: function loadOptions() {\\n      var newOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\\n\\n      var recordOptions = _video.default.mergeOptions(_defaults.default, this.player.options_.plugins.record, newOptions);\\n\\n      this.recordImage = recordOptions.image;\\n      this.recordAudio = recordOptions.audio;\\n      this.recordVideo = recordOptions.video;\\n      this.recordAnimation = recordOptions.animation;\\n      this.recordScreen = recordOptions.screen;\\n      this.maxLength = recordOptions.maxLength;\\n      this.maxFileSize = recordOptions.maxFileSize;\\n      this.displayMilliseconds = recordOptions.displayMilliseconds;\\n      this.debug = recordOptions.debug;\\n      this.pictureInPicture = recordOptions.pip;\\n      this.recordTimeSlice = recordOptions.timeSlice;\\n      this.autoMuteDevice = recordOptions.autoMuteDevice;\\n      this.pluginLibraryOptions = recordOptions.pluginLibraryOptions;\\n      this.videoFrameWidth = recordOptions.frameWidth;\\n      this.videoFrameHeight = recordOptions.frameHeight;\\n      this.videoFrameRate = recordOptions.videoFrameRate;\\n      this.videoBitRate = recordOptions.videoBitRate;\\n      this.videoEngine = recordOptions.videoEngine;\\n      this.videoRecorderType = recordOptions.videoRecorderType;\\n      this.videoMimeType = recordOptions.videoMimeType;\\n      this.videoWorkerURL = recordOptions.videoWorkerURL;\\n      this.videoWebAssemblyURL = recordOptions.videoWebAssemblyURL;\\n      this.convertEngine = recordOptions.convertEngine;\\n      this.convertWorkerURL = recordOptions.convertWorkerURL;\\n      this.convertOptions = recordOptions.convertOptions;\\n      this.audioEngine = recordOptions.audioEngine;\\n      this.audioRecorderType = recordOptions.audioRecorderType;\\n      this.audioWorkerURL = recordOptions.audioWorkerURL;\\n      this.audioWebAssemblyURL = recordOptions.audioWebAssemblyURL;\\n      this.audioBufferSize = recordOptions.audioBufferSize;\\n      this.audioSampleRate = recordOptions.audioSampleRate;\\n      this.audioBitRate = recordOptions.audioBitRate;\\n      this.audioChannels = recordOptions.audioChannels;\\n      this.audioMimeType = recordOptions.audioMimeType;\\n      this.audioBufferUpdate = recordOptions.audioBufferUpdate;\\n      this.imageOutputType = recordOptions.imageOutputType;\\n      this.imageOutputFormat = recordOptions.imageOutputFormat;\\n      this.imageOutputQuality = recordOptions.imageOutputQuality;\\n      this.animationFrameRate = recordOptions.animationFrameRate;\\n      this.animationQuality = recordOptions.animationQuality;\\n    }\\n  }, {\\n    key: \\\"setupUI\\\",\\n    value: function setupUI() {\\n      var _this2 = this;\\n\\n      this.player.controlBar.addChild(this.player.cameraButton);\\n      this.player.controlBar.el().insertBefore(this.player.cameraButton.el(), this.player.controlBar.el().firstChild);\\n      this.player.controlBar.el().insertBefore(this.player.recordToggle.el(), this.player.controlBar.el().firstChild);\\n\\n      if (this.pictureInPicture === true) {\\n        if (this.player.controlBar.pictureInPictureToggle === undefined && this.player.pipToggle !== undefined) {\\n          this.player.controlBar.addChild(this.player.pipToggle);\\n        } else if (this.player.controlBar.pictureInPictureToggle !== undefined) {\\n          this.player.pipToggle = this.player.controlBar.pictureInPictureToggle;\\n          this.player.pipToggle.hide();\\n        }\\n      }\\n\\n      if (this.player.controlBar.remainingTimeDisplay !== undefined) {\\n        this.player.controlBar.remainingTimeDisplay.el().style.display = 'none';\\n      }\\n\\n      if (this.player.controlBar.liveDisplay !== undefined) {\\n        this.player.controlBar.liveDisplay.el().style.display = 'none';\\n      }\\n\\n      this.player.loop(false);\\n\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          this.surfer = this.player.wavesurfer();\\n          break;\\n\\n        case _recordMode.IMAGE_ONLY:\\n        case _recordMode.VIDEO_ONLY:\\n        case _recordMode.AUDIO_VIDEO:\\n        case _recordMode.ANIMATION:\\n        case _recordMode.SCREEN_ONLY:\\n        case _recordMode.AUDIO_SCREEN:\\n          if (this.player.bigPlayButton !== undefined) {\\n            this.player.bigPlayButton.hide();\\n          }\\n\\n          this.player.one(_event.default.LOADEDMETADATA, function () {\\n            _this2.setDuration(_this2.maxLength);\\n          });\\n          this.player.one(_event.default.LOADSTART, function () {\\n            _this2.setDuration(_this2.maxLength);\\n          });\\n\\n          if (this.player.usingNativeControls_ === true) {\\n            if (this.player.tech_.el_ !== undefined) {\\n              this.player.tech_.el_.controls = false;\\n            }\\n          }\\n\\n          this.player.removeTechControlsListeners_();\\n\\n          if (this.player.options_.controls) {\\n            if (this.player.controlBar.progressControl !== undefined) {\\n              this.player.controlBar.progressControl.hide();\\n            }\\n\\n            this.player.on(_event.default.USERINACTIVE, function (event) {\\n              _this2.player.userActive(true);\\n            });\\n            this.player.controlBar.show();\\n            this.player.controlBar.el().style.display = 'flex';\\n          }\\n\\n          break;\\n      }\\n\\n      this.player.off(_event.default.TIMEUPDATE);\\n      this.player.off(_event.default.DURATIONCHANGE);\\n      this.player.off(_event.default.LOADEDMETADATA);\\n      this.player.off(_event.default.LOADSTART);\\n      this.player.off(_event.default.ENDED);\\n      this.setDuration(this.maxLength);\\n\\n      if (this.player.options_.plugins.record && this.player.options_.plugins.record.hotKeys && this.player.options_.plugins.record.hotKeys !== false) {\\n        var handler = this.player.options_.plugins.record.hotKeys;\\n\\n        if (handler === true) {\\n          handler = _hotKeys.default;\\n        }\\n\\n        this.player.options_.userActions = {\\n          hotkeys: handler\\n        };\\n      }\\n\\n      if (this.player.controlBar.playToggle !== undefined) {\\n        this.player.controlBar.playToggle.hide();\\n      }\\n    }\\n  }, {\\n    key: \\\"isRecording\\\",\\n    value: function isRecording() {\\n      return this._recording;\\n    }\\n  }, {\\n    key: \\\"isProcessing\\\",\\n    value: function isProcessing() {\\n      return this._processing;\\n    }\\n  }, {\\n    key: \\\"isDestroyed\\\",\\n    value: function isDestroyed() {\\n      var destroyed = this.player === null;\\n\\n      if (destroyed === false) {\\n        destroyed = this.player.children() === null;\\n      }\\n\\n      return destroyed;\\n    }\\n  }, {\\n    key: \\\"getDevice\\\",\\n    value: function getDevice() {\\n      var _this3 = this;\\n\\n      if (this.deviceReadyCallback === undefined) {\\n        this.deviceReadyCallback = this.onDeviceReady.bind(this);\\n      }\\n\\n      if (this.deviceErrorCallback === undefined) {\\n        this.deviceErrorCallback = this.onDeviceError.bind(this);\\n      }\\n\\n      if (this.engineStopCallback === undefined) {\\n        this.engineStopCallback = this.onRecordComplete.bind(this);\\n      }\\n\\n      if (this.streamVisibleCallback === undefined) {\\n        this.streamVisibleCallback = this.onStreamVisible.bind(this);\\n      }\\n\\n      if (this.getRecordType() === _recordMode.SCREEN_ONLY || this.getRecordType() === _recordMode.AUDIO_SCREEN) {\\n        if (navigator.mediaDevices === undefined || navigator.mediaDevices.getDisplayMedia === undefined) {\\n          this.player.trigger(_event.default.ERROR, 'This browser does not support navigator.mediaDevices.getDisplayMedia');\\n          return;\\n        }\\n      } else {\\n        if (navigator.mediaDevices === undefined || navigator.mediaDevices.getUserMedia === undefined) {\\n          this.player.trigger(_event.default.ERROR, 'This browser does not support navigator.mediaDevices.getUserMedia');\\n          return;\\n        }\\n      }\\n\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          this.mediaType = {\\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\\n            video: false\\n          };\\n          this.surfer.surfer.microphone.un(_event.default.DEVICE_READY, this.deviceReadyCallback);\\n          this.surfer.surfer.microphone.un(_event.default.DEVICE_ERROR, this.deviceErrorCallback);\\n          this.surfer.surfer.microphone.on(_event.default.DEVICE_READY, this.deviceReadyCallback);\\n          this.surfer.surfer.microphone.on(_event.default.DEVICE_ERROR, this.deviceErrorCallback);\\n          this.surfer.setupPlaybackEvents(false);\\n          this.surfer.liveMode = true;\\n          this.surfer.surfer.microphone.paused = false;\\n\\n          if (this.surfer.surfer.backend.ac.state === 'suspended') {\\n            this.surfer.surfer.backend.ac.resume();\\n          }\\n\\n          if (this.audioBufferUpdate === true) {\\n            this.surfer.surfer.microphone.reloadBufferFunction = function (event) {\\n              if (!_this3.surfer.surfer.microphone.paused) {\\n                _this3.surfer.surfer.empty();\\n\\n                _this3.surfer.surfer.loadDecodedBuffer(event.inputBuffer);\\n\\n                _this3.player.recordedData = event.inputBuffer;\\n\\n                _this3.player.trigger(_event.default.AUDIO_BUFFER_UPDATE);\\n              }\\n            };\\n          }\\n\\n          this.surfer.surfer.microphone.start();\\n          break;\\n\\n        case _recordMode.IMAGE_ONLY:\\n        case _recordMode.VIDEO_ONLY:\\n          if (this.getRecordType() === _recordMode.IMAGE_ONLY) {\\n            this.player.el().firstChild.addEventListener(_event.default.PLAYING, this.streamVisibleCallback);\\n          }\\n\\n          this.mediaType = {\\n            audio: false,\\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\\n          };\\n          navigator.mediaDevices.getUserMedia({\\n            audio: false,\\n            video: this.getRecordType() === _recordMode.IMAGE_ONLY ? this.recordImage : this.recordVideo\\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\\n          break;\\n\\n        case _recordMode.AUDIO_SCREEN:\\n          this.mediaType = {\\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\\n          };\\n          var audioScreenConstraints = {};\\n\\n          if (this.recordScreen === true) {\\n            audioScreenConstraints = {\\n              video: true\\n            };\\n          } else if ((0, _typeof2.default)(this.recordScreen) === 'object' && this.recordScreen.constructor === Object) {\\n            audioScreenConstraints = this.recordScreen;\\n          }\\n\\n          navigator.mediaDevices.getDisplayMedia(audioScreenConstraints).then(function (screenStream) {\\n            navigator.mediaDevices.getUserMedia({\\n              audio: _this3.recordAudio\\n            }).then(function (mic) {\\n              screenStream.addTrack(mic.getTracks()[0]);\\n\\n              _this3.onDeviceReady.bind(_this3)(screenStream);\\n            }).catch(_this3.onDeviceError.bind(_this3));\\n          }).catch(this.onDeviceError.bind(this));\\n          break;\\n\\n        case _recordMode.AUDIO_VIDEO:\\n          this.mediaType = {\\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\\n          };\\n          navigator.mediaDevices.getUserMedia({\\n            audio: this.recordAudio,\\n            video: this.recordVideo\\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\\n          break;\\n\\n        case _recordMode.ANIMATION:\\n          this.mediaType = {\\n            audio: false,\\n            video: false,\\n            gif: true\\n          };\\n          navigator.mediaDevices.getUserMedia({\\n            audio: false,\\n            video: this.recordAnimation\\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\\n          break;\\n\\n        case _recordMode.SCREEN_ONLY:\\n          this.mediaType = {\\n            audio: false,\\n            video: false,\\n            screen: true,\\n            gif: false\\n          };\\n          var screenOnlyConstraints = {};\\n\\n          if (this.recordScreen === true) {\\n            screenOnlyConstraints = {\\n              video: true\\n            };\\n          } else if ((0, _typeof2.default)(this.recordScreen) === 'object' && this.recordScreen.constructor === Object) {\\n            screenOnlyConstraints = this.recordScreen;\\n          }\\n\\n          navigator.mediaDevices.getDisplayMedia(screenOnlyConstraints).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\\n          break;\\n      }\\n    }\\n  }, {\\n    key: \\\"onDeviceReady\\\",\\n    value: function onDeviceReady(stream) {\\n      var _this4 = this;\\n\\n      this._deviceActive = true;\\n      this.stream = stream;\\n      this.player.deviceButton.hide();\\n      this.setDuration(this.maxLength);\\n      this.setCurrentTime(0);\\n\\n      if (this.player.controlBar.playToggle !== undefined) {\\n        this.player.controlBar.playToggle.hide();\\n      }\\n\\n      this.off(this.player, _event.default.TIMEUPDATE, this.playbackTimeUpdate);\\n      this.off(this.player, _event.default.ENDED, this.playbackTimeUpdate);\\n\\n      if (this.getRecordType() !== _recordMode.IMAGE_ONLY) {\\n        if (this.getRecordType() !== _recordMode.AUDIO_ONLY && (0, _engineLoader.isAudioPluginActive)(this.audioEngine)) {\\n          throw new Error('Currently ' + this.audioEngine + ' is only supported in audio-only mode.');\\n        }\\n\\n        var EngineClass, engineType;\\n\\n        switch (this.getRecordType()) {\\n          case _recordMode.AUDIO_ONLY:\\n            EngineClass = (0, _engineLoader.getAudioEngine)(this.audioEngine);\\n            engineType = this.audioEngine;\\n            break;\\n\\n          default:\\n            EngineClass = (0, _engineLoader.getVideoEngine)(this.videoEngine);\\n            engineType = this.videoEngine;\\n        }\\n\\n        try {\\n          this.engine = new EngineClass(this.player, this.player.options_);\\n        } catch (err) {\\n          throw new Error('Could not load ' + engineType + ' plugin');\\n        }\\n\\n        this.engine.on(_event.default.RECORD_COMPLETE, this.engineStopCallback);\\n        this.engine.bufferSize = this.audioBufferSize;\\n        this.engine.sampleRate = this.audioSampleRate;\\n        this.engine.bitRate = this.audioBitRate;\\n        this.engine.audioChannels = this.audioChannels;\\n        this.engine.audioWorkerURL = this.audioWorkerURL;\\n        this.engine.audioWebAssemblyURL = this.audioWebAssemblyURL;\\n        this.engine.mimeType = {\\n          video: this.videoMimeType,\\n          gif: 'image/gif'\\n        };\\n\\n        if (this.audioMimeType !== null && this.audioMimeType !== AUTO) {\\n          this.engine.mimeType.audio = this.audioMimeType;\\n        }\\n\\n        this.engine.videoWorkerURL = this.videoWorkerURL;\\n        this.engine.videoWebAssemblyURL = this.videoWebAssemblyURL;\\n        this.engine.videoBitRate = this.videoBitRate;\\n        this.engine.videoFrameRate = this.videoFrameRate;\\n        this.engine.video = {\\n          width: this.videoFrameWidth,\\n          height: this.videoFrameHeight\\n        };\\n        this.engine.canvas = {\\n          width: this.videoFrameWidth,\\n          height: this.videoFrameHeight\\n        };\\n        this.engine.quality = this.animationQuality;\\n        this.engine.frameRate = this.animationFrameRate;\\n\\n        if (this.recordTimeSlice && this.recordTimeSlice > 0) {\\n          this.engine.timeSlice = this.recordTimeSlice;\\n          this.engine.maxFileSize = this.maxFileSize;\\n        }\\n\\n        this.engine.pluginLibraryOptions = this.pluginLibraryOptions;\\n        this.engine.setup(this.stream, this.mediaType, this.debug);\\n\\n        if (this.convertEngine !== '') {\\n          var ConvertEngineClass = (0, _engineLoader.getConvertEngine)(this.convertEngine);\\n\\n          try {\\n            this.converter = new ConvertEngineClass(this.player, this.player.options_);\\n          } catch (err) {\\n            throw new Error('Could not load ' + this.convertEngine + ' plugin');\\n          }\\n\\n          this.converter.convertWorkerURL = this.convertWorkerURL;\\n          this.converter.convertOptions = this.convertOptions;\\n          this.converter.pluginLibraryOptions = this.pluginLibraryOptions;\\n          this.converter.setup(this.mediaType, this.debug);\\n        }\\n\\n        var uiElements = ['currentTimeDisplay', 'timeDivider', 'durationDisplay'];\\n        uiElements.forEach(function (element) {\\n          element = _this4.player.controlBar[element];\\n\\n          if (element !== undefined) {\\n            element.el().style.display = 'block';\\n            element.show();\\n          }\\n        });\\n        this.player.recordToggle.show();\\n      } else {\\n        this.player.recordIndicator.disable();\\n        this.retrySnapshot();\\n      }\\n\\n      if (this.getRecordType() !== _recordMode.AUDIO_ONLY) {\\n        this.mediaElement = this.player.el().firstChild;\\n        this.mediaElement.controls = false;\\n        this.mediaElement.muted = true;\\n        this.displayVolumeControl(false);\\n\\n        if (this.pictureInPicture === true) {\\n          this.player.pipToggle.show();\\n          this.mediaElement.removeEventListener(_event.default.ENTERPICTUREINPICTURE, this.onEnterPiPHandler);\\n          this.mediaElement.removeEventListener(_event.default.LEAVEPICTUREINPICTURE, this.onLeavePiPHandler);\\n          this.mediaElement.addEventListener(_event.default.ENTERPICTUREINPICTURE, this.onEnterPiPHandler);\\n          this.mediaElement.addEventListener(_event.default.LEAVEPICTUREINPICTURE, this.onLeavePiPHandler);\\n        }\\n\\n        this.load(this.stream);\\n        this.player.one(_event.default.LOADEDMETADATA, function () {\\n          _this4.mediaElement.play();\\n\\n          _this4.player.trigger(_event.default.DEVICE_READY);\\n        });\\n      } else {\\n        this.player.trigger(_event.default.DEVICE_READY);\\n      }\\n    }\\n  }, {\\n    key: \\\"onDeviceError\\\",\\n    value: function onDeviceError(code) {\\n      this._deviceActive = false;\\n\\n      if (!this.isDestroyed()) {\\n        this.player.deviceErrorCode = code;\\n        this.player.trigger(_event.default.DEVICE_ERROR);\\n      }\\n    }\\n  }, {\\n    key: \\\"start\\\",\\n    value: function start() {\\n      var _this5 = this;\\n\\n      if (!this.isProcessing()) {\\n        if (this.stream && this.stream.active === false) {\\n          this.getDevice();\\n          return;\\n        }\\n\\n        this._recording = true;\\n\\n        if (this.player.controlBar.playToggle !== undefined) {\\n          this.player.controlBar.playToggle.hide();\\n        }\\n\\n        this.off(this.player, _event.default.TIMEUPDATE, this.playbackTimeUpdate);\\n        this.off(this.player, _event.default.ENDED, this.playbackTimeUpdate);\\n\\n        switch (this.getRecordType()) {\\n          case _recordMode.AUDIO_ONLY:\\n            this.surfer.setupPlaybackEvents(false);\\n            this.surfer.surfer.microphone.paused = false;\\n            this.surfer.liveMode = true;\\n            this.surfer.surfer.microphone.play();\\n            break;\\n\\n          case _recordMode.VIDEO_ONLY:\\n          case _recordMode.AUDIO_VIDEO:\\n          case _recordMode.AUDIO_SCREEN:\\n          case _recordMode.SCREEN_ONLY:\\n            this.startVideoPreview();\\n            break;\\n\\n          case _recordMode.ANIMATION:\\n            this.player.recordCanvas.hide();\\n            this.player.animationDisplay.hide();\\n            this.mediaElement.style.display = 'block';\\n            this.captureFrame().then(function (result) {\\n              _this5.startVideoPreview();\\n            });\\n            break;\\n        }\\n\\n        if (this.autoMuteDevice) {\\n          this.muteTracks(false);\\n        }\\n\\n        switch (this.getRecordType()) {\\n          case _recordMode.IMAGE_ONLY:\\n            this.createSnapshot();\\n            this.player.trigger(_event.default.START_RECORD);\\n            break;\\n\\n          case _recordMode.VIDEO_ONLY:\\n          case _recordMode.AUDIO_VIDEO:\\n          case _recordMode.AUDIO_SCREEN:\\n          case _recordMode.ANIMATION:\\n          case _recordMode.SCREEN_ONLY:\\n            this.player.one(_event.default.LOADEDMETADATA, function () {\\n              _this5.startRecording();\\n            });\\n            break;\\n\\n          default:\\n            this.startRecording();\\n        }\\n      }\\n    }\\n  }, {\\n    key: \\\"startRecording\\\",\\n    value: function startRecording() {\\n      this.paused = false;\\n      this.pauseTime = this.pausedTime = 0;\\n      this.startTime = performance.now();\\n      var COUNTDOWN_SPEED = 100;\\n      this.countDown = this.player.setInterval(this.onCountDown.bind(this), COUNTDOWN_SPEED);\\n\\n      if (this.engine !== undefined) {\\n        this.engine.dispose();\\n      }\\n\\n      this.engine.start();\\n      this.player.trigger(_event.default.START_RECORD);\\n    }\\n  }, {\\n    key: \\\"stop\\\",\\n    value: function stop() {\\n      if (!this.isProcessing()) {\\n        this._recording = false;\\n        this._processing = true;\\n\\n        if (this.getRecordType() !== _recordMode.IMAGE_ONLY) {\\n          this.player.trigger(_event.default.STOP_RECORD);\\n          this.player.clearInterval(this.countDown);\\n\\n          if (this.engine) {\\n            this.engine.stop();\\n          }\\n\\n          if (this.autoMuteDevice) {\\n            this.muteTracks(true);\\n          }\\n        } else {\\n          if (this.player.recordedData) {\\n            this.player.trigger(_event.default.FINISH_RECORD);\\n          }\\n        }\\n      }\\n    }\\n  }, {\\n    key: \\\"stopDevice\\\",\\n    value: function stopDevice() {\\n      if (this.isRecording()) {\\n        this.player.one(_event.default.FINISH_RECORD, this.stopStream.bind(this));\\n        this.stop();\\n      } else {\\n        this.stopStream();\\n      }\\n    }\\n  }, {\\n    key: \\\"stopStream\\\",\\n    value: function stopStream() {\\n      if (this.stream) {\\n        this._deviceActive = false;\\n\\n        if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\\n          this.surfer.surfer.microphone.stopDevice();\\n          return;\\n        }\\n\\n        this.stream.getTracks().forEach(function (stream) {\\n          stream.stop();\\n        });\\n      }\\n    }\\n  }, {\\n    key: \\\"pause\\\",\\n    value: function pause() {\\n      if (!this.paused) {\\n        this.pauseTime = performance.now();\\n        this.paused = true;\\n        this.engine.pause();\\n      }\\n    }\\n  }, {\\n    key: \\\"resume\\\",\\n    value: function resume() {\\n      if (this.paused) {\\n        this.pausedTime += performance.now() - this.pauseTime;\\n        this.engine.resume();\\n        this.paused = false;\\n      }\\n    }\\n  }, {\\n    key: \\\"onRecordComplete\\\",\\n    value: function onRecordComplete() {\\n      var _this6 = this;\\n\\n      this.player.recordedData = this.engine.recordedData;\\n\\n      if (this.player.controlBar.playToggle !== undefined) {\\n        this.player.controlBar.playToggle.removeClass('vjs-ended');\\n        this.player.controlBar.playToggle.show();\\n      }\\n\\n      if (this.converter !== undefined) {\\n        this.converter.convert(this.player.recordedData);\\n      }\\n\\n      this.player.trigger(_event.default.FINISH_RECORD);\\n\\n      if (this.isDestroyed()) {\\n        return;\\n      }\\n\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          this.surfer.pause();\\n          this.surfer.setupPlaybackEvents(true);\\n          this.player.loadingSpinner.show();\\n          this.surfer.surfer.once(_event.default.READY, function () {\\n            _this6._processing = false;\\n          });\\n          this.load(this.player.recordedData);\\n          break;\\n\\n        case _recordMode.VIDEO_ONLY:\\n        case _recordMode.AUDIO_VIDEO:\\n        case _recordMode.AUDIO_SCREEN:\\n        case _recordMode.SCREEN_ONLY:\\n          this.player.one(_event.default.PAUSE, function () {\\n            _this6._processing = false;\\n\\n            _this6.player.loadingSpinner.hide();\\n\\n            _this6.setDuration(_this6.streamDuration);\\n\\n            _this6.on(_this6.player, _event.default.TIMEUPDATE, _this6.playbackTimeUpdate);\\n\\n            _this6.on(_this6.player, _event.default.ENDED, _this6.playbackTimeUpdate);\\n\\n            if (_this6.getRecordType() === _recordMode.AUDIO_VIDEO || _this6.getRecordType() === _recordMode.AUDIO_SCREEN) {\\n              _this6.mediaElement.muted = false;\\n\\n              _this6.displayVolumeControl(true);\\n            }\\n\\n            _this6.load(_this6.player.recordedData);\\n          });\\n          this.player.pause();\\n          break;\\n\\n        case _recordMode.ANIMATION:\\n          this._processing = false;\\n          this.player.loadingSpinner.hide();\\n          this.setDuration(this.streamDuration);\\n          this.mediaElement.style.display = 'none';\\n          this.player.recordCanvas.show();\\n          this.player.pause();\\n          this.on(this.player, _event.default.PLAY, this.showAnimation);\\n          this.on(this.player, _event.default.PAUSE, this.hideAnimation);\\n          break;\\n      }\\n    }\\n  }, {\\n    key: \\\"onCountDown\\\",\\n    value: function onCountDown() {\\n      if (!this.paused) {\\n        var now = performance.now();\\n        var duration = this.maxLength;\\n        var currentTime = (now - (this.startTime + this.pausedTime)) / 1000;\\n        this.streamDuration = currentTime;\\n\\n        if (currentTime >= duration) {\\n          currentTime = duration;\\n          this.stop();\\n        }\\n\\n        this.setDuration(duration);\\n        this.setCurrentTime(currentTime, duration);\\n        this.player.trigger(_event.default.PROGRESS_RECORD);\\n      }\\n    }\\n  }, {\\n    key: \\\"getCurrentTime\\\",\\n    value: function getCurrentTime() {\\n      var currentTime = isNaN(this.streamCurrentTime) ? 0 : this.streamCurrentTime;\\n\\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\\n        currentTime = this.surfer.getCurrentTime();\\n      }\\n\\n      return currentTime;\\n    }\\n  }, {\\n    key: \\\"setCurrentTime\\\",\\n    value: function setCurrentTime(currentTime, duration) {\\n      currentTime = isNaN(currentTime) ? 0 : currentTime;\\n      duration = isNaN(duration) ? 0 : duration;\\n\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          this.surfer.setCurrentTime(currentTime, duration);\\n          break;\\n\\n        case _recordMode.VIDEO_ONLY:\\n        case _recordMode.AUDIO_VIDEO:\\n        case _recordMode.AUDIO_SCREEN:\\n        case _recordMode.ANIMATION:\\n        case _recordMode.SCREEN_ONLY:\\n          if (this.player.controlBar.currentTimeDisplay && this.player.controlBar.currentTimeDisplay.contentEl() && this.player.controlBar.currentTimeDisplay.contentEl().lastChild) {\\n            this.streamCurrentTime = Math.min(currentTime, duration);\\n            this.player.controlBar.currentTimeDisplay.formattedTime_ = this.player.controlBar.currentTimeDisplay.contentEl().lastChild.textContent = (0, _formatTime.default)(this.streamCurrentTime, duration, this.displayMilliseconds);\\n          }\\n\\n          break;\\n      }\\n    }\\n  }, {\\n    key: \\\"getDuration\\\",\\n    value: function getDuration() {\\n      var duration = isNaN(this.streamDuration) ? 0 : this.streamDuration;\\n      return duration;\\n    }\\n  }, {\\n    key: \\\"setDuration\\\",\\n    value: function setDuration(duration) {\\n      duration = isNaN(duration) ? 0 : duration;\\n\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          this.surfer.setDuration(duration);\\n          break;\\n\\n        case _recordMode.VIDEO_ONLY:\\n        case _recordMode.AUDIO_VIDEO:\\n        case _recordMode.AUDIO_SCREEN:\\n        case _recordMode.ANIMATION:\\n        case _recordMode.SCREEN_ONLY:\\n          if (this.player.controlBar.durationDisplay && this.player.controlBar.durationDisplay.contentEl() && this.player.controlBar.durationDisplay.contentEl().lastChild) {\\n            this.player.controlBar.durationDisplay.formattedTime_ = this.player.controlBar.durationDisplay.contentEl().lastChild.textContent = (0, _formatTime.default)(duration, duration, this.displayMilliseconds);\\n          }\\n\\n          break;\\n      }\\n    }\\n  }, {\\n    key: \\\"load\\\",\\n    value: function load(url) {\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          this.surfer.load(url);\\n          break;\\n\\n        case _recordMode.IMAGE_ONLY:\\n        case _recordMode.VIDEO_ONLY:\\n        case _recordMode.AUDIO_VIDEO:\\n        case _recordMode.AUDIO_SCREEN:\\n        case _recordMode.ANIMATION:\\n        case _recordMode.SCREEN_ONLY:\\n          if (url instanceof Blob || url instanceof File) {\\n            this.mediaElement.srcObject = null;\\n            this.mediaElement.src = URL.createObjectURL(url);\\n          } else {\\n            (0, _browserShim.default)(url, this.mediaElement);\\n          }\\n\\n          break;\\n      }\\n    }\\n  }, {\\n    key: \\\"saveAs\\\",\\n    value: function saveAs(name) {\\n      if (this.engine && name !== undefined) {\\n        this.engine.saveAs(name);\\n      }\\n    }\\n  }, {\\n    key: \\\"dispose\\\",\\n    value: function dispose() {\\n      this.player.off(_event.default.READY);\\n      this.player.off(_event.default.USERINACTIVE);\\n      this.player.off(_event.default.LOADEDMETADATA);\\n\\n      if (this.engine) {\\n        this.engine.dispose();\\n        this.engine.destroy();\\n        this.engine.off(_event.default.RECORD_COMPLETE, this.engineStopCallback);\\n      }\\n\\n      this.stop();\\n      this.stopDevice();\\n      this.removeRecording();\\n      this.player.clearInterval(this.countDown);\\n\\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\\n        if (this.surfer) {\\n          this.surfer.destroy();\\n        }\\n      } else if (this.getRecordType() === _recordMode.IMAGE_ONLY) {\\n        if (this.mediaElement && this.streamVisibleCallback) {\\n          this.mediaElement.removeEventListener(_event.default.PLAYING, this.streamVisibleCallback);\\n        }\\n      }\\n\\n      this.resetState();\\n      (0, _get2.default)((0, _getPrototypeOf2.default)(Record.prototype), \\\"dispose\\\", this).call(this);\\n    }\\n  }, {\\n    key: \\\"destroy\\\",\\n    value: function destroy() {\\n      this.player.dispose();\\n    }\\n  }, {\\n    key: \\\"reset\\\",\\n    value: function reset() {\\n      var _this7 = this;\\n\\n      if (this.engine) {\\n        this.engine.dispose();\\n        this.engine.off(_event.default.RECORD_COMPLETE, this.engineStopCallback);\\n      }\\n\\n      this.stop();\\n      this.stopDevice();\\n      this.player.clearInterval(this.countDown);\\n      this.removeRecording();\\n      this.loadOptions();\\n      this.resetState();\\n      this.setDuration(this.maxLength);\\n      this.setCurrentTime(0);\\n      this.player.reset();\\n\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          if (this.surfer && this.surfer.surfer) {\\n            this.surfer.surfer.empty();\\n          }\\n\\n          break;\\n\\n        case _recordMode.IMAGE_ONLY:\\n        case _recordMode.ANIMATION:\\n          this.player.recordCanvas.hide();\\n          this.player.cameraButton.hide();\\n          break;\\n      }\\n\\n      if (this.player.controlBar.playToggle !== undefined) {\\n        this.player.controlBar.playToggle.hide();\\n      }\\n\\n      this.player.deviceButton.show();\\n      this.player.recordToggle.hide();\\n      this.player.one(_event.default.LOADEDMETADATA, function () {\\n        _this7.setDuration(_this7.maxLength);\\n      });\\n    }\\n  }, {\\n    key: \\\"resetState\\\",\\n    value: function resetState() {\\n      this._recording = false;\\n      this._processing = false;\\n      this._deviceActive = false;\\n      this.devices = [];\\n    }\\n  }, {\\n    key: \\\"removeRecording\\\",\\n    value: function removeRecording() {\\n      if (this.mediaElement && this.mediaElement.src.startsWith('blob:') === true) {\\n        URL.revokeObjectURL(this.mediaElement.src);\\n        this.mediaElement.src = '';\\n      }\\n    }\\n  }, {\\n    key: \\\"exportImage\\\",\\n    value: function exportImage() {\\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'image/png';\\n      var quality = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\\n\\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\\n        return this.surfer.surfer.exportImage(format, quality, 'blob');\\n      } else {\\n        var recordCanvas = this.player.recordCanvas.el().firstChild;\\n        this.drawCanvas(recordCanvas, this.mediaElement);\\n        return new Promise(function (resolve) {\\n          recordCanvas.toBlob(resolve, format, quality);\\n        });\\n      }\\n    }\\n  }, {\\n    key: \\\"muteTracks\\\",\\n    value: function muteTracks(mute) {\\n      if ((this.getRecordType() === _recordMode.AUDIO_ONLY || this.getRecordType() === _recordMode.AUDIO_SCREEN || this.getRecordType() === _recordMode.AUDIO_VIDEO) && this.stream.getAudioTracks().length > 0) {\\n        this.stream.getAudioTracks()[0].enabled = !mute;\\n      }\\n\\n      if (this.getRecordType() !== _recordMode.AUDIO_ONLY && this.stream.getVideoTracks().length > 0) {\\n        this.stream.getVideoTracks()[0].enabled = !mute;\\n      }\\n    }\\n  }, {\\n    key: \\\"getRecordType\\\",\\n    value: function getRecordType() {\\n      return (0, _recordMode.getRecorderMode)(this.recordImage, this.recordAudio, this.recordVideo, this.recordAnimation, this.recordScreen);\\n    }\\n  }, {\\n    key: \\\"createSnapshot\\\",\\n    value: function createSnapshot() {\\n      var _this8 = this;\\n\\n      this.captureFrame().then(function (result) {\\n        if (_this8.imageOutputType === 'blob') {\\n          result.toBlob(function (blob) {\\n            _this8.player.recordedData = blob;\\n\\n            _this8.displaySnapshot();\\n          });\\n        } else if (_this8.imageOutputType === 'dataURL') {\\n          _this8.player.recordedData = result.toDataURL(_this8.imageOutputFormat, _this8.imageOutputQuality);\\n\\n          _this8.displaySnapshot();\\n        }\\n      }, this.imageOutputFormat, this.imageOutputQuality);\\n    }\\n  }, {\\n    key: \\\"displaySnapshot\\\",\\n    value: function displaySnapshot() {\\n      this.mediaElement.style.display = 'none';\\n      this.player.recordCanvas.show();\\n      this.stop();\\n    }\\n  }, {\\n    key: \\\"retrySnapshot\\\",\\n    value: function retrySnapshot() {\\n      this._processing = false;\\n      this.player.recordCanvas.hide();\\n      this.player.el().firstChild.style.display = 'block';\\n    }\\n  }, {\\n    key: \\\"captureFrame\\\",\\n    value: function captureFrame() {\\n      var _this9 = this;\\n\\n      var detected = (0, _detectBrowser.detectBrowser)();\\n      var recordCanvas = this.player.recordCanvas.el().firstChild;\\n      recordCanvas.width = this.player.width();\\n      recordCanvas.height = this.player.height();\\n      return new Promise(function (resolve, reject) {\\n        if (detected.browser === 'chrome' && detected.version >= 60 && (typeof ImageCapture === \\\"undefined\\\" ? \\\"undefined\\\" : (0, _typeof2.default)(ImageCapture)) === (typeof Function === \\\"undefined\\\" ? \\\"undefined\\\" : (0, _typeof2.default)(Function))) {\\n          try {\\n            var track = _this9.stream.getVideoTracks()[0];\\n\\n            var imageCapture = new ImageCapture(track);\\n            imageCapture.grabFrame().then(function (imageBitmap) {\\n              _this9.drawCanvas(recordCanvas, imageBitmap);\\n\\n              resolve(recordCanvas);\\n            }).catch(function (error) {});\\n          } catch (err) {}\\n        }\\n\\n        _this9.drawCanvas(recordCanvas, _this9.mediaElement);\\n\\n        resolve(recordCanvas);\\n      });\\n    }\\n  }, {\\n    key: \\\"drawCanvas\\\",\\n    value: function drawCanvas(canvas, element) {\\n      canvas.getContext('2d').drawImage(element, 0, 0, canvas.width, canvas.height);\\n    }\\n  }, {\\n    key: \\\"startVideoPreview\\\",\\n    value: function startVideoPreview() {\\n      this.off(_event.default.TIMEUPDATE);\\n      this.off(_event.default.DURATIONCHANGE);\\n      this.off(_event.default.LOADEDMETADATA);\\n      this.off(_event.default.PLAY);\\n      this.mediaElement.muted = true;\\n      this.displayVolumeControl(false);\\n      this.removeRecording();\\n      this.load(this.stream);\\n      this.mediaElement.play();\\n    }\\n  }, {\\n    key: \\\"showAnimation\\\",\\n    value: function showAnimation() {\\n      var animationDisplay = this.player.animationDisplay.el().firstChild;\\n      animationDisplay.width = this.player.width();\\n      animationDisplay.height = this.player.height();\\n      this.player.recordCanvas.hide();\\n      (0, _browserShim.default)(this.player.recordedData, animationDisplay);\\n      this.player.animationDisplay.show();\\n    }\\n  }, {\\n    key: \\\"hideAnimation\\\",\\n    value: function hideAnimation() {\\n      this.player.recordCanvas.show();\\n      this.player.animationDisplay.hide();\\n    }\\n  }, {\\n    key: \\\"playbackTimeUpdate\\\",\\n    value: function playbackTimeUpdate() {\\n      this.setCurrentTime(this.player.currentTime(), this.streamDuration);\\n    }\\n  }, {\\n    key: \\\"enumerateDevices\\\",\\n    value: function enumerateDevices() {\\n      var _this10 = this;\\n\\n      if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\\n        this.player.enumerateErrorCode = 'enumerateDevices() not supported.';\\n        this.player.trigger(_event.default.ENUMERATE_ERROR);\\n        return;\\n      }\\n\\n      navigator.mediaDevices.enumerateDevices(this).then(function (devices) {\\n        _this10.devices = [];\\n        devices.forEach(function (device) {\\n          _this10.devices.push(device);\\n        });\\n\\n        _this10.player.trigger(_event.default.ENUMERATE_READY);\\n      }).catch(function (err) {\\n        _this10.player.enumerateErrorCode = err;\\n\\n        _this10.player.trigger(_event.default.ENUMERATE_ERROR);\\n      });\\n    }\\n  }, {\\n    key: \\\"setVideoInput\\\",\\n    value: function setVideoInput(deviceId) {\\n      if (this.recordVideo === Object(this.recordVideo)) {\\n        this.recordVideo.deviceId = {\\n          exact: deviceId\\n        };\\n      } else if (this.recordVideo === true) {\\n        this.recordVideo = {\\n          deviceId: {\\n            exact: deviceId\\n          }\\n        };\\n      }\\n\\n      this.stopDevice();\\n      this.getDevice();\\n    }\\n  }, {\\n    key: \\\"setAudioInput\\\",\\n    value: function setAudioInput(deviceId) {\\n      if (this.recordAudio === Object(this.recordAudio)) {\\n        this.recordAudio.deviceId = {\\n          exact: deviceId\\n        };\\n      } else if (this.recordAudio === true) {\\n        this.recordAudio = {\\n          deviceId: {\\n            exact: deviceId\\n          }\\n        };\\n      }\\n\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          this.surfer.surfer.microphone.constraints = {\\n            video: false,\\n            audio: this.recordAudio\\n          };\\n          break;\\n      }\\n\\n      this.stopDevice();\\n      this.getDevice();\\n    }\\n  }, {\\n    key: \\\"setAudioOutput\\\",\\n    value: function setAudioOutput(deviceId) {\\n      var _this11 = this;\\n\\n      var errorMessage;\\n\\n      switch (this.getRecordType()) {\\n        case _recordMode.AUDIO_ONLY:\\n          this.surfer.surfer.setSinkId(deviceId).then(function (result) {\\n            _this11.player.trigger(_event.default.AUDIO_OUTPUT_READY);\\n\\n            return;\\n          }).catch(function (err) {\\n            errorMessage = err;\\n          });\\n          break;\\n\\n        default:\\n          var element = player.tech_.el_;\\n\\n          if (deviceId) {\\n            if (typeof element.sinkId !== 'undefined') {\\n              element.setSinkId(deviceId).then(function (result) {\\n                _this11.player.trigger(_event.default.AUDIO_OUTPUT_READY);\\n\\n                return;\\n              }).catch(function (err) {\\n                errorMessage = err;\\n              });\\n            } else {\\n              errorMessage = 'Browser does not support audio output device selection.';\\n            }\\n          } else {\\n            errorMessage = \\\"Invalid deviceId: \\\".concat(deviceId);\\n          }\\n\\n          break;\\n      }\\n\\n      this.player.trigger(_event.default.ERROR, errorMessage);\\n    }\\n  }, {\\n    key: \\\"displayVolumeControl\\\",\\n    value: function displayVolumeControl(display) {\\n      if (this.player.controlBar.volumePanel !== undefined) {\\n        if (display === true) {\\n          display = 'flex';\\n        } else {\\n          display = 'none';\\n        }\\n\\n        this.player.controlBar.volumePanel.el().style.display = display;\\n      }\\n    }\\n  }, {\\n    key: \\\"onStreamVisible\\\",\\n    value: function onStreamVisible(event) {\\n      this.mediaElement.removeEventListener(_event.default.PLAYING, this.streamVisibleCallback);\\n      this.player.cameraButton.onStop();\\n      this.player.cameraButton.show();\\n    }\\n  }, {\\n    key: \\\"onEnterPiP\\\",\\n    value: function onEnterPiP(event) {\\n      this.player.trigger(_event.default.ENTER_PIP, event);\\n    }\\n  }, {\\n    key: \\\"onLeavePiP\\\",\\n    value: function onLeavePiP(event) {\\n      this.player.trigger(_event.default.LEAVE_PIP);\\n    }\\n  }]);\\n  return Record;\\n}(Plugin);\\n\\nexports.Record = Record;\\nRecord.VERSION = \\\"4.1.0\\\";\\n_video.default.Record = Record;\\n\\nif (_video.default.getPlugin('record') === undefined) {\\n  _video.default.registerPlugin('record', Record);\\n}\\n\\n//# sourceURL=webpack://VideojsRecord/./src/js/videojs.record.js?\");\n\n/***/ }),\n\n/***/ 0:\n/*!**********************************************************************!*\\\n  !*** multi ./src/js/videojs.record.js ./src/css/videojs.record.scss ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"__webpack_require__(/*! /Users/thijstriemstra/projects/videojs-record/src/js/videojs.record.js */\\\"./src/js/videojs.record.js\\\");\\nmodule.exports = __webpack_require__(/*! /Users/thijstriemstra/projects/videojs-record/src/css/videojs.record.scss */\\\"./src/css/videojs.record.scss\\\");\\n\\n\\n//# sourceURL=webpack://VideojsRecord/multi_./src/js/videojs.record.js_./src/css/videojs.record.scss?\");\n\n/***/ }),\n\n/***/ \"recordrtc\":\n/*!******************************************************************************************************!*\\\n  !*** external {\"commonjs\":\"recordrtc\",\"commonjs2\":\"recordrtc\",\"amd\":\"recordrtc\",\"root\":\"RecordRTC\"} ***!\n  \\******************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = __WEBPACK_EXTERNAL_MODULE_recordrtc__;\\n\\n//# sourceURL=webpack://VideojsRecord/external_%7B%22commonjs%22:%22recordrtc%22,%22commonjs2%22:%22recordrtc%22,%22amd%22:%22recordrtc%22,%22root%22:%22RecordRTC%22%7D?\");\n\n/***/ }),\n\n/***/ \"video.js\":\n/*!*************************************************************************************************!*\\\n  !*** external {\"commonjs\":\"video.js\",\"commonjs2\":\"video.js\",\"amd\":\"video.js\",\"root\":\"videojs\"} ***!\n  \\*************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = __WEBPACK_EXTERNAL_MODULE_video_js__;\\n\\n//# sourceURL=webpack://VideojsRecord/external_%7B%22commonjs%22:%22video.js%22,%22commonjs2%22:%22video.js%22,%22amd%22:%22video.js%22,%22root%22:%22videojs%22%7D?\");\n\n/***/ })\n\n/******/ });\n});","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar EventDispatcher_1 = require(\"./EventDispatcher\");\nvar StreamManagerEvent_1 = require(\"../OpenViduInternal/Events/StreamManagerEvent\");\nvar VideoElementEvent_1 = require(\"../OpenViduInternal/Events/VideoElementEvent\");\nvar VideoInsertMode_1 = require(\"../OpenViduInternal/Enums/VideoInsertMode\");\nvar platform = require(\"platform\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Interface in charge of displaying the media streams in the HTML DOM. This wraps any [[Publisher]] and [[Subscriber]] object.\n * You can insert as many video players fo the same Stream as you want by calling [[StreamManager.addVideoElement]] or\n * [[StreamManager.createVideoElement]].\n * The use of StreamManager wrapper is particularly useful when you don't need to differentiate between Publisher or Subscriber streams or just\n * want to directly manage your own video elements (even more than one video element per Stream). This scenario is pretty common in\n * declarative, MVC frontend frameworks such as Angular, React or Vue.js\n *\n * ### Available event listeners (and events dispatched)\n *\n * - videoElementCreated ([[VideoElementEvent]])\n * - videoElementDestroyed ([[VideoElementEvent]])\n * - streamPlaying ([[StreamManagerEvent]])\n * - streamAudioVolumeChange ([[StreamManagerEvent]])\n *\n */\nvar StreamManager = /** @class */ (function (_super) {\n    __extends(StreamManager, _super);\n    /**\n     * @hidden\n     */\n    function StreamManager(stream, targetElement) {\n        var _this = _super.call(this) || this;\n        /**\n         * All the videos displaying the Stream of this Publisher/Subscriber\n         */\n        _this.videos = [];\n        /**\n         * @hidden\n         */\n        _this.lazyLaunchVideoElementCreatedEvent = false;\n        _this.stream = stream;\n        _this.stream.streamManager = _this;\n        _this.remote = !_this.stream.isLocal();\n        if (!!targetElement) {\n            var targEl = void 0;\n            if (typeof targetElement === 'string') {\n                targEl = document.getElementById(targetElement);\n            }\n            else if (targetElement instanceof HTMLElement) {\n                targEl = targetElement;\n            }\n            if (!!targEl) {\n                _this.firstVideoElement = {\n                    targetElement: targEl,\n                    video: document.createElement('video'),\n                    id: '',\n                    canplayListenerAdded: false\n                };\n                if (platform.name === 'Safari') {\n                    _this.firstVideoElement.video.setAttribute('playsinline', 'true');\n                }\n                _this.targetElement = targEl;\n                _this.element = targEl;\n            }\n        }\n        _this.canPlayListener = function () {\n            if (_this.stream.isLocal()) {\n                if (!_this.stream.displayMyRemote()) {\n                    logger.info(\"Your local 'Stream' with id [\" + _this.stream.streamId + '] video is now playing');\n                    _this.ee.emitEvent('videoPlaying', [new VideoElementEvent_1.VideoElementEvent(_this.videos[0].video, _this, 'videoPlaying')]);\n                }\n                else {\n                    logger.info(\"Your own remote 'Stream' with id [\" + _this.stream.streamId + '] video is now playing');\n                    _this.ee.emitEvent('remoteVideoPlaying', [new VideoElementEvent_1.VideoElementEvent(_this.videos[0].video, _this, 'remoteVideoPlaying')]);\n                }\n            }\n            else {\n                logger.info(\"Remote 'Stream' with id [\" + _this.stream.streamId + '] video is now playing');\n                _this.ee.emitEvent('videoPlaying', [new VideoElementEvent_1.VideoElementEvent(_this.videos[0].video, _this, 'videoPlaying')]);\n            }\n            _this.ee.emitEvent('streamPlaying', [new StreamManagerEvent_1.StreamManagerEvent(_this, 'streamPlaying', undefined)]);\n        };\n        return _this;\n    }\n    /**\n     * See [[EventDispatcher.on]]\n     */\n    StreamManager.prototype.on = function (type, handler) {\n        _super.prototype.onAux.call(this, type, \"Event '\" + type + \"' triggered by '\" + (this.remote ? 'Subscriber' : 'Publisher') + \"'\", handler);\n        if (type === 'videoElementCreated') {\n            if (!!this.stream && this.lazyLaunchVideoElementCreatedEvent) {\n                this.ee.emitEvent('videoElementCreated', [new VideoElementEvent_1.VideoElementEvent(this.videos[0].video, this, 'videoElementCreated')]);\n                this.lazyLaunchVideoElementCreatedEvent = false;\n            }\n        }\n        if (type === 'streamPlaying' || type === 'videoPlaying') {\n            if (this.videos[0] && this.videos[0].video &&\n                this.videos[0].video.currentTime > 0 &&\n                this.videos[0].video.paused === false &&\n                this.videos[0].video.ended === false &&\n                this.videos[0].video.readyState === 4) {\n                this.ee.emitEvent('streamPlaying', [new StreamManagerEvent_1.StreamManagerEvent(this, 'streamPlaying', undefined)]);\n                this.ee.emitEvent('videoPlaying', [new VideoElementEvent_1.VideoElementEvent(this.videos[0].video, this, 'videoPlaying')]);\n            }\n        }\n        if (type === 'streamAudioVolumeChange' && this.stream.hasAudio) {\n            this.stream.enableVolumeChangeEvent(false);\n        }\n        return this;\n    };\n    /**\n     * See [[EventDispatcher.once]]\n     */\n    StreamManager.prototype.once = function (type, handler) {\n        _super.prototype.onceAux.call(this, type, \"Event '\" + type + \"' triggered once by '\" + (this.remote ? 'Subscriber' : 'Publisher') + \"'\", handler);\n        if (type === 'videoElementCreated') {\n            if (!!this.stream && this.lazyLaunchVideoElementCreatedEvent) {\n                this.ee.emitEvent('videoElementCreated', [new VideoElementEvent_1.VideoElementEvent(this.videos[0].video, this, 'videoElementCreated')]);\n            }\n        }\n        if (type === 'streamPlaying' || type === 'videoPlaying') {\n            if (this.videos[0] && this.videos[0].video &&\n                this.videos[0].video.currentTime > 0 &&\n                this.videos[0].video.paused === false &&\n                this.videos[0].video.ended === false &&\n                this.videos[0].video.readyState === 4) {\n                this.ee.emitEvent('streamPlaying', [new StreamManagerEvent_1.StreamManagerEvent(this, 'streamPlaying', undefined)]);\n                this.ee.emitEvent('videoPlaying', [new VideoElementEvent_1.VideoElementEvent(this.videos[0].video, this, 'videoPlaying')]);\n            }\n        }\n        if (type === 'streamAudioVolumeChange' && this.stream.hasAudio) {\n            this.stream.enableOnceVolumeChangeEvent(false);\n        }\n        return this;\n    };\n    /**\n     * See [[EventDispatcher.off]]\n     */\n    StreamManager.prototype.off = function (type, handler) {\n        _super.prototype.off.call(this, type, handler);\n        if (type === 'streamAudioVolumeChange') {\n            var remainingVolumeEventListeners = this.ee.getListeners(type).length;\n            if (remainingVolumeEventListeners === 0) {\n                this.stream.disableVolumeChangeEvent(false);\n            }\n        }\n        return this;\n    };\n    /**\n     * Makes `video` element parameter display this [[stream]]. This is useful when you are\n     * [managing the video elements on your own](/en/stable/cheatsheet/manage-videos/#you-take-care-of-the-video-players)\n     *\n     * Calling this method with a video already added to other Publisher/Subscriber will cause the video element to be\n     * disassociated from that previous Publisher/Subscriber and to be associated to this one.\n     *\n     * @returns 1 if the video wasn't associated to any other Publisher/Subscriber and has been successfully added to this one.\n     * 0 if the video was already added to this Publisher/Subscriber. -1 if the video was previously associated to any other\n     * Publisher/Subscriber and has been successfully disassociated from that one and properly added to this one.\n     */\n    StreamManager.prototype.addVideoElement = function (video) {\n        this.initializeVideoProperties(video);\n        if (this.stream.isLocal() && this.stream.displayMyRemote()) {\n            if (video.srcObject !== this.stream.getMediaStream()) {\n                video.srcObject = this.stream.getMediaStream();\n            }\n        }\n        // If the video element is already part of this StreamManager do nothing\n        for (var _i = 0, _a = this.videos; _i < _a.length; _i++) {\n            var v = _a[_i];\n            if (v.video === video) {\n                return 0;\n            }\n        }\n        var returnNumber = 1;\n        for (var _b = 0, _c = this.stream.session.streamManagers; _b < _c.length; _b++) {\n            var streamManager = _c[_b];\n            if (streamManager.disassociateVideo(video)) {\n                returnNumber = -1;\n                break;\n            }\n        }\n        this.stream.session.streamManagers.forEach(function (streamManager) {\n            streamManager.disassociateVideo(video);\n        });\n        this.pushNewStreamManagerVideo({\n            video: video,\n            id: video.id,\n            canplayListenerAdded: false\n        });\n        logger.info('New video element associated to ', this);\n        return returnNumber;\n    };\n    /**\n     * Creates a new video element displaying this [[stream]]. This allows you to have multiple video elements displaying the same media stream.\n     *\n     * #### Events dispatched\n     *\n     * The Publisher/Subscriber object will dispatch a `videoElementCreated` event once the HTML video element has been added to DOM. See [[VideoElementEvent]]\n     *\n     * @param targetElement HTML DOM element (or its `id` attribute) in which the video element of the Publisher/Subscriber will be inserted\n     * @param insertMode How the video element will be inserted accordingly to `targetElemet`\n     *\n     * @returns The created HTMLVideoElement\n     */\n    StreamManager.prototype.createVideoElement = function (targetElement, insertMode) {\n        var targEl;\n        if (typeof targetElement === 'string') {\n            targEl = document.getElementById(targetElement);\n            if (!targEl) {\n                throw new Error(\"The provided 'targetElement' couldn't be resolved to any HTML element: \" + targetElement);\n            }\n        }\n        else if (targetElement instanceof HTMLElement) {\n            targEl = targetElement;\n        }\n        else {\n            throw new Error(\"The provided 'targetElement' couldn't be resolved to any HTML element: \" + targetElement);\n        }\n        var video = this.createVideo();\n        this.initializeVideoProperties(video);\n        var insMode = !!insertMode ? insertMode : VideoInsertMode_1.VideoInsertMode.APPEND;\n        switch (insMode) {\n            case VideoInsertMode_1.VideoInsertMode.AFTER:\n                targEl.parentNode.insertBefore(video, targEl.nextSibling);\n                break;\n            case VideoInsertMode_1.VideoInsertMode.APPEND:\n                targEl.appendChild(video);\n                break;\n            case VideoInsertMode_1.VideoInsertMode.BEFORE:\n                targEl.parentNode.insertBefore(video, targEl);\n                break;\n            case VideoInsertMode_1.VideoInsertMode.PREPEND:\n                targEl.insertBefore(video, targEl.childNodes[0]);\n                break;\n            case VideoInsertMode_1.VideoInsertMode.REPLACE:\n                targEl.parentNode.replaceChild(video, targEl);\n                break;\n            default:\n                insMode = VideoInsertMode_1.VideoInsertMode.APPEND;\n                targEl.appendChild(video);\n                break;\n        }\n        var v = {\n            targetElement: targEl,\n            video: video,\n            insertMode: insMode,\n            id: video.id,\n            canplayListenerAdded: false\n        };\n        this.pushNewStreamManagerVideo(v);\n        this.ee.emitEvent('videoElementCreated', [new VideoElementEvent_1.VideoElementEvent(v.video, this, 'videoElementCreated')]);\n        this.lazyLaunchVideoElementCreatedEvent = !!this.firstVideoElement;\n        return video;\n    };\n    /**\n     * Updates the current configuration for the [[PublisherSpeakingEvent]] feature and the [StreamManagerEvent.streamAudioVolumeChange](/en/stable/api/openvidu-browser/classes/streammanagerevent.html) feature for this specific\n     * StreamManager audio stream, overriding the global options set with [[OpenVidu.setAdvancedConfiguration]]. This way you can customize the audio events options\n     * for each specific StreamManager and change them dynamically.\n     *\n     * @param publisherSpeakingEventsOptions New options to be applied to this StreamManager's audio stream. It is an object which includes the following optional properties:\n     * - `interval`: (number) how frequently the analyser polls the audio stream to check if speaking has started/stopped or audio volume has changed. Default **100** (ms)\n     * - `threshold`: (number) the volume at which _publisherStartSpeaking_, _publisherStopSpeaking_ events will be fired. Default **-50** (dB)\n     */\n    StreamManager.prototype.updatePublisherSpeakingEventsOptions = function (publisherSpeakingEventsOptions) {\n        var currentHarkOptions = !!this.stream.harkOptions ? this.stream.harkOptions : (this.stream.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions || {});\n        var newInterval = (typeof publisherSpeakingEventsOptions.interval === 'number') ?\n            publisherSpeakingEventsOptions.interval : ((typeof currentHarkOptions.interval === 'number') ? currentHarkOptions.interval : 100);\n        var newThreshold = (typeof publisherSpeakingEventsOptions.threshold === 'number') ?\n            publisherSpeakingEventsOptions.threshold : ((typeof currentHarkOptions.threshold === 'number') ? currentHarkOptions.threshold : -50);\n        this.stream.harkOptions = {\n            interval: newInterval,\n            threshold: newThreshold\n        };\n        if (!!this.stream.speechEvent) {\n            this.stream.speechEvent.setInterval(newInterval);\n            this.stream.speechEvent.setThreshold(newThreshold);\n        }\n    };\n    /* Hidden methods */\n    /**\n     * @hidden\n     */\n    StreamManager.prototype.initializeVideoProperties = function (video) {\n        if (!(this.stream.isLocal() && this.stream.displayMyRemote())) {\n            // Avoid setting the MediaStream into the srcObject if remote subscription before publishing\n            if (video.srcObject !== this.stream.getMediaStream()) {\n                // If srcObject already set don't do it again\n                video.srcObject = this.stream.getMediaStream();\n            }\n        }\n        video.autoplay = true;\n        video.controls = false;\n        if (platform.name === 'Safari') {\n            video.setAttribute('playsinline', 'true');\n        }\n        if (!video.id) {\n            video.id = (this.remote ? 'remote-' : 'local-') + 'video-' + this.stream.streamId;\n            // DEPRECATED property: assign once the property id if the user provided a valid targetElement\n            if (!this.id && !!this.targetElement) {\n                this.id = video.id;\n            }\n        }\n        if (!this.remote && !this.stream.displayMyRemote()) {\n            video.muted = true;\n            if (video.style.transform === 'rotateY(180deg)' && !this.stream.outboundStreamOpts.publisherProperties.mirror) {\n                // If the video was already rotated and now is set to not mirror\n                this.removeMirrorVideo(video);\n            }\n            else if (this.stream.outboundStreamOpts.publisherProperties.mirror && !this.stream.isSendScreen()) {\n                this.mirrorVideo(video);\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    StreamManager.prototype.removeAllVideos = function () {\n        var _this = this;\n        for (var i = this.stream.session.streamManagers.length - 1; i >= 0; --i) {\n            if (this.stream.session.streamManagers[i] === this) {\n                this.stream.session.streamManagers.splice(i, 1);\n            }\n        }\n        this.videos.forEach(function (streamManagerVideo) {\n            // Remove oncanplay event listener (only OpenVidu browser listener, not the user ones)\n            if (!!streamManagerVideo.video && !!streamManagerVideo.video.removeEventListener) {\n                streamManagerVideo.video.removeEventListener('canplay', _this.canPlayListener);\n            }\n            streamManagerVideo.canplayListenerAdded = false;\n            if (!!streamManagerVideo.targetElement) {\n                // Only remove from DOM videos created by OpenVidu Browser (those generated by passing a valid targetElement in OpenVidu.initPublisher\n                // and Session.subscribe or those created by StreamManager.createVideoElement). All this videos triggered a videoElementCreated event\n                streamManagerVideo.video.parentNode.removeChild(streamManagerVideo.video);\n                _this.ee.emitEvent('videoElementDestroyed', [new VideoElementEvent_1.VideoElementEvent(streamManagerVideo.video, _this, 'videoElementDestroyed')]);\n            }\n            // Remove srcObject from the video\n            _this.removeSrcObject(streamManagerVideo);\n            // Remove from collection of videos every video managed by OpenVidu Browser\n            _this.videos.filter(function (v) { return !v.targetElement; });\n        });\n    };\n    /**\n     * @hidden\n     */\n    StreamManager.prototype.disassociateVideo = function (video) {\n        var disassociated = false;\n        for (var i = 0; i < this.videos.length; i++) {\n            if (this.videos[i].video === video) {\n                this.videos[i].video.removeEventListener('canplay', this.canPlayListener);\n                this.videos.splice(i, 1);\n                disassociated = true;\n                logger.info('Video element disassociated from ', this);\n                break;\n            }\n        }\n        return disassociated;\n    };\n    /**\n     * @hidden\n     */\n    StreamManager.prototype.addPlayEventToFirstVideo = function () {\n        if ((!!this.videos[0]) && (!!this.videos[0].video) && (!this.videos[0].canplayListenerAdded)) {\n            this.videos[0].video.addEventListener('canplay', this.canPlayListener);\n            this.videos[0].canplayListenerAdded = true;\n        }\n    };\n    /**\n     * @hidden\n     */\n    StreamManager.prototype.updateMediaStream = function (mediaStream) {\n        this.videos.forEach(function (streamManagerVideo) {\n            streamManagerVideo.video.srcObject = mediaStream;\n            if (platform['isIonicIos']) {\n                // iOS Ionic. LIMITATION: must reinsert the video in the DOM for\n                // the media stream to be updated\n                var vParent = streamManagerVideo.video.parentElement;\n                var newVideo = streamManagerVideo.video;\n                vParent.replaceChild(newVideo, streamManagerVideo.video);\n                streamManagerVideo.video = newVideo;\n            }\n        });\n    };\n    /**\n     * @hidden\n     */\n    StreamManager.prototype.emitEvent = function (type, eventArray) {\n        this.ee.emitEvent(type, eventArray);\n    };\n    /**\n    * @hidden\n    */\n    StreamManager.prototype.createVideo = function () {\n        return document.createElement('video');\n    };\n    /**\n     * @hidden\n     */\n    StreamManager.prototype.removeSrcObject = function (streamManagerVideo) {\n        streamManagerVideo.video.srcObject = null;\n    };\n    /* Private methods */\n    StreamManager.prototype.pushNewStreamManagerVideo = function (streamManagerVideo) {\n        this.videos.push(streamManagerVideo);\n        this.addPlayEventToFirstVideo();\n        if (this.stream.session.streamManagers.indexOf(this) === -1) {\n            this.stream.session.streamManagers.push(this);\n        }\n    };\n    StreamManager.prototype.mirrorVideo = function (video) {\n        if (!platform['isIonicIos']) {\n            video.style.transform = 'rotateY(180deg)';\n            video.style.webkitTransform = 'rotateY(180deg)';\n        }\n    };\n    StreamManager.prototype.removeMirrorVideo = function (video) {\n        video.style.transform = 'unset';\n        video.style.webkitTransform = 'unset';\n    };\n    return StreamManager;\n}(EventDispatcher_1.EventDispatcher));\nexports.StreamManager = StreamManager;\n//# sourceMappingURL=StreamManager.js.map","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Session_1 = require(\"./Session\");\nvar Stream_1 = require(\"./Stream\");\nvar StreamManager_1 = require(\"./StreamManager\");\nvar StreamEvent_1 = require(\"../OpenViduInternal/Events/StreamEvent\");\nvar StreamPropertyChangedEvent_1 = require(\"../OpenViduInternal/Events/StreamPropertyChangedEvent\");\nvar VideoElementEvent_1 = require(\"../OpenViduInternal/Events/VideoElementEvent\");\nvar OpenViduError_1 = require(\"../OpenViduInternal/Enums/OpenViduError\");\nvar platform = require(\"platform\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Packs local media streams. Participants can publish it to a session. Initialized with [[OpenVidu.initPublisher]] method\n *\n * ### Available event listeners (and events dispatched)\n *\n * - accessAllowed\n * - accessDenied\n * - accessDialogOpened\n * - accessDialogClosed\n * - streamCreated ([[StreamEvent]])\n * - streamDestroyed ([[StreamEvent]])\n * - streamPropertyChanged ([[StreamPropertyChangedEvent]])\n */\nvar Publisher = /** @class */ (function (_super) {\n    __extends(Publisher, _super);\n    /**\n     * @hidden\n     */\n    function Publisher(targEl, properties, openvidu) {\n        var _this = _super.call(this, new Stream_1.Stream((!!openvidu.session) ? openvidu.session : new Session_1.Session(openvidu), { publisherProperties: properties, mediaConstraints: {} }), targEl) || this;\n        /**\n         * Whether the Publisher has been granted access to the requested input devices or not\n         */\n        _this.accessAllowed = false;\n        /**\n         * Whether you have called [[Publisher.subscribeToRemote]] with value `true` or `false` (*false* by default)\n         */\n        _this.isSubscribedToRemote = false;\n        _this.accessDenied = false;\n        _this.properties = properties;\n        _this.openvidu = openvidu;\n        _this.stream.ee.on('local-stream-destroyed', function (reason) {\n            _this.stream.isLocalStreamPublished = false;\n            var streamEvent = new StreamEvent_1.StreamEvent(true, _this, 'streamDestroyed', _this.stream, reason);\n            _this.emitEvent('streamDestroyed', [streamEvent]);\n            streamEvent.callDefaultBehavior();\n        });\n        return _this;\n    }\n    /**\n     * Publish or unpublish the audio stream (if available). Calling this method twice in a row passing same value will have no effect\n     *\n     * #### Events dispatched\n     *\n     * > _Only if `Session.publish(Publisher)` has been called for this Publisher_\n     *\n     * The [[Session]] object of the local participant will dispatch a `streamPropertyChanged` event with `changedProperty` set to `\"audioActive\"` and `reason` set to `\"publishAudio\"`\n     * The [[Publisher]] object of the local participant will also dispatch the exact same event\n     *\n     * The [[Session]] object of every other participant connected to the session will dispatch a `streamPropertyChanged` event with `changedProperty` set to `\"audioActive\"` and `reason` set to `\"publishAudio\"`\n     * The respective [[Subscriber]] object of every other participant receiving this Publisher's stream will also dispatch the exact same event\n     *\n     * See [[StreamPropertyChangedEvent]] to learn more.\n     *\n     * @param value `true` to publish the audio stream, `false` to unpublish it\n     */\n    Publisher.prototype.publishAudio = function (value) {\n        var _this = this;\n        if (this.stream.audioActive !== value) {\n            var affectedMediaStream = this.stream.displayMyRemote() ? this.stream.localMediaStreamWhenSubscribedToRemote : this.stream.getMediaStream();\n            affectedMediaStream.getAudioTracks().forEach(function (track) {\n                track.enabled = value;\n            });\n            if (!!this.session && !!this.stream.streamId) {\n                this.session.openvidu.sendRequest('streamPropertyChanged', {\n                    streamId: this.stream.streamId,\n                    property: 'audioActive',\n                    newValue: value,\n                    reason: 'publishAudio'\n                }, function (error, response) {\n                    if (error) {\n                        logger.error(\"Error sending 'streamPropertyChanged' event\", error);\n                    }\n                    else {\n                        _this.session.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.session, _this.stream, 'audioActive', value, !value, 'publishAudio')]);\n                        _this.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this, _this.stream, 'audioActive', value, !value, 'publishAudio')]);\n                    }\n                });\n            }\n            this.stream.audioActive = value;\n            logger.info(\"'Publisher' has \" + (value ? 'published' : 'unpublished') + ' its audio stream');\n        }\n    };\n    /**\n     * Publish or unpublish the video stream (if available). Calling this method twice in a row passing same value will have no effect\n     *\n     * #### Events dispatched\n     *\n     * > _Only if `Session.publish(Publisher)` has been called for this Publisher_\n     *\n     * The [[Session]] object of the local participant will dispatch a `streamPropertyChanged` event with `changedProperty` set to `\"videoActive\"` and `reason` set to `\"publishVideo\"`\n     * The [[Publisher]] object of the local participant will also dispatch the exact same event\n     *\n     * The [[Session]] object of every other participant connected to the session will dispatch a `streamPropertyChanged` event with `changedProperty` set to `\"videoActive\"` and `reason` set to `\"publishVideo\"`\n     * The respective [[Subscriber]] object of every other participant receiving this Publisher's stream will also dispatch the exact same event\n     *\n     * See [[StreamPropertyChangedEvent]] to learn more.\n     *\n     * @param value `true` to publish the video stream, `false` to unpublish it\n     */\n    Publisher.prototype.publishVideo = function (value) {\n        var _this = this;\n        if (this.stream.videoActive !== value) {\n            var affectedMediaStream = this.stream.displayMyRemote() ? this.stream.localMediaStreamWhenSubscribedToRemote : this.stream.getMediaStream();\n            affectedMediaStream.getVideoTracks().forEach(function (track) {\n                track.enabled = value;\n            });\n            if (!!this.session && !!this.stream.streamId) {\n                this.session.openvidu.sendRequest('streamPropertyChanged', {\n                    streamId: this.stream.streamId,\n                    property: 'videoActive',\n                    newValue: value,\n                    reason: 'publishVideo'\n                }, function (error, response) {\n                    if (error) {\n                        logger.error(\"Error sending 'streamPropertyChanged' event\", error);\n                    }\n                    else {\n                        _this.session.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.session, _this.stream, 'videoActive', value, !value, 'publishVideo')]);\n                        _this.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this, _this.stream, 'videoActive', value, !value, 'publishVideo')]);\n                    }\n                });\n            }\n            this.stream.videoActive = value;\n            logger.info(\"'Publisher' has \" + (value ? 'published' : 'unpublished') + ' its video stream');\n        }\n    };\n    /**\n     * Call this method before [[Session.publish]] if you prefer to subscribe to your Publisher's remote stream instead of using the local stream, as any other user would do.\n     */\n    Publisher.prototype.subscribeToRemote = function (value) {\n        value = (value !== undefined) ? value : true;\n        this.isSubscribedToRemote = value;\n        this.stream.subscribeToMyRemote(value);\n    };\n    /**\n     * See [[EventDispatcher.on]]\n     */\n    Publisher.prototype.on = function (type, handler) {\n        var _this = this;\n        _super.prototype.on.call(this, type, handler);\n        if (type === 'streamCreated') {\n            if (!!this.stream && this.stream.isLocalStreamPublished) {\n                this.emitEvent('streamCreated', [new StreamEvent_1.StreamEvent(false, this, 'streamCreated', this.stream, '')]);\n            }\n            else {\n                this.stream.ee.on('stream-created-by-publisher', function () {\n                    _this.emitEvent('streamCreated', [new StreamEvent_1.StreamEvent(false, _this, 'streamCreated', _this.stream, '')]);\n                });\n            }\n        }\n        if (type === 'remoteVideoPlaying') {\n            if (this.stream.displayMyRemote() && this.videos[0] && this.videos[0].video &&\n                this.videos[0].video.currentTime > 0 &&\n                this.videos[0].video.paused === false &&\n                this.videos[0].video.ended === false &&\n                this.videos[0].video.readyState === 4) {\n                this.emitEvent('remoteVideoPlaying', [new VideoElementEvent_1.VideoElementEvent(this.videos[0].video, this, 'remoteVideoPlaying')]);\n            }\n        }\n        if (type === 'accessAllowed') {\n            if (this.accessAllowed) {\n                this.emitEvent('accessAllowed', []);\n            }\n        }\n        if (type === 'accessDenied') {\n            if (this.accessDenied) {\n                this.emitEvent('accessDenied', []);\n            }\n        }\n        return this;\n    };\n    /**\n     * See [[EventDispatcher.once]]\n     */\n    Publisher.prototype.once = function (type, handler) {\n        var _this = this;\n        _super.prototype.once.call(this, type, handler);\n        if (type === 'streamCreated') {\n            if (!!this.stream && this.stream.isLocalStreamPublished) {\n                this.emitEvent('streamCreated', [new StreamEvent_1.StreamEvent(false, this, 'streamCreated', this.stream, '')]);\n            }\n            else {\n                this.stream.ee.once('stream-created-by-publisher', function () {\n                    _this.emitEvent('streamCreated', [new StreamEvent_1.StreamEvent(false, _this, 'streamCreated', _this.stream, '')]);\n                });\n            }\n        }\n        if (type === 'remoteVideoPlaying') {\n            if (this.stream.displayMyRemote() && this.videos[0] && this.videos[0].video &&\n                this.videos[0].video.currentTime > 0 &&\n                this.videos[0].video.paused === false &&\n                this.videos[0].video.ended === false &&\n                this.videos[0].video.readyState === 4) {\n                this.emitEvent('remoteVideoPlaying', [new VideoElementEvent_1.VideoElementEvent(this.videos[0].video, this, 'remoteVideoPlaying')]);\n            }\n        }\n        if (type === 'accessAllowed') {\n            if (this.accessAllowed) {\n                this.emitEvent('accessAllowed', []);\n            }\n        }\n        if (type === 'accessDenied') {\n            if (this.accessDenied) {\n                this.emitEvent('accessDenied', []);\n            }\n        }\n        return this;\n    };\n    /**\n     * Replaces the current video or audio track with a different one. This allows you to replace an ongoing track with a different one\n     * without having to renegotiate the whole WebRTC connection (that is, initializing a new Publisher, unpublishing the previous one\n     * and publishing the new one).\n     *\n     * You can get this new MediaStreamTrack by using the native Web API or simply with [[OpenVidu.getUserMedia]] method.\n     *\n     * **WARNING: this method has been proven to work, but there may be some combinations of published/replaced tracks that may be incompatible between them and break the connection in OpenVidu Server. A complete renegotiation may be the only solution in this case**\n     *\n     * @param track The [MediaStreamTrack](https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack) object to replace the current one. If it is an audio track, the current audio track will be the replaced one. If it\n     * is a video track, the current video track will be the replaced one.\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the track was successfully replaced and rejected with an Error object in other case\n     */\n    Publisher.prototype.replaceTrack = function (track) {\n        var _this = this;\n        var replaceMediaStreamTrack = function () {\n            var mediaStream = _this.stream.displayMyRemote() ? _this.stream.localMediaStreamWhenSubscribedToRemote : _this.stream.getMediaStream();\n            var removedTrack;\n            if (track.kind === 'video') {\n                removedTrack = mediaStream.getVideoTracks()[0];\n            }\n            else {\n                removedTrack = mediaStream.getAudioTracks()[0];\n            }\n            mediaStream.removeTrack(removedTrack);\n            removedTrack.stop();\n            mediaStream.addTrack(track);\n        };\n        return new Promise(function (resolve, reject) {\n            if (_this.stream.isLocalStreamPublished) {\n                // Only if the Publisher has been published is necessary to call native Web API RTCRtpSender.replaceTrack\n                var senders = _this.stream.getRTCPeerConnection().getSenders();\n                var sender = void 0;\n                if (track.kind === 'video') {\n                    sender = senders.find(function (s) { return !!s.track && s.track.kind === 'video'; });\n                    if (!sender) {\n                        reject(new Error('There\\'s no replaceable track for that kind of MediaStreamTrack in this Publisher object'));\n                    }\n                }\n                else if (track.kind === 'audio') {\n                    sender = senders.find(function (s) { return !!s.track && s.track.kind === 'audio'; });\n                    if (!sender) {\n                        reject(new Error('There\\'s no replaceable track for that kind of MediaStreamTrack in this Publisher object'));\n                    }\n                }\n                else {\n                    reject(new Error('Unknown track kind ' + track.kind));\n                }\n                sender.replaceTrack(track).then(function () {\n                    replaceMediaStreamTrack();\n                    resolve();\n                })[\"catch\"](function (error) {\n                    reject(error);\n                });\n            }\n            else {\n                // Publisher not published. Simply modify local MediaStream tracks\n                replaceMediaStreamTrack();\n                resolve();\n            }\n        });\n    };\n    /* Hidden methods */\n    /**\n     * @hidden\n     */\n    Publisher.prototype.initialize = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var constraints = {};\n            var constraintsAux = {};\n            var timeForDialogEvent = 1250;\n            var startTime;\n            var errorCallback = function (openViduError) {\n                _this.accessDenied = true;\n                _this.accessAllowed = false;\n                reject(openViduError);\n            };\n            var successCallback = function (mediaStream) {\n                _this.accessAllowed = true;\n                _this.accessDenied = false;\n                if (typeof MediaStreamTrack !== 'undefined' && _this.properties.audioSource instanceof MediaStreamTrack) {\n                    mediaStream.removeTrack(mediaStream.getAudioTracks()[0]);\n                    mediaStream.addTrack(_this.properties.audioSource);\n                }\n                if (typeof MediaStreamTrack !== 'undefined' && _this.properties.videoSource instanceof MediaStreamTrack) {\n                    mediaStream.removeTrack(mediaStream.getVideoTracks()[0]);\n                    mediaStream.addTrack(_this.properties.videoSource);\n                }\n                // Apply PublisherProperties.publishAudio and PublisherProperties.publishVideo\n                if (!!mediaStream.getAudioTracks()[0]) {\n                    var enabled = (_this.stream.audioActive !== undefined && _this.stream.audioActive !== null) ? _this.stream.audioActive : !!_this.stream.outboundStreamOpts.publisherProperties.publishAudio;\n                    mediaStream.getAudioTracks()[0].enabled = enabled;\n                }\n                if (!!mediaStream.getVideoTracks()[0]) {\n                    var enabled = (_this.stream.videoActive !== undefined && _this.stream.videoActive !== null) ? _this.stream.videoActive : !!_this.stream.outboundStreamOpts.publisherProperties.publishVideo;\n                    mediaStream.getVideoTracks()[0].enabled = enabled;\n                }\n                _this.initializeVideoReference(mediaStream);\n                if (!_this.stream.displayMyRemote()) {\n                    // When we are subscribed to our remote we don't still set the MediaStream object in the video elements to\n                    // avoid early 'streamPlaying' event\n                    _this.stream.updateMediaStreamInVideos();\n                }\n                delete _this.firstVideoElement;\n                if (_this.stream.isSendVideo()) {\n                    if (!_this.stream.isSendScreen()) {\n                        if (platform['isIonicIos'] || platform.name === 'Safari') {\n                            // iOS Ionic or Safari. Limitation: cannot set videoDimensions directly, as the videoReference is not loaded\n                            // if not added to DOM. Must add it to DOM and wait for videoWidth and videoHeight properties to be defined\n                            _this.videoReference.style.display = 'none';\n                            document.body.appendChild(_this.videoReference);\n                            var videoDimensionsSet_1 = function () {\n                                _this.stream.videoDimensions = {\n                                    width: _this.videoReference.videoWidth,\n                                    height: _this.videoReference.videoHeight\n                                };\n                                _this.stream.isLocalStreamReadyToPublish = true;\n                                _this.stream.ee.emitEvent('stream-ready-to-publish', []);\n                                document.body.removeChild(_this.videoReference);\n                            };\n                            var interval_1;\n                            _this.videoReference.addEventListener('loadedmetadata', function () {\n                                if (_this.videoReference.videoWidth === 0) {\n                                    interval_1 = setInterval(function () {\n                                        if (_this.videoReference.videoWidth !== 0) {\n                                            clearInterval(interval_1);\n                                            videoDimensionsSet_1();\n                                        }\n                                    }, 40);\n                                }\n                                else {\n                                    videoDimensionsSet_1();\n                                }\n                            });\n                        }\n                        else {\n                            // Rest of platforms\n                            // With no screen share, video dimension can be set directly from MediaStream (getSettings)\n                            // Orientation must be checked for mobile devices (width and height are reversed)\n                            var _a = _this.getVideoDimensions(mediaStream), width = _a.width, height = _a.height;\n                            if ((platform.os.family === 'iOS' || platform.os.family === 'Android') && (window.innerHeight > window.innerWidth)) {\n                                // Mobile portrait mode\n                                _this.stream.videoDimensions = {\n                                    width: height || 0,\n                                    height: width || 0\n                                };\n                            }\n                            else {\n                                _this.stream.videoDimensions = {\n                                    width: width || 0,\n                                    height: height || 0\n                                };\n                            }\n                            _this.stream.isLocalStreamReadyToPublish = true;\n                            _this.stream.ee.emitEvent('stream-ready-to-publish', []);\n                        }\n                    }\n                    else {\n                        // With screen share, video dimension must be got from a video element (onloadedmetadata event)\n                        _this.videoReference.addEventListener('loadedmetadata', function () {\n                            _this.stream.videoDimensions = {\n                                width: _this.videoReference.videoWidth,\n                                height: _this.videoReference.videoHeight\n                            };\n                            _this.screenShareResizeInterval = setInterval(function () {\n                                var firefoxSettings = mediaStream.getVideoTracks()[0].getSettings();\n                                var newWidth = (platform.name === 'Chrome' || platform.name === 'Opera') ? _this.videoReference.videoWidth : firefoxSettings.width;\n                                var newHeight = (platform.name === 'Chrome' || platform.name === 'Opera') ? _this.videoReference.videoHeight : firefoxSettings.height;\n                                if (_this.stream.isLocalStreamPublished &&\n                                    (newWidth !== _this.stream.videoDimensions.width ||\n                                        newHeight !== _this.stream.videoDimensions.height)) {\n                                    var oldValue_1 = { width: _this.stream.videoDimensions.width, height: _this.stream.videoDimensions.height };\n                                    _this.stream.videoDimensions = {\n                                        width: newWidth || 0,\n                                        height: newHeight || 0\n                                    };\n                                    _this.session.openvidu.sendRequest('streamPropertyChanged', {\n                                        streamId: _this.stream.streamId,\n                                        property: 'videoDimensions',\n                                        newValue: JSON.stringify(_this.stream.videoDimensions),\n                                        reason: 'screenResized'\n                                    }, function (error, response) {\n                                        if (error) {\n                                            logger.error(\"Error sending 'streamPropertyChanged' event\", error);\n                                        }\n                                        else {\n                                            _this.session.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.session, _this.stream, 'videoDimensions', _this.stream.videoDimensions, oldValue_1, 'screenResized')]);\n                                            _this.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this, _this.stream, 'videoDimensions', _this.stream.videoDimensions, oldValue_1, 'screenResized')]);\n                                        }\n                                    });\n                                }\n                            }, 500);\n                            _this.stream.isLocalStreamReadyToPublish = true;\n                            _this.stream.ee.emitEvent('stream-ready-to-publish', []);\n                        });\n                    }\n                }\n                else {\n                    _this.stream.isLocalStreamReadyToPublish = true;\n                    _this.stream.ee.emitEvent('stream-ready-to-publish', []);\n                }\n                resolve();\n            };\n            var getMediaSuccess = function (mediaStream, definedAudioConstraint) {\n                _this.clearPermissionDialogTimer(startTime, timeForDialogEvent);\n                if (_this.stream.isSendScreen() && _this.stream.isSendAudio()) {\n                    // When getting desktop as user media audio constraint must be false. Now we can ask for it if required\n                    constraintsAux.audio = definedAudioConstraint;\n                    constraintsAux.video = false;\n                    startTime = Date.now();\n                    _this.setPermissionDialogTimer(timeForDialogEvent);\n                    navigator.mediaDevices.getUserMedia(constraintsAux)\n                        .then(function (audioOnlyStream) {\n                        _this.clearPermissionDialogTimer(startTime, timeForDialogEvent);\n                        mediaStream.addTrack(audioOnlyStream.getAudioTracks()[0]);\n                        successCallback(mediaStream);\n                    })[\"catch\"](function (error) {\n                        _this.clearPermissionDialogTimer(startTime, timeForDialogEvent);\n                        mediaStream.getAudioTracks().forEach(function (track) {\n                            track.stop();\n                        });\n                        mediaStream.getVideoTracks().forEach(function (track) {\n                            track.stop();\n                        });\n                        errorCallback(_this.openvidu.generateAudioDeviceError(error, constraints));\n                        return;\n                    });\n                }\n                else {\n                    successCallback(mediaStream);\n                }\n            };\n            var getMediaError = function (error) {\n                logger.error(error);\n                _this.clearPermissionDialogTimer(startTime, timeForDialogEvent);\n                if (error.name === 'Error') {\n                    // Safari OverConstrainedError has as name property 'Error' instead of 'OverConstrainedError'\n                    error.name = error.constructor.name;\n                }\n                var errorName, errorMessage;\n                switch (error.name.toLowerCase()) {\n                    case 'notfounderror':\n                        navigator.mediaDevices.getUserMedia({\n                            audio: false,\n                            video: constraints.video\n                        })\n                            .then(function (mediaStream) {\n                            mediaStream.getVideoTracks().forEach(function (track) {\n                                track.stop();\n                            });\n                            errorName = OpenViduError_1.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND;\n                            errorMessage = error.toString();\n                            errorCallback(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                        })[\"catch\"](function (e) {\n                            errorName = OpenViduError_1.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND;\n                            errorMessage = error.toString();\n                            errorCallback(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                        });\n                        break;\n                    case 'notallowederror':\n                        errorName = _this.stream.isSendScreen() ? OpenViduError_1.OpenViduErrorName.SCREEN_CAPTURE_DENIED : OpenViduError_1.OpenViduErrorName.DEVICE_ACCESS_DENIED;\n                        errorMessage = error.toString();\n                        errorCallback(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                        break;\n                    case 'overconstrainederror':\n                        navigator.mediaDevices.getUserMedia({\n                            audio: false,\n                            video: constraints.video\n                        })\n                            .then(function (mediaStream) {\n                            mediaStream.getVideoTracks().forEach(function (track) {\n                                track.stop();\n                            });\n                            if (error.constraint.toLowerCase() === 'deviceid') {\n                                errorName = OpenViduError_1.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND;\n                                errorMessage = \"Audio input device with deviceId '\" + constraints.audio.deviceId.exact + \"' not found\";\n                            }\n                            else {\n                                errorName = OpenViduError_1.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR;\n                                errorMessage = \"Audio input device doesn't support the value passed for constraint '\" + error.constraint + \"'\";\n                            }\n                            errorCallback(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                        })[\"catch\"](function (e) {\n                            if (error.constraint.toLowerCase() === 'deviceid') {\n                                errorName = OpenViduError_1.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND;\n                                errorMessage = \"Video input device with deviceId '\" + constraints.video.deviceId.exact + \"' not found\";\n                            }\n                            else {\n                                errorName = OpenViduError_1.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR;\n                                errorMessage = \"Video input device doesn't support the value passed for constraint '\" + error.constraint + \"'\";\n                            }\n                            errorCallback(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                        });\n                        break;\n                    case 'aborterror':\n                    case 'notreadableerror':\n                        errorName = OpenViduError_1.OpenViduErrorName.DEVICE_ALREADY_IN_USE;\n                        errorMessage = error.toString();\n                        errorCallback(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                        break;\n                    default:\n                        errorName = OpenViduError_1.OpenViduErrorName.GENERIC_ERROR;\n                        errorMessage = error.toString();\n                        errorCallback(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                        break;\n                }\n            };\n            _this.openvidu.generateMediaConstraints(_this.properties)\n                .then(function (myConstraints) {\n                var _a, _b;\n                if (!!myConstraints.videoTrack && !!myConstraints.audioTrack ||\n                    !!myConstraints.audioTrack && ((_a = myConstraints.constraints) === null || _a === void 0 ? void 0 : _a.video) === false ||\n                    !!myConstraints.videoTrack && ((_b = myConstraints.constraints) === null || _b === void 0 ? void 0 : _b.audio) === false) {\n                    // No need to call getUserMedia at all. MediaStreamTracks already provided\n                    successCallback(_this.openvidu.addAlreadyProvidedTracks(myConstraints, new MediaStream()));\n                    // Return as we do not need to process further\n                    return;\n                }\n                constraints = myConstraints.constraints;\n                var outboundStreamOptions = {\n                    mediaConstraints: constraints,\n                    publisherProperties: _this.properties\n                };\n                _this.stream.setOutboundStreamOptions(outboundStreamOptions);\n                var definedAudioConstraint = ((constraints.audio === undefined) ? true : constraints.audio);\n                constraintsAux.audio = _this.stream.isSendScreen() ? false : definedAudioConstraint;\n                constraintsAux.video = constraints.video;\n                startTime = Date.now();\n                _this.setPermissionDialogTimer(timeForDialogEvent);\n                if (_this.stream.isSendScreen() && navigator.mediaDevices['getDisplayMedia'] && platform.name !== 'Electron') {\n                    navigator.mediaDevices['getDisplayMedia']({ video: true })\n                        .then(function (mediaStream) {\n                        _this.openvidu.addAlreadyProvidedTracks(myConstraints, mediaStream);\n                        getMediaSuccess(mediaStream, definedAudioConstraint);\n                    })[\"catch\"](function (error) {\n                        getMediaError(error);\n                    });\n                }\n                else {\n                    navigator.mediaDevices.getUserMedia(constraintsAux)\n                        .then(function (mediaStream) {\n                        _this.openvidu.addAlreadyProvidedTracks(myConstraints, mediaStream);\n                        getMediaSuccess(mediaStream, definedAudioConstraint);\n                    })[\"catch\"](function (error) {\n                        getMediaError(error);\n                    });\n                }\n            })[\"catch\"](function (error) {\n                errorCallback(error);\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    Publisher.prototype.getVideoDimensions = function (mediaStream) {\n        return mediaStream.getVideoTracks()[0].getSettings();\n    };\n    /**\n     * @hidden\n     */\n    Publisher.prototype.reestablishStreamPlayingEvent = function () {\n        if (this.ee.getListeners('streamPlaying').length > 0) {\n            this.addPlayEventToFirstVideo();\n        }\n    };\n    /**\n     * @hidden\n     */\n    Publisher.prototype.initializeVideoReference = function (mediaStream) {\n        this.videoReference = document.createElement('video');\n        if (platform.name === 'Safari') {\n            this.videoReference.setAttribute('playsinline', 'true');\n        }\n        this.stream.setMediaStream(mediaStream);\n        if (!!this.firstVideoElement) {\n            this.createVideoElement(this.firstVideoElement.targetElement, this.properties.insertMode);\n        }\n        this.videoReference.srcObject = mediaStream;\n    };\n    /* Private methods */\n    Publisher.prototype.setPermissionDialogTimer = function (waitTime) {\n        var _this = this;\n        this.permissionDialogTimeout = setTimeout(function () {\n            _this.emitEvent('accessDialogOpened', []);\n        }, waitTime);\n    };\n    Publisher.prototype.clearPermissionDialogTimer = function (startTime, waitTime) {\n        clearTimeout(this.permissionDialogTimeout);\n        if ((Date.now() - startTime) > waitTime) {\n            // Permission dialog was shown and now is closed\n            this.emitEvent('accessDialogClosed', []);\n        }\n    };\n    return Publisher;\n}(StreamManager_1.StreamManager));\nexports.Publisher = Publisher;\n//# sourceMappingURL=Publisher.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\nvar LocalRecorder_1 = require(\"./LocalRecorder\");\nvar Publisher_1 = require(\"./Publisher\");\nvar Session_1 = require(\"./Session\");\nvar StreamPropertyChangedEvent_1 = require(\"../OpenViduInternal/Events/StreamPropertyChangedEvent\");\nvar OpenViduError_1 = require(\"../OpenViduInternal/Enums/OpenViduError\");\nvar VideoInsertMode_1 = require(\"../OpenViduInternal/Enums/VideoInsertMode\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\nvar screenSharingAuto = require(\"../OpenViduInternal/ScreenSharing/Screen-Capturing-Auto\");\nvar screenSharing = require(\"../OpenViduInternal/ScreenSharing/Screen-Capturing\");\n/**\n * @hidden\n */\nvar EventEmitter = require(\"wolfy87-eventemitter\");\n/**\n * @hidden\n */\nvar RpcBuilder = require(\"../OpenViduInternal/KurentoUtils/kurento-jsonrpc\");\n/**\n * @hidden\n */\nvar platform = require(\"platform\");\nplatform['isIonicIos'] = (platform.product === 'iPhone' || platform.product === 'iPad') && platform.ua.indexOf('Safari') === -1;\nplatform['isIonicAndroid'] = platform.os.family === 'Android' && platform.name == \"Android Browser\";\n/**\n * @hidden\n */\nvar packageJson = require('../../package.json');\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Entrypoint of OpenVidu Browser library.\n * Use it to initialize objects of type [[Session]], [[Publisher]] and [[LocalRecorder]]\n */\nvar OpenVidu = /** @class */ (function () {\n    function OpenVidu() {\n        var _this = this;\n        /**\n         * @hidden\n         */\n        this.publishers = [];\n        /**\n         * @hidden\n         */\n        this.secret = '';\n        /**\n         * @hidden\n         */\n        this.recorder = false;\n        /**\n         * @hidden\n         */\n        this.advancedConfiguration = {};\n        /**\n         * @hidden\n         */\n        this.webrtcStatsInterval = 0;\n        /**\n         * @hidden\n         */\n        this.ee = new EventEmitter();\n        this.libraryVersion = packageJson.version;\n        logger.info(\"'OpenVidu' initialized\");\n        logger.info(\"openvidu-browser version: \" + this.libraryVersion);\n        if (platform.os.family === 'iOS' || platform.os.family === 'Android') {\n            // Listen to orientationchange only on mobile devices\n            window.addEventListener('orientationchange', function () {\n                _this.publishers.forEach(function (publisher) {\n                    if (publisher.stream.isLocalStreamPublished && !!publisher.stream && !!publisher.stream.hasVideo && !!publisher.stream.streamManager.videos[0]) {\n                        var attempts_1 = 0;\n                        var oldWidth_1 = publisher.stream.videoDimensions.width;\n                        var oldHeight_1 = publisher.stream.videoDimensions.height;\n                        var getNewVideoDimensions_1 = function () {\n                            return new Promise(function (resolve, reject) {\n                                if (platform['isIonicIos']) {\n                                    // iOS Ionic. Limitation: must get new dimensions from an existing video element already inserted into DOM\n                                    resolve({\n                                        newWidth: publisher.stream.streamManager.videos[0].video.videoWidth,\n                                        newHeight: publisher.stream.streamManager.videos[0].video.videoHeight\n                                    });\n                                }\n                                else {\n                                    // Rest of platforms\n                                    // New resolution got from different places for Chrome and Firefox. Chrome needs a videoWidth and videoHeight of a videoElement.\n                                    // Firefox needs getSettings from the videoTrack\n                                    var firefoxSettings = publisher.stream.getMediaStream().getVideoTracks()[0].getSettings();\n                                    var newWidth = ((platform.name.toLowerCase().indexOf('firefox') !== -1) ? firefoxSettings.width : publisher.videoReference.videoWidth);\n                                    var newHeight = ((platform.name.toLowerCase().indexOf('firefox') !== -1) ? firefoxSettings.height : publisher.videoReference.videoHeight);\n                                    resolve({ newWidth: newWidth, newHeight: newHeight });\n                                }\n                            });\n                        };\n                        var repeatUntilChange_1 = setInterval(function () {\n                            getNewVideoDimensions_1().then(function (newDimensions) {\n                                sendStreamPropertyChangedEvent_1(oldWidth_1, oldHeight_1, newDimensions.newWidth, newDimensions.newHeight);\n                            });\n                        }, 75);\n                        var sendStreamPropertyChangedEvent_1 = function (oldWidth, oldHeight, newWidth, newHeight) {\n                            attempts_1++;\n                            if (attempts_1 > 10) {\n                                clearTimeout(repeatUntilChange_1);\n                            }\n                            if (newWidth !== oldWidth || newHeight !== oldHeight) {\n                                publisher.stream.videoDimensions = {\n                                    width: newWidth || 0,\n                                    height: newHeight || 0\n                                };\n                                _this.sendRequest('streamPropertyChanged', {\n                                    streamId: publisher.stream.streamId,\n                                    property: 'videoDimensions',\n                                    newValue: JSON.stringify(publisher.stream.videoDimensions),\n                                    reason: 'deviceRotated'\n                                }, function (error, response) {\n                                    if (error) {\n                                        logger.error(\"Error sending 'streamPropertyChanged' event\", error);\n                                    }\n                                    else {\n                                        _this.session.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(_this.session, publisher.stream, 'videoDimensions', publisher.stream.videoDimensions, { width: oldWidth, height: oldHeight }, 'deviceRotated')]);\n                                        publisher.emitEvent('streamPropertyChanged', [new StreamPropertyChangedEvent_1.StreamPropertyChangedEvent(publisher, publisher.stream, 'videoDimensions', publisher.stream.videoDimensions, { width: oldWidth, height: oldHeight }, 'deviceRotated')]);\n                                    }\n                                });\n                                clearTimeout(repeatUntilChange_1);\n                            }\n                        };\n                    }\n                });\n            });\n        }\n    }\n    /**\n     * Returns new session\n     */\n    OpenVidu.prototype.initSession = function () {\n        this.session = new Session_1.Session(this);\n        return this.session;\n    };\n    /**\n     * Returns a new publisher\n     *\n     * #### Events dispatched\n     *\n     * The [[Publisher]] object will dispatch an `accessDialogOpened` event, only if the pop-up shown by the browser to request permissions for the camera is opened. You can use this event to alert the user about granting permissions\n     * for your website. An `accessDialogClosed` event will also be dispatched after user clicks on \"Allow\" or \"Block\" in the pop-up.\n     *\n     * The [[Publisher]] object will dispatch an `accessAllowed` or `accessDenied` event once it has been granted access to the requested input devices or not.\n     *\n     * The [[Publisher]] object will dispatch a `videoElementCreated` event once a HTML video element has been added to DOM (only if you\n     * [let OpenVidu take care of the video players](/en/stable/cheatsheet/manage-videos/#let-openvidu-take-care-of-the-video-players)). See [[VideoElementEvent]] to learn more.\n     *\n     * The [[Publisher]] object will dispatch a `streamPlaying` event once the local streams starts playing. See [[StreamManagerEvent]] to learn more.\n     *\n     * @param targetElement  HTML DOM element (or its `id` attribute) in which the video element of the Publisher will be inserted (see [[PublisherProperties.insertMode]]). If *null* or *undefined* no default video will be created for this Publisher.\n     * You can always call method [[Publisher.addVideoElement]] or [[Publisher.createVideoElement]] to manage the video elements on your own (see [Manage video players](/en/stable/cheatsheet/manage-videos) section)\n     * @param completionHandler `error` parameter is null if `initPublisher` succeeds, and is defined if it fails.\n     *                          `completionHandler` function is called before the Publisher dispatches an `accessAllowed` or an `accessDenied` event\n     */\n    OpenVidu.prototype.initPublisher = function (targetElement, param2, param3) {\n        var properties;\n        if (!!param2 && (typeof param2 !== 'function')) {\n            // Matches 'initPublisher(targetElement, properties)' or 'initPublisher(targetElement, properties, completionHandler)'\n            properties = param2;\n            properties = {\n                audioSource: (typeof properties.audioSource !== 'undefined') ? properties.audioSource : undefined,\n                frameRate: (typeof MediaStreamTrack !== 'undefined' && properties.videoSource instanceof MediaStreamTrack) ? undefined : ((typeof properties.frameRate !== 'undefined') ? properties.frameRate : undefined),\n                insertMode: (typeof properties.insertMode !== 'undefined') ? ((typeof properties.insertMode === 'string') ? VideoInsertMode_1.VideoInsertMode[properties.insertMode] : properties.insertMode) : VideoInsertMode_1.VideoInsertMode.APPEND,\n                mirror: (typeof properties.mirror !== 'undefined') ? properties.mirror : true,\n                publishAudio: (typeof properties.publishAudio !== 'undefined') ? properties.publishAudio : true,\n                publishVideo: (typeof properties.publishVideo !== 'undefined') ? properties.publishVideo : true,\n                resolution: (typeof MediaStreamTrack !== 'undefined' && properties.videoSource instanceof MediaStreamTrack) ? undefined : ((typeof properties.resolution !== 'undefined') ? properties.resolution : '640x480'),\n                videoSource: (typeof properties.videoSource !== 'undefined') ? properties.videoSource : undefined,\n                filter: properties.filter\n            };\n        }\n        else {\n            // Matches 'initPublisher(targetElement)' or 'initPublisher(targetElement, completionHandler)'\n            properties = {\n                insertMode: VideoInsertMode_1.VideoInsertMode.APPEND,\n                mirror: true,\n                publishAudio: true,\n                publishVideo: true,\n                resolution: '640x480'\n            };\n        }\n        var publisher = new Publisher_1.Publisher(targetElement, properties, this);\n        var completionHandler;\n        if (!!param2 && (typeof param2 === 'function')) {\n            completionHandler = param2;\n        }\n        else if (!!param3) {\n            completionHandler = param3;\n        }\n        publisher.initialize()\n            .then(function () {\n            if (completionHandler !== undefined) {\n                completionHandler(undefined);\n            }\n            publisher.emitEvent('accessAllowed', []);\n        })[\"catch\"](function (error) {\n            if (completionHandler !== undefined) {\n                completionHandler(error);\n            }\n            publisher.emitEvent('accessDenied', [error]);\n        });\n        this.publishers.push(publisher);\n        return publisher;\n    };\n    OpenVidu.prototype.initPublisherAsync = function (targetElement, properties) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var publisher;\n            var callback = function (error) {\n                if (!!error) {\n                    reject(error);\n                }\n                else {\n                    resolve(publisher);\n                }\n            };\n            if (!!properties) {\n                publisher = _this.initPublisher(targetElement, properties, callback);\n            }\n            else {\n                publisher = _this.initPublisher(targetElement, callback);\n            }\n        });\n    };\n    /**\n     * Returns a new local recorder for recording streams straight away from the browser\n     * @param stream  Stream to record\n     */\n    OpenVidu.prototype.initLocalRecorder = function (stream) {\n        return new LocalRecorder_1.LocalRecorder(stream);\n    };\n    /**\n     * Checks if the browser supports OpenVidu\n     * @returns 1 if the browser supports OpenVidu, 0 otherwise\n     */\n    OpenVidu.prototype.checkSystemRequirements = function () {\n        var browser = platform.name;\n        var family = platform.os.family;\n        var userAgent = !!platform.ua ? platform.ua : navigator.userAgent;\n        if (this.isIPhoneOrIPad(userAgent)) {\n            if (this.isIOSWithSafari(userAgent)) {\n                return 1;\n            }\n            return 0;\n        }\n        // Accept: Chrome (desktop and Android), Firefox (desktop and Android), Opera (desktop and Android),\n        // Safari (OSX and iOS), Ionic (Android and iOS), Samsung Internet Browser (Android)\n        if ((browser === 'Safari') ||\n            (browser === 'Chrome') || (browser === 'Chrome Mobile') ||\n            (browser === 'Firefox') || (browser === 'Firefox Mobile') ||\n            (browser === 'Opera') || (browser === 'Opera Mobile') ||\n            (browser === 'Android Browser') || (browser === 'Electron') ||\n            (browser === 'Samsung Internet Mobile') || (browser === 'Samsung Internet')) {\n            return 1;\n        }\n        // Reject iPhones and iPads if not Safari ('Safari' also covers Ionic for iOS)\n        // Reject others browsers not mentioned above\n        return 0;\n    };\n    /**\n     * Checks if the browser supports screen-sharing. Desktop Chrome, Firefox and Opera support screen-sharing\n     * @returns 1 if the browser supports screen-sharing, 0 otherwise\n     */\n    OpenVidu.prototype.checkScreenSharingCapabilities = function () {\n        var browser = platform.name;\n        var version = (platform === null || platform === void 0 ? void 0 : platform.version) ? parseFloat(platform.version) : -1;\n        var family = platform.os.family;\n        // Reject mobile devices\n        if (family === 'iOS' || family === 'Android') {\n            return 0;\n        }\n        if ((browser !== 'Chrome') && (browser !== 'Firefox') && (browser !== 'Opera') && (browser !== 'Electron') &&\n            (browser === 'Safari' && version < 13)) {\n            return 0;\n        }\n        else {\n            return 1;\n        }\n    };\n    /**\n     * Collects information about the media input devices available on the system. You can pass property `deviceId` of a [[Device]] object as value of `audioSource` or `videoSource` properties in [[initPublisher]] method\n     */\n    OpenVidu.prototype.getDevices = function () {\n        return new Promise(function (resolve, reject) {\n            navigator.mediaDevices.enumerateDevices().then(function (deviceInfos) {\n                var _a;\n                var devices = [];\n                // Ionic Android  devices\n                if (platform['isIonicAndroid'] && typeof cordova != \"undefined\" && ((_a = cordova === null || cordova === void 0 ? void 0 : cordova.plugins) === null || _a === void 0 ? void 0 : _a.EnumerateDevicesPlugin)) {\n                    cordova.plugins.EnumerateDevicesPlugin.getEnumerateDevices().then(function (pluginDevices) {\n                        var pluginAudioDevices = [];\n                        var videoDevices = [];\n                        var audioDevices = [];\n                        pluginAudioDevices = pluginDevices.filter(function (device) { return device.kind === 'audioinput'; });\n                        videoDevices = deviceInfos.filter(function (device) { return device.kind === 'videoinput'; });\n                        audioDevices = deviceInfos.filter(function (device) { return device.kind === 'audioinput'; });\n                        videoDevices.forEach(function (deviceInfo, index) {\n                            if (!deviceInfo.label) {\n                                var label = \"\";\n                                if (index === 0) {\n                                    label = \"Front Camera\";\n                                }\n                                else if (index === 1) {\n                                    label = \"Back Camera\";\n                                }\n                                else {\n                                    label = \"Unknown Camera\";\n                                }\n                                devices.push({\n                                    kind: deviceInfo.kind,\n                                    deviceId: deviceInfo.deviceId,\n                                    label: label\n                                });\n                            }\n                            else {\n                                devices.push({\n                                    kind: deviceInfo.kind,\n                                    deviceId: deviceInfo.deviceId,\n                                    label: deviceInfo.label\n                                });\n                            }\n                        });\n                        audioDevices.forEach(function (deviceInfo, index) {\n                            if (!deviceInfo.label) {\n                                var label = \"\";\n                                switch (index) {\n                                    case 0: // Default Microphone\n                                        label = 'Default';\n                                        break;\n                                    case 1: // Microphone + Speakerphone\n                                        var defaultMatch = pluginAudioDevices.filter(function (d) { return d.label.includes('Built'); })[0];\n                                        label = defaultMatch ? defaultMatch.label : 'Built-in Microphone';\n                                        break;\n                                    case 2: // Headset Microphone\n                                        var wiredMatch = pluginAudioDevices.filter(function (d) { return d.label.includes('Wired'); })[0];\n                                        if (wiredMatch) {\n                                            label = wiredMatch.label;\n                                        }\n                                        else {\n                                            label = 'Headset earpiece';\n                                        }\n                                        break;\n                                    case 3:\n                                        var wirelessMatch = pluginAudioDevices.filter(function (d) { return d.label.includes('Bluetooth'); })[0];\n                                        label = wirelessMatch ? wirelessMatch.label : 'Wireless';\n                                        break;\n                                    default:\n                                        label = \"Unknown Microphone\";\n                                        break;\n                                }\n                                devices.push({\n                                    kind: deviceInfo.kind,\n                                    deviceId: deviceInfo.deviceId,\n                                    label: label\n                                });\n                            }\n                            else {\n                                devices.push({\n                                    kind: deviceInfo.kind,\n                                    deviceId: deviceInfo.deviceId,\n                                    label: deviceInfo.label\n                                });\n                            }\n                        });\n                        resolve(devices);\n                    });\n                }\n                else {\n                    // Rest of platforms\n                    deviceInfos.forEach(function (deviceInfo) {\n                        if (deviceInfo.kind === 'audioinput' || deviceInfo.kind === 'videoinput') {\n                            devices.push({\n                                kind: deviceInfo.kind,\n                                deviceId: deviceInfo.deviceId,\n                                label: deviceInfo.label\n                            });\n                        }\n                    });\n                    resolve(devices);\n                }\n            })[\"catch\"](function (error) {\n                logger.error('Error getting devices', error);\n                reject(error);\n            });\n        });\n    };\n    /**\n     * Get a MediaStream object that you can customize before calling [[initPublisher]] (pass _MediaStreamTrack_ property of the _MediaStream_ value resolved by the Promise as `audioSource` or `videoSource` properties in [[initPublisher]])\n     *\n     * Parameter `options` is the same as in [[initPublisher]] second parameter (of type [[PublisherProperties]]), but only the following properties will be applied: `audioSource`, `videoSource`, `frameRate`, `resolution`\n     *\n     * To customize the Publisher's video, the API for HTMLCanvasElement is very useful. For example, to get a black-and-white video at 10 fps and HD resolution with no sound:\n     * ```\n     * var OV = new OpenVidu();\n     * var FRAME_RATE = 10;\n     *\n     * OV.getUserMedia({\n     *    audioSource: false,\n     *    videoSource: undefined,\n     *    resolution: '1280x720',\n     *    frameRate: FRAME_RATE\n     * })\n     * .then(mediaStream => {\n     *\n     *    var videoTrack = mediaStream.getVideoTracks()[0];\n     *    var video = document.createElement('video');\n     *    video.srcObject = new MediaStream([videoTrack]);\n     *\n     *    var canvas = document.createElement('canvas');\n     *    var ctx = canvas.getContext('2d');\n     *    ctx.filter = 'grayscale(100%)';\n     *\n     *    video.addEventListener('play', () => {\n     *      var loop = () => {\n     *        if (!video.paused && !video.ended) {\n     *          ctx.drawImage(video, 0, 0, 300, 170);\n     *          setTimeout(loop, 1000/ FRAME_RATE); // Drawing at 10 fps\n     *        }\n     *      };\n     *      loop();\n     *    });\n     *    video.play();\n     *\n     *    var grayVideoTrack = canvas.captureStream(FRAME_RATE).getVideoTracks()[0];\n     *    var publisher = this.OV.initPublisher(\n     *      myHtmlTarget,\n     *      {\n     *        audioSource: false,\n     *        videoSource: grayVideoTrack\n     *      });\n     * });\n     * ```\n     */\n    OpenVidu.prototype.getUserMedia = function (options) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var askForAudioStreamOnly = function (previousMediaStream, constraints) {\n                var definedAudioConstraint = ((constraints.audio === undefined) ? true : constraints.audio);\n                var constraintsAux = { audio: definedAudioConstraint, video: false };\n                navigator.mediaDevices.getUserMedia(constraintsAux)\n                    .then(function (audioOnlyStream) {\n                    previousMediaStream.addTrack(audioOnlyStream.getAudioTracks()[0]);\n                    resolve(previousMediaStream);\n                })[\"catch\"](function (error) {\n                    previousMediaStream.getAudioTracks().forEach(function (track) {\n                        track.stop();\n                    });\n                    previousMediaStream.getVideoTracks().forEach(function (track) {\n                        track.stop();\n                    });\n                    reject(_this.generateAudioDeviceError(error, constraintsAux));\n                });\n            };\n            _this.generateMediaConstraints(options).then(function (myConstraints) {\n                var _a, _b;\n                if (!!myConstraints.videoTrack && !!myConstraints.audioTrack ||\n                    !!myConstraints.audioTrack && ((_a = myConstraints.constraints) === null || _a === void 0 ? void 0 : _a.video) === false ||\n                    !!myConstraints.videoTrack && ((_b = myConstraints.constraints) === null || _b === void 0 ? void 0 : _b.audio) === false) {\n                    // No need to call getUserMedia at all. Both tracks provided, or only AUDIO track provided or only VIDEO track provided\n                    resolve(_this.addAlreadyProvidedTracks(myConstraints, new MediaStream()));\n                }\n                else {\n                    // getUserMedia must be called. AUDIO or VIDEO are requesting a new track\n                    // Delete already provided constraints for audio or video\n                    if (!!myConstraints.videoTrack) {\n                        delete myConstraints.constraints.video;\n                    }\n                    if (!!myConstraints.audioTrack) {\n                        delete myConstraints.constraints.audio;\n                    }\n                    var mustAskForAudioTrackLater_1 = false;\n                    if (typeof options.videoSource === 'string') {\n                        // Video is deviceId or screen sharing\n                        if (options.videoSource === 'screen' ||\n                            options.videoSource === 'window' ||\n                            (platform.name === 'Electron' && options.videoSource.startsWith('screen:'))) {\n                            // Video is screen sharing\n                            mustAskForAudioTrackLater_1 = !myConstraints.audioTrack && (options.audioSource !== null && options.audioSource !== false);\n                            if (navigator.mediaDevices['getDisplayMedia'] && platform.name !== 'Electron') {\n                                // getDisplayMedia supported\n                                navigator.mediaDevices['getDisplayMedia']({ video: true })\n                                    .then(function (mediaStream) {\n                                    _this.addAlreadyProvidedTracks(myConstraints, mediaStream);\n                                    if (mustAskForAudioTrackLater_1) {\n                                        askForAudioStreamOnly(mediaStream, myConstraints.constraints);\n                                        return;\n                                    }\n                                    else {\n                                        resolve(mediaStream);\n                                    }\n                                })[\"catch\"](function (error) {\n                                    var errorName = OpenViduError_1.OpenViduErrorName.SCREEN_CAPTURE_DENIED;\n                                    var errorMessage = error.toString();\n                                    reject(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                                });\n                                return;\n                            }\n                            else {\n                                // getDisplayMedia NOT supported. Can perform getUserMedia below with already calculated constraints\n                            }\n                        }\n                        else {\n                            // Video is deviceId. Can perform getUserMedia below with already calculated constraints\n                        }\n                    }\n                    // Use already calculated constraints\n                    var constraintsAux = mustAskForAudioTrackLater_1 ? { video: myConstraints.constraints.video } : myConstraints.constraints;\n                    navigator.mediaDevices.getUserMedia(constraintsAux)\n                        .then(function (mediaStream) {\n                        _this.addAlreadyProvidedTracks(myConstraints, mediaStream);\n                        if (mustAskForAudioTrackLater_1) {\n                            askForAudioStreamOnly(mediaStream, myConstraints.constraints);\n                            return;\n                        }\n                        else {\n                            resolve(mediaStream);\n                        }\n                    })[\"catch\"](function (error) {\n                        var errorName;\n                        var errorMessage = error.toString();\n                        if (!(options.videoSource === 'screen')) {\n                            errorName = OpenViduError_1.OpenViduErrorName.DEVICE_ACCESS_DENIED;\n                        }\n                        else {\n                            errorName = OpenViduError_1.OpenViduErrorName.SCREEN_CAPTURE_DENIED;\n                        }\n                        reject(new OpenViduError_1.OpenViduError(errorName, errorMessage));\n                    });\n                }\n            })[\"catch\"](function (error) {\n                reject(error);\n            });\n        });\n    };\n    /* tslint:disable:no-empty */\n    /**\n     * Disable all logging except error level\n     */\n    OpenVidu.prototype.enableProdMode = function () {\n        logger.enableProdMode();\n    };\n    /* tslint:enable:no-empty */\n    /**\n     * Set OpenVidu advanced configuration options. Currently `configuration` is an object with the following optional properties (see [[OpenViduAdvancedConfiguration]] for more details):\n     * - `iceServers`: set custom STUN/TURN servers to be used by OpenVidu Browser\n     * - `screenShareChromeExtension`: url to a custom screen share extension for Chrome to be used instead of the default one, based on ours [https://github.com/OpenVidu/openvidu-screen-sharing-chrome-extension](https://github.com/OpenVidu/openvidu-screen-sharing-chrome-extension)\n     * - `publisherSpeakingEventsOptions`: custom configuration for the [[PublisherSpeakingEvent]] feature and the [StreamManagerEvent.streamAudioVolumeChange](/en/stable/api/openvidu-browser/classes/streammanagerevent.html) feature\n     *\n     * Call this method to override previous values at any moment.\n     */\n    OpenVidu.prototype.setAdvancedConfiguration = function (configuration) {\n        this.advancedConfiguration = configuration;\n    };\n    /* Hidden methods */\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.generateMediaConstraints = function (publisherProperties) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var myConstraints = {\n                audioTrack: undefined,\n                videoTrack: undefined,\n                constraints: {\n                    audio: undefined,\n                    video: undefined\n                }\n            };\n            var audioSource = publisherProperties.audioSource;\n            var videoSource = publisherProperties.videoSource;\n            // CASE 1: null/false\n            if (audioSource === null || audioSource === false) {\n                // No audio track\n                myConstraints.constraints.audio = false;\n            }\n            if (videoSource === null || videoSource === false) {\n                // No video track\n                myConstraints.constraints.video = false;\n            }\n            if (myConstraints.constraints.audio === false && myConstraints.constraints.video === false) {\n                // ERROR! audioSource and videoSource cannot be both false at the same time\n                reject(new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.NO_INPUT_SOURCE_SET, \"Properties 'audioSource' and 'videoSource' cannot be set to false or null at the same time\"));\n            }\n            // CASE 2: MediaStreamTracks\n            if (typeof MediaStreamTrack !== 'undefined' && audioSource instanceof MediaStreamTrack) {\n                // Already provided audio track\n                myConstraints.audioTrack = audioSource;\n            }\n            if (typeof MediaStreamTrack !== 'undefined' && videoSource instanceof MediaStreamTrack) {\n                // Already provided video track\n                myConstraints.videoTrack = videoSource;\n            }\n            // CASE 3: Default tracks\n            if (audioSource === undefined) {\n                myConstraints.constraints.audio = true;\n            }\n            if (videoSource === undefined) {\n                myConstraints.constraints.video = {\n                    width: {\n                        ideal: 640\n                    },\n                    height: {\n                        ideal: 480\n                    }\n                };\n            }\n            // CASE 3.5: give values to resolution and frameRate if video not null/false\n            if (videoSource !== null && videoSource !== false) {\n                if (!!publisherProperties.resolution) {\n                    var widthAndHeight = publisherProperties.resolution.toLowerCase().split('x');\n                    var idealWidth = Number(widthAndHeight[0]);\n                    var idealHeight = Number(widthAndHeight[1]);\n                    myConstraints.constraints.video = {\n                        width: {\n                            ideal: idealWidth\n                        },\n                        height: {\n                            ideal: idealHeight\n                        }\n                    };\n                }\n                if (!!publisherProperties.frameRate) {\n                    myConstraints.constraints.video.frameRate = { ideal: publisherProperties.frameRate };\n                }\n            }\n            // CASE 4: deviceId or screen sharing\n            _this.configureDeviceIdOrScreensharing(myConstraints, publisherProperties, resolve, reject);\n            resolve(myConstraints);\n        });\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.startWs = function (onConnectSucces) {\n        var config = {\n            heartbeat: 5000,\n            sendCloseMessage: false,\n            ws: {\n                uri: this.wsUri,\n                onconnected: onConnectSucces,\n                ondisconnect: this.disconnectCallback.bind(this),\n                onreconnecting: this.reconnectingCallback.bind(this),\n                onreconnected: this.reconnectedCallback.bind(this)\n            },\n            rpc: {\n                requestTimeout: 10000,\n                participantJoined: this.session.onParticipantJoined.bind(this.session),\n                participantPublished: this.session.onParticipantPublished.bind(this.session),\n                participantUnpublished: this.session.onParticipantUnpublished.bind(this.session),\n                participantLeft: this.session.onParticipantLeft.bind(this.session),\n                participantEvicted: this.session.onParticipantEvicted.bind(this.session),\n                recordingStarted: this.session.onRecordingStarted.bind(this.session),\n                recordingStopped: this.session.onRecordingStopped.bind(this.session),\n                sendMessage: this.session.onNewMessage.bind(this.session),\n                streamPropertyChanged: this.session.onStreamPropertyChanged.bind(this.session),\n                filterEventDispatched: this.session.onFilterEventDispatched.bind(this.session),\n                iceCandidate: this.session.recvIceCandidate.bind(this.session),\n                mediaError: this.session.onMediaError.bind(this.session)\n            }\n        };\n        this.jsonRpcClient = new RpcBuilder.clients.JsonRpcClient(config);\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.closeWs = function () {\n        this.jsonRpcClient.close(4102, \"Connection closed by client\");\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.sendRequest = function (method, params, callback) {\n        if (params && params instanceof Function) {\n            callback = params;\n            params = {};\n        }\n        logger.debug('Sending request: {method:\"' + method + '\", params: ' + JSON.stringify(params) + '}');\n        this.jsonRpcClient.send(method, params, callback);\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.getWsUri = function () {\n        return this.wsUri;\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.getSecret = function () {\n        return this.secret;\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.getRecorder = function () {\n        return this.recorder;\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.generateAudioDeviceError = function (error, constraints) {\n        if (error.name === 'Error') {\n            // Safari OverConstrainedError has as name property 'Error' instead of 'OverConstrainedError'\n            error.name = error.constructor.name;\n        }\n        var errorName, errorMessage;\n        switch (error.name.toLowerCase()) {\n            case 'notfounderror':\n                errorName = OpenViduError_1.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND;\n                errorMessage = error.toString();\n                return new OpenViduError_1.OpenViduError(errorName, errorMessage);\n            case 'notallowederror':\n                errorName = OpenViduError_1.OpenViduErrorName.DEVICE_ACCESS_DENIED;\n                errorMessage = error.toString();\n                return new OpenViduError_1.OpenViduError(errorName, errorMessage);\n            case 'overconstrainederror':\n                if (error.constraint.toLowerCase() === 'deviceid') {\n                    errorName = OpenViduError_1.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND;\n                    errorMessage = \"Audio input device with deviceId '\" + constraints.audio.deviceId.exact + \"' not found\";\n                }\n                else {\n                    errorName = OpenViduError_1.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR;\n                    errorMessage = \"Audio input device doesn't support the value passed for constraint '\" + error.constraint + \"'\";\n                }\n                return new OpenViduError_1.OpenViduError(errorName, errorMessage);\n            case 'notreadableerror':\n                errorName = OpenViduError_1.OpenViduErrorName.DEVICE_ALREADY_IN_USE;\n                errorMessage = error.toString();\n                return (new OpenViduError_1.OpenViduError(errorName, errorMessage));\n            default:\n                return new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.INPUT_AUDIO_DEVICE_GENERIC_ERROR, error.toString());\n        }\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.addAlreadyProvidedTracks = function (myConstraints, mediaStream) {\n        if (!!myConstraints.videoTrack) {\n            mediaStream.addTrack(myConstraints.videoTrack);\n        }\n        if (!!myConstraints.audioTrack) {\n            mediaStream.addTrack(myConstraints.audioTrack);\n        }\n        return mediaStream;\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.configureDeviceIdOrScreensharing = function (myConstraints, publisherProperties, resolve, reject) {\n        var _this = this;\n        var audioSource = publisherProperties.audioSource;\n        var videoSource = publisherProperties.videoSource;\n        if (typeof audioSource === 'string') {\n            myConstraints.constraints.audio = { deviceId: { exact: audioSource } };\n        }\n        if (typeof videoSource === 'string') {\n            if (!this.isScreenShare(videoSource)) {\n                this.setVideoSource(myConstraints, videoSource);\n            }\n            else {\n                // Screen sharing\n                if (!this.checkScreenSharingCapabilities()) {\n                    var error = new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.SCREEN_SHARING_NOT_SUPPORTED, 'You can only screen share in desktop Chrome, Firefox, Opera, Safari (>=13.0) or Electron. Detected client: ' + platform.name);\n                    logger.error(error);\n                    reject(error);\n                }\n                else {\n                    if (platform.name === 'Electron') {\n                        var prefix = \"screen:\";\n                        var videoSourceString = videoSource;\n                        var electronScreenId = videoSourceString.substr(videoSourceString.indexOf(prefix) + prefix.length);\n                        myConstraints.constraints.video = {\n                            mandatory: {\n                                chromeMediaSource: 'desktop',\n                                chromeMediaSourceId: electronScreenId\n                            }\n                        };\n                        resolve(myConstraints);\n                    }\n                    else {\n                        if (!!this.advancedConfiguration.screenShareChromeExtension && !(platform.name.indexOf('Firefox') !== -1) && !navigator.mediaDevices['getDisplayMedia']) {\n                            // Custom screen sharing extension for Chrome (and Opera) and no support for MediaDevices.getDisplayMedia()\n                            screenSharing.getScreenConstraints(function (error, screenConstraints) {\n                                if (!!error || !!screenConstraints.mandatory && screenConstraints.mandatory.chromeMediaSource === 'screen') {\n                                    if (error === 'permission-denied' || error === 'PermissionDeniedError') {\n                                        var error_1 = new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.SCREEN_CAPTURE_DENIED, 'You must allow access to one window of your desktop');\n                                        logger.error(error_1);\n                                        reject(error_1);\n                                    }\n                                    else {\n                                        var extensionId = _this.advancedConfiguration.screenShareChromeExtension.split('/').pop().trim();\n                                        screenSharing.getChromeExtensionStatus(extensionId, function (status) {\n                                            if (status === 'installed-disabled') {\n                                                var error_2 = new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.SCREEN_EXTENSION_DISABLED, 'You must enable the screen extension');\n                                                logger.error(error_2);\n                                                reject(error_2);\n                                            }\n                                            if (status === 'not-installed') {\n                                                var error_3 = new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED, _this.advancedConfiguration.screenShareChromeExtension);\n                                                logger.error(error_3);\n                                                reject(error_3);\n                                            }\n                                        });\n                                        return;\n                                    }\n                                }\n                                else {\n                                    myConstraints.constraints.video = screenConstraints;\n                                    resolve(myConstraints);\n                                }\n                            });\n                            return;\n                        }\n                        else {\n                            if (navigator.mediaDevices['getDisplayMedia']) {\n                                // getDisplayMedia support (Chrome >= 72, Firefox >= 66, Safari >= 13)\n                                resolve(myConstraints);\n                            }\n                            else {\n                                // Default screen sharing extension for Chrome/Opera, or is Firefox < 66\n                                var firefoxString = platform.name.indexOf('Firefox') !== -1 ? publisherProperties.videoSource : undefined;\n                                screenSharingAuto.getScreenId(firefoxString, function (error, sourceId, screenConstraints) {\n                                    if (!!error) {\n                                        if (error === 'not-installed') {\n                                            var extensionUrl = !!_this.advancedConfiguration.screenShareChromeExtension ? _this.advancedConfiguration.screenShareChromeExtension :\n                                                'https://chrome.google.com/webstore/detail/openvidu-screensharing/lfcgfepafnobdloecchnfaclibenjold';\n                                            var err = new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED, extensionUrl);\n                                            logger.error(err);\n                                            reject(err);\n                                        }\n                                        else if (error === 'installed-disabled') {\n                                            var err = new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.SCREEN_EXTENSION_DISABLED, 'You must enable the screen extension');\n                                            logger.error(err);\n                                            reject(err);\n                                        }\n                                        else if (error === 'permission-denied') {\n                                            var err = new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.SCREEN_CAPTURE_DENIED, 'You must allow access to one window of your desktop');\n                                            logger.error(err);\n                                            reject(err);\n                                        }\n                                        else {\n                                            var err = new OpenViduError_1.OpenViduError(OpenViduError_1.OpenViduErrorName.GENERIC_ERROR, 'Unknown error when accessing screen share');\n                                            logger.error(err);\n                                            logger.error(error);\n                                            reject(err);\n                                        }\n                                    }\n                                    else {\n                                        myConstraints.constraints.video = screenConstraints.video;\n                                        resolve(myConstraints);\n                                    }\n                                });\n                                return;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    OpenVidu.prototype.setVideoSource = function (myConstraints, videoSource) {\n        if (!myConstraints.constraints.video) {\n            myConstraints.constraints.video = {};\n        }\n        myConstraints.constraints.video['deviceId'] = { exact: videoSource };\n    };\n    /* Private methods */\n    OpenVidu.prototype.disconnectCallback = function () {\n        logger.warn('Websocket connection lost');\n        if (this.isRoomAvailable()) {\n            this.session.onLostConnection('networkDisconnect');\n        }\n        else {\n            alert('Connection error. Please reload page.');\n        }\n    };\n    OpenVidu.prototype.reconnectingCallback = function () {\n        logger.warn('Websocket connection lost (reconnecting)');\n        if (!this.isRoomAvailable()) {\n            alert('Connection error. Please reload page.');\n        }\n        else {\n            this.session.emitEvent('reconnecting', []);\n        }\n    };\n    OpenVidu.prototype.reconnectedCallback = function () {\n        var _this = this;\n        logger.warn('Websocket reconnected');\n        if (this.isRoomAvailable()) {\n            this.sendRequest('connect', { sessionId: this.session.connection.rpcSessionId }, function (error, response) {\n                if (!!error) {\n                    logger.error(error);\n                    logger.warn('Websocket was able to reconnect to OpenVidu Server, but your Connection was already destroyed due to timeout. You are no longer a participant of the Session and your media streams have been destroyed');\n                    _this.session.onLostConnection(\"networkDisconnect\");\n                    _this.jsonRpcClient.close(4101, \"Reconnection fault\");\n                }\n                else {\n                    _this.jsonRpcClient.resetPing();\n                    _this.session.onRecoveredConnection();\n                }\n            });\n        }\n        else {\n            alert('Connection error. Please reload page.');\n        }\n    };\n    OpenVidu.prototype.isRoomAvailable = function () {\n        if (this.session !== undefined && this.session instanceof Session_1.Session) {\n            return true;\n        }\n        else {\n            logger.warn('Session instance not found');\n            return false;\n        }\n    };\n    OpenVidu.prototype.isScreenShare = function (videoSource) {\n        return videoSource === 'screen' ||\n            videoSource === 'window' ||\n            (platform.name === 'Electron' && videoSource.startsWith('screen:'));\n    };\n    OpenVidu.prototype.isIPhoneOrIPad = function (userAgent) {\n        var isTouchable = 'ontouchend' in document;\n        var isIPad = /\\b(\\w*Macintosh\\w*)\\b/.test(userAgent) && isTouchable;\n        var isIPhone = /\\b(\\w*iPhone\\w*)\\b/.test(userAgent) && /\\b(\\w*Mobile\\w*)\\b/.test(userAgent) && isTouchable;\n        return isIPad || isIPhone;\n    };\n    OpenVidu.prototype.isIOSWithSafari = function (userAgent) {\n        return /\\b(\\w*Apple\\w*)\\b/.test(navigator.vendor) && /\\b(\\w*Safari\\w*)\\b/.test(userAgent)\n            && !/\\b(\\w*CriOS\\w*)\\b/.test(userAgent) && !/\\b(\\w*FxiOS\\w*)\\b/.test(userAgent);\n    };\n    return OpenVidu;\n}());\nexports.OpenVidu = OpenVidu;\n//# sourceMappingURL=OpenVidu.js.map","\"use strict\";\nexports.__esModule = true;\nvar OpenVidu_1 = require(\"./OpenVidu/OpenVidu\");\nexports.OpenVidu = OpenVidu_1.OpenVidu;\nvar Session_1 = require(\"./OpenVidu/Session\");\nexports.Session = Session_1.Session;\nvar Publisher_1 = require(\"./OpenVidu/Publisher\");\nexports.Publisher = Publisher_1.Publisher;\nvar Subscriber_1 = require(\"./OpenVidu/Subscriber\");\nexports.Subscriber = Subscriber_1.Subscriber;\nvar StreamManager_1 = require(\"./OpenVidu/StreamManager\");\nexports.StreamManager = StreamManager_1.StreamManager;\nvar Stream_1 = require(\"./OpenVidu/Stream\");\nexports.Stream = Stream_1.Stream;\nvar Connection_1 = require(\"./OpenVidu/Connection\");\nexports.Connection = Connection_1.Connection;\nvar LocalRecorder_1 = require(\"./OpenVidu/LocalRecorder\");\nexports.LocalRecorder = LocalRecorder_1.LocalRecorder;\nvar Filter_1 = require(\"./OpenVidu/Filter\");\nexports.Filter = Filter_1.Filter;\nvar LocalRecorderState_1 = require(\"./OpenViduInternal/Enums/LocalRecorderState\");\nexports.LocalRecorderState = LocalRecorderState_1.LocalRecorderState;\nvar OpenViduError_1 = require(\"./OpenViduInternal/Enums/OpenViduError\");\nexports.OpenViduError = OpenViduError_1.OpenViduError;\nvar VideoInsertMode_1 = require(\"./OpenViduInternal/Enums/VideoInsertMode\");\nexports.VideoInsertMode = VideoInsertMode_1.VideoInsertMode;\nvar Event_1 = require(\"./OpenViduInternal/Events/Event\");\nexports.Event = Event_1.Event;\nvar ConnectionEvent_1 = require(\"./OpenViduInternal/Events/ConnectionEvent\");\nexports.ConnectionEvent = ConnectionEvent_1.ConnectionEvent;\nvar PublisherSpeakingEvent_1 = require(\"./OpenViduInternal/Events/PublisherSpeakingEvent\");\nexports.PublisherSpeakingEvent = PublisherSpeakingEvent_1.PublisherSpeakingEvent;\nvar RecordingEvent_1 = require(\"./OpenViduInternal/Events/RecordingEvent\");\nexports.RecordingEvent = RecordingEvent_1.RecordingEvent;\nvar SessionDisconnectedEvent_1 = require(\"./OpenViduInternal/Events/SessionDisconnectedEvent\");\nexports.SessionDisconnectedEvent = SessionDisconnectedEvent_1.SessionDisconnectedEvent;\nvar SignalEvent_1 = require(\"./OpenViduInternal/Events/SignalEvent\");\nexports.SignalEvent = SignalEvent_1.SignalEvent;\nvar StreamEvent_1 = require(\"./OpenViduInternal/Events/StreamEvent\");\nexports.StreamEvent = StreamEvent_1.StreamEvent;\nvar StreamManagerEvent_1 = require(\"./OpenViduInternal/Events/StreamManagerEvent\");\nexports.StreamManagerEvent = StreamManagerEvent_1.StreamManagerEvent;\nvar VideoElementEvent_1 = require(\"./OpenViduInternal/Events/VideoElementEvent\");\nexports.VideoElementEvent = VideoElementEvent_1.VideoElementEvent;\nvar StreamPropertyChangedEvent_1 = require(\"./OpenViduInternal/Events/StreamPropertyChangedEvent\");\nexports.StreamPropertyChangedEvent = StreamPropertyChangedEvent_1.StreamPropertyChangedEvent;\nvar FilterEvent_1 = require(\"./OpenViduInternal/Events/FilterEvent\");\nexports.FilterEvent = FilterEvent_1.FilterEvent;\nvar EventDispatcher_1 = require(\"./OpenVidu/EventDispatcher\");\nexports.EventDispatcher = EventDispatcher_1.EventDispatcher;\n//# sourceMappingURL=index.js.map","'use strict';\n\nexports.__esModule = true;\nexports.start = exports.run = exports.TOKENS = exports.State = undefined;\n\nvar _state = require('./state');\n\nvar _multi = require('./tokens/multi');\n\nvar MULTI_TOKENS = _interopRequireWildcard(_multi);\n\nvar _text = require('./tokens/text');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n\tNot exactly parser, more like the second-stage scanner (although we can\n\ttheoretically hotswap the code here with a real parser in the future... but\n\tfor a little URL-finding utility abstract syntax trees may be a little\n\toverkill).\n\n\tURL format: http://en.wikipedia.org/wiki/URI_scheme\n\tEmail format: http://en.wikipedia.org/wiki/Email_address (links to RFC in\n\treference)\n\n\t@module linkify\n\t@submodule parser\n\t@main parser\n*/\n\nvar makeState = function makeState(tokenClass) {\n\treturn new _state.TokenState(tokenClass);\n};\n\n// The universal starting state.\nvar S_START = makeState();\n\n// Intermediate states for URLs. Note that domains that begin with a protocol\n// are treated slighly differently from those that don't.\nvar S_PROTOCOL = makeState(); // e.g., 'http:'\nvar S_MAILTO = makeState(); // 'mailto:'\nvar S_PROTOCOL_SLASH = makeState(); // e.g., '/', 'http:/''\nvar S_PROTOCOL_SLASH_SLASH = makeState(); // e.g., '//', 'http://'\nvar S_DOMAIN = makeState(); // parsed string ends with a potential domain name (A)\nvar S_DOMAIN_DOT = makeState(); // (A) domain followed by DOT\nvar S_TLD = makeState(_multi.URL); // (A) Simplest possible URL with no query string\nvar S_TLD_COLON = makeState(); // (A) URL followed by colon (potential port number here)\nvar S_TLD_PORT = makeState(_multi.URL); // TLD followed by a port number\nvar S_URL = makeState(_multi.URL); // Long URL with optional port and maybe query string\nvar S_URL_NON_ACCEPTING = makeState(); // URL followed by some symbols (will not be part of the final URL)\nvar S_URL_OPENBRACE = makeState(); // URL followed by {\nvar S_URL_OPENBRACKET = makeState(); // URL followed by [\nvar S_URL_OPENANGLEBRACKET = makeState(); // URL followed by <\nvar S_URL_OPENPAREN = makeState(); // URL followed by (\nvar S_URL_OPENBRACE_Q = makeState(_multi.URL); // URL followed by { and some symbols that the URL can end it\nvar S_URL_OPENBRACKET_Q = makeState(_multi.URL); // URL followed by [ and some symbols that the URL can end it\nvar S_URL_OPENANGLEBRACKET_Q = makeState(_multi.URL); // URL followed by < and some symbols that the URL can end it\nvar S_URL_OPENPAREN_Q = makeState(_multi.URL); // URL followed by ( and some symbols that the URL can end it\nvar S_URL_OPENBRACE_SYMS = makeState(); // S_URL_OPENBRACE_Q followed by some symbols it cannot end it\nvar S_URL_OPENBRACKET_SYMS = makeState(); // S_URL_OPENBRACKET_Q followed by some symbols it cannot end it\nvar S_URL_OPENANGLEBRACKET_SYMS = makeState(); // S_URL_OPENANGLEBRACKET_Q followed by some symbols it cannot end it\nvar S_URL_OPENPAREN_SYMS = makeState(); // S_URL_OPENPAREN_Q followed by some symbols it cannot end it\nvar S_EMAIL_DOMAIN = makeState(); // parsed string starts with local email info + @ with a potential domain name (C)\nvar S_EMAIL_DOMAIN_DOT = makeState(); // (C) domain followed by DOT\nvar S_EMAIL = makeState(_multi.EMAIL); // (C) Possible email address (could have more tlds)\nvar S_EMAIL_COLON = makeState(); // (C) URL followed by colon (potential port number here)\nvar S_EMAIL_PORT = makeState(_multi.EMAIL); // (C) Email address with a port\nvar S_MAILTO_EMAIL = makeState(_multi.MAILTOEMAIL); // Email that begins with the mailto prefix (D)\nvar S_MAILTO_EMAIL_NON_ACCEPTING = makeState(); // (D) Followed by some non-query string chars\nvar S_LOCALPART = makeState(); // Local part of the email address\nvar S_LOCALPART_AT = makeState(); // Local part of the email address plus @\nvar S_LOCALPART_DOT = makeState(); // Local part of the email address plus '.' (localpart cannot end in .)\nvar S_NL = makeState(_multi.NL); // single new line\n\n// Make path from start to protocol (with '//')\nS_START.on(_text.NL, S_NL).on(_text.PROTOCOL, S_PROTOCOL).on(_text.MAILTO, S_MAILTO).on(_text.SLASH, S_PROTOCOL_SLASH);\n\nS_PROTOCOL.on(_text.SLASH, S_PROTOCOL_SLASH);\nS_PROTOCOL_SLASH.on(_text.SLASH, S_PROTOCOL_SLASH_SLASH);\n\n// The very first potential domain name\nS_START.on(_text.TLD, S_DOMAIN).on(_text.DOMAIN, S_DOMAIN).on(_text.LOCALHOST, S_TLD).on(_text.NUM, S_DOMAIN);\n\n// Force URL for protocol followed by anything sane\nS_PROTOCOL_SLASH_SLASH.on(_text.TLD, S_URL).on(_text.DOMAIN, S_URL).on(_text.NUM, S_URL).on(_text.LOCALHOST, S_URL);\n\n// Account for dots and hyphens\n// hyphens are usually parts of domain names\nS_DOMAIN.on(_text.DOT, S_DOMAIN_DOT);\nS_EMAIL_DOMAIN.on(_text.DOT, S_EMAIL_DOMAIN_DOT);\n\n// Hyphen can jump back to a domain name\n\n// After the first domain and a dot, we can find either a URL or another domain\nS_DOMAIN_DOT.on(_text.TLD, S_TLD).on(_text.DOMAIN, S_DOMAIN).on(_text.NUM, S_DOMAIN).on(_text.LOCALHOST, S_DOMAIN);\n\nS_EMAIL_DOMAIN_DOT.on(_text.TLD, S_EMAIL).on(_text.DOMAIN, S_EMAIL_DOMAIN).on(_text.NUM, S_EMAIL_DOMAIN).on(_text.LOCALHOST, S_EMAIL_DOMAIN);\n\n// S_TLD accepts! But the URL could be longer, try to find a match greedily\n// The `run` function should be able to \"rollback\" to the accepting state\nS_TLD.on(_text.DOT, S_DOMAIN_DOT);\nS_EMAIL.on(_text.DOT, S_EMAIL_DOMAIN_DOT);\n\n// Become real URLs after `SLASH` or `COLON NUM SLASH`\n// Here PSS and non-PSS converge\nS_TLD.on(_text.COLON, S_TLD_COLON).on(_text.SLASH, S_URL);\nS_TLD_COLON.on(_text.NUM, S_TLD_PORT);\nS_TLD_PORT.on(_text.SLASH, S_URL);\nS_EMAIL.on(_text.COLON, S_EMAIL_COLON);\nS_EMAIL_COLON.on(_text.NUM, S_EMAIL_PORT);\n\n// Types of characters the URL can definitely end in\nvar qsAccepting = [_text.DOMAIN, _text.AT, _text.LOCALHOST, _text.NUM, _text.PLUS, _text.POUND, _text.PROTOCOL, _text.SLASH, _text.TLD, _text.UNDERSCORE, _text.SYM, _text.AMPERSAND];\n\n// Types of tokens that can follow a URL and be part of the query string\n// but cannot be the very last characters\n// Characters that cannot appear in the URL at all should be excluded\nvar qsNonAccepting = [_text.COLON, _text.DOT, _text.QUERY, _text.PUNCTUATION, _text.CLOSEBRACE, _text.CLOSEBRACKET, _text.CLOSEANGLEBRACKET, _text.CLOSEPAREN, _text.OPENBRACE, _text.OPENBRACKET, _text.OPENANGLEBRACKET, _text.OPENPAREN];\n\n// These states are responsible primarily for determining whether or not to\n// include the final round bracket.\n\n// URL, followed by an opening bracket\nS_URL.on(_text.OPENBRACE, S_URL_OPENBRACE).on(_text.OPENBRACKET, S_URL_OPENBRACKET).on(_text.OPENANGLEBRACKET, S_URL_OPENANGLEBRACKET).on(_text.OPENPAREN, S_URL_OPENPAREN);\n\n// URL with extra symbols at the end, followed by an opening bracket\nS_URL_NON_ACCEPTING.on(_text.OPENBRACE, S_URL_OPENBRACE).on(_text.OPENBRACKET, S_URL_OPENBRACKET).on(_text.OPENANGLEBRACKET, S_URL_OPENANGLEBRACKET).on(_text.OPENPAREN, S_URL_OPENPAREN);\n\n// Closing bracket component. This character WILL be included in the URL\nS_URL_OPENBRACE.on(_text.CLOSEBRACE, S_URL);\nS_URL_OPENBRACKET.on(_text.CLOSEBRACKET, S_URL);\nS_URL_OPENANGLEBRACKET.on(_text.CLOSEANGLEBRACKET, S_URL);\nS_URL_OPENPAREN.on(_text.CLOSEPAREN, S_URL);\nS_URL_OPENBRACE_Q.on(_text.CLOSEBRACE, S_URL);\nS_URL_OPENBRACKET_Q.on(_text.CLOSEBRACKET, S_URL);\nS_URL_OPENANGLEBRACKET_Q.on(_text.CLOSEANGLEBRACKET, S_URL);\nS_URL_OPENPAREN_Q.on(_text.CLOSEPAREN, S_URL);\nS_URL_OPENBRACE_SYMS.on(_text.CLOSEBRACE, S_URL);\nS_URL_OPENBRACKET_SYMS.on(_text.CLOSEBRACKET, S_URL);\nS_URL_OPENANGLEBRACKET_SYMS.on(_text.CLOSEANGLEBRACKET, S_URL);\nS_URL_OPENPAREN_SYMS.on(_text.CLOSEPAREN, S_URL);\n\n// URL that beings with an opening bracket, followed by a symbols.\n// Note that the final state can still be `S_URL_OPENBRACE_Q` (if the URL only\n// has a single opening bracket for some reason).\nS_URL_OPENBRACE.on(qsAccepting, S_URL_OPENBRACE_Q);\nS_URL_OPENBRACKET.on(qsAccepting, S_URL_OPENBRACKET_Q);\nS_URL_OPENANGLEBRACKET.on(qsAccepting, S_URL_OPENANGLEBRACKET_Q);\nS_URL_OPENPAREN.on(qsAccepting, S_URL_OPENPAREN_Q);\nS_URL_OPENBRACE.on(qsNonAccepting, S_URL_OPENBRACE_SYMS);\nS_URL_OPENBRACKET.on(qsNonAccepting, S_URL_OPENBRACKET_SYMS);\nS_URL_OPENANGLEBRACKET.on(qsNonAccepting, S_URL_OPENANGLEBRACKET_SYMS);\nS_URL_OPENPAREN.on(qsNonAccepting, S_URL_OPENPAREN_SYMS);\n\n// URL that begins with an opening bracket, followed by some symbols\nS_URL_OPENBRACE_Q.on(qsAccepting, S_URL_OPENBRACE_Q);\nS_URL_OPENBRACKET_Q.on(qsAccepting, S_URL_OPENBRACKET_Q);\nS_URL_OPENANGLEBRACKET_Q.on(qsAccepting, S_URL_OPENANGLEBRACKET_Q);\nS_URL_OPENPAREN_Q.on(qsAccepting, S_URL_OPENPAREN_Q);\nS_URL_OPENBRACE_Q.on(qsNonAccepting, S_URL_OPENBRACE_Q);\nS_URL_OPENBRACKET_Q.on(qsNonAccepting, S_URL_OPENBRACKET_Q);\nS_URL_OPENANGLEBRACKET_Q.on(qsNonAccepting, S_URL_OPENANGLEBRACKET_Q);\nS_URL_OPENPAREN_Q.on(qsNonAccepting, S_URL_OPENPAREN_Q);\n\nS_URL_OPENBRACE_SYMS.on(qsAccepting, S_URL_OPENBRACE_Q);\nS_URL_OPENBRACKET_SYMS.on(qsAccepting, S_URL_OPENBRACKET_Q);\nS_URL_OPENANGLEBRACKET_SYMS.on(qsAccepting, S_URL_OPENANGLEBRACKET_Q);\nS_URL_OPENPAREN_SYMS.on(qsAccepting, S_URL_OPENPAREN_Q);\nS_URL_OPENBRACE_SYMS.on(qsNonAccepting, S_URL_OPENBRACE_SYMS);\nS_URL_OPENBRACKET_SYMS.on(qsNonAccepting, S_URL_OPENBRACKET_SYMS);\nS_URL_OPENANGLEBRACKET_SYMS.on(qsNonAccepting, S_URL_OPENANGLEBRACKET_SYMS);\nS_URL_OPENPAREN_SYMS.on(qsNonAccepting, S_URL_OPENPAREN_SYMS);\n\n// Account for the query string\nS_URL.on(qsAccepting, S_URL);\nS_URL_NON_ACCEPTING.on(qsAccepting, S_URL);\n\nS_URL.on(qsNonAccepting, S_URL_NON_ACCEPTING);\nS_URL_NON_ACCEPTING.on(qsNonAccepting, S_URL_NON_ACCEPTING);\n\n// Email address-specific state definitions\n// Note: We are not allowing '/' in email addresses since this would interfere\n// with real URLs\n\n// For addresses with the mailto prefix\n// 'mailto:' followed by anything sane is a valid email\nS_MAILTO.on(_text.TLD, S_MAILTO_EMAIL).on(_text.DOMAIN, S_MAILTO_EMAIL).on(_text.NUM, S_MAILTO_EMAIL).on(_text.LOCALHOST, S_MAILTO_EMAIL);\n\n// Greedily get more potential valid email values\nS_MAILTO_EMAIL.on(qsAccepting, S_MAILTO_EMAIL).on(qsNonAccepting, S_MAILTO_EMAIL_NON_ACCEPTING);\nS_MAILTO_EMAIL_NON_ACCEPTING.on(qsAccepting, S_MAILTO_EMAIL).on(qsNonAccepting, S_MAILTO_EMAIL_NON_ACCEPTING);\n\n// For addresses without the mailto prefix\n// Tokens allowed in the localpart of the email\nvar localpartAccepting = [_text.DOMAIN, _text.NUM, _text.PLUS, _text.POUND, _text.QUERY, _text.UNDERSCORE, _text.SYM, _text.AMPERSAND, _text.TLD];\n\n// Some of the tokens in `localpartAccepting` are already accounted for here and\n// will not be overwritten (don't worry)\nS_DOMAIN.on(localpartAccepting, S_LOCALPART).on(_text.AT, S_LOCALPART_AT);\nS_TLD.on(localpartAccepting, S_LOCALPART).on(_text.AT, S_LOCALPART_AT);\nS_DOMAIN_DOT.on(localpartAccepting, S_LOCALPART);\n\n// Okay we're on a localpart. Now what?\n// TODO: IP addresses and what if the email starts with numbers?\nS_LOCALPART.on(localpartAccepting, S_LOCALPART).on(_text.AT, S_LOCALPART_AT) // close to an email address now\n.on(_text.DOT, S_LOCALPART_DOT);\nS_LOCALPART_DOT.on(localpartAccepting, S_LOCALPART);\nS_LOCALPART_AT.on(_text.TLD, S_EMAIL_DOMAIN).on(_text.DOMAIN, S_EMAIL_DOMAIN).on(_text.LOCALHOST, S_EMAIL);\n// States following `@` defined above\n\nvar run = function run(tokens) {\n\tvar len = tokens.length;\n\tvar cursor = 0;\n\tvar multis = [];\n\tvar textTokens = [];\n\n\twhile (cursor < len) {\n\t\tvar state = S_START;\n\t\tvar secondState = null;\n\t\tvar nextState = null;\n\t\tvar multiLength = 0;\n\t\tvar latestAccepting = null;\n\t\tvar sinceAccepts = -1;\n\n\t\twhile (cursor < len && !(secondState = state.next(tokens[cursor]))) {\n\t\t\t// Starting tokens with nowhere to jump to.\n\t\t\t// Consider these to be just plain text\n\t\t\ttextTokens.push(tokens[cursor++]);\n\t\t}\n\n\t\twhile (cursor < len && (nextState = secondState || state.next(tokens[cursor]))) {\n\n\t\t\t// Get the next state\n\t\t\tsecondState = null;\n\t\t\tstate = nextState;\n\n\t\t\t// Keep track of the latest accepting state\n\t\t\tif (state.accepts()) {\n\t\t\t\tsinceAccepts = 0;\n\t\t\t\tlatestAccepting = state;\n\t\t\t} else if (sinceAccepts >= 0) {\n\t\t\t\tsinceAccepts++;\n\t\t\t}\n\n\t\t\tcursor++;\n\t\t\tmultiLength++;\n\t\t}\n\n\t\tif (sinceAccepts < 0) {\n\n\t\t\t// No accepting state was found, part of a regular text token\n\t\t\t// Add all the tokens we looked at to the text tokens array\n\t\t\tfor (var i = cursor - multiLength; i < cursor; i++) {\n\t\t\t\ttextTokens.push(tokens[i]);\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Accepting state!\n\n\t\t\t// First close off the textTokens (if available)\n\t\t\tif (textTokens.length > 0) {\n\t\t\t\tmultis.push(new _multi.TEXT(textTokens));\n\t\t\t\ttextTokens = [];\n\t\t\t}\n\n\t\t\t// Roll back to the latest accepting state\n\t\t\tcursor -= sinceAccepts;\n\t\t\tmultiLength -= sinceAccepts;\n\n\t\t\t// Create a new multitoken\n\t\t\tvar MULTI = latestAccepting.emit();\n\t\t\tmultis.push(new MULTI(tokens.slice(cursor - multiLength, cursor)));\n\t\t}\n\t}\n\n\t// Finally close off the textTokens (if available)\n\tif (textTokens.length > 0) {\n\t\tmultis.push(new _multi.TEXT(textTokens));\n\t}\n\n\treturn multis;\n};\n\nexports.State = _state.TokenState;\nexports.TOKENS = MULTI_TOKENS;\nexports.run = run;\nexports.start = S_START;","\"use strict\";\n\nexports.__esModule = true;\nfunction createTokenClass() {\n\treturn function (value) {\n\t\tif (value) {\n\t\t\tthis.v = value;\n\t\t}\n\t};\n}\n\nexports.createTokenClass = createTokenClass;","var JsonRpcClient = require('./jsonrpcclient');\nexports.JsonRpcClient = JsonRpcClient;\n//# sourceMappingURL=index.js.map","'use strict';\n\nexports.__esModule = true;\nexports.default = hashtag;\n/**\n\tQuick Hashtag parser plugin for linkify\n*/\nfunction hashtag(linkify) {\n\tvar TT = linkify.scanner.TOKENS; // Text tokens\n\tvar MultiToken = linkify.parser.TOKENS.Base; // Base Multi token class\n\tvar S_START = linkify.parser.start;\n\n\tfunction HASHTAG(value) {\n\t\tthis.v = value;\n\t}\n\n\tlinkify.inherits(MultiToken, HASHTAG, {\n\t\ttype: 'hashtag',\n\t\tisLink: true\n\t});\n\n\tvar S_HASH = S_START.jump(TT.POUND);\n\tvar S_HASHTAG = new linkify.parser.State(HASHTAG);\n\n\tS_HASH.on(TT.DOMAIN, S_HASHTAG);\n\tS_HASH.on(TT.TLD, S_HASHTAG);\n\tS_HASH.on(TT.LOCALHOST, S_HASHTAG);\n}","import { CommonModule } from '@angular/common';\nimport { Injectable, Pipe, InjectionToken, NgModule, Inject } from '@angular/core';\nimport * as linkify from 'linkifyjs';\nimport { find, test } from 'linkifyjs';\nimport hashtag from 'linkifyjs/plugins/hashtag';\nimport mention from 'linkifyjs/plugins/mention';\nimport linkifyStr from 'linkifyjs/string';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nclass NgxLinkifyjsService {\n    constructor() {\n    }\n    /**\n     * Convert the passed text as a string to an appropriate url\n     *\n     * @param {?} text - the string to convert\n     * @param {?=} options - options to pass it to the linkifyjs library\n     * @return {?}\n     */\n    linkify(text, options) {\n        // @ts-ignore\n        return text.linkify(options);\n    }\n    /**\n     * Find any links in a given text as a string\n     *\n     * @param {?} text - the string to find some links\n     * @return {?}\n     */\n    find(text) {\n        return find(text);\n    }\n    /**\n     * Test if a given value or array of values are links\n     *\n     * @param {?} value - the value to test\n     * @return {?}\n     */\n    test(value) {\n        if (typeof value === 'string') {\n            return test(value);\n        }\n        return test(...value);\n    }\n}\nNgxLinkifyjsService.ɵfac = function NgxLinkifyjsService_Factory(t) { return new (t || NgxLinkifyjsService)(); };\nNgxLinkifyjsService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: NgxLinkifyjsService, factory: NgxLinkifyjsService.ɵfac });\n/** @nocollapse */\nNgxLinkifyjsService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxLinkifyjsService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NgxLinkifyjsPipe {\n    /**\n     * @param {?} value\n     * @param {?=} options\n     * @return {?}\n     */\n    transform(value, options) {\n        return value ? linkifyStr(value, options) : value;\n    }\n}\nNgxLinkifyjsPipe.ɵfac = function NgxLinkifyjsPipe_Factory(t) { return new (t || NgxLinkifyjsPipe)(); };\nNgxLinkifyjsPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"linkify\", type: NgxLinkifyjsPipe, pure: true });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxLinkifyjsPipe, [{\n        type: Pipe,\n        args: [{\n                name: 'linkify'\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @enum {string} */\nconst LinkType = {\n    URL: 'url',\n    HASHTAG: 'hashtag',\n    MENTION: 'mention',\n    EMAIL: 'email',\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst NgxLinkifyjsConfigToken = new InjectionToken('NgxLinkifyjsConfig');\n/** @type {?} */\nconst DEFAULT_CONFIG = { enableHash: true, enableMention: true };\nclass NgxLinkifyjsModule {\n    /**\n     * @param {?} config\n     */\n    constructor(config) {\n        this.config = config;\n        if (config.enableHash) {\n            hashtag(linkify);\n        }\n        if (config.enableMention) {\n            mention(linkify);\n        }\n    }\n    /**\n     * @param {?=} config\n     * @return {?}\n     */\n    static forRoot(config = DEFAULT_CONFIG) {\n        return {\n            ngModule: NgxLinkifyjsModule,\n            providers: [\n                NgxLinkifyjsService,\n                {\n                    provide: NgxLinkifyjsConfigToken,\n                    useValue: config\n                },\n            ]\n        };\n    }\n}\nNgxLinkifyjsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NgxLinkifyjsModule });\nNgxLinkifyjsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NgxLinkifyjsModule_Factory(t) { return new (t || NgxLinkifyjsModule)(ɵngcc0.ɵɵinject(NgxLinkifyjsConfigToken)); }, imports: [[\n            CommonModule\n        ]] });\n/** @nocollapse */\nNgxLinkifyjsModule.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [NgxLinkifyjsConfigToken,] }] }\n];\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxLinkifyjsModule, { declarations: function () { return [NgxLinkifyjsPipe]; }, imports: function () { return [CommonModule]; }, exports: function () { return [NgxLinkifyjsPipe]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxLinkifyjsModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule\n                ],\n                exports: [NgxLinkifyjsPipe],\n                declarations: [NgxLinkifyjsPipe]\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [NgxLinkifyjsConfigToken]\n            }] }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { LinkType, NgxLinkifyjsPipe, NgxLinkifyjsService, NgxLinkifyjsConfigToken, DEFAULT_CONFIG, NgxLinkifyjsModule };\n\n//# sourceMappingURL=ngx-linkifyjs.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\nvar Publisher_1 = require(\"../../OpenVidu/Publisher\");\nvar Session_1 = require(\"../../OpenVidu/Session\");\nvar OpenViduLogger_1 = require(\"../Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Defines the following events:\n * - `streamCreated`: dispatched by [[Session]] and [[Publisher]] after some user has started publishing to the session\n * - `streamDestroyed`: dispatched by [[Session]] and [[Publisher]] after some user has stopped publishing to the session\n */\nvar StreamEvent = /** @class */ (function (_super) {\n    __extends(StreamEvent, _super);\n    /**\n     * @hidden\n     */\n    function StreamEvent(cancelable, target, type, stream, reason) {\n        var _this = _super.call(this, cancelable, target, type) || this;\n        _this.stream = stream;\n        _this.reason = reason;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    StreamEvent.prototype.callDefaultBehavior = function () {\n        if (this.type === 'streamDestroyed') {\n            if (this.target instanceof Session_1.Session) {\n                // Remote Stream\n                logger.info(\"Calling default behavior upon '\" + this.type + \"' event dispatched by 'Session'\");\n                this.stream.disposeWebRtcPeer();\n            }\n            else if (this.target instanceof Publisher_1.Publisher) {\n                // Local Stream\n                logger.info(\"Calling default behavior upon '\" + this.type + \"' event dispatched by 'Publisher'\");\n                clearInterval(this.target.screenShareResizeInterval);\n                this.stream.isLocalStreamReadyToPublish = false;\n                // Delete Publisher object from OpenVidu publishers array\n                var openviduPublishers = this.target.openvidu.publishers;\n                for (var i = 0; i < openviduPublishers.length; i++) {\n                    if (openviduPublishers[i] === this.target) {\n                        openviduPublishers.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            // Dispose the MediaStream local object\n            this.stream.disposeMediaStream();\n            // Remove from DOM all video elements associated to this Stream, if there's a StreamManager defined\n            // (method Session.subscribe must have been called)\n            if (this.stream.streamManager)\n                this.stream.streamManager.removeAllVideos();\n            // Delete stream from Session.remoteStreamsCreated map\n            delete this.stream.session.remoteStreamsCreated[this.stream.streamId];\n            // Delete StreamOptionsServer from remote Connection\n            var remoteConnection = this.stream.session.remoteConnections[this.stream.connection.connectionId];\n            if (!!remoteConnection && !!remoteConnection.options) {\n                var streamOptionsServer = remoteConnection.options.streams;\n                for (var i = streamOptionsServer.length - 1; i >= 0; --i) {\n                    if (streamOptionsServer[i].id === this.stream.streamId) {\n                        streamOptionsServer.splice(i, 1);\n                    }\n                }\n            }\n        }\n    };\n    return StreamEvent;\n}(Event_1.Event));\nexports.StreamEvent = StreamEvent;\n//# sourceMappingURL=StreamEvent.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\n/**\n * Defines property [[OpenViduError.name]]\n */\nvar OpenViduErrorName;\n(function (OpenViduErrorName) {\n    /**\n     * Browser is not supported by OpenVidu.\n     * Returned upon unsuccessful [[Session.connect]]\n     */\n    OpenViduErrorName[\"BROWSER_NOT_SUPPORTED\"] = \"BROWSER_NOT_SUPPORTED\";\n    /**\n     * The user hasn't granted permissions to the required input device when the browser asked for them.\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"DEVICE_ACCESS_DENIED\"] = \"DEVICE_ACCESS_DENIED\";\n    /**\n     * The required input device is probably being used by other process when the browser asked for it.\n     * This error can also be triggered when the user granted permission to use the devices but a hardware\n     * error occurred at the OS, browser or web page level, which prevented access to the device.\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"DEVICE_ALREADY_IN_USE\"] = \"DEVICE_ALREADY_IN_USE\";\n    /**\n     * The user hasn't granted permissions to capture some desktop screen when the browser asked for them.\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"SCREEN_CAPTURE_DENIED\"] = \"SCREEN_CAPTURE_DENIED\";\n    /**\n     * Browser does not support screen sharing.\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"SCREEN_SHARING_NOT_SUPPORTED\"] = \"SCREEN_SHARING_NOT_SUPPORTED\";\n    /**\n     * Only for Chrome, there's no screen sharing extension installed\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"SCREEN_EXTENSION_NOT_INSTALLED\"] = \"SCREEN_EXTENSION_NOT_INSTALLED\";\n    /**\n     * Only for Chrome, the screen sharing extension is installed but is disabled\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"SCREEN_EXTENSION_DISABLED\"] = \"SCREEN_EXTENSION_DISABLED\";\n    /**\n     * No video input device found with the provided deviceId (property [[PublisherProperties.videoSource]])\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"INPUT_VIDEO_DEVICE_NOT_FOUND\"] = \"INPUT_VIDEO_DEVICE_NOT_FOUND\";\n    /**\n     * No audio input device found with the provided deviceId (property [[PublisherProperties.audioSource]])\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"INPUT_AUDIO_DEVICE_NOT_FOUND\"] = \"INPUT_AUDIO_DEVICE_NOT_FOUND\";\n    /**\n     * There was an unknown error when trying to access the specified audio device\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"INPUT_AUDIO_DEVICE_GENERIC_ERROR\"] = \"INPUT_AUDIO_DEVICE_GENERIC_ERROR\";\n    /**\n     * Method [[OpenVidu.initPublisher]] or  [[OpenVidu.getUserMedia]] has been called with properties `videoSource` and `audioSource` of\n     * [[PublisherProperties]] parameter both set to *false* or *null*\n     */\n    OpenViduErrorName[\"NO_INPUT_SOURCE_SET\"] = \"NO_INPUT_SOURCE_SET\";\n    /**\n     * Some media property of [[PublisherProperties]] such as `frameRate` or `resolution` is not supported\n     * by the input devices (whenever it is possible they are automatically adjusted to the most similar value).\n     * Returned upon unsuccessful [[OpenVidu.initPublisher]] or [[OpenVidu.getUserMedia]]\n     */\n    OpenViduErrorName[\"PUBLISHER_PROPERTIES_ERROR\"] = \"PUBLISHER_PROPERTIES_ERROR\";\n    /**\n     * The client tried to call a method without the required permissions. This can occur for methods [[Session.publish]],\n     * [[Session.forceUnpublish]], [[Session.forceDisconnect]], [[Stream.applyFilter]], [[Stream.removeFilter]]\n     */\n    OpenViduErrorName[\"OPENVIDU_PERMISSION_DENIED\"] = \"OPENVIDU_PERMISSION_DENIED\";\n    /**\n     * _Not in use yet_\n     */\n    OpenViduErrorName[\"OPENVIDU_NOT_CONNECTED\"] = \"OPENVIDU_NOT_CONNECTED\";\n    /**\n     * _Not in use yet_\n     */\n    OpenViduErrorName[\"GENERIC_ERROR\"] = \"GENERIC_ERROR\";\n})(OpenViduErrorName = exports.OpenViduErrorName || (exports.OpenViduErrorName = {}));\n/**\n * Simple object to identify runtime errors on the client side\n */\nvar OpenViduError = /** @class */ (function () {\n    /**\n     * @hidden\n     */\n    function OpenViduError(name, message) {\n        this.name = name;\n        this.message = message;\n    }\n    return OpenViduError;\n}());\nexports.OpenViduError = OpenViduError;\n//# sourceMappingURL=OpenViduError.js.map","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Directive, ElementRef, Injectable, NgModule, NgZone, Inject, Input, ɵɵdefineInjectable, ɵɵinject } from '@angular/core';\nimport { BaseDirective2, StyleBuilder, StyleUtils, MediaMarshaller, CoreModule, LAYOUT_CONFIG, validateBasis } from '@angular/flex-layout/core';\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: utils/layout-validator.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n * @type {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/flex-layout/core';\nimport * as ɵngcc2 from '@angular/cdk/bidi';\nconst INLINE = 'inline';\n/** @type {?} */\nconst LAYOUT_VALUES = ['row', 'column', 'row-reverse', 'column-reverse'];\n/**\n * Validate the direction|'direction wrap' value and then update the host's inline flexbox styles\n * @param {?} value\n * @return {?}\n */\nfunction buildLayoutCSS(value) {\n    let [direction, wrap, isInline] = validateValue(value);\n    return buildCSS(direction, wrap, isInline);\n}\n/**\n * Validate the value to be one of the acceptable value options\n * Use default fallback of 'row'\n * @param {?} value\n * @return {?}\n */\nfunction validateValue(value) {\n    value = value ? value.toLowerCase() : '';\n    let [direction, wrap, inline] = value.split(' ');\n    // First value must be the `flex-direction`\n    if (!LAYOUT_VALUES.find((/**\n     * @param {?} x\n     * @return {?}\n     */\n    x => x === direction))) {\n        direction = LAYOUT_VALUES[0];\n    }\n    if (wrap === INLINE) {\n        wrap = (inline !== INLINE) ? inline : '';\n        inline = INLINE;\n    }\n    return [direction, validateWrapValue(wrap), !!inline];\n}\n/**\n * Determine if the validated, flex-direction value specifies\n * a horizontal/row flow.\n * @param {?} value\n * @return {?}\n */\nfunction isFlowHorizontal(value) {\n    let [flow,] = validateValue(value);\n    return flow.indexOf('row') > -1;\n}\n/**\n * Convert layout-wrap='<value>' to expected flex-wrap style\n * @param {?} value\n * @return {?}\n */\nfunction validateWrapValue(value) {\n    if (!!value) {\n        switch (value.toLowerCase()) {\n            case 'reverse':\n            case 'wrap-reverse':\n            case 'reverse-wrap':\n                value = 'wrap-reverse';\n                break;\n            case 'no':\n            case 'none':\n            case 'nowrap':\n                value = 'nowrap';\n                break;\n            // All other values fallback to 'wrap'\n            default:\n                value = 'wrap';\n                break;\n        }\n    }\n    return value;\n}\n/**\n * Build the CSS that should be assigned to the element instance\n * BUG:\n *   1) min-height on a column flex container won’t apply to its flex item children in IE 10-11.\n *      Use height instead if possible; height : <xxx>vh;\n *\n *  This way any padding or border specified on the child elements are\n *  laid out and drawn inside that element's specified width and height.\n * @param {?} direction\n * @param {?=} wrap\n * @param {?=} inline\n * @return {?}\n */\nfunction buildCSS(direction, wrap = null, inline = false) {\n    return {\n        'display': inline ? 'inline-flex' : 'flex',\n        'box-sizing': 'border-box',\n        'flex-direction': direction,\n        'flex-wrap': !!wrap ? wrap : null\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/layout/layout.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass LayoutStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @return {?}\n     */\n    buildStyles(input) {\n        return buildLayoutCSS(input);\n    }\n}\nLayoutStyleBuilder.ɵfac = function LayoutStyleBuilder_Factory(t) { return ɵLayoutStyleBuilder_BaseFactory(t || LayoutStyleBuilder); };\n/** @nocollapse */ LayoutStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function LayoutStyleBuilder_Factory() { return new LayoutStyleBuilder(); }, token: LayoutStyleBuilder, providedIn: \"root\" });\nconst ɵLayoutStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(LayoutStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LayoutStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n/** @type {?} */\nconst inputs = [\n    'fxLayout', 'fxLayout.xs', 'fxLayout.sm', 'fxLayout.md',\n    'fxLayout.lg', 'fxLayout.xl', 'fxLayout.lt-sm', 'fxLayout.lt-md',\n    'fxLayout.lt-lg', 'fxLayout.lt-xl', 'fxLayout.gt-xs', 'fxLayout.gt-sm',\n    'fxLayout.gt-md', 'fxLayout.gt-lg'\n];\n/** @type {?} */\nconst selector = `\n  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],\n  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],\n  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],\n  [fxLayout.gt-md], [fxLayout.gt-lg]\n`;\n/**\n * 'layout' flexbox styling directive\n * Defines the positioning flow direction for the child elements: row or column\n * Optional values: column or row (default)\n * @see https://css-tricks.com/almanac/properties/f/flex-direction/\n *\n */\nclass LayoutDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.DIRECTIVE_KEY = 'layout';\n        this.styleCache = layoutCache;\n        this.init();\n    }\n}\nLayoutDirective.ɵfac = function LayoutDirective_Factory(t) { return new (t || LayoutDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(LayoutStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nLayoutDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: LayoutDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nLayoutDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: LayoutStyleBuilder },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LayoutDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: LayoutStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\nclass DefaultLayoutDirective extends LayoutDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs;\n    }\n}\nDefaultLayoutDirective.ɵfac = function DefaultLayoutDirective_Factory(t) { return ɵDefaultLayoutDirective_BaseFactory(t || DefaultLayoutDirective); };\nDefaultLayoutDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultLayoutDirective, selectors: [[\"\", \"fxLayout\", \"\"], [\"\", \"fxLayout.xs\", \"\"], [\"\", \"fxLayout.sm\", \"\"], [\"\", \"fxLayout.md\", \"\"], [\"\", \"fxLayout.lg\", \"\"], [\"\", \"fxLayout.xl\", \"\"], [\"\", \"fxLayout.lt-sm\", \"\"], [\"\", \"fxLayout.lt-md\", \"\"], [\"\", \"fxLayout.lt-lg\", \"\"], [\"\", \"fxLayout.lt-xl\", \"\"], [\"\", \"fxLayout.gt-xs\", \"\"], [\"\", \"fxLayout.gt-sm\", \"\"], [\"\", \"fxLayout.gt-md\", \"\"], [\"\", \"fxLayout.gt-lg\", \"\"]], inputs: { fxLayout: \"fxLayout\", \"fxLayout.xs\": \"fxLayout.xs\", \"fxLayout.sm\": \"fxLayout.sm\", \"fxLayout.md\": \"fxLayout.md\", \"fxLayout.lg\": \"fxLayout.lg\", \"fxLayout.xl\": \"fxLayout.xl\", \"fxLayout.lt-sm\": \"fxLayout.lt-sm\", \"fxLayout.lt-md\": \"fxLayout.lt-md\", \"fxLayout.lt-lg\": \"fxLayout.lt-lg\", \"fxLayout.lt-xl\": \"fxLayout.lt-xl\", \"fxLayout.gt-xs\": \"fxLayout.gt-xs\", \"fxLayout.gt-sm\": \"fxLayout.gt-sm\", \"fxLayout.gt-md\": \"fxLayout.gt-md\", \"fxLayout.gt-lg\": \"fxLayout.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultLayoutDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultLayoutDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultLayoutDirective, [{\n        type: Directive,\n        args: [{ selector, inputs }]\n    }], null, null); })();\n/** @type {?} */\nconst layoutCache = new Map();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/layout-gap/layout-gap.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst CLEAR_MARGIN_CSS = {\n    'margin-left': null,\n    'margin-right': null,\n    'margin-top': null,\n    'margin-bottom': null\n};\nclass LayoutGapStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} _styler\n     */\n    constructor(_styler) {\n        super();\n        this._styler = _styler;\n    }\n    /**\n     * @param {?} gapValue\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(gapValue, parent) {\n        if (gapValue.endsWith(GRID_SPECIFIER)) {\n            gapValue = gapValue.slice(0, gapValue.indexOf(GRID_SPECIFIER));\n            // Add the margin to the host element\n            return buildGridMargin(gapValue, parent.directionality);\n        }\n        else {\n            return {};\n        }\n    }\n    /**\n     * @param {?} gapValue\n     * @param {?} _styles\n     * @param {?} parent\n     * @return {?}\n     */\n    sideEffect(gapValue, _styles, parent) {\n        /** @type {?} */\n        const items = parent.items;\n        if (gapValue.endsWith(GRID_SPECIFIER)) {\n            gapValue = gapValue.slice(0, gapValue.indexOf(GRID_SPECIFIER));\n            // For each `element` children, set the padding\n            /** @type {?} */\n            const paddingStyles = buildGridPadding(gapValue, parent.directionality);\n            this._styler.applyStyleToElements(paddingStyles, parent.items);\n        }\n        else {\n            /** @type {?} */\n            const lastItem = (/** @type {?} */ (items.pop()));\n            // For each `element` children EXCEPT the last,\n            // set the margin right/bottom styles...\n            /** @type {?} */\n            const gapCss = buildGapCSS(gapValue, parent);\n            this._styler.applyStyleToElements(gapCss, items);\n            // Clear all gaps for all visible elements\n            this._styler.applyStyleToElements(CLEAR_MARGIN_CSS, [lastItem]);\n        }\n    }\n}\nLayoutGapStyleBuilder.ɵfac = function LayoutGapStyleBuilder_Factory(t) { return new (t || LayoutGapStyleBuilder)(ɵngcc0.ɵɵinject(ɵngcc1.StyleUtils)); };\n/** @nocollapse */\nLayoutGapStyleBuilder.ctorParameters = () => [\n    { type: StyleUtils }\n];\n/** @nocollapse */ LayoutGapStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function LayoutGapStyleBuilder_Factory() { return new LayoutGapStyleBuilder(ɵɵinject(StyleUtils)); }, token: LayoutGapStyleBuilder, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LayoutGapStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: ɵngcc1.StyleUtils }]; }, null); })();\n/** @type {?} */\nconst inputs$1 = [\n    'fxLayoutGap', 'fxLayoutGap.xs', 'fxLayoutGap.sm', 'fxLayoutGap.md',\n    'fxLayoutGap.lg', 'fxLayoutGap.xl', 'fxLayoutGap.lt-sm', 'fxLayoutGap.lt-md',\n    'fxLayoutGap.lt-lg', 'fxLayoutGap.lt-xl', 'fxLayoutGap.gt-xs', 'fxLayoutGap.gt-sm',\n    'fxLayoutGap.gt-md', 'fxLayoutGap.gt-lg'\n];\n/** @type {?} */\nconst selector$1 = `\n  [fxLayoutGap], [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md],\n  [fxLayoutGap.lg], [fxLayoutGap.xl], [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md],\n  [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl], [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm],\n  [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]\n`;\n/**\n * 'layout-padding' styling directive\n *  Defines padding of child elements in a layout container\n */\nclass LayoutGapDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} zone\n     * @param {?} directionality\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, zone, directionality, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.zone = zone;\n        this.directionality = directionality;\n        this.styleUtils = styleUtils;\n        this.layout = 'row'; // default flex-direction\n        // default flex-direction\n        this.DIRECTIVE_KEY = 'layout-gap';\n        this.observerSubject = new Subject();\n        /** @type {?} */\n        const extraTriggers = [this.directionality.change, this.observerSubject.asObservable()];\n        this.init(extraTriggers);\n        this.marshal\n            .trackValue(this.nativeElement, 'layout')\n            .pipe(takeUntil(this.destroySubject))\n            .subscribe(this.onLayoutChange.bind(this));\n    }\n    /**\n     * Special accessor to query for all child 'element' nodes regardless of type, class, etc\n     * @protected\n     * @return {?}\n     */\n    get childrenNodes() {\n        /** @type {?} */\n        const obj = this.nativeElement.children;\n        /** @type {?} */\n        const buffer = [];\n        // iterate backwards ensuring that length is an UInt32\n        for (let i = obj.length; i--;) {\n            buffer[i] = obj[i];\n        }\n        return buffer;\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this.buildChildObservable();\n        this.triggerUpdate();\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        if (this.observer) {\n            this.observer.disconnect();\n        }\n    }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * Cache the parent container 'flex-direction' and update the 'margin' styles\n     * @protected\n     * @param {?} matcher\n     * @return {?}\n     */\n    onLayoutChange(matcher) {\n        /** @type {?} */\n        const layout = matcher.value;\n        // Make sure to filter out 'wrap' option\n        /** @type {?} */\n        const direction = layout.split(' ');\n        this.layout = direction[0];\n        if (!LAYOUT_VALUES.find((/**\n         * @param {?} x\n         * @return {?}\n         */\n        x => x === this.layout))) {\n            this.layout = 'row';\n        }\n        this.triggerUpdate();\n    }\n    /**\n     *\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        // Gather all non-hidden Element nodes\n        /** @type {?} */\n        const items = this.childrenNodes\n            .filter((/**\n         * @param {?} el\n         * @return {?}\n         */\n        el => el.nodeType === 1 && this.willDisplay(el)))\n            .sort((/**\n         * @param {?} a\n         * @param {?} b\n         * @return {?}\n         */\n        (a, b) => {\n            /** @type {?} */\n            const orderA = +this.styler.lookupStyle(a, 'order');\n            /** @type {?} */\n            const orderB = +this.styler.lookupStyle(b, 'order');\n            if (isNaN(orderA) || isNaN(orderB) || orderA === orderB) {\n                return 0;\n            }\n            else {\n                return orderA > orderB ? 1 : -1;\n            }\n        }));\n        if (items.length > 0) {\n            /** @type {?} */\n            const directionality = this.directionality.value;\n            /** @type {?} */\n            const layout = this.layout;\n            if (layout === 'row' && directionality === 'rtl') {\n                this.styleCache = layoutGapCacheRowRtl;\n            }\n            else if (layout === 'row' && directionality !== 'rtl') {\n                this.styleCache = layoutGapCacheRowLtr;\n            }\n            else if (layout === 'column' && directionality === 'rtl') {\n                this.styleCache = layoutGapCacheColumnRtl;\n            }\n            else if (layout === 'column' && directionality !== 'rtl') {\n                this.styleCache = layoutGapCacheColumnLtr;\n            }\n            this.addStyles(value, { directionality, items, layout });\n        }\n    }\n    /**\n     * We need to override clearStyles because in most cases mru isn't populated\n     * @protected\n     * @return {?}\n     */\n    clearStyles() {\n        /** @type {?} */\n        const gridMode = Object.keys(this.mru).length > 0;\n        /** @type {?} */\n        const childrenStyle = gridMode ? 'padding' :\n            getMarginType(this.directionality.value, this.layout);\n        // If there are styles on the parent remove them\n        if (gridMode) {\n            super.clearStyles();\n        }\n        // Then remove the children styles too\n        this.styleUtils.applyStyleToElements({ [childrenStyle]: '' }, this.childrenNodes);\n    }\n    /**\n     * Determine if an element will show or hide based on current activation\n     * @protected\n     * @param {?} source\n     * @return {?}\n     */\n    willDisplay(source) {\n        /** @type {?} */\n        const value = this.marshal.getValue(source, 'show-hide');\n        return value === true ||\n            (value === undefined && this.styleUtils.lookupStyle(source, 'display') !== 'none');\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    buildChildObservable() {\n        this.zone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            if (typeof MutationObserver !== 'undefined') {\n                this.observer = new MutationObserver((/**\n                 * @param {?} mutations\n                 * @return {?}\n                 */\n                (mutations) => {\n                    /** @type {?} */\n                    const validatedChanges = (/**\n                     * @param {?} it\n                     * @return {?}\n                     */\n                    (it) => {\n                        return (it.addedNodes && it.addedNodes.length > 0) ||\n                            (it.removedNodes && it.removedNodes.length > 0);\n                    });\n                    // update gap styles only for child 'added' or 'removed' events\n                    if (mutations.some(validatedChanges)) {\n                        this.observerSubject.next();\n                    }\n                }));\n                this.observer.observe(this.nativeElement, { childList: true });\n            }\n        }));\n    }\n}\nLayoutGapDirective.ɵfac = function LayoutGapDirective_Factory(t) { return new (t || LayoutGapDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Directionality), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(LayoutGapStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nLayoutGapDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: LayoutGapDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nLayoutGapDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgZone },\n    { type: Directionality },\n    { type: StyleUtils },\n    { type: LayoutGapStyleBuilder },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LayoutGapDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.NgZone }, { type: ɵngcc2.Directionality }, { type: ɵngcc1.StyleUtils }, { type: LayoutGapStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\nclass DefaultLayoutGapDirective extends LayoutGapDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$1;\n    }\n}\nDefaultLayoutGapDirective.ɵfac = function DefaultLayoutGapDirective_Factory(t) { return ɵDefaultLayoutGapDirective_BaseFactory(t || DefaultLayoutGapDirective); };\nDefaultLayoutGapDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultLayoutGapDirective, selectors: [[\"\", \"fxLayoutGap\", \"\"], [\"\", \"fxLayoutGap.xs\", \"\"], [\"\", \"fxLayoutGap.sm\", \"\"], [\"\", \"fxLayoutGap.md\", \"\"], [\"\", \"fxLayoutGap.lg\", \"\"], [\"\", \"fxLayoutGap.xl\", \"\"], [\"\", \"fxLayoutGap.lt-sm\", \"\"], [\"\", \"fxLayoutGap.lt-md\", \"\"], [\"\", \"fxLayoutGap.lt-lg\", \"\"], [\"\", \"fxLayoutGap.lt-xl\", \"\"], [\"\", \"fxLayoutGap.gt-xs\", \"\"], [\"\", \"fxLayoutGap.gt-sm\", \"\"], [\"\", \"fxLayoutGap.gt-md\", \"\"], [\"\", \"fxLayoutGap.gt-lg\", \"\"]], inputs: { fxLayoutGap: \"fxLayoutGap\", \"fxLayoutGap.xs\": \"fxLayoutGap.xs\", \"fxLayoutGap.sm\": \"fxLayoutGap.sm\", \"fxLayoutGap.md\": \"fxLayoutGap.md\", \"fxLayoutGap.lg\": \"fxLayoutGap.lg\", \"fxLayoutGap.xl\": \"fxLayoutGap.xl\", \"fxLayoutGap.lt-sm\": \"fxLayoutGap.lt-sm\", \"fxLayoutGap.lt-md\": \"fxLayoutGap.lt-md\", \"fxLayoutGap.lt-lg\": \"fxLayoutGap.lt-lg\", \"fxLayoutGap.lt-xl\": \"fxLayoutGap.lt-xl\", \"fxLayoutGap.gt-xs\": \"fxLayoutGap.gt-xs\", \"fxLayoutGap.gt-sm\": \"fxLayoutGap.gt-sm\", \"fxLayoutGap.gt-md\": \"fxLayoutGap.gt-md\", \"fxLayoutGap.gt-lg\": \"fxLayoutGap.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultLayoutGapDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultLayoutGapDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultLayoutGapDirective, [{\n        type: Directive,\n        args: [{ selector: selector$1, inputs: inputs$1 }]\n    }], null, null); })();\n/** @type {?} */\nconst layoutGapCacheRowRtl = new Map();\n/** @type {?} */\nconst layoutGapCacheColumnRtl = new Map();\n/** @type {?} */\nconst layoutGapCacheRowLtr = new Map();\n/** @type {?} */\nconst layoutGapCacheColumnLtr = new Map();\n/** @type {?} */\nconst GRID_SPECIFIER = ' grid';\n/**\n * @param {?} value\n * @param {?} directionality\n * @return {?}\n */\nfunction buildGridPadding(value, directionality) {\n    /** @type {?} */\n    let paddingTop = '0px';\n    /** @type {?} */\n    let paddingRight = '0px';\n    /** @type {?} */\n    let paddingBottom = value;\n    /** @type {?} */\n    let paddingLeft = '0px';\n    if (directionality === 'rtl') {\n        paddingLeft = value;\n    }\n    else {\n        paddingRight = value;\n    }\n    return { 'padding': `${paddingTop} ${paddingRight} ${paddingBottom} ${paddingLeft}` };\n}\n/**\n * @param {?} value\n * @param {?} directionality\n * @return {?}\n */\nfunction buildGridMargin(value, directionality) {\n    /** @type {?} */\n    let marginTop = '0px';\n    /** @type {?} */\n    let marginRight = '0px';\n    /** @type {?} */\n    let marginBottom = '-' + value;\n    /** @type {?} */\n    let marginLeft = '0px';\n    if (directionality === 'rtl') {\n        marginLeft = '-' + value;\n    }\n    else {\n        marginRight = '-' + value;\n    }\n    return { 'margin': `${marginTop} ${marginRight} ${marginBottom} ${marginLeft}` };\n}\n/**\n * @param {?} directionality\n * @param {?} layout\n * @return {?}\n */\nfunction getMarginType(directionality, layout) {\n    switch (layout) {\n        case 'column':\n            return 'margin-bottom';\n        case 'column-reverse':\n            return 'margin-top';\n        case 'row':\n            return directionality === 'rtl' ? 'margin-left' : 'margin-right';\n        case 'row-reverse':\n            return directionality === 'rtl' ? 'margin-right' : 'margin-left';\n        default:\n            return directionality === 'rtl' ? 'margin-left' : 'margin-right';\n    }\n}\n/**\n * @param {?} gapValue\n * @param {?} parent\n * @return {?}\n */\nfunction buildGapCSS(gapValue, parent) {\n    /** @type {?} */\n    const key = getMarginType(parent.directionality, parent.layout);\n    /** @type {?} */\n    const margins = Object.assign({}, CLEAR_MARGIN_CSS);\n    margins[key] = gapValue;\n    return margins;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: utils/object-extend.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\n * similar to Object.assign.\n *\n * @param {?} dest The object which will have properties copied to it.\n * @param {...?} sources The source objects from which properties will be copied.\n * @return {?}\n */\nfunction extendObject(dest, ...sources) {\n    if (dest == null) {\n        throw TypeError('Cannot convert undefined or null to object');\n    }\n    for (let source of sources) {\n        if (source != null) {\n            for (let key in source) {\n                if (source.hasOwnProperty(key)) {\n                    dest[key] = source[key];\n                }\n            }\n        }\n    }\n    return dest;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/flex/flex.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FlexStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} layoutConfig\n     */\n    constructor(layoutConfig) {\n        super();\n        this.layoutConfig = layoutConfig;\n    }\n    /**\n     * @param {?} input\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(input, parent) {\n        let [grow, shrink, ...basisParts] = input.split(' ');\n        /** @type {?} */\n        let basis = basisParts.join(' ');\n        // The flex-direction of this element's flex container. Defaults to 'row'.\n        /** @type {?} */\n        const direction = (parent.direction.indexOf('column') > -1) ? 'column' : 'row';\n        /** @type {?} */\n        const max = isFlowHorizontal(direction) ? 'max-width' : 'max-height';\n        /** @type {?} */\n        const min = isFlowHorizontal(direction) ? 'min-width' : 'min-height';\n        /** @type {?} */\n        const hasCalc = String(basis).indexOf('calc') > -1;\n        /** @type {?} */\n        const usingCalc = hasCalc || (basis === 'auto');\n        /** @type {?} */\n        const isPercent = String(basis).indexOf('%') > -1 && !hasCalc;\n        /** @type {?} */\n        const hasUnits = String(basis).indexOf('px') > -1 || String(basis).indexOf('rem') > -1 ||\n            String(basis).indexOf('em') > -1 || String(basis).indexOf('vw') > -1 ||\n            String(basis).indexOf('vh') > -1;\n        /** @type {?} */\n        let isValue = (hasCalc || hasUnits);\n        grow = (grow == '0') ? 0 : grow;\n        shrink = (shrink == '0') ? 0 : shrink;\n        // make box inflexible when shrink and grow are both zero\n        // should not set a min when the grow is zero\n        // should not set a max when the shrink is zero\n        /** @type {?} */\n        const isFixed = !grow && !shrink;\n        /** @type {?} */\n        let css = {};\n        // flex-basis allows you to specify the initial/starting main-axis size of the element,\n        // before anything else is computed. It can either be a percentage or an absolute value.\n        // It is, however, not the breaking point for flex-grow/shrink properties\n        //\n        // flex-grow can be seen as this:\n        //   0: Do not stretch. Either size to element's content width, or obey 'flex-basis'.\n        //   1: (Default value). Stretch; will be the same size to all other flex items on\n        //       the same row since they have a default value of 1.\n        //   ≥2 (integer n): Stretch. Will be n times the size of other elements\n        //      with 'flex-grow: 1' on the same row.\n        // Use `null` to clear existing styles.\n        /** @type {?} */\n        const clearStyles = {\n            'max-width': null,\n            'max-height': null,\n            'min-width': null,\n            'min-height': null\n        };\n        switch (basis || '') {\n            case '':\n                /** @type {?} */\n                const useColumnBasisZero = this.layoutConfig.useColumnBasisZero !== false;\n                basis = direction === 'row' ? '0%' : (useColumnBasisZero ? '0.000000001px' : 'auto');\n                break;\n            case 'initial': // default\n            case 'nogrow':\n                grow = 0;\n                basis = 'auto';\n                break;\n            case 'grow':\n                basis = '100%';\n                break;\n            case 'noshrink':\n                shrink = 0;\n                basis = 'auto';\n                break;\n            case 'auto':\n                break;\n            case 'none':\n                grow = 0;\n                shrink = 0;\n                basis = 'auto';\n                break;\n            default:\n                // Defaults to percentage sizing unless `px` is explicitly set\n                if (!isValue && !isPercent && !isNaN((/** @type {?} */ (basis)))) {\n                    basis = basis + '%';\n                }\n                // Fix for issue 280\n                if (basis === '0%') {\n                    isValue = true;\n                }\n                if (basis === '0px') {\n                    basis = '0%';\n                }\n                // fix issue #5345\n                if (hasCalc) {\n                    css = extendObject(clearStyles, {\n                        'flex-grow': grow,\n                        'flex-shrink': shrink,\n                        'flex-basis': isValue ? basis : '100%'\n                    });\n                }\n                else {\n                    css = extendObject(clearStyles, {\n                        'flex': `${grow} ${shrink} ${isValue ? basis : '100%'}`\n                    });\n                }\n                break;\n        }\n        if (!(css['flex'] || css['flex-grow'])) {\n            if (hasCalc) {\n                css = extendObject(clearStyles, {\n                    'flex-grow': grow,\n                    'flex-shrink': shrink,\n                    'flex-basis': basis\n                });\n            }\n            else {\n                css = extendObject(clearStyles, {\n                    'flex': `${grow} ${shrink} ${basis}`\n                });\n            }\n        }\n        // Fix for issues 277, 534, and 728\n        if (basis !== '0%' && basis !== '0px' && basis !== '0.000000001px' && basis !== 'auto') {\n            css[min] = isFixed || (isValue && grow) ? basis : null;\n            css[max] = isFixed || (!usingCalc && shrink) ? basis : null;\n        }\n        // Fix for issue 528\n        if (!css[min] && !css[max]) {\n            if (hasCalc) {\n                css = extendObject(clearStyles, {\n                    'flex-grow': grow,\n                    'flex-shrink': shrink,\n                    'flex-basis': basis\n                });\n            }\n            else {\n                css = extendObject(clearStyles, {\n                    'flex': `${grow} ${shrink} ${basis}`\n                });\n            }\n        }\n        else {\n            // Fix for issue 660\n            if (parent.hasWrap) {\n                css[hasCalc ? 'flex-basis' : 'flex'] = css[max] ?\n                    (hasCalc ? css[max] : `${grow} ${shrink} ${css[max]}`) :\n                    (hasCalc ? css[min] : `${grow} ${shrink} ${css[min]}`);\n            }\n        }\n        return (/** @type {?} */ (extendObject(css, { 'box-sizing': 'border-box' })));\n    }\n}\nFlexStyleBuilder.ɵfac = function FlexStyleBuilder_Factory(t) { return new (t || FlexStyleBuilder)(ɵngcc0.ɵɵinject(LAYOUT_CONFIG)); };\n/** @nocollapse */\nFlexStyleBuilder.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] }\n];\n/** @nocollapse */ FlexStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function FlexStyleBuilder_Factory() { return new FlexStyleBuilder(ɵɵinject(LAYOUT_CONFIG)); }, token: FlexStyleBuilder, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [LAYOUT_CONFIG]\n            }] }]; }, null); })();\n/** @type {?} */\nconst inputs$2 = [\n    'fxFlex', 'fxFlex.xs', 'fxFlex.sm', 'fxFlex.md',\n    'fxFlex.lg', 'fxFlex.xl', 'fxFlex.lt-sm', 'fxFlex.lt-md',\n    'fxFlex.lt-lg', 'fxFlex.lt-xl', 'fxFlex.gt-xs', 'fxFlex.gt-sm',\n    'fxFlex.gt-md', 'fxFlex.gt-lg'\n];\n/** @type {?} */\nconst selector$2 = `\n  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],\n  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],\n  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],\n  [fxFlex.gt-md], [fxFlex.gt-lg]\n`;\n/**\n * Directive to control the size of a flex item using flex-basis, flex-grow, and flex-shrink.\n * Corresponds to the css `flex` shorthand property.\n *\n * @see https://css-tricks.com/snippets/css/a-guide-to-flexbox/\n */\nclass FlexDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} layoutConfig\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, layoutConfig, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.layoutConfig = layoutConfig;\n        this.DIRECTIVE_KEY = 'flex';\n        this.direction = '';\n        this.wrap = false;\n        this.flexGrow = '1';\n        this.flexShrink = '1';\n        this.init();\n        if (this.parentElement) {\n            this.marshal.trackValue(this.parentElement, 'layout')\n                .pipe(takeUntil(this.destroySubject))\n                .subscribe(this.onLayoutChange.bind(this));\n            this.marshal.trackValue(this.nativeElement, 'layout-align')\n                .pipe(takeUntil(this.destroySubject))\n                .subscribe(this.triggerReflow.bind(this));\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get shrink() { return this.flexShrink; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set shrink(value) {\n        this.flexShrink = value || '1';\n        this.triggerReflow();\n    }\n    /**\n     * @return {?}\n     */\n    get grow() { return this.flexGrow; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set grow(value) {\n        this.flexGrow = value || '1';\n        this.triggerReflow();\n    }\n    /**\n     * Caches the parent container's 'flex-direction' and updates the element's style.\n     * Used as a handler for layout change events from the parent flex container.\n     * @protected\n     * @param {?} matcher\n     * @return {?}\n     */\n    onLayoutChange(matcher) {\n        /** @type {?} */\n        const layout = matcher.value;\n        /** @type {?} */\n        const layoutParts = layout.split(' ');\n        this.direction = layoutParts[0];\n        this.wrap = layoutParts[1] !== undefined && layoutParts[1] === 'wrap';\n        this.triggerUpdate();\n    }\n    /**\n     * Input to this is exclusively the basis input value\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        /** @type {?} */\n        const addFlexToParent = this.layoutConfig.addFlexToParent !== false;\n        if (!this.direction) {\n            this.direction = this.getFlexFlowDirection((/** @type {?} */ (this.parentElement)), addFlexToParent);\n        }\n        /** @type {?} */\n        const direction = this.direction;\n        /** @type {?} */\n        const isHorizontal = direction.startsWith('row');\n        /** @type {?} */\n        const hasWrap = this.wrap;\n        if (isHorizontal && hasWrap) {\n            this.styleCache = flexRowWrapCache;\n        }\n        else if (isHorizontal && !hasWrap) {\n            this.styleCache = flexRowCache;\n        }\n        else if (!isHorizontal && hasWrap) {\n            this.styleCache = flexColumnWrapCache;\n        }\n        else if (!isHorizontal && !hasWrap) {\n            this.styleCache = flexColumnCache;\n        }\n        /** @type {?} */\n        const basis = String(value).replace(';', '');\n        /** @type {?} */\n        const parts = validateBasis(basis, this.flexGrow, this.flexShrink);\n        this.addStyles(parts.join(' '), { direction, hasWrap });\n    }\n    /**\n     * Trigger a style reflow, usually based on a shrink/grow input event\n     * @protected\n     * @return {?}\n     */\n    triggerReflow() {\n        /** @type {?} */\n        const activatedValue = this.activatedValue;\n        if (activatedValue !== undefined) {\n            /** @type {?} */\n            const parts = validateBasis(activatedValue + '', this.flexGrow, this.flexShrink);\n            this.marshal.updateElement(this.nativeElement, this.DIRECTIVE_KEY, parts.join(' '));\n        }\n    }\n}\nFlexDirective.ɵfac = function FlexDirective_Factory(t) { return new (t || FlexDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(LAYOUT_CONFIG), ɵngcc0.ɵɵdirectiveInject(FlexStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nFlexDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FlexDirective, inputs: { shrink: [\"fxShrink\", \"shrink\"], grow: [\"fxGrow\", \"grow\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nFlexDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] },\n    { type: FlexStyleBuilder },\n    { type: MediaMarshaller }\n];\nFlexDirective.propDecorators = {\n    shrink: [{ type: Input, args: ['fxShrink',] }],\n    grow: [{ type: Input, args: ['fxGrow',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [LAYOUT_CONFIG]\n            }] }, { type: FlexStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, { shrink: [{\n            type: Input,\n            args: ['fxShrink']\n        }], grow: [{\n            type: Input,\n            args: ['fxGrow']\n        }] }); })();\nclass DefaultFlexDirective extends FlexDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$2;\n    }\n}\nDefaultFlexDirective.ɵfac = function DefaultFlexDirective_Factory(t) { return ɵDefaultFlexDirective_BaseFactory(t || DefaultFlexDirective); };\nDefaultFlexDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultFlexDirective, selectors: [[\"\", \"fxFlex\", \"\"], [\"\", \"fxFlex.xs\", \"\"], [\"\", \"fxFlex.sm\", \"\"], [\"\", \"fxFlex.md\", \"\"], [\"\", \"fxFlex.lg\", \"\"], [\"\", \"fxFlex.xl\", \"\"], [\"\", \"fxFlex.lt-sm\", \"\"], [\"\", \"fxFlex.lt-md\", \"\"], [\"\", \"fxFlex.lt-lg\", \"\"], [\"\", \"fxFlex.lt-xl\", \"\"], [\"\", \"fxFlex.gt-xs\", \"\"], [\"\", \"fxFlex.gt-sm\", \"\"], [\"\", \"fxFlex.gt-md\", \"\"], [\"\", \"fxFlex.gt-lg\", \"\"]], inputs: { fxFlex: \"fxFlex\", \"fxFlex.xs\": \"fxFlex.xs\", \"fxFlex.sm\": \"fxFlex.sm\", \"fxFlex.md\": \"fxFlex.md\", \"fxFlex.lg\": \"fxFlex.lg\", \"fxFlex.xl\": \"fxFlex.xl\", \"fxFlex.lt-sm\": \"fxFlex.lt-sm\", \"fxFlex.lt-md\": \"fxFlex.lt-md\", \"fxFlex.lt-lg\": \"fxFlex.lt-lg\", \"fxFlex.lt-xl\": \"fxFlex.lt-xl\", \"fxFlex.gt-xs\": \"fxFlex.gt-xs\", \"fxFlex.gt-sm\": \"fxFlex.gt-sm\", \"fxFlex.gt-md\": \"fxFlex.gt-md\", \"fxFlex.gt-lg\": \"fxFlex.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultFlexDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultFlexDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultFlexDirective, [{\n        type: Directive,\n        args: [{ inputs: inputs$2, selector: selector$2 }]\n    }], null, null); })();\n/** @type {?} */\nconst flexRowCache = new Map();\n/** @type {?} */\nconst flexColumnCache = new Map();\n/** @type {?} */\nconst flexRowWrapCache = new Map();\n/** @type {?} */\nconst flexColumnWrapCache = new Map();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/flex-order/flex-order.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FlexOrderStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    buildStyles(value) {\n        return { order: (value && parseInt(value, 10)) || '' };\n    }\n}\nFlexOrderStyleBuilder.ɵfac = function FlexOrderStyleBuilder_Factory(t) { return ɵFlexOrderStyleBuilder_BaseFactory(t || FlexOrderStyleBuilder); };\n/** @nocollapse */ FlexOrderStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function FlexOrderStyleBuilder_Factory() { return new FlexOrderStyleBuilder(); }, token: FlexOrderStyleBuilder, providedIn: \"root\" });\nconst ɵFlexOrderStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(FlexOrderStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexOrderStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n/** @type {?} */\nconst inputs$3 = [\n    'fxFlexOrder', 'fxFlexOrder.xs', 'fxFlexOrder.sm', 'fxFlexOrder.md',\n    'fxFlexOrder.lg', 'fxFlexOrder.xl', 'fxFlexOrder.lt-sm', 'fxFlexOrder.lt-md',\n    'fxFlexOrder.lt-lg', 'fxFlexOrder.lt-xl', 'fxFlexOrder.gt-xs', 'fxFlexOrder.gt-sm',\n    'fxFlexOrder.gt-md', 'fxFlexOrder.gt-lg'\n];\n/** @type {?} */\nconst selector$3 = `\n  [fxFlexOrder], [fxFlexOrder.xs], [fxFlexOrder.sm], [fxFlexOrder.md],\n  [fxFlexOrder.lg], [fxFlexOrder.xl], [fxFlexOrder.lt-sm], [fxFlexOrder.lt-md],\n  [fxFlexOrder.lt-lg], [fxFlexOrder.lt-xl], [fxFlexOrder.gt-xs], [fxFlexOrder.gt-sm],\n  [fxFlexOrder.gt-md], [fxFlexOrder.gt-lg]\n`;\n/**\n * 'flex-order' flexbox styling directive\n * Configures the positional ordering of the element in a sorted layout container\n * @see https://css-tricks.com/almanac/properties/o/order/\n */\nclass FlexOrderDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.DIRECTIVE_KEY = 'flex-order';\n        this.styleCache = flexOrderCache;\n        this.init();\n    }\n}\nFlexOrderDirective.ɵfac = function FlexOrderDirective_Factory(t) { return new (t || FlexOrderDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(FlexOrderStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nFlexOrderDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FlexOrderDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nFlexOrderDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: FlexOrderStyleBuilder },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexOrderDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: FlexOrderStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\n/** @type {?} */\nconst flexOrderCache = new Map();\nclass DefaultFlexOrderDirective extends FlexOrderDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$3;\n    }\n}\nDefaultFlexOrderDirective.ɵfac = function DefaultFlexOrderDirective_Factory(t) { return ɵDefaultFlexOrderDirective_BaseFactory(t || DefaultFlexOrderDirective); };\nDefaultFlexOrderDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultFlexOrderDirective, selectors: [[\"\", \"fxFlexOrder\", \"\"], [\"\", \"fxFlexOrder.xs\", \"\"], [\"\", \"fxFlexOrder.sm\", \"\"], [\"\", \"fxFlexOrder.md\", \"\"], [\"\", \"fxFlexOrder.lg\", \"\"], [\"\", \"fxFlexOrder.xl\", \"\"], [\"\", \"fxFlexOrder.lt-sm\", \"\"], [\"\", \"fxFlexOrder.lt-md\", \"\"], [\"\", \"fxFlexOrder.lt-lg\", \"\"], [\"\", \"fxFlexOrder.lt-xl\", \"\"], [\"\", \"fxFlexOrder.gt-xs\", \"\"], [\"\", \"fxFlexOrder.gt-sm\", \"\"], [\"\", \"fxFlexOrder.gt-md\", \"\"], [\"\", \"fxFlexOrder.gt-lg\", \"\"]], inputs: { fxFlexOrder: \"fxFlexOrder\", \"fxFlexOrder.xs\": \"fxFlexOrder.xs\", \"fxFlexOrder.sm\": \"fxFlexOrder.sm\", \"fxFlexOrder.md\": \"fxFlexOrder.md\", \"fxFlexOrder.lg\": \"fxFlexOrder.lg\", \"fxFlexOrder.xl\": \"fxFlexOrder.xl\", \"fxFlexOrder.lt-sm\": \"fxFlexOrder.lt-sm\", \"fxFlexOrder.lt-md\": \"fxFlexOrder.lt-md\", \"fxFlexOrder.lt-lg\": \"fxFlexOrder.lt-lg\", \"fxFlexOrder.lt-xl\": \"fxFlexOrder.lt-xl\", \"fxFlexOrder.gt-xs\": \"fxFlexOrder.gt-xs\", \"fxFlexOrder.gt-sm\": \"fxFlexOrder.gt-sm\", \"fxFlexOrder.gt-md\": \"fxFlexOrder.gt-md\", \"fxFlexOrder.gt-lg\": \"fxFlexOrder.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultFlexOrderDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultFlexOrderDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultFlexOrderDirective, [{\n        type: Directive,\n        args: [{ selector: selector$3, inputs: inputs$3 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/flex-offset/flex-offset.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FlexOffsetStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} offset\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(offset, parent) {\n        if (offset === '') {\n            offset = '0';\n        }\n        /** @type {?} */\n        const isPercent = String(offset).indexOf('%') > -1;\n        /** @type {?} */\n        const isPx = String(offset).indexOf('px') > -1;\n        if (!isPx && !isPercent && !isNaN(+offset)) {\n            offset = offset + '%';\n        }\n        /** @type {?} */\n        const horizontalLayoutKey = parent.isRtl ? 'margin-right' : 'margin-left';\n        /** @type {?} */\n        const styles = isFlowHorizontal(parent.layout) ?\n            { [horizontalLayoutKey]: `${offset}` } : { 'margin-top': `${offset}` };\n        return styles;\n    }\n}\nFlexOffsetStyleBuilder.ɵfac = function FlexOffsetStyleBuilder_Factory(t) { return ɵFlexOffsetStyleBuilder_BaseFactory(t || FlexOffsetStyleBuilder); };\n/** @nocollapse */ FlexOffsetStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function FlexOffsetStyleBuilder_Factory() { return new FlexOffsetStyleBuilder(); }, token: FlexOffsetStyleBuilder, providedIn: \"root\" });\nconst ɵFlexOffsetStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(FlexOffsetStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexOffsetStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n/** @type {?} */\nconst inputs$4 = [\n    'fxFlexOffset', 'fxFlexOffset.xs', 'fxFlexOffset.sm', 'fxFlexOffset.md',\n    'fxFlexOffset.lg', 'fxFlexOffset.xl', 'fxFlexOffset.lt-sm', 'fxFlexOffset.lt-md',\n    'fxFlexOffset.lt-lg', 'fxFlexOffset.lt-xl', 'fxFlexOffset.gt-xs', 'fxFlexOffset.gt-sm',\n    'fxFlexOffset.gt-md', 'fxFlexOffset.gt-lg'\n];\n/** @type {?} */\nconst selector$4 = `\n  [fxFlexOffset], [fxFlexOffset.xs], [fxFlexOffset.sm], [fxFlexOffset.md],\n  [fxFlexOffset.lg], [fxFlexOffset.xl], [fxFlexOffset.lt-sm], [fxFlexOffset.lt-md],\n  [fxFlexOffset.lt-lg], [fxFlexOffset.lt-xl], [fxFlexOffset.gt-xs], [fxFlexOffset.gt-sm],\n  [fxFlexOffset.gt-md], [fxFlexOffset.gt-lg]\n`;\n/**\n * 'flex-offset' flexbox styling directive\n * Configures the 'margin-left' of the element in a layout container\n */\nclass FlexOffsetDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} directionality\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     * @param {?} styler\n     */\n    constructor(elRef, directionality, styleBuilder, marshal, styler) {\n        super(elRef, styleBuilder, styler, marshal);\n        this.directionality = directionality;\n        this.DIRECTIVE_KEY = 'flex-offset';\n        this.init([this.directionality.change]);\n        // Parent DOM `layout-gap` with affect the nested child with `flex-offset`\n        if (this.parentElement) {\n            this.marshal\n                .trackValue(this.parentElement, 'layout-gap')\n                .pipe(takeUntil(this.destroySubject))\n                .subscribe(this.triggerUpdate.bind(this));\n        }\n    }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * Using the current fxFlexOffset value, update the inline CSS\n     * NOTE: this will assign `margin-left` if the parent flex-direction == 'row',\n     *       otherwise `margin-top` is used for the offset.\n     * @protected\n     * @param {?=} value\n     * @return {?}\n     */\n    updateWithValue(value = '') {\n        // The flex-direction of this element's flex container. Defaults to 'row'.\n        /** @type {?} */\n        const layout = this.getFlexFlowDirection((/** @type {?} */ (this.parentElement)), true);\n        /** @type {?} */\n        const isRtl = this.directionality.value === 'rtl';\n        if (layout === 'row' && isRtl) {\n            this.styleCache = flexOffsetCacheRowRtl;\n        }\n        else if (layout === 'row' && !isRtl) {\n            this.styleCache = flexOffsetCacheRowLtr;\n        }\n        else if (layout === 'column' && isRtl) {\n            this.styleCache = flexOffsetCacheColumnRtl;\n        }\n        else if (layout === 'column' && !isRtl) {\n            this.styleCache = flexOffsetCacheColumnLtr;\n        }\n        this.addStyles(value + '', { layout, isRtl });\n    }\n}\nFlexOffsetDirective.ɵfac = function FlexOffsetDirective_Factory(t) { return new (t || FlexOffsetDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Directionality), ɵngcc0.ɵɵdirectiveInject(FlexOffsetStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils)); };\nFlexOffsetDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FlexOffsetDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nFlexOffsetDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Directionality },\n    { type: FlexOffsetStyleBuilder },\n    { type: MediaMarshaller },\n    { type: StyleUtils }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexOffsetDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc2.Directionality }, { type: FlexOffsetStyleBuilder }, { type: ɵngcc1.MediaMarshaller }, { type: ɵngcc1.StyleUtils }]; }, null); })();\nclass DefaultFlexOffsetDirective extends FlexOffsetDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$4;\n    }\n}\nDefaultFlexOffsetDirective.ɵfac = function DefaultFlexOffsetDirective_Factory(t) { return ɵDefaultFlexOffsetDirective_BaseFactory(t || DefaultFlexOffsetDirective); };\nDefaultFlexOffsetDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultFlexOffsetDirective, selectors: [[\"\", \"fxFlexOffset\", \"\"], [\"\", \"fxFlexOffset.xs\", \"\"], [\"\", \"fxFlexOffset.sm\", \"\"], [\"\", \"fxFlexOffset.md\", \"\"], [\"\", \"fxFlexOffset.lg\", \"\"], [\"\", \"fxFlexOffset.xl\", \"\"], [\"\", \"fxFlexOffset.lt-sm\", \"\"], [\"\", \"fxFlexOffset.lt-md\", \"\"], [\"\", \"fxFlexOffset.lt-lg\", \"\"], [\"\", \"fxFlexOffset.lt-xl\", \"\"], [\"\", \"fxFlexOffset.gt-xs\", \"\"], [\"\", \"fxFlexOffset.gt-sm\", \"\"], [\"\", \"fxFlexOffset.gt-md\", \"\"], [\"\", \"fxFlexOffset.gt-lg\", \"\"]], inputs: { fxFlexOffset: \"fxFlexOffset\", \"fxFlexOffset.xs\": \"fxFlexOffset.xs\", \"fxFlexOffset.sm\": \"fxFlexOffset.sm\", \"fxFlexOffset.md\": \"fxFlexOffset.md\", \"fxFlexOffset.lg\": \"fxFlexOffset.lg\", \"fxFlexOffset.xl\": \"fxFlexOffset.xl\", \"fxFlexOffset.lt-sm\": \"fxFlexOffset.lt-sm\", \"fxFlexOffset.lt-md\": \"fxFlexOffset.lt-md\", \"fxFlexOffset.lt-lg\": \"fxFlexOffset.lt-lg\", \"fxFlexOffset.lt-xl\": \"fxFlexOffset.lt-xl\", \"fxFlexOffset.gt-xs\": \"fxFlexOffset.gt-xs\", \"fxFlexOffset.gt-sm\": \"fxFlexOffset.gt-sm\", \"fxFlexOffset.gt-md\": \"fxFlexOffset.gt-md\", \"fxFlexOffset.gt-lg\": \"fxFlexOffset.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultFlexOffsetDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultFlexOffsetDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultFlexOffsetDirective, [{\n        type: Directive,\n        args: [{ selector: selector$4, inputs: inputs$4 }]\n    }], null, null); })();\n/** @type {?} */\nconst flexOffsetCacheRowRtl = new Map();\n/** @type {?} */\nconst flexOffsetCacheColumnRtl = new Map();\n/** @type {?} */\nconst flexOffsetCacheRowLtr = new Map();\n/** @type {?} */\nconst flexOffsetCacheColumnLtr = new Map();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/flex-align/flex-align.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FlexAlignStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @return {?}\n     */\n    buildStyles(input) {\n        input = input || 'stretch';\n        /** @type {?} */\n        const styles = {};\n        // Cross-axis\n        switch (input) {\n            case 'start':\n                styles['align-self'] = 'flex-start';\n                break;\n            case 'end':\n                styles['align-self'] = 'flex-end';\n                break;\n            default:\n                styles['align-self'] = input;\n                break;\n        }\n        return styles;\n    }\n}\nFlexAlignStyleBuilder.ɵfac = function FlexAlignStyleBuilder_Factory(t) { return ɵFlexAlignStyleBuilder_BaseFactory(t || FlexAlignStyleBuilder); };\n/** @nocollapse */ FlexAlignStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function FlexAlignStyleBuilder_Factory() { return new FlexAlignStyleBuilder(); }, token: FlexAlignStyleBuilder, providedIn: \"root\" });\nconst ɵFlexAlignStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(FlexAlignStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexAlignStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n/** @type {?} */\nconst inputs$5 = [\n    'fxFlexAlign', 'fxFlexAlign.xs', 'fxFlexAlign.sm', 'fxFlexAlign.md',\n    'fxFlexAlign.lg', 'fxFlexAlign.xl', 'fxFlexAlign.lt-sm', 'fxFlexAlign.lt-md',\n    'fxFlexAlign.lt-lg', 'fxFlexAlign.lt-xl', 'fxFlexAlign.gt-xs', 'fxFlexAlign.gt-sm',\n    'fxFlexAlign.gt-md', 'fxFlexAlign.gt-lg'\n];\n/** @type {?} */\nconst selector$5 = `\n  [fxFlexAlign], [fxFlexAlign.xs], [fxFlexAlign.sm], [fxFlexAlign.md],\n  [fxFlexAlign.lg], [fxFlexAlign.xl], [fxFlexAlign.lt-sm], [fxFlexAlign.lt-md],\n  [fxFlexAlign.lt-lg], [fxFlexAlign.lt-xl], [fxFlexAlign.gt-xs], [fxFlexAlign.gt-sm],\n  [fxFlexAlign.gt-md], [fxFlexAlign.gt-lg]\n`;\n/**\n * 'flex-align' flexbox styling directive\n * Allows element-specific overrides for cross-axis alignments in a layout container\n * @see https://css-tricks.com/almanac/properties/a/align-self/\n */\nclass FlexAlignDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.DIRECTIVE_KEY = 'flex-align';\n        this.styleCache = flexAlignCache;\n        this.init();\n    }\n}\nFlexAlignDirective.ɵfac = function FlexAlignDirective_Factory(t) { return new (t || FlexAlignDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(FlexAlignStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nFlexAlignDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FlexAlignDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nFlexAlignDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: FlexAlignStyleBuilder },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexAlignDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: FlexAlignStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\n/** @type {?} */\nconst flexAlignCache = new Map();\nclass DefaultFlexAlignDirective extends FlexAlignDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$5;\n    }\n}\nDefaultFlexAlignDirective.ɵfac = function DefaultFlexAlignDirective_Factory(t) { return ɵDefaultFlexAlignDirective_BaseFactory(t || DefaultFlexAlignDirective); };\nDefaultFlexAlignDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultFlexAlignDirective, selectors: [[\"\", \"fxFlexAlign\", \"\"], [\"\", \"fxFlexAlign.xs\", \"\"], [\"\", \"fxFlexAlign.sm\", \"\"], [\"\", \"fxFlexAlign.md\", \"\"], [\"\", \"fxFlexAlign.lg\", \"\"], [\"\", \"fxFlexAlign.xl\", \"\"], [\"\", \"fxFlexAlign.lt-sm\", \"\"], [\"\", \"fxFlexAlign.lt-md\", \"\"], [\"\", \"fxFlexAlign.lt-lg\", \"\"], [\"\", \"fxFlexAlign.lt-xl\", \"\"], [\"\", \"fxFlexAlign.gt-xs\", \"\"], [\"\", \"fxFlexAlign.gt-sm\", \"\"], [\"\", \"fxFlexAlign.gt-md\", \"\"], [\"\", \"fxFlexAlign.gt-lg\", \"\"]], inputs: { fxFlexAlign: \"fxFlexAlign\", \"fxFlexAlign.xs\": \"fxFlexAlign.xs\", \"fxFlexAlign.sm\": \"fxFlexAlign.sm\", \"fxFlexAlign.md\": \"fxFlexAlign.md\", \"fxFlexAlign.lg\": \"fxFlexAlign.lg\", \"fxFlexAlign.xl\": \"fxFlexAlign.xl\", \"fxFlexAlign.lt-sm\": \"fxFlexAlign.lt-sm\", \"fxFlexAlign.lt-md\": \"fxFlexAlign.lt-md\", \"fxFlexAlign.lt-lg\": \"fxFlexAlign.lt-lg\", \"fxFlexAlign.lt-xl\": \"fxFlexAlign.lt-xl\", \"fxFlexAlign.gt-xs\": \"fxFlexAlign.gt-xs\", \"fxFlexAlign.gt-sm\": \"fxFlexAlign.gt-sm\", \"fxFlexAlign.gt-md\": \"fxFlexAlign.gt-md\", \"fxFlexAlign.gt-lg\": \"fxFlexAlign.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultFlexAlignDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultFlexAlignDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultFlexAlignDirective, [{\n        type: Directive,\n        args: [{ selector: selector$5, inputs: inputs$5 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/flex-fill/flex-fill.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst FLEX_FILL_CSS = {\n    'margin': 0,\n    'width': '100%',\n    'height': '100%',\n    'min-width': '100%',\n    'min-height': '100%'\n};\nclass FlexFillStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} _input\n     * @return {?}\n     */\n    buildStyles(_input) {\n        return FLEX_FILL_CSS;\n    }\n}\nFlexFillStyleBuilder.ɵfac = function FlexFillStyleBuilder_Factory(t) { return ɵFlexFillStyleBuilder_BaseFactory(t || FlexFillStyleBuilder); };\n/** @nocollapse */ FlexFillStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function FlexFillStyleBuilder_Factory() { return new FlexFillStyleBuilder(); }, token: FlexFillStyleBuilder, providedIn: \"root\" });\nconst ɵFlexFillStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(FlexFillStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexFillStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n/**\n * 'fxFill' flexbox styling directive\n *  Maximizes width and height of element in a layout container\n *\n *  NOTE: fxFill is NOT responsive API!!\n */\nclass FlexFillDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.styleCache = flexFillCache;\n        this.addStyles('');\n    }\n}\nFlexFillDirective.ɵfac = function FlexFillDirective_Factory(t) { return new (t || FlexFillDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(FlexFillStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nFlexFillDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FlexFillDirective, selectors: [[\"\", \"fxFill\", \"\"], [\"\", \"fxFlexFill\", \"\"]], features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nFlexFillDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: FlexFillStyleBuilder },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexFillDirective, [{\n        type: Directive,\n        args: [{ selector: `[fxFill], [fxFlexFill]` }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: FlexFillStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\n/** @type {?} */\nconst flexFillCache = new Map();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/layout-align/layout-align.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass LayoutAlignStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} align\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(align, parent) {\n        /** @type {?} */\n        const css = {};\n        const [mainAxis, crossAxis] = align.split(' ');\n        // Main axis\n        switch (mainAxis) {\n            case 'center':\n                css['justify-content'] = 'center';\n                break;\n            case 'space-around':\n                css['justify-content'] = 'space-around';\n                break;\n            case 'space-between':\n                css['justify-content'] = 'space-between';\n                break;\n            case 'space-evenly':\n                css['justify-content'] = 'space-evenly';\n                break;\n            case 'end':\n            case 'flex-end':\n                css['justify-content'] = 'flex-end';\n                break;\n            case 'start':\n            case 'flex-start':\n            default:\n                css['justify-content'] = 'flex-start'; // default main axis\n                break;\n        }\n        // Cross-axis\n        switch (crossAxis) {\n            case 'start':\n            case 'flex-start':\n                css['align-items'] = css['align-content'] = 'flex-start';\n                break;\n            case 'center':\n                css['align-items'] = css['align-content'] = 'center';\n                break;\n            case 'end':\n            case 'flex-end':\n                css['align-items'] = css['align-content'] = 'flex-end';\n                break;\n            case 'space-between':\n                css['align-content'] = 'space-between';\n                css['align-items'] = 'stretch';\n                break;\n            case 'space-around':\n                css['align-content'] = 'space-around';\n                css['align-items'] = 'stretch';\n                break;\n            case 'baseline':\n                css['align-content'] = 'stretch';\n                css['align-items'] = 'baseline';\n                break;\n            case 'stretch':\n            default: // 'stretch'\n                css['align-items'] = css['align-content'] = 'stretch'; // default cross axis\n                break;\n        }\n        return (/** @type {?} */ (extendObject(css, {\n            'display': parent.inline ? 'inline-flex' : 'flex',\n            'flex-direction': parent.layout,\n            'box-sizing': 'border-box',\n            'max-width': crossAxis === 'stretch' ?\n                !isFlowHorizontal(parent.layout) ? '100%' : null : null,\n            'max-height': crossAxis === 'stretch' ?\n                isFlowHorizontal(parent.layout) ? '100%' : null : null,\n        })));\n    }\n}\nLayoutAlignStyleBuilder.ɵfac = function LayoutAlignStyleBuilder_Factory(t) { return ɵLayoutAlignStyleBuilder_BaseFactory(t || LayoutAlignStyleBuilder); };\n/** @nocollapse */ LayoutAlignStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function LayoutAlignStyleBuilder_Factory() { return new LayoutAlignStyleBuilder(); }, token: LayoutAlignStyleBuilder, providedIn: \"root\" });\nconst ɵLayoutAlignStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(LayoutAlignStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LayoutAlignStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n/** @type {?} */\nconst inputs$6 = [\n    'fxLayoutAlign', 'fxLayoutAlign.xs', 'fxLayoutAlign.sm', 'fxLayoutAlign.md',\n    'fxLayoutAlign.lg', 'fxLayoutAlign.xl', 'fxLayoutAlign.lt-sm', 'fxLayoutAlign.lt-md',\n    'fxLayoutAlign.lt-lg', 'fxLayoutAlign.lt-xl', 'fxLayoutAlign.gt-xs', 'fxLayoutAlign.gt-sm',\n    'fxLayoutAlign.gt-md', 'fxLayoutAlign.gt-lg'\n];\n/** @type {?} */\nconst selector$6 = `\n  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],\n  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],\n  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],\n  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]\n`;\n/**\n * 'layout-align' flexbox styling directive\n *  Defines positioning of child elements along main and cross axis in a layout container\n *  Optional values: {main-axis} values or {main-axis cross-axis} value pairs\n *\n * @see https://css-tricks.com/almanac/properties/j/justify-content/\n * @see https://css-tricks.com/almanac/properties/a/align-items/\n * @see https://css-tricks.com/almanac/properties/a/align-content/\n */\nclass LayoutAlignDirective extends BaseDirective2 {\n    // default inline value\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.DIRECTIVE_KEY = 'layout-align';\n        this.layout = 'row'; // default flex-direction\n        // default flex-direction\n        this.inline = false; // default inline value\n        this.init();\n        this.marshal.trackValue(this.nativeElement, 'layout')\n            .pipe(takeUntil(this.destroySubject))\n            .subscribe(this.onLayoutChange.bind(this));\n    }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     *\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        /** @type {?} */\n        const layout = this.layout || 'row';\n        /** @type {?} */\n        const inline = this.inline;\n        if (layout === 'row' && inline) {\n            this.styleCache = layoutAlignHorizontalInlineCache;\n        }\n        else if (layout === 'row' && !inline) {\n            this.styleCache = layoutAlignHorizontalCache;\n        }\n        else if (layout === 'row-reverse' && inline) {\n            this.styleCache = layoutAlignHorizontalRevInlineCache;\n        }\n        else if (layout === 'row-reverse' && !inline) {\n            this.styleCache = layoutAlignHorizontalRevCache;\n        }\n        else if (layout === 'column' && inline) {\n            this.styleCache = layoutAlignVerticalInlineCache;\n        }\n        else if (layout === 'column' && !inline) {\n            this.styleCache = layoutAlignVerticalCache;\n        }\n        else if (layout === 'column-reverse' && inline) {\n            this.styleCache = layoutAlignVerticalRevInlineCache;\n        }\n        else if (layout === 'column-reverse' && !inline) {\n            this.styleCache = layoutAlignVerticalRevCache;\n        }\n        this.addStyles(value, { layout, inline });\n    }\n    /**\n     * Cache the parent container 'flex-direction' and update the 'flex' styles\n     * @protected\n     * @param {?} matcher\n     * @return {?}\n     */\n    onLayoutChange(matcher) {\n        /** @type {?} */\n        const layoutKeys = matcher.value.split(' ');\n        this.layout = layoutKeys[0];\n        this.inline = matcher.value.includes('inline');\n        if (!LAYOUT_VALUES.find((/**\n         * @param {?} x\n         * @return {?}\n         */\n        x => x === this.layout))) {\n            this.layout = 'row';\n        }\n        this.triggerUpdate();\n    }\n}\nLayoutAlignDirective.ɵfac = function LayoutAlignDirective_Factory(t) { return new (t || LayoutAlignDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(LayoutAlignStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nLayoutAlignDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: LayoutAlignDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nLayoutAlignDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: LayoutAlignStyleBuilder },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LayoutAlignDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: LayoutAlignStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\nclass DefaultLayoutAlignDirective extends LayoutAlignDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$6;\n    }\n}\nDefaultLayoutAlignDirective.ɵfac = function DefaultLayoutAlignDirective_Factory(t) { return ɵDefaultLayoutAlignDirective_BaseFactory(t || DefaultLayoutAlignDirective); };\nDefaultLayoutAlignDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultLayoutAlignDirective, selectors: [[\"\", \"fxLayoutAlign\", \"\"], [\"\", \"fxLayoutAlign.xs\", \"\"], [\"\", \"fxLayoutAlign.sm\", \"\"], [\"\", \"fxLayoutAlign.md\", \"\"], [\"\", \"fxLayoutAlign.lg\", \"\"], [\"\", \"fxLayoutAlign.xl\", \"\"], [\"\", \"fxLayoutAlign.lt-sm\", \"\"], [\"\", \"fxLayoutAlign.lt-md\", \"\"], [\"\", \"fxLayoutAlign.lt-lg\", \"\"], [\"\", \"fxLayoutAlign.lt-xl\", \"\"], [\"\", \"fxLayoutAlign.gt-xs\", \"\"], [\"\", \"fxLayoutAlign.gt-sm\", \"\"], [\"\", \"fxLayoutAlign.gt-md\", \"\"], [\"\", \"fxLayoutAlign.gt-lg\", \"\"]], inputs: { fxLayoutAlign: \"fxLayoutAlign\", \"fxLayoutAlign.xs\": \"fxLayoutAlign.xs\", \"fxLayoutAlign.sm\": \"fxLayoutAlign.sm\", \"fxLayoutAlign.md\": \"fxLayoutAlign.md\", \"fxLayoutAlign.lg\": \"fxLayoutAlign.lg\", \"fxLayoutAlign.xl\": \"fxLayoutAlign.xl\", \"fxLayoutAlign.lt-sm\": \"fxLayoutAlign.lt-sm\", \"fxLayoutAlign.lt-md\": \"fxLayoutAlign.lt-md\", \"fxLayoutAlign.lt-lg\": \"fxLayoutAlign.lt-lg\", \"fxLayoutAlign.lt-xl\": \"fxLayoutAlign.lt-xl\", \"fxLayoutAlign.gt-xs\": \"fxLayoutAlign.gt-xs\", \"fxLayoutAlign.gt-sm\": \"fxLayoutAlign.gt-sm\", \"fxLayoutAlign.gt-md\": \"fxLayoutAlign.gt-md\", \"fxLayoutAlign.gt-lg\": \"fxLayoutAlign.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultLayoutAlignDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultLayoutAlignDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultLayoutAlignDirective, [{\n        type: Directive,\n        args: [{ selector: selector$6, inputs: inputs$6 }]\n    }], null, null); })();\n/** @type {?} */\nconst layoutAlignHorizontalCache = new Map();\n/** @type {?} */\nconst layoutAlignVerticalCache = new Map();\n/** @type {?} */\nconst layoutAlignHorizontalRevCache = new Map();\n/** @type {?} */\nconst layoutAlignVerticalRevCache = new Map();\n/** @type {?} */\nconst layoutAlignHorizontalInlineCache = new Map();\n/** @type {?} */\nconst layoutAlignVerticalInlineCache = new Map();\n/** @type {?} */\nconst layoutAlignHorizontalRevInlineCache = new Map();\n/** @type {?} */\nconst layoutAlignVerticalRevInlineCache = new Map();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst ALL_DIRECTIVES = [\n    DefaultLayoutDirective,\n    DefaultLayoutGapDirective,\n    DefaultLayoutAlignDirective,\n    DefaultFlexOrderDirective,\n    DefaultFlexOffsetDirective,\n    FlexFillDirective,\n    DefaultFlexAlignDirective,\n    DefaultFlexDirective,\n];\n/**\n * *****************************************************************\n * Define module for the Flex API\n * *****************************************************************\n */\nclass FlexModule {\n}\nFlexModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FlexModule });\nFlexModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function FlexModule_Factory(t) { return new (t || FlexModule)(); }, imports: [[CoreModule, BidiModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FlexModule, { declarations: function () { return [DefaultLayoutDirective,\n        DefaultLayoutGapDirective,\n        DefaultLayoutAlignDirective,\n        DefaultFlexOrderDirective,\n        DefaultFlexOffsetDirective,\n        FlexFillDirective,\n        DefaultFlexAlignDirective,\n        DefaultFlexDirective]; }, imports: function () { return [CoreModule, BidiModule]; }, exports: function () { return [DefaultLayoutDirective,\n        DefaultLayoutGapDirective,\n        DefaultLayoutAlignDirective,\n        DefaultFlexOrderDirective,\n        DefaultFlexOffsetDirective,\n        FlexFillDirective,\n        DefaultFlexAlignDirective,\n        DefaultFlexDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule, BidiModule],\n                declarations: [...ALL_DIRECTIVES],\n                exports: [...ALL_DIRECTIVES]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: flex/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { FlexModule, FlexStyleBuilder, FlexDirective, DefaultFlexDirective, FlexAlignStyleBuilder, FlexAlignDirective, DefaultFlexAlignDirective, FlexFillStyleBuilder, FlexFillDirective, FlexOffsetStyleBuilder, FlexOffsetDirective, DefaultFlexOffsetDirective, FlexOrderStyleBuilder, FlexOrderDirective, DefaultFlexOrderDirective, LayoutStyleBuilder, LayoutDirective, DefaultLayoutDirective, LayoutAlignStyleBuilder, LayoutAlignDirective, DefaultLayoutAlignDirective, LayoutGapStyleBuilder, LayoutGapDirective, DefaultLayoutGapDirective };\n\n//# sourceMappingURL=flex.js.map","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Directive, ElementRef, Injectable, NgModule, Input, ɵɵdefineInjectable } from '@angular/core';\nimport { MediaMarshaller, BaseDirective2, StyleBuilder, StyleUtils, CoreModule } from '@angular/flex-layout/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/grid-align/grid-align.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/flex-layout/core';\nconst ROW_DEFAULT = 'stretch';\n/** @type {?} */\nconst COL_DEFAULT = 'stretch';\nclass GridAlignStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @return {?}\n     */\n    buildStyles(input) {\n        return buildCss(input || ROW_DEFAULT);\n    }\n}\nGridAlignStyleBuilder.ɵfac = function GridAlignStyleBuilder_Factory(t) { return ɵGridAlignStyleBuilder_BaseFactory(t || GridAlignStyleBuilder); };\n/** @nocollapse */ GridAlignStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridAlignStyleBuilder_Factory() { return new GridAlignStyleBuilder(); }, token: GridAlignStyleBuilder, providedIn: \"root\" });\nconst ɵGridAlignStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridAlignStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAlignStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridAlignDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.DIRECTIVE_KEY = 'grid-align';\n        this.styleCache = alignCache;\n        this.init();\n    }\n}\nGridAlignDirective.ɵfac = function GridAlignDirective_Factory(t) { return new (t || GridAlignDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(GridAlignStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridAlignDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridAlignDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridAlignDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GridAlignStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAlignDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: GridAlignStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\n/** @type {?} */\nconst alignCache = new Map();\n/** @type {?} */\nconst inputs = [\n    'gdGridAlign',\n    'gdGridAlign.xs', 'gdGridAlign.sm', 'gdGridAlign.md', 'gdGridAlign.lg', 'gdGridAlign.xl',\n    'gdGridAlign.lt-sm', 'gdGridAlign.lt-md', 'gdGridAlign.lt-lg', 'gdGridAlign.lt-xl',\n    'gdGridAlign.gt-xs', 'gdGridAlign.gt-sm', 'gdGridAlign.gt-md', 'gdGridAlign.gt-lg'\n];\n/** @type {?} */\nconst selector = `\n  [gdGridAlign],\n  [gdGridAlign.xs], [gdGridAlign.sm], [gdGridAlign.md], [gdGridAlign.lg],[gdGridAlign.xl],\n  [gdGridAlign.lt-sm], [gdGridAlign.lt-md], [gdGridAlign.lt-lg], [gdGridAlign.lt-xl],\n  [gdGridAlign.gt-xs], [gdGridAlign.gt-sm], [gdGridAlign.gt-md], [gdGridAlign.gt-lg]\n`;\n/**\n * 'align' CSS Grid styling directive for grid children\n *  Defines positioning of child elements along row and column axis in a grid container\n *  Optional values: {row-axis} values or {row-axis column-axis} value pairs\n *\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#prop-justify-self\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#prop-align-self\n */\nclass DefaultGridAlignDirective extends GridAlignDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs;\n    }\n}\nDefaultGridAlignDirective.ɵfac = function DefaultGridAlignDirective_Factory(t) { return ɵDefaultGridAlignDirective_BaseFactory(t || DefaultGridAlignDirective); };\nDefaultGridAlignDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridAlignDirective, selectors: [[\"\", \"gdGridAlign\", \"\"], [\"\", \"gdGridAlign.xs\", \"\"], [\"\", \"gdGridAlign.sm\", \"\"], [\"\", \"gdGridAlign.md\", \"\"], [\"\", \"gdGridAlign.lg\", \"\"], [\"\", \"gdGridAlign.xl\", \"\"], [\"\", \"gdGridAlign.lt-sm\", \"\"], [\"\", \"gdGridAlign.lt-md\", \"\"], [\"\", \"gdGridAlign.lt-lg\", \"\"], [\"\", \"gdGridAlign.lt-xl\", \"\"], [\"\", \"gdGridAlign.gt-xs\", \"\"], [\"\", \"gdGridAlign.gt-sm\", \"\"], [\"\", \"gdGridAlign.gt-md\", \"\"], [\"\", \"gdGridAlign.gt-lg\", \"\"]], inputs: { gdGridAlign: \"gdGridAlign\", \"gdGridAlign.xs\": \"gdGridAlign.xs\", \"gdGridAlign.sm\": \"gdGridAlign.sm\", \"gdGridAlign.md\": \"gdGridAlign.md\", \"gdGridAlign.lg\": \"gdGridAlign.lg\", \"gdGridAlign.xl\": \"gdGridAlign.xl\", \"gdGridAlign.lt-sm\": \"gdGridAlign.lt-sm\", \"gdGridAlign.lt-md\": \"gdGridAlign.lt-md\", \"gdGridAlign.lt-lg\": \"gdGridAlign.lt-lg\", \"gdGridAlign.lt-xl\": \"gdGridAlign.lt-xl\", \"gdGridAlign.gt-xs\": \"gdGridAlign.gt-xs\", \"gdGridAlign.gt-sm\": \"gdGridAlign.gt-sm\", \"gdGridAlign.gt-md\": \"gdGridAlign.gt-md\", \"gdGridAlign.gt-lg\": \"gdGridAlign.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridAlignDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridAlignDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridAlignDirective, [{\n        type: Directive,\n        args: [{ selector, inputs }]\n    }], null, null); })();\n/**\n * @param {?=} align\n * @return {?}\n */\nfunction buildCss(align = '') {\n    /** @type {?} */\n    const css = {};\n    const [rowAxis, columnAxis] = align.split(' ');\n    // Row axis\n    switch (rowAxis) {\n        case 'end':\n            css['justify-self'] = 'end';\n            break;\n        case 'center':\n            css['justify-self'] = 'center';\n            break;\n        case 'stretch':\n            css['justify-self'] = 'stretch';\n            break;\n        case 'start':\n            css['justify-self'] = 'start';\n            break;\n        default:\n            css['justify-self'] = ROW_DEFAULT; // default row axis\n            break;\n    }\n    // Column axis\n    switch (columnAxis) {\n        case 'end':\n            css['align-self'] = 'end';\n            break;\n        case 'center':\n            css['align-self'] = 'center';\n            break;\n        case 'stretch':\n            css['align-self'] = 'stretch';\n            break;\n        case 'start':\n            css['align-self'] = 'start';\n            break;\n        default:\n            css['align-self'] = COL_DEFAULT; // default column axis\n            break;\n    }\n    return css;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/align-columns/align-columns.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_MAIN = 'start';\n/** @type {?} */\nconst DEFAULT_CROSS = 'stretch';\nclass GridAlignColumnsStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(input, parent) {\n        return buildCss$1(input || `${DEFAULT_MAIN} ${DEFAULT_CROSS}`, parent.inline);\n    }\n}\nGridAlignColumnsStyleBuilder.ɵfac = function GridAlignColumnsStyleBuilder_Factory(t) { return ɵGridAlignColumnsStyleBuilder_BaseFactory(t || GridAlignColumnsStyleBuilder); };\n/** @nocollapse */ GridAlignColumnsStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridAlignColumnsStyleBuilder_Factory() { return new GridAlignColumnsStyleBuilder(); }, token: GridAlignColumnsStyleBuilder, providedIn: \"root\" });\nconst ɵGridAlignColumnsStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridAlignColumnsStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAlignColumnsStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridAlignColumnsDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.DIRECTIVE_KEY = 'grid-align-columns';\n        this._inline = false;\n        this.init();\n    }\n    /**\n     * @return {?}\n     */\n    get inline() { return this._inline; }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    set inline(val) { this._inline = coerceBooleanProperty(val); }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        this.styleCache = this.inline ? alignColumnsInlineCache : alignColumnsCache;\n        this.addStyles(value, { inline: this.inline });\n    }\n}\nGridAlignColumnsDirective.ɵfac = function GridAlignColumnsDirective_Factory(t) { return new (t || GridAlignColumnsDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(GridAlignColumnsStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridAlignColumnsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridAlignColumnsDirective, inputs: { inline: [\"gdInline\", \"inline\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridAlignColumnsDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GridAlignColumnsStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller }\n];\nGridAlignColumnsDirective.propDecorators = {\n    inline: [{ type: Input, args: ['gdInline',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAlignColumnsDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: GridAlignColumnsStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }]; }, { inline: [{\n            type: Input,\n            args: ['gdInline']\n        }] }); })();\n/** @type {?} */\nconst alignColumnsCache = new Map();\n/** @type {?} */\nconst alignColumnsInlineCache = new Map();\n/** @type {?} */\nconst inputs$1 = [\n    'gdAlignColumns',\n    'gdAlignColumns.xs', 'gdAlignColumns.sm', 'gdAlignColumns.md',\n    'gdAlignColumns.lg', 'gdAlignColumns.xl', 'gdAlignColumns.lt-sm',\n    'gdAlignColumns.lt-md', 'gdAlignColumns.lt-lg', 'gdAlignColumns.lt-xl',\n    'gdAlignColumns.gt-xs', 'gdAlignColumns.gt-sm', 'gdAlignColumns.gt-md',\n    'gdAlignColumns.gt-lg'\n];\n/** @type {?} */\nconst selector$1 = `\n  [gdAlignColumns],\n  [gdAlignColumns.xs], [gdAlignColumns.sm], [gdAlignColumns.md],\n  [gdAlignColumns.lg], [gdAlignColumns.xl], [gdAlignColumns.lt-sm],\n  [gdAlignColumns.lt-md], [gdAlignColumns.lt-lg], [gdAlignColumns.lt-xl],\n  [gdAlignColumns.gt-xs], [gdAlignColumns.gt-sm], [gdAlignColumns.gt-md],\n  [gdAlignColumns.gt-lg]\n`;\n/**\n * 'column alignment' CSS Grid styling directive\n * Configures the alignment in the column direction\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-19\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-21\n */\nclass DefaultGridAlignColumnsDirective extends GridAlignColumnsDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$1;\n    }\n}\nDefaultGridAlignColumnsDirective.ɵfac = function DefaultGridAlignColumnsDirective_Factory(t) { return ɵDefaultGridAlignColumnsDirective_BaseFactory(t || DefaultGridAlignColumnsDirective); };\nDefaultGridAlignColumnsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridAlignColumnsDirective, selectors: [[\"\", \"gdAlignColumns\", \"\"], [\"\", \"gdAlignColumns.xs\", \"\"], [\"\", \"gdAlignColumns.sm\", \"\"], [\"\", \"gdAlignColumns.md\", \"\"], [\"\", \"gdAlignColumns.lg\", \"\"], [\"\", \"gdAlignColumns.xl\", \"\"], [\"\", \"gdAlignColumns.lt-sm\", \"\"], [\"\", \"gdAlignColumns.lt-md\", \"\"], [\"\", \"gdAlignColumns.lt-lg\", \"\"], [\"\", \"gdAlignColumns.lt-xl\", \"\"], [\"\", \"gdAlignColumns.gt-xs\", \"\"], [\"\", \"gdAlignColumns.gt-sm\", \"\"], [\"\", \"gdAlignColumns.gt-md\", \"\"], [\"\", \"gdAlignColumns.gt-lg\", \"\"]], inputs: { gdAlignColumns: \"gdAlignColumns\", \"gdAlignColumns.xs\": \"gdAlignColumns.xs\", \"gdAlignColumns.sm\": \"gdAlignColumns.sm\", \"gdAlignColumns.md\": \"gdAlignColumns.md\", \"gdAlignColumns.lg\": \"gdAlignColumns.lg\", \"gdAlignColumns.xl\": \"gdAlignColumns.xl\", \"gdAlignColumns.lt-sm\": \"gdAlignColumns.lt-sm\", \"gdAlignColumns.lt-md\": \"gdAlignColumns.lt-md\", \"gdAlignColumns.lt-lg\": \"gdAlignColumns.lt-lg\", \"gdAlignColumns.lt-xl\": \"gdAlignColumns.lt-xl\", \"gdAlignColumns.gt-xs\": \"gdAlignColumns.gt-xs\", \"gdAlignColumns.gt-sm\": \"gdAlignColumns.gt-sm\", \"gdAlignColumns.gt-md\": \"gdAlignColumns.gt-md\", \"gdAlignColumns.gt-lg\": \"gdAlignColumns.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridAlignColumnsDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridAlignColumnsDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridAlignColumnsDirective, [{\n        type: Directive,\n        args: [{ selector: selector$1, inputs: inputs$1 }]\n    }], null, null); })();\n/**\n * @param {?} align\n * @param {?} inline\n * @return {?}\n */\nfunction buildCss$1(align, inline) {\n    /** @type {?} */\n    const css = {};\n    const [mainAxis, crossAxis] = align.split(' ');\n    // Main axis\n    switch (mainAxis) {\n        case 'center':\n            css['align-content'] = 'center';\n            break;\n        case 'space-around':\n            css['align-content'] = 'space-around';\n            break;\n        case 'space-between':\n            css['align-content'] = 'space-between';\n            break;\n        case 'space-evenly':\n            css['align-content'] = 'space-evenly';\n            break;\n        case 'end':\n            css['align-content'] = 'end';\n            break;\n        case 'start':\n            css['align-content'] = 'start';\n            break;\n        case 'stretch':\n            css['align-content'] = 'stretch';\n            break;\n        default:\n            css['align-content'] = DEFAULT_MAIN; // default main axis\n            break;\n    }\n    // Cross-axis\n    switch (crossAxis) {\n        case 'start':\n            css['align-items'] = 'start';\n            break;\n        case 'center':\n            css['align-items'] = 'center';\n            break;\n        case 'end':\n            css['align-items'] = 'end';\n            break;\n        case 'stretch':\n            css['align-items'] = 'stretch';\n            break;\n        default: // 'stretch'\n            css['align-items'] = DEFAULT_CROSS; // default cross axis\n            break;\n    }\n    css['display'] = inline ? 'inline-grid' : 'grid';\n    return css;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/align-rows/align-rows.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_MAIN$1 = 'start';\n/** @type {?} */\nconst DEFAULT_CROSS$1 = 'stretch';\nclass GridAlignRowsStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(input, parent) {\n        return buildCss$2(input || `${DEFAULT_MAIN$1} ${DEFAULT_CROSS$1}`, parent.inline);\n    }\n}\nGridAlignRowsStyleBuilder.ɵfac = function GridAlignRowsStyleBuilder_Factory(t) { return ɵGridAlignRowsStyleBuilder_BaseFactory(t || GridAlignRowsStyleBuilder); };\n/** @nocollapse */ GridAlignRowsStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridAlignRowsStyleBuilder_Factory() { return new GridAlignRowsStyleBuilder(); }, token: GridAlignRowsStyleBuilder, providedIn: \"root\" });\nconst ɵGridAlignRowsStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridAlignRowsStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAlignRowsStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridAlignRowsDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.DIRECTIVE_KEY = 'grid-align-rows';\n        this._inline = false;\n        this.init();\n    }\n    /**\n     * @return {?}\n     */\n    get inline() { return this._inline; }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    set inline(val) { this._inline = coerceBooleanProperty(val); }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        this.styleCache = this.inline ? alignRowsInlineCache : alignRowsCache;\n        this.addStyles(value, { inline: this.inline });\n    }\n}\nGridAlignRowsDirective.ɵfac = function GridAlignRowsDirective_Factory(t) { return new (t || GridAlignRowsDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(GridAlignRowsStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridAlignRowsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridAlignRowsDirective, inputs: { inline: [\"gdInline\", \"inline\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridAlignRowsDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GridAlignRowsStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller }\n];\nGridAlignRowsDirective.propDecorators = {\n    inline: [{ type: Input, args: ['gdInline',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAlignRowsDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: GridAlignRowsStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }]; }, { inline: [{\n            type: Input,\n            args: ['gdInline']\n        }] }); })();\n/** @type {?} */\nconst alignRowsCache = new Map();\n/** @type {?} */\nconst alignRowsInlineCache = new Map();\n/** @type {?} */\nconst inputs$2 = [\n    'gdAlignRows',\n    'gdAlignRows.xs', 'gdAlignRows.sm', 'gdAlignRows.md',\n    'gdAlignRows.lg', 'gdAlignRows.xl', 'gdAlignRows.lt-sm',\n    'gdAlignRows.lt-md', 'gdAlignRows.lt-lg', 'gdAlignRows.lt-xl',\n    'gdAlignRows.gt-xs', 'gdAlignRows.gt-sm', 'gdAlignRows.gt-md',\n    'gdAlignRows.gt-lg'\n];\n/** @type {?} */\nconst selector$2 = `\n  [gdAlignRows],\n  [gdAlignRows.xs], [gdAlignRows.sm], [gdAlignRows.md],\n  [gdAlignRows.lg], [gdAlignRows.xl], [gdAlignRows.lt-sm],\n  [gdAlignRows.lt-md], [gdAlignRows.lt-lg], [gdAlignRows.lt-xl],\n  [gdAlignRows.gt-xs], [gdAlignRows.gt-sm], [gdAlignRows.gt-md],\n  [gdAlignRows.gt-lg]\n`;\n/**\n * 'row alignment' CSS Grid styling directive\n * Configures the alignment in the row direction\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-18\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-20\n */\nclass DefaultGridAlignRowsDirective extends GridAlignRowsDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$2;\n    }\n}\nDefaultGridAlignRowsDirective.ɵfac = function DefaultGridAlignRowsDirective_Factory(t) { return ɵDefaultGridAlignRowsDirective_BaseFactory(t || DefaultGridAlignRowsDirective); };\nDefaultGridAlignRowsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridAlignRowsDirective, selectors: [[\"\", \"gdAlignRows\", \"\"], [\"\", \"gdAlignRows.xs\", \"\"], [\"\", \"gdAlignRows.sm\", \"\"], [\"\", \"gdAlignRows.md\", \"\"], [\"\", \"gdAlignRows.lg\", \"\"], [\"\", \"gdAlignRows.xl\", \"\"], [\"\", \"gdAlignRows.lt-sm\", \"\"], [\"\", \"gdAlignRows.lt-md\", \"\"], [\"\", \"gdAlignRows.lt-lg\", \"\"], [\"\", \"gdAlignRows.lt-xl\", \"\"], [\"\", \"gdAlignRows.gt-xs\", \"\"], [\"\", \"gdAlignRows.gt-sm\", \"\"], [\"\", \"gdAlignRows.gt-md\", \"\"], [\"\", \"gdAlignRows.gt-lg\", \"\"]], inputs: { gdAlignRows: \"gdAlignRows\", \"gdAlignRows.xs\": \"gdAlignRows.xs\", \"gdAlignRows.sm\": \"gdAlignRows.sm\", \"gdAlignRows.md\": \"gdAlignRows.md\", \"gdAlignRows.lg\": \"gdAlignRows.lg\", \"gdAlignRows.xl\": \"gdAlignRows.xl\", \"gdAlignRows.lt-sm\": \"gdAlignRows.lt-sm\", \"gdAlignRows.lt-md\": \"gdAlignRows.lt-md\", \"gdAlignRows.lt-lg\": \"gdAlignRows.lt-lg\", \"gdAlignRows.lt-xl\": \"gdAlignRows.lt-xl\", \"gdAlignRows.gt-xs\": \"gdAlignRows.gt-xs\", \"gdAlignRows.gt-sm\": \"gdAlignRows.gt-sm\", \"gdAlignRows.gt-md\": \"gdAlignRows.gt-md\", \"gdAlignRows.gt-lg\": \"gdAlignRows.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridAlignRowsDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridAlignRowsDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridAlignRowsDirective, [{\n        type: Directive,\n        args: [{ selector: selector$2, inputs: inputs$2 }]\n    }], null, null); })();\n/**\n * @param {?} align\n * @param {?} inline\n * @return {?}\n */\nfunction buildCss$2(align, inline) {\n    /** @type {?} */\n    const css = {};\n    const [mainAxis, crossAxis] = align.split(' ');\n    // Main axis\n    switch (mainAxis) {\n        case 'center':\n        case 'space-around':\n        case 'space-between':\n        case 'space-evenly':\n        case 'end':\n        case 'start':\n        case 'stretch':\n            css['justify-content'] = mainAxis;\n            break;\n        default:\n            css['justify-content'] = DEFAULT_MAIN$1; // default main axis\n            break;\n    }\n    // Cross-axis\n    switch (crossAxis) {\n        case 'start':\n        case 'center':\n        case 'end':\n        case 'stretch':\n            css['justify-items'] = crossAxis;\n            break;\n        default: // 'stretch'\n            css['justify-items'] = DEFAULT_CROSS$1; // default cross axis\n            break;\n    }\n    css['display'] = inline ? 'inline-grid' : 'grid';\n    return css;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/area/area.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_VALUE = 'auto';\nclass GridAreaStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @return {?}\n     */\n    buildStyles(input) {\n        return { 'grid-area': input || DEFAULT_VALUE };\n    }\n}\nGridAreaStyleBuilder.ɵfac = function GridAreaStyleBuilder_Factory(t) { return ɵGridAreaStyleBuilder_BaseFactory(t || GridAreaStyleBuilder); };\n/** @nocollapse */ GridAreaStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridAreaStyleBuilder_Factory() { return new GridAreaStyleBuilder(); }, token: GridAreaStyleBuilder, providedIn: \"root\" });\nconst ɵGridAreaStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridAreaStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAreaStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridAreaDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.DIRECTIVE_KEY = 'grid-area';\n        this.styleCache = gridAreaCache;\n        this.init();\n    }\n}\nGridAreaDirective.ɵfac = function GridAreaDirective_Factory(t) { return new (t || GridAreaDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(GridAreaStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridAreaDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridAreaDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridAreaDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: GridAreaStyleBuilder },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAreaDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: GridAreaStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\n/** @type {?} */\nconst gridAreaCache = new Map();\n/** @type {?} */\nconst inputs$3 = [\n    'gdArea',\n    'gdArea.xs', 'gdArea.sm', 'gdArea.md', 'gdArea.lg', 'gdArea.xl',\n    'gdArea.lt-sm', 'gdArea.lt-md', 'gdArea.lt-lg', 'gdArea.lt-xl',\n    'gdArea.gt-xs', 'gdArea.gt-sm', 'gdArea.gt-md', 'gdArea.gt-lg'\n];\n/** @type {?} */\nconst selector$3 = `\n  [gdArea],\n  [gdArea.xs], [gdArea.sm], [gdArea.md], [gdArea.lg], [gdArea.xl],\n  [gdArea.lt-sm], [gdArea.lt-md], [gdArea.lt-lg], [gdArea.lt-xl],\n  [gdArea.gt-xs], [gdArea.gt-sm], [gdArea.gt-md], [gdArea.gt-lg]\n`;\n/**\n * 'grid-area' CSS Grid styling directive\n * Configures the name or position of an element within the grid\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-27\n */\nclass DefaultGridAreaDirective extends GridAreaDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$3;\n    }\n}\nDefaultGridAreaDirective.ɵfac = function DefaultGridAreaDirective_Factory(t) { return ɵDefaultGridAreaDirective_BaseFactory(t || DefaultGridAreaDirective); };\nDefaultGridAreaDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridAreaDirective, selectors: [[\"\", \"gdArea\", \"\"], [\"\", \"gdArea.xs\", \"\"], [\"\", \"gdArea.sm\", \"\"], [\"\", \"gdArea.md\", \"\"], [\"\", \"gdArea.lg\", \"\"], [\"\", \"gdArea.xl\", \"\"], [\"\", \"gdArea.lt-sm\", \"\"], [\"\", \"gdArea.lt-md\", \"\"], [\"\", \"gdArea.lt-lg\", \"\"], [\"\", \"gdArea.lt-xl\", \"\"], [\"\", \"gdArea.gt-xs\", \"\"], [\"\", \"gdArea.gt-sm\", \"\"], [\"\", \"gdArea.gt-md\", \"\"], [\"\", \"gdArea.gt-lg\", \"\"]], inputs: { gdArea: \"gdArea\", \"gdArea.xs\": \"gdArea.xs\", \"gdArea.sm\": \"gdArea.sm\", \"gdArea.md\": \"gdArea.md\", \"gdArea.lg\": \"gdArea.lg\", \"gdArea.xl\": \"gdArea.xl\", \"gdArea.lt-sm\": \"gdArea.lt-sm\", \"gdArea.lt-md\": \"gdArea.lt-md\", \"gdArea.lt-lg\": \"gdArea.lt-lg\", \"gdArea.lt-xl\": \"gdArea.lt-xl\", \"gdArea.gt-xs\": \"gdArea.gt-xs\", \"gdArea.gt-sm\": \"gdArea.gt-sm\", \"gdArea.gt-md\": \"gdArea.gt-md\", \"gdArea.gt-lg\": \"gdArea.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridAreaDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridAreaDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridAreaDirective, [{\n        type: Directive,\n        args: [{ selector: selector$3, inputs: inputs$3 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/areas/areas.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_VALUE$1 = 'none';\n/** @type {?} */\nconst DELIMETER = '|';\nclass GridAreasStyleBuiler extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(input, parent) {\n        /** @type {?} */\n        const areas = (input || DEFAULT_VALUE$1).split(DELIMETER).map((/**\n         * @param {?} v\n         * @return {?}\n         */\n        v => `\"${v.trim()}\"`));\n        return {\n            'display': parent.inline ? 'inline-grid' : 'grid',\n            'grid-template-areas': areas.join(' ')\n        };\n    }\n}\nGridAreasStyleBuiler.ɵfac = function GridAreasStyleBuiler_Factory(t) { return ɵGridAreasStyleBuiler_BaseFactory(t || GridAreasStyleBuiler); };\n/** @nocollapse */ GridAreasStyleBuiler.ɵprov = ɵɵdefineInjectable({ factory: function GridAreasStyleBuiler_Factory() { return new GridAreasStyleBuiler(); }, token: GridAreasStyleBuiler, providedIn: \"root\" });\nconst ɵGridAreasStyleBuiler_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridAreasStyleBuiler);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAreasStyleBuiler, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridAreasDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.DIRECTIVE_KEY = 'grid-areas';\n        this._inline = false;\n        this.init();\n    }\n    /**\n     * @return {?}\n     */\n    get inline() { return this._inline; }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    set inline(val) { this._inline = coerceBooleanProperty(val); }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        this.styleCache = this.inline ? areasInlineCache : areasCache;\n        this.addStyles(value, { inline: this.inline });\n    }\n}\nGridAreasDirective.ɵfac = function GridAreasDirective_Factory(t) { return new (t || GridAreasDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(GridAreasStyleBuiler), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridAreasDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridAreasDirective, inputs: { inline: [\"gdInline\", \"inline\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridAreasDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: GridAreasStyleBuiler },\n    { type: MediaMarshaller }\n];\nGridAreasDirective.propDecorators = {\n    inline: [{ type: Input, args: ['gdInline',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAreasDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: GridAreasStyleBuiler }, { type: ɵngcc1.MediaMarshaller }]; }, { inline: [{\n            type: Input,\n            args: ['gdInline']\n        }] }); })();\n/** @type {?} */\nconst areasCache = new Map();\n/** @type {?} */\nconst areasInlineCache = new Map();\n/** @type {?} */\nconst inputs$4 = [\n    'gdAreas',\n    'gdAreas.xs', 'gdAreas.sm', 'gdAreas.md', 'gdAreas.lg', 'gdAreas.xl',\n    'gdAreas.lt-sm', 'gdAreas.lt-md', 'gdAreas.lt-lg', 'gdAreas.lt-xl',\n    'gdAreas.gt-xs', 'gdAreas.gt-sm', 'gdAreas.gt-md', 'gdAreas.gt-lg'\n];\n/** @type {?} */\nconst selector$4 = `\n  [gdAreas],\n  [gdAreas.xs], [gdAreas.sm], [gdAreas.md], [gdAreas.lg], [gdAreas.xl],\n  [gdAreas.lt-sm], [gdAreas.lt-md], [gdAreas.lt-lg], [gdAreas.lt-xl],\n  [gdAreas.gt-xs], [gdAreas.gt-sm], [gdAreas.gt-md], [gdAreas.gt-lg]\n`;\n/**\n * 'grid-template-areas' CSS Grid styling directive\n * Configures the names of elements within the grid\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-14\n */\nclass DefaultGridAreasDirective extends GridAreasDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$4;\n    }\n}\nDefaultGridAreasDirective.ɵfac = function DefaultGridAreasDirective_Factory(t) { return ɵDefaultGridAreasDirective_BaseFactory(t || DefaultGridAreasDirective); };\nDefaultGridAreasDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridAreasDirective, selectors: [[\"\", \"gdAreas\", \"\"], [\"\", \"gdAreas.xs\", \"\"], [\"\", \"gdAreas.sm\", \"\"], [\"\", \"gdAreas.md\", \"\"], [\"\", \"gdAreas.lg\", \"\"], [\"\", \"gdAreas.xl\", \"\"], [\"\", \"gdAreas.lt-sm\", \"\"], [\"\", \"gdAreas.lt-md\", \"\"], [\"\", \"gdAreas.lt-lg\", \"\"], [\"\", \"gdAreas.lt-xl\", \"\"], [\"\", \"gdAreas.gt-xs\", \"\"], [\"\", \"gdAreas.gt-sm\", \"\"], [\"\", \"gdAreas.gt-md\", \"\"], [\"\", \"gdAreas.gt-lg\", \"\"]], inputs: { gdAreas: \"gdAreas\", \"gdAreas.xs\": \"gdAreas.xs\", \"gdAreas.sm\": \"gdAreas.sm\", \"gdAreas.md\": \"gdAreas.md\", \"gdAreas.lg\": \"gdAreas.lg\", \"gdAreas.xl\": \"gdAreas.xl\", \"gdAreas.lt-sm\": \"gdAreas.lt-sm\", \"gdAreas.lt-md\": \"gdAreas.lt-md\", \"gdAreas.lt-lg\": \"gdAreas.lt-lg\", \"gdAreas.lt-xl\": \"gdAreas.lt-xl\", \"gdAreas.gt-xs\": \"gdAreas.gt-xs\", \"gdAreas.gt-sm\": \"gdAreas.gt-sm\", \"gdAreas.gt-md\": \"gdAreas.gt-md\", \"gdAreas.gt-lg\": \"gdAreas.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridAreasDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridAreasDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridAreasDirective, [{\n        type: Directive,\n        args: [{ selector: selector$4, inputs: inputs$4 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/auto/auto.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_VALUE$2 = 'initial';\nclass GridAutoStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(input, parent) {\n        let [direction, dense] = (input || DEFAULT_VALUE$2).split(' ');\n        if (direction !== 'column' && direction !== 'row' && direction !== 'dense') {\n            direction = 'row';\n        }\n        dense = (dense === 'dense' && direction !== 'dense') ? ' dense' : '';\n        return {\n            'display': parent.inline ? 'inline-grid' : 'grid',\n            'grid-auto-flow': direction + dense\n        };\n    }\n}\nGridAutoStyleBuilder.ɵfac = function GridAutoStyleBuilder_Factory(t) { return ɵGridAutoStyleBuilder_BaseFactory(t || GridAutoStyleBuilder); };\n/** @nocollapse */ GridAutoStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridAutoStyleBuilder_Factory() { return new GridAutoStyleBuilder(); }, token: GridAutoStyleBuilder, providedIn: \"root\" });\nconst ɵGridAutoStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridAutoStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAutoStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridAutoDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this._inline = false;\n        this.DIRECTIVE_KEY = 'grid-auto';\n        this.init();\n    }\n    /**\n     * @return {?}\n     */\n    get inline() { return this._inline; }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    set inline(val) { this._inline = coerceBooleanProperty(val); }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        this.styleCache = this.inline ? autoInlineCache : autoCache;\n        this.addStyles(value, { inline: this.inline });\n    }\n}\nGridAutoDirective.ɵfac = function GridAutoDirective_Factory(t) { return new (t || GridAutoDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(GridAutoStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridAutoDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridAutoDirective, inputs: { inline: [\"gdInline\", \"inline\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridAutoDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GridAutoStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller }\n];\nGridAutoDirective.propDecorators = {\n    inline: [{ type: Input, args: ['gdInline',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridAutoDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: GridAutoStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }]; }, { inline: [{\n            type: Input,\n            args: ['gdInline']\n        }] }); })();\n/** @type {?} */\nconst autoCache = new Map();\n/** @type {?} */\nconst autoInlineCache = new Map();\n/** @type {?} */\nconst inputs$5 = [\n    'gdAuto',\n    'gdAuto.xs', 'gdAuto.sm', 'gdAuto.md', 'gdAuto.lg', 'gdAuto.xl',\n    'gdAuto.lt-sm', 'gdAuto.lt-md', 'gdAuto.lt-lg', 'gdAuto.lt-xl',\n    'gdAuto.gt-xs', 'gdAuto.gt-sm', 'gdAuto.gt-md', 'gdAuto.gt-lg'\n];\n/** @type {?} */\nconst selector$5 = `\n  [gdAuto],\n  [gdAuto.xs], [gdAuto.sm], [gdAuto.md], [gdAuto.lg], [gdAuto.xl],\n  [gdAuto.lt-sm], [gdAuto.lt-md], [gdAuto.lt-lg], [gdAuto.lt-xl],\n  [gdAuto.gt-xs], [gdAuto.gt-sm], [gdAuto.gt-md], [gdAuto.gt-lg]\n`;\n/**\n * 'grid-auto-flow' CSS Grid styling directive\n * Configures the auto placement algorithm for the grid\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-23\n */\nclass DefaultGridAutoDirective extends GridAutoDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$5;\n    }\n}\nDefaultGridAutoDirective.ɵfac = function DefaultGridAutoDirective_Factory(t) { return ɵDefaultGridAutoDirective_BaseFactory(t || DefaultGridAutoDirective); };\nDefaultGridAutoDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridAutoDirective, selectors: [[\"\", \"gdAuto\", \"\"], [\"\", \"gdAuto.xs\", \"\"], [\"\", \"gdAuto.sm\", \"\"], [\"\", \"gdAuto.md\", \"\"], [\"\", \"gdAuto.lg\", \"\"], [\"\", \"gdAuto.xl\", \"\"], [\"\", \"gdAuto.lt-sm\", \"\"], [\"\", \"gdAuto.lt-md\", \"\"], [\"\", \"gdAuto.lt-lg\", \"\"], [\"\", \"gdAuto.lt-xl\", \"\"], [\"\", \"gdAuto.gt-xs\", \"\"], [\"\", \"gdAuto.gt-sm\", \"\"], [\"\", \"gdAuto.gt-md\", \"\"], [\"\", \"gdAuto.gt-lg\", \"\"]], inputs: { gdAuto: \"gdAuto\", \"gdAuto.xs\": \"gdAuto.xs\", \"gdAuto.sm\": \"gdAuto.sm\", \"gdAuto.md\": \"gdAuto.md\", \"gdAuto.lg\": \"gdAuto.lg\", \"gdAuto.xl\": \"gdAuto.xl\", \"gdAuto.lt-sm\": \"gdAuto.lt-sm\", \"gdAuto.lt-md\": \"gdAuto.lt-md\", \"gdAuto.lt-lg\": \"gdAuto.lt-lg\", \"gdAuto.lt-xl\": \"gdAuto.lt-xl\", \"gdAuto.gt-xs\": \"gdAuto.gt-xs\", \"gdAuto.gt-sm\": \"gdAuto.gt-sm\", \"gdAuto.gt-md\": \"gdAuto.gt-md\", \"gdAuto.gt-lg\": \"gdAuto.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridAutoDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridAutoDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridAutoDirective, [{\n        type: Directive,\n        args: [{ selector: selector$5, inputs: inputs$5 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/column/column.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_VALUE$3 = 'auto';\nclass GridColumnStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @return {?}\n     */\n    buildStyles(input) {\n        return { 'grid-column': input || DEFAULT_VALUE$3 };\n    }\n}\nGridColumnStyleBuilder.ɵfac = function GridColumnStyleBuilder_Factory(t) { return ɵGridColumnStyleBuilder_BaseFactory(t || GridColumnStyleBuilder); };\n/** @nocollapse */ GridColumnStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridColumnStyleBuilder_Factory() { return new GridColumnStyleBuilder(); }, token: GridColumnStyleBuilder, providedIn: \"root\" });\nconst ɵGridColumnStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridColumnStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridColumnStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridColumnDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.DIRECTIVE_KEY = 'grid-column';\n        this.styleCache = columnCache;\n        this.init();\n    }\n}\nGridColumnDirective.ɵfac = function GridColumnDirective_Factory(t) { return new (t || GridColumnDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(GridColumnStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridColumnDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridColumnDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridColumnDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GridColumnStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridColumnDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: GridColumnStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\n/** @type {?} */\nconst columnCache = new Map();\n/** @type {?} */\nconst inputs$6 = [\n    'gdColumn',\n    'gdColumn.xs', 'gdColumn.sm', 'gdColumn.md', 'gdColumn.lg', 'gdColumn.xl',\n    'gdColumn.lt-sm', 'gdColumn.lt-md', 'gdColumn.lt-lg', 'gdColumn.lt-xl',\n    'gdColumn.gt-xs', 'gdColumn.gt-sm', 'gdColumn.gt-md', 'gdColumn.gt-lg'\n];\n/** @type {?} */\nconst selector$6 = `\n  [gdColumn],\n  [gdColumn.xs], [gdColumn.sm], [gdColumn.md], [gdColumn.lg], [gdColumn.xl],\n  [gdColumn.lt-sm], [gdColumn.lt-md], [gdColumn.lt-lg], [gdColumn.lt-xl],\n  [gdColumn.gt-xs], [gdColumn.gt-sm], [gdColumn.gt-md], [gdColumn.gt-lg]\n`;\n/**\n * 'grid-column' CSS Grid styling directive\n * Configures the name or position of an element within the grid\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-26\n */\nclass DefaultGridColumnDirective extends GridColumnDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$6;\n    }\n}\nDefaultGridColumnDirective.ɵfac = function DefaultGridColumnDirective_Factory(t) { return ɵDefaultGridColumnDirective_BaseFactory(t || DefaultGridColumnDirective); };\nDefaultGridColumnDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridColumnDirective, selectors: [[\"\", \"gdColumn\", \"\"], [\"\", \"gdColumn.xs\", \"\"], [\"\", \"gdColumn.sm\", \"\"], [\"\", \"gdColumn.md\", \"\"], [\"\", \"gdColumn.lg\", \"\"], [\"\", \"gdColumn.xl\", \"\"], [\"\", \"gdColumn.lt-sm\", \"\"], [\"\", \"gdColumn.lt-md\", \"\"], [\"\", \"gdColumn.lt-lg\", \"\"], [\"\", \"gdColumn.lt-xl\", \"\"], [\"\", \"gdColumn.gt-xs\", \"\"], [\"\", \"gdColumn.gt-sm\", \"\"], [\"\", \"gdColumn.gt-md\", \"\"], [\"\", \"gdColumn.gt-lg\", \"\"]], inputs: { gdColumn: \"gdColumn\", \"gdColumn.xs\": \"gdColumn.xs\", \"gdColumn.sm\": \"gdColumn.sm\", \"gdColumn.md\": \"gdColumn.md\", \"gdColumn.lg\": \"gdColumn.lg\", \"gdColumn.xl\": \"gdColumn.xl\", \"gdColumn.lt-sm\": \"gdColumn.lt-sm\", \"gdColumn.lt-md\": \"gdColumn.lt-md\", \"gdColumn.lt-lg\": \"gdColumn.lt-lg\", \"gdColumn.lt-xl\": \"gdColumn.lt-xl\", \"gdColumn.gt-xs\": \"gdColumn.gt-xs\", \"gdColumn.gt-sm\": \"gdColumn.gt-sm\", \"gdColumn.gt-md\": \"gdColumn.gt-md\", \"gdColumn.gt-lg\": \"gdColumn.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridColumnDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridColumnDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridColumnDirective, [{\n        type: Directive,\n        args: [{ selector: selector$6, inputs: inputs$6 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/columns/columns.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_VALUE$4 = 'none';\n/** @type {?} */\nconst AUTO_SPECIFIER = '!';\nclass GridColumnsStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(input, parent) {\n        input = input || DEFAULT_VALUE$4;\n        /** @type {?} */\n        let auto = false;\n        if (input.endsWith(AUTO_SPECIFIER)) {\n            input = input.substring(0, input.indexOf(AUTO_SPECIFIER));\n            auto = true;\n        }\n        /** @type {?} */\n        const css = {\n            'display': parent.inline ? 'inline-grid' : 'grid',\n            'grid-auto-columns': '',\n            'grid-template-columns': '',\n        };\n        /** @type {?} */\n        const key = (auto ? 'grid-auto-columns' : 'grid-template-columns');\n        css[key] = input;\n        return css;\n    }\n}\nGridColumnsStyleBuilder.ɵfac = function GridColumnsStyleBuilder_Factory(t) { return ɵGridColumnsStyleBuilder_BaseFactory(t || GridColumnsStyleBuilder); };\n/** @nocollapse */ GridColumnsStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridColumnsStyleBuilder_Factory() { return new GridColumnsStyleBuilder(); }, token: GridColumnsStyleBuilder, providedIn: \"root\" });\nconst ɵGridColumnsStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridColumnsStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridColumnsStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridColumnsDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.DIRECTIVE_KEY = 'grid-columns';\n        this._inline = false;\n        this.init();\n    }\n    /**\n     * @return {?}\n     */\n    get inline() { return this._inline; }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    set inline(val) { this._inline = coerceBooleanProperty(val); }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        this.styleCache = this.inline ? columnsInlineCache : columnsCache;\n        this.addStyles(value, { inline: this.inline });\n    }\n}\nGridColumnsDirective.ɵfac = function GridColumnsDirective_Factory(t) { return new (t || GridColumnsDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(GridColumnsStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridColumnsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridColumnsDirective, inputs: { inline: [\"gdInline\", \"inline\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridColumnsDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GridColumnsStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller }\n];\nGridColumnsDirective.propDecorators = {\n    inline: [{ type: Input, args: ['gdInline',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridColumnsDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: GridColumnsStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }]; }, { inline: [{\n            type: Input,\n            args: ['gdInline']\n        }] }); })();\n/** @type {?} */\nconst columnsCache = new Map();\n/** @type {?} */\nconst columnsInlineCache = new Map();\n/** @type {?} */\nconst inputs$7 = [\n    'gdColumns',\n    'gdColumns.xs', 'gdColumns.sm', 'gdColumns.md', 'gdColumns.lg', 'gdColumns.xl',\n    'gdColumns.lt-sm', 'gdColumns.lt-md', 'gdColumns.lt-lg', 'gdColumns.lt-xl',\n    'gdColumns.gt-xs', 'gdColumns.gt-sm', 'gdColumns.gt-md', 'gdColumns.gt-lg'\n];\n/** @type {?} */\nconst selector$7 = `\n  [gdColumns],\n  [gdColumns.xs], [gdColumns.sm], [gdColumns.md], [gdColumns.lg], [gdColumns.xl],\n  [gdColumns.lt-sm], [gdColumns.lt-md], [gdColumns.lt-lg], [gdColumns.lt-xl],\n  [gdColumns.gt-xs], [gdColumns.gt-sm], [gdColumns.gt-md], [gdColumns.gt-lg]\n`;\n/**\n * 'grid-template-columns' CSS Grid styling directive\n * Configures the sizing for the columns in the grid\n * Syntax: <column value> [auto]\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-13\n */\nclass DefaultGridColumnsDirective extends GridColumnsDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$7;\n    }\n}\nDefaultGridColumnsDirective.ɵfac = function DefaultGridColumnsDirective_Factory(t) { return ɵDefaultGridColumnsDirective_BaseFactory(t || DefaultGridColumnsDirective); };\nDefaultGridColumnsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridColumnsDirective, selectors: [[\"\", \"gdColumns\", \"\"], [\"\", \"gdColumns.xs\", \"\"], [\"\", \"gdColumns.sm\", \"\"], [\"\", \"gdColumns.md\", \"\"], [\"\", \"gdColumns.lg\", \"\"], [\"\", \"gdColumns.xl\", \"\"], [\"\", \"gdColumns.lt-sm\", \"\"], [\"\", \"gdColumns.lt-md\", \"\"], [\"\", \"gdColumns.lt-lg\", \"\"], [\"\", \"gdColumns.lt-xl\", \"\"], [\"\", \"gdColumns.gt-xs\", \"\"], [\"\", \"gdColumns.gt-sm\", \"\"], [\"\", \"gdColumns.gt-md\", \"\"], [\"\", \"gdColumns.gt-lg\", \"\"]], inputs: { gdColumns: \"gdColumns\", \"gdColumns.xs\": \"gdColumns.xs\", \"gdColumns.sm\": \"gdColumns.sm\", \"gdColumns.md\": \"gdColumns.md\", \"gdColumns.lg\": \"gdColumns.lg\", \"gdColumns.xl\": \"gdColumns.xl\", \"gdColumns.lt-sm\": \"gdColumns.lt-sm\", \"gdColumns.lt-md\": \"gdColumns.lt-md\", \"gdColumns.lt-lg\": \"gdColumns.lt-lg\", \"gdColumns.lt-xl\": \"gdColumns.lt-xl\", \"gdColumns.gt-xs\": \"gdColumns.gt-xs\", \"gdColumns.gt-sm\": \"gdColumns.gt-sm\", \"gdColumns.gt-md\": \"gdColumns.gt-md\", \"gdColumns.gt-lg\": \"gdColumns.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridColumnsDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridColumnsDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridColumnsDirective, [{\n        type: Directive,\n        args: [{ selector: selector$7, inputs: inputs$7 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/gap/gap.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_VALUE$5 = '0';\nclass GridGapStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(input, parent) {\n        return {\n            'display': parent.inline ? 'inline-grid' : 'grid',\n            'grid-gap': input || DEFAULT_VALUE$5\n        };\n    }\n}\nGridGapStyleBuilder.ɵfac = function GridGapStyleBuilder_Factory(t) { return ɵGridGapStyleBuilder_BaseFactory(t || GridGapStyleBuilder); };\n/** @nocollapse */ GridGapStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridGapStyleBuilder_Factory() { return new GridGapStyleBuilder(); }, token: GridGapStyleBuilder, providedIn: \"root\" });\nconst ɵGridGapStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridGapStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridGapStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridGapDirective extends BaseDirective2 {\n    /**\n     * @param {?} elRef\n     * @param {?} styleUtils\n     * @param {?} styleBuilder\n     * @param {?} marshal\n     */\n    constructor(elRef, styleUtils, styleBuilder, marshal) {\n        super(elRef, styleBuilder, styleUtils, marshal);\n        this.DIRECTIVE_KEY = 'grid-gap';\n        this._inline = false;\n        this.init();\n    }\n    /**\n     * @return {?}\n     */\n    get inline() { return this._inline; }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    set inline(val) { this._inline = coerceBooleanProperty(val); }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        this.styleCache = this.inline ? gapInlineCache : gapCache;\n        this.addStyles(value, { inline: this.inline });\n    }\n}\nGridGapDirective.ɵfac = function GridGapDirective_Factory(t) { return new (t || GridGapDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(GridGapStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridGapDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridGapDirective, inputs: { inline: [\"gdInline\", \"inline\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridGapDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: GridGapStyleBuilder },\n    { type: MediaMarshaller }\n];\nGridGapDirective.propDecorators = {\n    inline: [{ type: Input, args: ['gdInline',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridGapDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: GridGapStyleBuilder }, { type: ɵngcc1.MediaMarshaller }]; }, { inline: [{\n            type: Input,\n            args: ['gdInline']\n        }] }); })();\n/** @type {?} */\nconst gapCache = new Map();\n/** @type {?} */\nconst gapInlineCache = new Map();\n/** @type {?} */\nconst inputs$8 = [\n    'gdGap',\n    'gdGap.xs', 'gdGap.sm', 'gdGap.md', 'gdGap.lg', 'gdGap.xl',\n    'gdGap.lt-sm', 'gdGap.lt-md', 'gdGap.lt-lg', 'gdGap.lt-xl',\n    'gdGap.gt-xs', 'gdGap.gt-sm', 'gdGap.gt-md', 'gdGap.gt-lg'\n];\n/** @type {?} */\nconst selector$8 = `\n  [gdGap],\n  [gdGap.xs], [gdGap.sm], [gdGap.md], [gdGap.lg], [gdGap.xl],\n  [gdGap.lt-sm], [gdGap.lt-md], [gdGap.lt-lg], [gdGap.lt-xl],\n  [gdGap.gt-xs], [gdGap.gt-sm], [gdGap.gt-md], [gdGap.gt-lg]\n`;\n/**\n * 'grid-gap' CSS Grid styling directive\n * Configures the gap between items in the grid\n * Syntax: <row gap> [<column-gap>]\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-17\n */\nclass DefaultGridGapDirective extends GridGapDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$8;\n    }\n}\nDefaultGridGapDirective.ɵfac = function DefaultGridGapDirective_Factory(t) { return ɵDefaultGridGapDirective_BaseFactory(t || DefaultGridGapDirective); };\nDefaultGridGapDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridGapDirective, selectors: [[\"\", \"gdGap\", \"\"], [\"\", \"gdGap.xs\", \"\"], [\"\", \"gdGap.sm\", \"\"], [\"\", \"gdGap.md\", \"\"], [\"\", \"gdGap.lg\", \"\"], [\"\", \"gdGap.xl\", \"\"], [\"\", \"gdGap.lt-sm\", \"\"], [\"\", \"gdGap.lt-md\", \"\"], [\"\", \"gdGap.lt-lg\", \"\"], [\"\", \"gdGap.lt-xl\", \"\"], [\"\", \"gdGap.gt-xs\", \"\"], [\"\", \"gdGap.gt-sm\", \"\"], [\"\", \"gdGap.gt-md\", \"\"], [\"\", \"gdGap.gt-lg\", \"\"]], inputs: { gdGap: \"gdGap\", \"gdGap.xs\": \"gdGap.xs\", \"gdGap.sm\": \"gdGap.sm\", \"gdGap.md\": \"gdGap.md\", \"gdGap.lg\": \"gdGap.lg\", \"gdGap.xl\": \"gdGap.xl\", \"gdGap.lt-sm\": \"gdGap.lt-sm\", \"gdGap.lt-md\": \"gdGap.lt-md\", \"gdGap.lt-lg\": \"gdGap.lt-lg\", \"gdGap.lt-xl\": \"gdGap.lt-xl\", \"gdGap.gt-xs\": \"gdGap.gt-xs\", \"gdGap.gt-sm\": \"gdGap.gt-sm\", \"gdGap.gt-md\": \"gdGap.gt-md\", \"gdGap.gt-lg\": \"gdGap.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridGapDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridGapDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridGapDirective, [{\n        type: Directive,\n        args: [{ selector: selector$8, inputs: inputs$8 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/row/row.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_VALUE$6 = 'auto';\nclass GridRowStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @return {?}\n     */\n    buildStyles(input) {\n        return { 'grid-row': input || DEFAULT_VALUE$6 };\n    }\n}\nGridRowStyleBuilder.ɵfac = function GridRowStyleBuilder_Factory(t) { return ɵGridRowStyleBuilder_BaseFactory(t || GridRowStyleBuilder); };\n/** @nocollapse */ GridRowStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridRowStyleBuilder_Factory() { return new GridRowStyleBuilder(); }, token: GridRowStyleBuilder, providedIn: \"root\" });\nconst ɵGridRowStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridRowStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridRowStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridRowDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.DIRECTIVE_KEY = 'grid-row';\n        this.styleCache = rowCache;\n        this.init();\n    }\n}\nGridRowDirective.ɵfac = function GridRowDirective_Factory(t) { return new (t || GridRowDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(GridRowStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridRowDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridRowDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridRowDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GridRowStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridRowDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: GridRowStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }]; }, null); })();\n/** @type {?} */\nconst rowCache = new Map();\n/** @type {?} */\nconst inputs$9 = [\n    'gdRow',\n    'gdRow.xs', 'gdRow.sm', 'gdRow.md', 'gdRow.lg', 'gdRow.xl',\n    'gdRow.lt-sm', 'gdRow.lt-md', 'gdRow.lt-lg', 'gdRow.lt-xl',\n    'gdRow.gt-xs', 'gdRow.gt-sm', 'gdRow.gt-md', 'gdRow.gt-lg'\n];\n/** @type {?} */\nconst selector$9 = `\n  [gdRow],\n  [gdRow.xs], [gdRow.sm], [gdRow.md], [gdRow.lg], [gdRow.xl],\n  [gdRow.lt-sm], [gdRow.lt-md], [gdRow.lt-lg], [gdRow.lt-xl],\n  [gdRow.gt-xs], [gdRow.gt-sm], [gdRow.gt-md], [gdRow.gt-lg]\n`;\n/**\n * 'grid-row' CSS Grid styling directive\n * Configures the name or position of an element within the grid\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-26\n */\nclass DefaultGridRowDirective extends GridRowDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$9;\n    }\n}\nDefaultGridRowDirective.ɵfac = function DefaultGridRowDirective_Factory(t) { return ɵDefaultGridRowDirective_BaseFactory(t || DefaultGridRowDirective); };\nDefaultGridRowDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridRowDirective, selectors: [[\"\", \"gdRow\", \"\"], [\"\", \"gdRow.xs\", \"\"], [\"\", \"gdRow.sm\", \"\"], [\"\", \"gdRow.md\", \"\"], [\"\", \"gdRow.lg\", \"\"], [\"\", \"gdRow.xl\", \"\"], [\"\", \"gdRow.lt-sm\", \"\"], [\"\", \"gdRow.lt-md\", \"\"], [\"\", \"gdRow.lt-lg\", \"\"], [\"\", \"gdRow.lt-xl\", \"\"], [\"\", \"gdRow.gt-xs\", \"\"], [\"\", \"gdRow.gt-sm\", \"\"], [\"\", \"gdRow.gt-md\", \"\"], [\"\", \"gdRow.gt-lg\", \"\"]], inputs: { gdRow: \"gdRow\", \"gdRow.xs\": \"gdRow.xs\", \"gdRow.sm\": \"gdRow.sm\", \"gdRow.md\": \"gdRow.md\", \"gdRow.lg\": \"gdRow.lg\", \"gdRow.xl\": \"gdRow.xl\", \"gdRow.lt-sm\": \"gdRow.lt-sm\", \"gdRow.lt-md\": \"gdRow.lt-md\", \"gdRow.lt-lg\": \"gdRow.lt-lg\", \"gdRow.lt-xl\": \"gdRow.lt-xl\", \"gdRow.gt-xs\": \"gdRow.gt-xs\", \"gdRow.gt-sm\": \"gdRow.gt-sm\", \"gdRow.gt-md\": \"gdRow.gt-md\", \"gdRow.gt-lg\": \"gdRow.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridRowDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridRowDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridRowDirective, [{\n        type: Directive,\n        args: [{ selector: selector$9, inputs: inputs$9 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/rows/rows.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_VALUE$7 = 'none';\n/** @type {?} */\nconst AUTO_SPECIFIER$1 = '!';\nclass GridRowsStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} input\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(input, parent) {\n        input = input || DEFAULT_VALUE$7;\n        /** @type {?} */\n        let auto = false;\n        if (input.endsWith(AUTO_SPECIFIER$1)) {\n            input = input.substring(0, input.indexOf(AUTO_SPECIFIER$1));\n            auto = true;\n        }\n        /** @type {?} */\n        const css = {\n            'display': parent.inline ? 'inline-grid' : 'grid',\n            'grid-auto-rows': '',\n            'grid-template-rows': '',\n        };\n        /** @type {?} */\n        const key = (auto ? 'grid-auto-rows' : 'grid-template-rows');\n        css[key] = input;\n        return css;\n    }\n}\nGridRowsStyleBuilder.ɵfac = function GridRowsStyleBuilder_Factory(t) { return ɵGridRowsStyleBuilder_BaseFactory(t || GridRowsStyleBuilder); };\n/** @nocollapse */ GridRowsStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function GridRowsStyleBuilder_Factory() { return new GridRowsStyleBuilder(); }, token: GridRowsStyleBuilder, providedIn: \"root\" });\nconst ɵGridRowsStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GridRowsStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridRowsStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass GridRowsDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.DIRECTIVE_KEY = 'grid-rows';\n        this._inline = false;\n        this.init();\n    }\n    /**\n     * @return {?}\n     */\n    get inline() { return this._inline; }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    set inline(val) { this._inline = coerceBooleanProperty(val); }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        this.styleCache = this.inline ? rowsInlineCache : rowsCache;\n        this.addStyles(value, { inline: this.inline });\n    }\n}\nGridRowsDirective.ɵfac = function GridRowsDirective_Factory(t) { return new (t || GridRowsDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(GridRowsStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller)); };\nGridRowsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GridRowsDirective, inputs: { inline: [\"gdInline\", \"inline\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nGridRowsDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GridRowsStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller }\n];\nGridRowsDirective.propDecorators = {\n    inline: [{ type: Input, args: ['gdInline',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridRowsDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: GridRowsStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }]; }, { inline: [{\n            type: Input,\n            args: ['gdInline']\n        }] }); })();\n/** @type {?} */\nconst rowsCache = new Map();\n/** @type {?} */\nconst rowsInlineCache = new Map();\n/** @type {?} */\nconst inputs$10 = [\n    'gdRows',\n    'gdRows.xs', 'gdRows.sm', 'gdRows.md', 'gdRows.lg', 'gdRows.xl',\n    'gdRows.lt-sm', 'gdRows.lt-md', 'gdRows.lt-lg', 'gdRows.lt-xl',\n    'gdRows.gt-xs', 'gdRows.gt-sm', 'gdRows.gt-md', 'gdRows.gt-lg'\n];\n/** @type {?} */\nconst selector$10 = `\n  [gdRows],\n  [gdRows.xs], [gdRows.sm], [gdRows.md], [gdRows.lg], [gdRows.xl],\n  [gdRows.lt-sm], [gdRows.lt-md], [gdRows.lt-lg], [gdRows.lt-xl],\n  [gdRows.gt-xs], [gdRows.gt-sm], [gdRows.gt-md], [gdRows.gt-lg]\n`;\n/**\n * 'grid-template-rows' CSS Grid styling directive\n * Configures the sizing for the rows in the grid\n * Syntax: <column value> [auto]\n * @see https://css-tricks.com/snippets/css/complete-guide-grid/#article-header-id-13\n */\nclass DefaultGridRowsDirective extends GridRowsDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$10;\n    }\n}\nDefaultGridRowsDirective.ɵfac = function DefaultGridRowsDirective_Factory(t) { return ɵDefaultGridRowsDirective_BaseFactory(t || DefaultGridRowsDirective); };\nDefaultGridRowsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultGridRowsDirective, selectors: [[\"\", \"gdRows\", \"\"], [\"\", \"gdRows.xs\", \"\"], [\"\", \"gdRows.sm\", \"\"], [\"\", \"gdRows.md\", \"\"], [\"\", \"gdRows.lg\", \"\"], [\"\", \"gdRows.xl\", \"\"], [\"\", \"gdRows.lt-sm\", \"\"], [\"\", \"gdRows.lt-md\", \"\"], [\"\", \"gdRows.lt-lg\", \"\"], [\"\", \"gdRows.lt-xl\", \"\"], [\"\", \"gdRows.gt-xs\", \"\"], [\"\", \"gdRows.gt-sm\", \"\"], [\"\", \"gdRows.gt-md\", \"\"], [\"\", \"gdRows.gt-lg\", \"\"]], inputs: { gdRows: \"gdRows\", \"gdRows.xs\": \"gdRows.xs\", \"gdRows.sm\": \"gdRows.sm\", \"gdRows.md\": \"gdRows.md\", \"gdRows.lg\": \"gdRows.lg\", \"gdRows.xl\": \"gdRows.xl\", \"gdRows.lt-sm\": \"gdRows.lt-sm\", \"gdRows.lt-md\": \"gdRows.lt-md\", \"gdRows.lt-lg\": \"gdRows.lt-lg\", \"gdRows.lt-xl\": \"gdRows.lt-xl\", \"gdRows.gt-xs\": \"gdRows.gt-xs\", \"gdRows.gt-sm\": \"gdRows.gt-sm\", \"gdRows.gt-md\": \"gdRows.gt-md\", \"gdRows.gt-lg\": \"gdRows.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultGridRowsDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultGridRowsDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultGridRowsDirective, [{\n        type: Directive,\n        args: [{ selector: selector$10, inputs: inputs$10 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst ALL_DIRECTIVES = [\n    DefaultGridAlignDirective,\n    DefaultGridAlignColumnsDirective,\n    DefaultGridAlignRowsDirective,\n    DefaultGridAreaDirective,\n    DefaultGridAreasDirective,\n    DefaultGridAutoDirective,\n    DefaultGridColumnDirective,\n    DefaultGridColumnsDirective,\n    DefaultGridGapDirective,\n    DefaultGridRowDirective,\n    DefaultGridRowsDirective,\n];\n/**\n * *****************************************************************\n * Define module for the CSS Grid API\n * *****************************************************************\n */\nclass GridModule {\n}\nGridModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: GridModule });\nGridModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function GridModule_Factory(t) { return new (t || GridModule)(); }, imports: [[CoreModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(GridModule, { declarations: function () { return [DefaultGridAlignDirective,\n        DefaultGridAlignColumnsDirective,\n        DefaultGridAlignRowsDirective,\n        DefaultGridAreaDirective,\n        DefaultGridAreasDirective,\n        DefaultGridAutoDirective,\n        DefaultGridColumnDirective,\n        DefaultGridColumnsDirective,\n        DefaultGridGapDirective,\n        DefaultGridRowDirective,\n        DefaultGridRowsDirective]; }, imports: function () { return [CoreModule]; }, exports: function () { return [DefaultGridAlignDirective,\n        DefaultGridAlignColumnsDirective,\n        DefaultGridAlignRowsDirective,\n        DefaultGridAreaDirective,\n        DefaultGridAreasDirective,\n        DefaultGridAutoDirective,\n        DefaultGridColumnDirective,\n        DefaultGridColumnsDirective,\n        DefaultGridGapDirective,\n        DefaultGridRowDirective,\n        DefaultGridRowsDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GridModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule],\n                declarations: [...ALL_DIRECTIVES],\n                exports: [...ALL_DIRECTIVES]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: grid/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { GridModule, DefaultGridAlignColumnsDirective as ɵgrid_privatef, GridAlignColumnsDirective as ɵgrid_privatee, GridAlignColumnsStyleBuilder as ɵgrid_privated, DefaultGridAlignRowsDirective as ɵgrid_privatei, GridAlignRowsDirective as ɵgrid_privateh, GridAlignRowsStyleBuilder as ɵgrid_privateg, DefaultGridAreaDirective as ɵgrid_privatel, GridAreaDirective as ɵgrid_privatek, GridAreaStyleBuilder as ɵgrid_privatej, DefaultGridAreasDirective as ɵgrid_privateo, GridAreasDirective as ɵgrid_privaten, GridAreasStyleBuiler as ɵgrid_privatem, DefaultGridAutoDirective as ɵgrid_privater, GridAutoDirective as ɵgrid_privateq, GridAutoStyleBuilder as ɵgrid_privatep, DefaultGridColumnDirective as ɵgrid_privateu, GridColumnDirective as ɵgrid_privatet, GridColumnStyleBuilder as ɵgrid_privates, DefaultGridColumnsDirective as ɵgrid_privatex, GridColumnsDirective as ɵgrid_privatew, GridColumnsStyleBuilder as ɵgrid_privatev, DefaultGridGapDirective as ɵgrid_privateba, GridGapDirective as ɵgrid_privatez, GridGapStyleBuilder as ɵgrid_privatey, DefaultGridAlignDirective as ɵgrid_privatec, GridAlignDirective as ɵgrid_privateb, GridAlignStyleBuilder as ɵgrid_privatea, DefaultGridRowDirective as ɵgrid_privatebd, GridRowDirective as ɵgrid_privatebc, GridRowStyleBuilder as ɵgrid_privatebb, DefaultGridRowsDirective as ɵgrid_privatebg, GridRowsDirective as ɵgrid_privatebf, GridRowsStyleBuilder as ɵgrid_privatebe };\n\n//# sourceMappingURL=grid.js.map","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Version, Inject, NgModule, PLATFORM_ID } from '@angular/core';\nimport { isPlatformServer } from '@angular/common';\nimport { SERVER_TOKEN, LAYOUT_CONFIG, DEFAULT_CONFIG, BREAKPOINT } from '@angular/flex-layout/core';\nimport * as ɵngcc0 from '@angular/core';\nexport { ɵMatchMedia, ɵMockMatchMedia, ɵMockMatchMediaProvider, CoreModule, removeStyles, BROWSER_PROVIDER, CLASS_NAME, MediaChange, StylesheetMap, DEFAULT_CONFIG, LAYOUT_CONFIG, SERVER_TOKEN, BREAKPOINT, mergeAlias, BaseDirective2, DEFAULT_BREAKPOINTS, ScreenTypes, ORIENTATION_BREAKPOINTS, BreakPointRegistry, BREAKPOINTS, MediaObserver, MediaTrigger, sortDescendingPriority, sortAscendingPriority, coerceArray, StyleUtils, StyleBuilder, validateBasis, MediaMarshaller, BREAKPOINT_PRINT, PrintHook } from '@angular/flex-layout/core';\nimport { ExtendedModule } from '@angular/flex-layout/extended';\nexport { ExtendedModule, ClassDirective, DefaultClassDirective, ImgSrcStyleBuilder, ImgSrcDirective, DefaultImgSrcDirective, ShowHideStyleBuilder, ShowHideDirective, DefaultShowHideDirective, StyleDirective, DefaultStyleDirective } from '@angular/flex-layout/extended';\nimport { FlexModule } from '@angular/flex-layout/flex';\nexport { FlexModule, FlexStyleBuilder, FlexDirective, DefaultFlexDirective, FlexAlignStyleBuilder, FlexAlignDirective, DefaultFlexAlignDirective, FlexFillStyleBuilder, FlexFillDirective, FlexOffsetStyleBuilder, FlexOffsetDirective, DefaultFlexOffsetDirective, FlexOrderStyleBuilder, FlexOrderDirective, DefaultFlexOrderDirective, LayoutStyleBuilder, LayoutDirective, DefaultLayoutDirective, LayoutAlignStyleBuilder, LayoutAlignDirective, DefaultLayoutAlignDirective, LayoutGapStyleBuilder, LayoutGapDirective, DefaultLayoutGapDirective } from '@angular/flex-layout/flex';\nimport { GridModule } from '@angular/flex-layout/grid';\nexport { ɵgrid_privatef, ɵgrid_privatee, ɵgrid_privated, ɵgrid_privatei, ɵgrid_privateh, ɵgrid_privateg, ɵgrid_privatel, ɵgrid_privatek, ɵgrid_privatej, ɵgrid_privateo, ɵgrid_privaten, ɵgrid_privatem, ɵgrid_privater, ɵgrid_privateq, ɵgrid_privatep, ɵgrid_privateu, ɵgrid_privatet, ɵgrid_privates, ɵgrid_privatex, ɵgrid_privatew, ɵgrid_privatev, ɵgrid_privateba, ɵgrid_privatez, ɵgrid_privatey, ɵgrid_privatec, ɵgrid_privateb, ɵgrid_privatea, ɵgrid_privatebd, ɵgrid_privatebc, ɵgrid_privatebb, ɵgrid_privatebg, ɵgrid_privatebf, ɵgrid_privatebe, GridModule } from '@angular/flex-layout/grid';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: version.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Current version of Angular Flex-Layout.\n * @type {?}\n */\nconst VERSION = new Version('9.0.0-beta.29');\n\n/**\n * @fileoverview added by tsickle\n * Generated from: module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * FlexLayoutModule -- the main import for all utilities in the Angular Layout library\n * * Will automatically provide Flex, Grid, and Extended modules for use in the application\n * * Can be configured using the static withConfig method, options viewable on the Wiki's\n *   Configuration page\n */\nclass FlexLayoutModule {\n    /**\n     * @param {?} serverModuleLoaded\n     * @param {?} platformId\n     */\n    constructor(serverModuleLoaded, platformId) {\n        if (isPlatformServer(platformId) && !serverModuleLoaded) {\n            console.warn('Warning: Flex Layout loaded on the server without FlexLayoutServerModule');\n        }\n    }\n    /**\n     * Initialize the FlexLayoutModule with a set of config options,\n     * which sets the corresponding tokens accordingly\n     * @param {?} configOptions\n     * @param {?=} breakpoints\n     * @return {?}\n     */\n    static withConfig(configOptions, breakpoints = []) {\n        return {\n            ngModule: FlexLayoutModule,\n            providers: configOptions.serverLoaded ?\n                [\n                    { provide: LAYOUT_CONFIG, useValue: Object.assign(Object.assign({}, DEFAULT_CONFIG), configOptions) },\n                    { provide: BREAKPOINT, useValue: breakpoints, multi: true },\n                    { provide: SERVER_TOKEN, useValue: true },\n                ] : [\n                { provide: LAYOUT_CONFIG, useValue: Object.assign(Object.assign({}, DEFAULT_CONFIG), configOptions) },\n                { provide: BREAKPOINT, useValue: breakpoints, multi: true },\n            ]\n        };\n    }\n}\nFlexLayoutModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FlexLayoutModule });\nFlexLayoutModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function FlexLayoutModule_Factory(t) { return new (t || FlexLayoutModule)(ɵngcc0.ɵɵinject(SERVER_TOKEN), ɵngcc0.ɵɵinject(PLATFORM_ID)); }, imports: [[FlexModule, ExtendedModule, GridModule],\n        FlexModule, ExtendedModule, GridModule] });\n/** @nocollapse */\nFlexLayoutModule.ctorParameters = () => [\n    { type: Boolean, decorators: [{ type: Inject, args: [SERVER_TOKEN,] }] },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }\n];\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FlexLayoutModule, { imports: function () { return [FlexModule, ExtendedModule, GridModule]; }, exports: function () { return [FlexModule, ExtendedModule, GridModule]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FlexLayoutModule, [{\n        type: NgModule,\n        args: [{\n                imports: [FlexModule, ExtendedModule, GridModule],\n                exports: [FlexModule, ExtendedModule, GridModule]\n            }]\n    }], function () { return [{ type: Boolean, decorators: [{\n                type: Inject,\n                args: [SERVER_TOKEN]\n            }] }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { VERSION, FlexLayoutModule };\n\n//# sourceMappingURL=flex-layout.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\nvar LocalRecorderState;\n(function (LocalRecorderState) {\n    LocalRecorderState[\"READY\"] = \"READY\";\n    LocalRecorderState[\"RECORDING\"] = \"RECORDING\";\n    LocalRecorderState[\"PAUSED\"] = \"PAUSED\";\n    LocalRecorderState[\"FINISHED\"] = \"FINISHED\";\n})(LocalRecorderState = exports.LocalRecorderState || (exports.LocalRecorderState = {}));\n//# sourceMappingURL=LocalRecorderState.js.map","/*!\n * Platform.js <https://mths.be/platform>\n * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>\n * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>\n * Available under MIT license <https://mths.be/mit>\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4':  '10 Technical Preview',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&\n        (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([\n      { 'label': 'EdgeHTML', 'pattern': 'Edge' },\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important). */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Electron',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      { 'label': 'Microsoft Edge', 'pattern': 'Edge' },\n      'Midori',\n      'Nook Browser',\n      'PaleMoon',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' },\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'Sunrise',\n      'Swiftfox',\n      'Waterfox',\n      'WebPositive',\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chrome',\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      { 'label': 'Galaxy S5', 'pattern': 'SM-G900' },\n      { 'label': 'Galaxy S6', 'pattern': 'SM-G920' },\n      { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' },\n      { 'label': 'Galaxy S7', 'pattern': 'SM-G930' },\n      { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nexus',\n      'Nook',\n      'PlayBook',\n      'PlayStation Vita',\n      'PlayStation',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS([\n      'Windows Phone',\n      'Android',\n      'CentOS',\n      { 'label': 'Chrome OS', 'pattern': 'CrOS' },\n      'Debian',\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'OpenBSD',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Tizen',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (\n          value[product] ||\n          value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    }\n    // Clean up Google TV.\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // Detect Kubuntu.\n    else if (name == 'Konqueror' && !/buntu/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // Detect Android browsers.\n    else if ((manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) ||\n        (/\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // Detect Silk desktop/accelerated modes.\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // Detect PaleMoon identifying as Firefox.\n    else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n      description.push('identifying as Firefox ' + data[1]);\n    }\n    // Detect Firefox OS and products running Firefox.\n    else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n      os || (os = 'Firefox OS');\n      product || (product = data[1]);\n    }\n    // Detect false positives for Firefox/Safari.\n    else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // Escape the `/` for Firefox 1.\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // Clear name of false positives.\n        name = null;\n      }\n      // Reassign a generic name.\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // Add Chrome version to description for Electron.\n    else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n      description.push('Chromium ' + data);\n    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$))',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // Detect stubborn layout engines.\n    if ((data =\n          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||\n          layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront'\n        )) {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8.x';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // Detect IE 11 identifying as other browsers.\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (name) {\n        description.push('identifying as ' + name + (version ? ' ' + version : ''));\n      }\n      name = 'IE';\n      version = data[1];\n    }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (rhino) {\n          try {\n            version = context.require('ringo/engine').version.join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if ((data = context.system) && data.global.system == context.system) {\n              name = 'Narwhal';\n              os || (os = data[0].os || null);\n            }\n          }\n          if (!name) {\n            name = 'Rhino';\n          }\n        }\n        else if (\n          typeof context.process == 'object' && !context.process.browser &&\n          (data = context.process)\n        ) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          }\n          if (!name) {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version);\n            version = version ? version[0] : null;\n          }\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // Detect PhantomJS.\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // Detect IE compatibility modes.\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // We're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode.\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      // Detect IE 11 masking as other browsers.\n      else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n        description.push('masking as ' + name + ' ' + version);\n        name = 'IE';\n        version = '11.0';\n        layout = ['Trident'];\n        os = 'Windows';\n      }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // Detect Xbox 360 and Xbox One.\n    else if (/\\bXbox\\b/i.test(product)) {\n      if (product == 'Xbox 360') {\n        os = null;\n      }\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // Add mobile postfix.\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // Detect IE platform preview.\n    else if (name == 'IE' && useFeatures) {\n      try {\n        if (context.external === null) {\n          description.unshift('platform preview');\n        }\n      } catch(e) {\n        description.unshift('embedded');\n      }\n    }\n    // Detect BlackBerry OS version.\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // Detect Opera identifying/masking itself as another browser.\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && product != 'Wii' && (\n          (useFeatures && opera) ||\n          (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n          (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n          (name == 'IE' && (\n            (os && !/^Win/.test(os) && version > 5.5) ||\n            /\\bWindows XP\\b/.test(os) && version > 8 ||\n            version == 8 && !/\\bTrident\\b/.test(ua)\n          ))\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n      // When \"identifying\", the UA contains both Opera and the other browser's name.\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // When \"masking\", the UA contains only the other browser's name.\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // Use the full Chrome version when available.\n      data[1] = (/\\bChrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (\n        os && /^OS X/.test(os.family) &&\n        name == 'Chrome' && parseFloat(version) >= 39\n    ) {\n      os.architecture = 64;\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\", \"SuSE\",\n       * \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    define(function() {\n      return platform;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for CommonJS support.\n    forOwn(platform, function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  else {\n    // Export to the global object.\n    root.platform = platform;\n  }\n}.call(this));\n","module.exports = require('../lib/linkify/plugins/mention').default;\n","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar StreamManager_1 = require(\"./StreamManager\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Packs remote media streams. Participants automatically receive them when others publish their streams. Initialized with [[Session.subscribe]] method\n */\nvar Subscriber = /** @class */ (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @hidden\n     */\n    function Subscriber(stream, targEl, properties) {\n        var _this = _super.call(this, stream, targEl) || this;\n        _this.element = _this.targetElement;\n        _this.stream = stream;\n        _this.properties = properties;\n        return _this;\n    }\n    /**\n     * Subscribe or unsubscribe from the audio stream (if available). Calling this method twice in a row passing same value will have no effect\n     * @param value `true` to subscribe to the audio stream, `false` to unsubscribe from it\n     */\n    Subscriber.prototype.subscribeToAudio = function (value) {\n        this.stream.getMediaStream().getAudioTracks().forEach(function (track) {\n            track.enabled = value;\n        });\n        this.stream.audioActive = value;\n        logger.info(\"'Subscriber' has \" + (value ? 'subscribed to' : 'unsubscribed from') + ' its audio stream');\n        return this;\n    };\n    /**\n     * Subscribe or unsubscribe from the video stream (if available). Calling this method twice in a row passing same value will have no effect\n     * @param value `true` to subscribe to the video stream, `false` to unsubscribe from it\n     */\n    Subscriber.prototype.subscribeToVideo = function (value) {\n        this.stream.getMediaStream().getVideoTracks().forEach(function (track) {\n            track.enabled = value;\n        });\n        this.stream.videoActive = value;\n        logger.info(\"'Subscriber' has \" + (value ? 'subscribed to' : 'unsubscribed from') + ' its video stream');\n        return this;\n    };\n    return Subscriber;\n}(StreamManager_1.StreamManager));\nexports.Subscriber = Subscriber;\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nvar Logger = console;\nvar MAX_RETRIES = 2000;\nvar RETRY_TIME_MS = 3000;\nvar CONNECTING = 0;\nvar OPEN = 1;\nvar CLOSING = 2;\nvar CLOSED = 3;\nfunction WebSocketWithReconnection(config) {\n    var closing = false;\n    var registerMessageHandler;\n    var wsUri = config.uri;\n    var reconnecting = false;\n    var ws = new WebSocket(wsUri);\n    ws.onopen = function () {\n        Logger.debug(\"WebSocket connected to \" + wsUri);\n        if (config.onconnected) {\n            config.onconnected();\n        }\n    };\n    ws.onerror = function (error) {\n        Logger.error(\"Could not connect to \" + wsUri + \" (invoking onerror if defined)\", error);\n        if (config.onerror) {\n            config.onerror(error);\n        }\n    };\n    var reconnectionOnClose = function () {\n        if (ws.readyState === CLOSED) {\n            if (closing) {\n                Logger.debug(\"Connection closed by user\");\n            }\n            else {\n                Logger.debug(\"Connection closed unexpectecly. Reconnecting...\");\n                reconnect(MAX_RETRIES, 1);\n            }\n        }\n        else {\n            Logger.debug(\"Close callback from previous websocket. Ignoring it\");\n        }\n    };\n    ws.onclose = reconnectionOnClose;\n    function reconnect(maxRetries, numRetries) {\n        Logger.debug(\"reconnect (attempt #\" + numRetries + \", max=\" + maxRetries + \")\");\n        if (numRetries === 1) {\n            if (reconnecting) {\n                Logger.warn(\"Trying to reconnect when already reconnecting... Ignoring this reconnection.\");\n                return;\n            }\n            else {\n                reconnecting = true;\n            }\n            if (config.onreconnecting) {\n                config.onreconnecting();\n            }\n        }\n        reconnectAux(maxRetries, numRetries);\n    }\n    function reconnectAux(maxRetries, numRetries) {\n        Logger.debug(\"Reconnection attempt #\" + numRetries);\n        ws.close();\n        ws = new WebSocket(wsUri);\n        ws.onopen = function () {\n            Logger.debug(\"Reconnected to \" + wsUri + \" after \" + numRetries + \" attempts...\");\n            reconnecting = false;\n            registerMessageHandler();\n            if (config.onreconnected()) {\n                config.onreconnected();\n            }\n            ws.onclose = reconnectionOnClose;\n        };\n        ws.onerror = function (error) {\n            Logger.warn(\"Reconnection error: \", error);\n            if (numRetries === maxRetries) {\n                if (config.ondisconnect) {\n                    config.ondisconnect();\n                }\n            }\n            else {\n                setTimeout(function () {\n                    reconnect(maxRetries, numRetries + 1);\n                }, RETRY_TIME_MS);\n            }\n        };\n    }\n    this.close = function () {\n        closing = true;\n        ws.close();\n    };\n    this.reconnectWs = function () {\n        Logger.debug(\"reconnectWs\");\n        reconnect(MAX_RETRIES, 1);\n    };\n    this.send = function (message) {\n        ws.send(message);\n    };\n    this.addEventListener = function (type, callback) {\n        registerMessageHandler = function () {\n            ws.addEventListener(type, callback);\n        };\n        registerMessageHandler();\n    };\n}\nmodule.exports = WebSocketWithReconnection;\n//# sourceMappingURL=webSocketWithReconnection.js.map","import { OverlayModule, OverlayConfig, Overlay } from '@angular/cdk/overlay';\nimport { BasePortalOutlet, CdkPortalOutlet, PortalModule, PortalInjector, ComponentPortal, TemplatePortal } from '@angular/cdk/portal';\nimport { CommonModule } from '@angular/common';\nimport { InjectionToken, Component, ViewEncapsulation, ChangeDetectionStrategy, Inject, NgZone, ElementRef, ChangeDetectorRef, ViewChild, NgModule, TemplateRef, Injectable, Injector, Optional, SkipSelf, ɵɵdefineInjectable, ɵɵinject, INJECTOR } from '@angular/core';\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { LiveAnnouncer } from '@angular/cdk/a11y';\nimport { Breakpoints, BreakpointObserver } from '@angular/cdk/layout';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/snack-bar/snack-bar-ref.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Event that is emitted when a snack bar is dismissed.\n * @record\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@angular/material/button';\nimport * as ɵngcc3 from '@angular/cdk/portal';\nimport * as ɵngcc4 from '@angular/cdk/overlay';\nimport * as ɵngcc5 from '@angular/cdk/a11y';\nimport * as ɵngcc6 from '@angular/cdk/layout';\n\nfunction SimpleSnackBar_div_2_Template(rf, ctx) { if (rf & 1) {\n    const _r2 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 1);\n    ɵngcc0.ɵɵelementStart(1, \"button\", 2);\n    ɵngcc0.ɵɵlistener(\"click\", function SimpleSnackBar_div_2_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r2); const ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.action(); });\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.data.action);\n} }\nfunction MatSnackBarContainer_ng_template_0_Template(rf, ctx) { }\nfunction MatSnackBarDismiss() { }\nif (false) {\n    /**\n     * Whether the snack bar was dismissed using the action button.\n     * @type {?}\n     */\n    MatSnackBarDismiss.prototype.dismissedByAction;\n}\n/**\n * Maximum amount of milliseconds that can be passed into setTimeout.\n * @type {?}\n */\nconst MAX_TIMEOUT = Math.pow(2, 31) - 1;\n/**\n * Reference to a snack bar dispatched from the snack bar service.\n * @template T\n */\nclass MatSnackBarRef {\n    /**\n     * @param {?} containerInstance\n     * @param {?} _overlayRef\n     */\n    constructor(containerInstance, _overlayRef) {\n        this._overlayRef = _overlayRef;\n        /**\n         * Subject for notifying the user that the snack bar has been dismissed.\n         */\n        this._afterDismissed = new Subject();\n        /**\n         * Subject for notifying the user that the snack bar has opened and appeared.\n         */\n        this._afterOpened = new Subject();\n        /**\n         * Subject for notifying the user that the snack bar action was called.\n         */\n        this._onAction = new Subject();\n        /**\n         * Whether the snack bar was dismissed using the action button.\n         */\n        this._dismissedByAction = false;\n        this.containerInstance = containerInstance;\n        // Dismiss snackbar on action.\n        this.onAction().subscribe((/**\n         * @return {?}\n         */\n        () => this.dismiss()));\n        containerInstance._onExit.subscribe((/**\n         * @return {?}\n         */\n        () => this._finishDismiss()));\n    }\n    /**\n     * Dismisses the snack bar.\n     * @return {?}\n     */\n    dismiss() {\n        if (!this._afterDismissed.closed) {\n            this.containerInstance.exit();\n        }\n        clearTimeout(this._durationTimeoutId);\n    }\n    /**\n     * Marks the snackbar action clicked.\n     * @return {?}\n     */\n    dismissWithAction() {\n        if (!this._onAction.closed) {\n            this._dismissedByAction = true;\n            this._onAction.next();\n            this._onAction.complete();\n        }\n    }\n    /**\n     * Marks the snackbar action clicked.\n     * @deprecated Use `dismissWithAction` instead.\n     * \\@breaking-change 8.0.0\n     * @return {?}\n     */\n    closeWithAction() {\n        this.dismissWithAction();\n    }\n    /**\n     * Dismisses the snack bar after some duration\n     * @param {?} duration\n     * @return {?}\n     */\n    _dismissAfter(duration) {\n        // Note that we need to cap the duration to the maximum value for setTimeout, because\n        // it'll revert to 1 if somebody passes in something greater (e.g. `Infinity`). See #17234.\n        this._durationTimeoutId = setTimeout((/**\n         * @return {?}\n         */\n        () => this.dismiss()), Math.min(duration, MAX_TIMEOUT));\n    }\n    /**\n     * Marks the snackbar as opened\n     * @return {?}\n     */\n    _open() {\n        if (!this._afterOpened.closed) {\n            this._afterOpened.next();\n            this._afterOpened.complete();\n        }\n    }\n    /**\n     * Cleans up the DOM after closing.\n     * @private\n     * @return {?}\n     */\n    _finishDismiss() {\n        this._overlayRef.dispose();\n        if (!this._onAction.closed) {\n            this._onAction.complete();\n        }\n        this._afterDismissed.next({ dismissedByAction: this._dismissedByAction });\n        this._afterDismissed.complete();\n        this._dismissedByAction = false;\n    }\n    /**\n     * Gets an observable that is notified when the snack bar is finished closing.\n     * @return {?}\n     */\n    afterDismissed() {\n        return this._afterDismissed.asObservable();\n    }\n    /**\n     * Gets an observable that is notified when the snack bar has opened and appeared.\n     * @return {?}\n     */\n    afterOpened() {\n        return this.containerInstance._onEnter;\n    }\n    /**\n     * Gets an observable that is notified when the snack bar action is called.\n     * @return {?}\n     */\n    onAction() {\n        return this._onAction.asObservable();\n    }\n}\nif (false) {\n    /**\n     * The instance of the component making up the content of the snack bar.\n     * @type {?}\n     */\n    MatSnackBarRef.prototype.instance;\n    /**\n     * The instance of the component making up the content of the snack bar.\n     * \\@docs-private\n     * @type {?}\n     */\n    MatSnackBarRef.prototype.containerInstance;\n    /**\n     * Subject for notifying the user that the snack bar has been dismissed.\n     * @type {?}\n     * @private\n     */\n    MatSnackBarRef.prototype._afterDismissed;\n    /**\n     * Subject for notifying the user that the snack bar has opened and appeared.\n     * @type {?}\n     * @private\n     */\n    MatSnackBarRef.prototype._afterOpened;\n    /**\n     * Subject for notifying the user that the snack bar action was called.\n     * @type {?}\n     * @private\n     */\n    MatSnackBarRef.prototype._onAction;\n    /**\n     * Timeout ID for the duration setTimeout call. Used to clear the timeout if the snackbar is\n     * dismissed before the duration passes.\n     * @type {?}\n     * @private\n     */\n    MatSnackBarRef.prototype._durationTimeoutId;\n    /**\n     * Whether the snack bar was dismissed using the action button.\n     * @type {?}\n     * @private\n     */\n    MatSnackBarRef.prototype._dismissedByAction;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBarRef.prototype._overlayRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/snack-bar/snack-bar-config.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Injection token that can be used to access the data that was passed in to a snack bar.\n * @type {?}\n */\nconst MAT_SNACK_BAR_DATA = new InjectionToken('MatSnackBarData');\n/**\n * Configuration used when opening a snack-bar.\n * @template D\n */\nclass MatSnackBarConfig {\n    constructor() {\n        /**\n         * The politeness level for the MatAriaLiveAnnouncer announcement.\n         */\n        this.politeness = 'assertive';\n        /**\n         * Message to be announced by the LiveAnnouncer. When opening a snackbar without a custom\n         * component or template, the announcement message will default to the specified message.\n         */\n        this.announcementMessage = '';\n        /**\n         * The length of time in milliseconds to wait before automatically dismissing the snack bar.\n         */\n        this.duration = 0;\n        /**\n         * Data being injected into the child component.\n         */\n        this.data = null;\n        /**\n         * The horizontal position to place the snack bar.\n         */\n        this.horizontalPosition = 'center';\n        /**\n         * The vertical position to place the snack bar.\n         */\n        this.verticalPosition = 'bottom';\n    }\n}\nif (false) {\n    /**\n     * The politeness level for the MatAriaLiveAnnouncer announcement.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.politeness;\n    /**\n     * Message to be announced by the LiveAnnouncer. When opening a snackbar without a custom\n     * component or template, the announcement message will default to the specified message.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.announcementMessage;\n    /**\n     * The view container that serves as the parent for the snackbar for the purposes of dependency\n     * injection. Note: this does not affect where the snackbar is inserted in the DOM.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.viewContainerRef;\n    /**\n     * The length of time in milliseconds to wait before automatically dismissing the snack bar.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.duration;\n    /**\n     * Extra CSS classes to be added to the snack bar container.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.panelClass;\n    /**\n     * Text layout direction for the snack bar.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.direction;\n    /**\n     * Data being injected into the child component.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.data;\n    /**\n     * The horizontal position to place the snack bar.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.horizontalPosition;\n    /**\n     * The vertical position to place the snack bar.\n     * @type {?}\n     */\n    MatSnackBarConfig.prototype.verticalPosition;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/snack-bar/simple-snack-bar.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * A component used to open as the default snack bar, matching material spec.\n * This should only be used internally by the snack bar service.\n */\nclass SimpleSnackBar {\n    /**\n     * @param {?} snackBarRef\n     * @param {?} data\n     */\n    constructor(snackBarRef, data) {\n        this.snackBarRef = snackBarRef;\n        this.data = data;\n    }\n    /**\n     * Performs the action on the snack bar.\n     * @return {?}\n     */\n    action() {\n        this.snackBarRef.dismissWithAction();\n    }\n    /**\n     * If the action button should be shown.\n     * @return {?}\n     */\n    get hasAction() {\n        return !!this.data.action;\n    }\n}\nSimpleSnackBar.ɵfac = function SimpleSnackBar_Factory(t) { return new (t || SimpleSnackBar)(ɵngcc0.ɵɵdirectiveInject(MatSnackBarRef), ɵngcc0.ɵɵdirectiveInject(MAT_SNACK_BAR_DATA)); };\nSimpleSnackBar.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: SimpleSnackBar, selectors: [[\"simple-snack-bar\"]], hostAttrs: [1, \"mat-simple-snackbar\"], decls: 3, vars: 2, consts: [[\"class\", \"mat-simple-snackbar-action\", 4, \"ngIf\"], [1, \"mat-simple-snackbar-action\"], [\"mat-button\", \"\", 3, \"click\"]], template: function SimpleSnackBar_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"span\");\n        ɵngcc0.ɵɵtext(1);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(2, SimpleSnackBar_div_2_Template, 3, 1, \"div\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate(ctx.data.message);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasAction);\n    } }, directives: [ɵngcc1.NgIf, ɵngcc2.MatButton], styles: [\".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\\n\"], encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nSimpleSnackBar.ctorParameters = () => [\n    { type: MatSnackBarRef },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_SNACK_BAR_DATA,] }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SimpleSnackBar, [{\n        type: Component,\n        args: [{\n                selector: 'simple-snack-bar',\n                template: \"<span>{{data.message}}</span>\\n<div class=\\\"mat-simple-snackbar-action\\\"  *ngIf=\\\"hasAction\\\">\\n  <button mat-button (click)=\\\"action()\\\">{{data.action}}</button>\\n</div>\\n\",\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                host: {\n                    'class': 'mat-simple-snackbar'\n                },\n                styles: [\".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\\n\"]\n            }]\n    }], function () { return [{ type: MatSnackBarRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_SNACK_BAR_DATA]\n            }] }]; }, null); })();\nif (false) {\n    /**\n     * Data that was injected into the snack bar.\n     * @type {?}\n     */\n    SimpleSnackBar.prototype.data;\n    /** @type {?} */\n    SimpleSnackBar.prototype.snackBarRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/snack-bar/snack-bar-animations.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Animations used by the Material snack bar.\n * \\@docs-private\n * @type {?}\n */\nconst matSnackBarAnimations = {\n    /**\n     * Animation that shows and hides a snack bar.\n     */\n    snackBarState: trigger('state', [\n        state('void, hidden', style({\n            transform: 'scale(0.8)',\n            opacity: 0,\n        })),\n        state('visible', style({\n            transform: 'scale(1)',\n            opacity: 1,\n        })),\n        transition('* => visible', animate('150ms cubic-bezier(0, 0, 0.2, 1)')),\n        transition('* => void, * => hidden', animate('75ms cubic-bezier(0.4, 0.0, 1, 1)', style({\n            opacity: 0\n        }))),\n    ])\n};\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/snack-bar/snack-bar-container.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Internal component that wraps user-provided snack bar content.\n * \\@docs-private\n */\nclass MatSnackBarContainer extends BasePortalOutlet {\n    /**\n     * @param {?} _ngZone\n     * @param {?} _elementRef\n     * @param {?} _changeDetectorRef\n     * @param {?} snackBarConfig\n     */\n    constructor(_ngZone, _elementRef, _changeDetectorRef, snackBarConfig) {\n        super();\n        this._ngZone = _ngZone;\n        this._elementRef = _elementRef;\n        this._changeDetectorRef = _changeDetectorRef;\n        this.snackBarConfig = snackBarConfig;\n        /**\n         * Whether the component has been destroyed.\n         */\n        this._destroyed = false;\n        /**\n         * Subject for notifying that the snack bar has exited from view.\n         */\n        this._onExit = new Subject();\n        /**\n         * Subject for notifying that the snack bar has finished entering the view.\n         */\n        this._onEnter = new Subject();\n        /**\n         * The state of the snack bar animations.\n         */\n        this._animationState = 'void';\n        /**\n         * Attaches a DOM portal to the snack bar container.\n         * @deprecated To be turned into a method.\n         * \\@breaking-change 10.0.0\n         */\n        this.attachDomPortal = (/**\n         * @param {?} portal\n         * @return {?}\n         */\n        (portal) => {\n            this._assertNotAttached();\n            this._applySnackBarClasses();\n            return this._portalOutlet.attachDomPortal(portal);\n        });\n        // Based on the ARIA spec, `alert` and `status` roles have an\n        // implicit `assertive` and `polite` politeness respectively.\n        if (snackBarConfig.politeness === 'assertive' && !snackBarConfig.announcementMessage) {\n            this._role = 'alert';\n        }\n        else if (snackBarConfig.politeness === 'off') {\n            this._role = null;\n        }\n        else {\n            this._role = 'status';\n        }\n    }\n    /**\n     * Attach a component portal as content to this snack bar container.\n     * @template T\n     * @param {?} portal\n     * @return {?}\n     */\n    attachComponentPortal(portal) {\n        this._assertNotAttached();\n        this._applySnackBarClasses();\n        return this._portalOutlet.attachComponentPortal(portal);\n    }\n    /**\n     * Attach a template portal as content to this snack bar container.\n     * @template C\n     * @param {?} portal\n     * @return {?}\n     */\n    attachTemplatePortal(portal) {\n        this._assertNotAttached();\n        this._applySnackBarClasses();\n        return this._portalOutlet.attachTemplatePortal(portal);\n    }\n    /**\n     * Handle end of animations, updating the state of the snackbar.\n     * @param {?} event\n     * @return {?}\n     */\n    onAnimationEnd(event) {\n        const { fromState, toState } = event;\n        if ((toState === 'void' && fromState !== 'void') || toState === 'hidden') {\n            this._completeExit();\n        }\n        if (toState === 'visible') {\n            // Note: we shouldn't use `this` inside the zone callback,\n            // because it can cause a memory leak.\n            /** @type {?} */\n            const onEnter = this._onEnter;\n            this._ngZone.run((/**\n             * @return {?}\n             */\n            () => {\n                onEnter.next();\n                onEnter.complete();\n            }));\n        }\n    }\n    /**\n     * Begin animation of snack bar entrance into view.\n     * @return {?}\n     */\n    enter() {\n        if (!this._destroyed) {\n            this._animationState = 'visible';\n            this._changeDetectorRef.detectChanges();\n        }\n    }\n    /**\n     * Begin animation of the snack bar exiting from view.\n     * @return {?}\n     */\n    exit() {\n        // Note: this one transitions to `hidden`, rather than `void`, in order to handle the case\n        // where multiple snack bars are opened in quick succession (e.g. two consecutive calls to\n        // `MatSnackBar.open`).\n        this._animationState = 'hidden';\n        // Mark this element with an 'exit' attribute to indicate that the snackbar has\n        // been dismissed and will soon be removed from the DOM. This is used by the snackbar\n        // test harness.\n        this._elementRef.nativeElement.setAttribute('mat-exit', '');\n        return this._onExit;\n    }\n    /**\n     * Makes sure the exit callbacks have been invoked when the element is destroyed.\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._destroyed = true;\n        this._completeExit();\n    }\n    /**\n     * Waits for the zone to settle before removing the element. Helps prevent\n     * errors where we end up removing an element which is in the middle of an animation.\n     * @private\n     * @return {?}\n     */\n    _completeExit() {\n        this._ngZone.onMicrotaskEmpty.asObservable().pipe(take(1)).subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this._onExit.next();\n            this._onExit.complete();\n        }));\n    }\n    /**\n     * Applies the various positioning and user-configured CSS classes to the snack bar.\n     * @private\n     * @return {?}\n     */\n    _applySnackBarClasses() {\n        /** @type {?} */\n        const element = this._elementRef.nativeElement;\n        /** @type {?} */\n        const panelClasses = this.snackBarConfig.panelClass;\n        if (panelClasses) {\n            if (Array.isArray(panelClasses)) {\n                // Note that we can't use a spread here, because IE doesn't support multiple arguments.\n                panelClasses.forEach((/**\n                 * @param {?} cssClass\n                 * @return {?}\n                 */\n                cssClass => element.classList.add(cssClass)));\n            }\n            else {\n                element.classList.add(panelClasses);\n            }\n        }\n        if (this.snackBarConfig.horizontalPosition === 'center') {\n            element.classList.add('mat-snack-bar-center');\n        }\n        if (this.snackBarConfig.verticalPosition === 'top') {\n            element.classList.add('mat-snack-bar-top');\n        }\n    }\n    /**\n     * Asserts that no content is already attached to the container.\n     * @private\n     * @return {?}\n     */\n    _assertNotAttached() {\n        if (this._portalOutlet.hasAttached()) {\n            throw Error('Attempting to attach snack bar content after content is already attached');\n        }\n    }\n}\nMatSnackBarContainer.ɵfac = function MatSnackBarContainer_Factory(t) { return new (t || MatSnackBarContainer)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(MatSnackBarConfig)); };\nMatSnackBarContainer.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatSnackBarContainer, selectors: [[\"snack-bar-container\"]], viewQuery: function MatSnackBarContainer_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticViewQuery(CdkPortalOutlet, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._portalOutlet = _t.first);\n    } }, hostAttrs: [1, \"mat-snack-bar-container\"], hostVars: 2, hostBindings: function MatSnackBarContainer_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵcomponentHostSyntheticListener(\"@state.done\", function MatSnackBarContainer_animation_state_done_HostBindingHandler($event) { return ctx.onAnimationEnd($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"role\", ctx._role);\n        ɵngcc0.ɵɵupdateSyntheticHostBinding(\"@state\", ctx._animationState);\n    } }, features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 1, vars: 0, consts: [[\"cdkPortalOutlet\", \"\"]], template: function MatSnackBarContainer_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, MatSnackBarContainer_ng_template_0_Template, 0, 0, \"ng-template\", 0);\n    } }, directives: [ɵngcc3.CdkPortalOutlet], styles: [\".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\\n\"], encapsulation: 2, data: { animation: [matSnackBarAnimations.snackBarState] } });\n/** @nocollapse */\nMatSnackBarContainer.ctorParameters = () => [\n    { type: NgZone },\n    { type: ElementRef },\n    { type: ChangeDetectorRef },\n    { type: MatSnackBarConfig }\n];\nMatSnackBarContainer.propDecorators = {\n    _portalOutlet: [{ type: ViewChild, args: [CdkPortalOutlet, { static: true },] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatSnackBarContainer, [{\n        type: Component,\n        args: [{\n                selector: 'snack-bar-container',\n                template: \"<ng-template cdkPortalOutlet></ng-template>\\n\",\n                // In Ivy embedded views will be change detected from their declaration place, rather than\n                // where they were stamped out. This means that we can't have the snack bar container be OnPush,\n                // because it might cause snack bars that were opened from a template not to be out of date.\n                // tslint:disable-next-line:validate-decorators\n                changeDetection: ChangeDetectionStrategy.Default,\n                encapsulation: ViewEncapsulation.None,\n                animations: [matSnackBarAnimations.snackBarState],\n                host: {\n                    '[attr.role]': '_role',\n                    'class': 'mat-snack-bar-container',\n                    '[@state]': '_animationState',\n                    '(@state.done)': 'onAnimationEnd($event)'\n                },\n                styles: [\".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: MatSnackBarConfig }]; }, { _portalOutlet: [{\n            type: ViewChild,\n            args: [CdkPortalOutlet, { static: true }]\n        }] }); })();\nif (false) {\n    /**\n     * Whether the component has been destroyed.\n     * @type {?}\n     * @private\n     */\n    MatSnackBarContainer.prototype._destroyed;\n    /**\n     * The portal outlet inside of this container into which the snack bar content will be loaded.\n     * @type {?}\n     */\n    MatSnackBarContainer.prototype._portalOutlet;\n    /**\n     * Subject for notifying that the snack bar has exited from view.\n     * @type {?}\n     */\n    MatSnackBarContainer.prototype._onExit;\n    /**\n     * Subject for notifying that the snack bar has finished entering the view.\n     * @type {?}\n     */\n    MatSnackBarContainer.prototype._onEnter;\n    /**\n     * The state of the snack bar animations.\n     * @type {?}\n     */\n    MatSnackBarContainer.prototype._animationState;\n    /**\n     * ARIA role for the snack bar container.\n     * @type {?}\n     */\n    MatSnackBarContainer.prototype._role;\n    /**\n     * Attaches a DOM portal to the snack bar container.\n     * @deprecated To be turned into a method.\n     * \\@breaking-change 10.0.0\n     * @type {?}\n     */\n    MatSnackBarContainer.prototype.attachDomPortal;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBarContainer.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBarContainer.prototype._elementRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBarContainer.prototype._changeDetectorRef;\n    /**\n     * The snack bar configuration.\n     * @type {?}\n     */\n    MatSnackBarContainer.prototype.snackBarConfig;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/snack-bar/snack-bar-module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass MatSnackBarModule {\n}\nMatSnackBarModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: MatSnackBarModule });\nMatSnackBarModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function MatSnackBarModule_Factory(t) { return new (t || MatSnackBarModule)(); }, imports: [[\n            OverlayModule,\n            PortalModule,\n            CommonModule,\n            MatButtonModule,\n            MatCommonModule,\n        ],\n        MatCommonModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MatSnackBarModule, { declarations: function () { return [MatSnackBarContainer,\n        SimpleSnackBar]; }, imports: function () { return [OverlayModule,\n        PortalModule,\n        CommonModule,\n        MatButtonModule,\n        MatCommonModule]; }, exports: function () { return [MatSnackBarContainer,\n        MatCommonModule]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatSnackBarModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    OverlayModule,\n                    PortalModule,\n                    CommonModule,\n                    MatButtonModule,\n                    MatCommonModule,\n                ],\n                exports: [MatSnackBarContainer, MatCommonModule],\n                declarations: [MatSnackBarContainer, SimpleSnackBar],\n                entryComponents: [MatSnackBarContainer, SimpleSnackBar]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/snack-bar/snack-bar.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Injection token that can be used to specify default snack bar.\n * @type {?}\n */\nconst MAT_SNACK_BAR_DEFAULT_OPTIONS = new InjectionToken('mat-snack-bar-default-options', {\n    providedIn: 'root',\n    factory: MAT_SNACK_BAR_DEFAULT_OPTIONS_FACTORY,\n});\n/**\n * \\@docs-private\n * @return {?}\n */\nfunction MAT_SNACK_BAR_DEFAULT_OPTIONS_FACTORY() {\n    return new MatSnackBarConfig();\n}\n/**\n * Service to dispatch Material Design snack bar messages.\n */\nclass MatSnackBar {\n    /**\n     * @param {?} _overlay\n     * @param {?} _live\n     * @param {?} _injector\n     * @param {?} _breakpointObserver\n     * @param {?} _parentSnackBar\n     * @param {?} _defaultConfig\n     */\n    constructor(_overlay, _live, _injector, _breakpointObserver, _parentSnackBar, _defaultConfig) {\n        this._overlay = _overlay;\n        this._live = _live;\n        this._injector = _injector;\n        this._breakpointObserver = _breakpointObserver;\n        this._parentSnackBar = _parentSnackBar;\n        this._defaultConfig = _defaultConfig;\n        /**\n         * Reference to the current snack bar in the view *at this level* (in the Angular injector tree).\n         * If there is a parent snack-bar service, all operations should delegate to that parent\n         * via `_openedSnackBarRef`.\n         */\n        this._snackBarRefAtThisLevel = null;\n    }\n    /**\n     * Reference to the currently opened snackbar at *any* level.\n     * @return {?}\n     */\n    get _openedSnackBarRef() {\n        /** @type {?} */\n        const parent = this._parentSnackBar;\n        return parent ? parent._openedSnackBarRef : this._snackBarRefAtThisLevel;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set _openedSnackBarRef(value) {\n        if (this._parentSnackBar) {\n            this._parentSnackBar._openedSnackBarRef = value;\n        }\n        else {\n            this._snackBarRefAtThisLevel = value;\n        }\n    }\n    /**\n     * Creates and dispatches a snack bar with a custom component for the content, removing any\n     * currently opened snack bars.\n     *\n     * @template T\n     * @param {?} component Component to be instantiated.\n     * @param {?=} config Extra configuration for the snack bar.\n     * @return {?}\n     */\n    openFromComponent(component, config) {\n        return (/** @type {?} */ (this._attach(component, config)));\n    }\n    /**\n     * Creates and dispatches a snack bar with a custom template for the content, removing any\n     * currently opened snack bars.\n     *\n     * @param {?} template Template to be instantiated.\n     * @param {?=} config Extra configuration for the snack bar.\n     * @return {?}\n     */\n    openFromTemplate(template, config) {\n        return this._attach(template, config);\n    }\n    /**\n     * Opens a snackbar with a message and an optional action.\n     * @param {?} message The message to show in the snackbar.\n     * @param {?=} action The label for the snackbar action.\n     * @param {?=} config Additional configuration options for the snackbar.\n     * @return {?}\n     */\n    open(message, action = '', config) {\n        /** @type {?} */\n        const _config = Object.assign(Object.assign({}, this._defaultConfig), config);\n        // Since the user doesn't have access to the component, we can\n        // override the data to pass in our own message and action.\n        _config.data = { message, action };\n        if (!_config.announcementMessage) {\n            _config.announcementMessage = message;\n        }\n        return this.openFromComponent(SimpleSnackBar, _config);\n    }\n    /**\n     * Dismisses the currently-visible snack bar.\n     * @return {?}\n     */\n    dismiss() {\n        if (this._openedSnackBarRef) {\n            this._openedSnackBarRef.dismiss();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        // Only dismiss the snack bar at the current level on destroy.\n        if (this._snackBarRefAtThisLevel) {\n            this._snackBarRefAtThisLevel.dismiss();\n        }\n    }\n    /**\n     * Attaches the snack bar container component to the overlay.\n     * @private\n     * @param {?} overlayRef\n     * @param {?} config\n     * @return {?}\n     */\n    _attachSnackBarContainer(overlayRef, config) {\n        /** @type {?} */\n        const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n        /** @type {?} */\n        const injector = new PortalInjector(userInjector || this._injector, new WeakMap([\n            [MatSnackBarConfig, config]\n        ]));\n        /** @type {?} */\n        const containerPortal = new ComponentPortal(MatSnackBarContainer, config.viewContainerRef, injector);\n        /** @type {?} */\n        const containerRef = overlayRef.attach(containerPortal);\n        containerRef.instance.snackBarConfig = config;\n        return containerRef.instance;\n    }\n    /**\n     * Places a new component or a template as the content of the snack bar container.\n     * @private\n     * @template T\n     * @param {?} content\n     * @param {?=} userConfig\n     * @return {?}\n     */\n    _attach(content, userConfig) {\n        /** @type {?} */\n        const config = Object.assign(Object.assign(Object.assign({}, new MatSnackBarConfig()), this._defaultConfig), userConfig);\n        /** @type {?} */\n        const overlayRef = this._createOverlay(config);\n        /** @type {?} */\n        const container = this._attachSnackBarContainer(overlayRef, config);\n        /** @type {?} */\n        const snackBarRef = new MatSnackBarRef(container, overlayRef);\n        if (content instanceof TemplateRef) {\n            /** @type {?} */\n            const portal = new TemplatePortal(content, (/** @type {?} */ (null)), (/** @type {?} */ ({\n                $implicit: config.data,\n                snackBarRef\n            })));\n            snackBarRef.instance = container.attachTemplatePortal(portal);\n        }\n        else {\n            /** @type {?} */\n            const injector = this._createInjector(config, snackBarRef);\n            /** @type {?} */\n            const portal = new ComponentPortal(content, undefined, injector);\n            /** @type {?} */\n            const contentRef = container.attachComponentPortal(portal);\n            // We can't pass this via the injector, because the injector is created earlier.\n            snackBarRef.instance = contentRef.instance;\n        }\n        // Subscribe to the breakpoint observer and attach the mat-snack-bar-handset class as\n        // appropriate. This class is applied to the overlay element because the overlay must expand to\n        // fill the width of the screen for full width snackbars.\n        this._breakpointObserver.observe(Breakpoints.HandsetPortrait).pipe(takeUntil(overlayRef.detachments())).subscribe((/**\n         * @param {?} state\n         * @return {?}\n         */\n        state => {\n            /** @type {?} */\n            const classList = overlayRef.overlayElement.classList;\n            /** @type {?} */\n            const className = 'mat-snack-bar-handset';\n            state.matches ? classList.add(className) : classList.remove(className);\n        }));\n        this._animateSnackBar(snackBarRef, config);\n        this._openedSnackBarRef = snackBarRef;\n        return this._openedSnackBarRef;\n    }\n    /**\n     * Animates the old snack bar out and the new one in.\n     * @private\n     * @param {?} snackBarRef\n     * @param {?} config\n     * @return {?}\n     */\n    _animateSnackBar(snackBarRef, config) {\n        // When the snackbar is dismissed, clear the reference to it.\n        snackBarRef.afterDismissed().subscribe((/**\n         * @return {?}\n         */\n        () => {\n            // Clear the snackbar ref if it hasn't already been replaced by a newer snackbar.\n            if (this._openedSnackBarRef == snackBarRef) {\n                this._openedSnackBarRef = null;\n            }\n            if (config.announcementMessage) {\n                this._live.clear();\n            }\n        }));\n        if (this._openedSnackBarRef) {\n            // If a snack bar is already in view, dismiss it and enter the\n            // new snack bar after exit animation is complete.\n            this._openedSnackBarRef.afterDismissed().subscribe((/**\n             * @return {?}\n             */\n            () => {\n                snackBarRef.containerInstance.enter();\n            }));\n            this._openedSnackBarRef.dismiss();\n        }\n        else {\n            // If no snack bar is in view, enter the new snack bar.\n            snackBarRef.containerInstance.enter();\n        }\n        // If a dismiss timeout is provided, set up dismiss based on after the snackbar is opened.\n        if (config.duration && config.duration > 0) {\n            snackBarRef.afterOpened().subscribe((/**\n             * @return {?}\n             */\n            () => snackBarRef._dismissAfter((/** @type {?} */ (config.duration)))));\n        }\n        if (config.announcementMessage) {\n            this._live.announce(config.announcementMessage, config.politeness);\n        }\n    }\n    /**\n     * Creates a new overlay and places it in the correct location.\n     * @private\n     * @param {?} config The user-specified snack bar config.\n     * @return {?}\n     */\n    _createOverlay(config) {\n        /** @type {?} */\n        const overlayConfig = new OverlayConfig();\n        overlayConfig.direction = config.direction;\n        /** @type {?} */\n        let positionStrategy = this._overlay.position().global();\n        // Set horizontal position.\n        /** @type {?} */\n        const isRtl = config.direction === 'rtl';\n        /** @type {?} */\n        const isLeft = (config.horizontalPosition === 'left' ||\n            (config.horizontalPosition === 'start' && !isRtl) ||\n            (config.horizontalPosition === 'end' && isRtl));\n        /** @type {?} */\n        const isRight = !isLeft && config.horizontalPosition !== 'center';\n        if (isLeft) {\n            positionStrategy.left('0');\n        }\n        else if (isRight) {\n            positionStrategy.right('0');\n        }\n        else {\n            positionStrategy.centerHorizontally();\n        }\n        // Set horizontal position.\n        if (config.verticalPosition === 'top') {\n            positionStrategy.top('0');\n        }\n        else {\n            positionStrategy.bottom('0');\n        }\n        overlayConfig.positionStrategy = positionStrategy;\n        return this._overlay.create(overlayConfig);\n    }\n    /**\n     * Creates an injector to be used inside of a snack bar component.\n     * @private\n     * @template T\n     * @param {?} config Config that was used to create the snack bar.\n     * @param {?} snackBarRef Reference to the snack bar.\n     * @return {?}\n     */\n    _createInjector(config, snackBarRef) {\n        /** @type {?} */\n        const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n        return new PortalInjector(userInjector || this._injector, new WeakMap([\n            [MatSnackBarRef, snackBarRef],\n            [MAT_SNACK_BAR_DATA, config.data]\n        ]));\n    }\n}\nMatSnackBar.ɵfac = function MatSnackBar_Factory(t) { return new (t || MatSnackBar)(ɵngcc0.ɵɵinject(ɵngcc4.Overlay), ɵngcc0.ɵɵinject(ɵngcc5.LiveAnnouncer), ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(ɵngcc6.BreakpointObserver), ɵngcc0.ɵɵinject(MatSnackBar, 12), ɵngcc0.ɵɵinject(MAT_SNACK_BAR_DEFAULT_OPTIONS)); };\n/** @nocollapse */\nMatSnackBar.ctorParameters = () => [\n    { type: Overlay },\n    { type: LiveAnnouncer },\n    { type: Injector },\n    { type: BreakpointObserver },\n    { type: MatSnackBar, decorators: [{ type: Optional }, { type: SkipSelf }] },\n    { type: MatSnackBarConfig, decorators: [{ type: Inject, args: [MAT_SNACK_BAR_DEFAULT_OPTIONS,] }] }\n];\n/** @nocollapse */ MatSnackBar.ɵprov = ɵɵdefineInjectable({ factory: function MatSnackBar_Factory() { return new MatSnackBar(ɵɵinject(Overlay), ɵɵinject(LiveAnnouncer), ɵɵinject(INJECTOR), ɵɵinject(BreakpointObserver), ɵɵinject(MatSnackBar, 12), ɵɵinject(MAT_SNACK_BAR_DEFAULT_OPTIONS)); }, token: MatSnackBar, providedIn: MatSnackBarModule });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatSnackBar, [{\n        type: Injectable,\n        args: [{ providedIn: MatSnackBarModule }]\n    }], function () { return [{ type: ɵngcc4.Overlay }, { type: ɵngcc5.LiveAnnouncer }, { type: ɵngcc0.Injector }, { type: ɵngcc6.BreakpointObserver }, { type: MatSnackBar, decorators: [{\n                type: Optional\n            }, {\n                type: SkipSelf\n            }] }, { type: MatSnackBarConfig, decorators: [{\n                type: Inject,\n                args: [MAT_SNACK_BAR_DEFAULT_OPTIONS]\n            }] }]; }, null); })();\nif (false) {\n    /**\n     * Reference to the current snack bar in the view *at this level* (in the Angular injector tree).\n     * If there is a parent snack-bar service, all operations should delegate to that parent\n     * via `_openedSnackBarRef`.\n     * @type {?}\n     * @private\n     */\n    MatSnackBar.prototype._snackBarRefAtThisLevel;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBar.prototype._overlay;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBar.prototype._live;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBar.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBar.prototype._breakpointObserver;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBar.prototype._parentSnackBar;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSnackBar.prototype._defaultConfig;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/snack-bar/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_SNACK_BAR_DATA, MAT_SNACK_BAR_DEFAULT_OPTIONS, MAT_SNACK_BAR_DEFAULT_OPTIONS_FACTORY, MatSnackBar, MatSnackBarConfig, MatSnackBarContainer, MatSnackBarModule, MatSnackBarRef, SimpleSnackBar, matSnackBarAnimations };\n\n//# sourceMappingURL=snack-bar.js.map","module.exports = require('./lib/linkify');\n","/**\n  # normalice\n\n  Normalize an ice server configuration object (or plain old string) into a format\n  that is usable in all browsers supporting WebRTC.  Primarily this module is designed\n  to help with the transition of the `url` attribute of the configuration object to\n  the `urls` attribute.\n\n  ## Example Usage\n\n  <<< examples/simple.js\n\n**/\n\nvar protocols = [\n  'stun:',\n  'turn:'\n];\n\nmodule.exports = function(input) {\n  var url = (input || {}).url || input;\n  var protocol;\n  var parts;\n  var output = {};\n\n  // if we don't have a string url, then allow the input to passthrough\n  if (typeof url != 'string' && (! (url instanceof String))) {\n    return input;\n  }\n\n  // trim the url string, and convert to an array\n  url = url.trim();\n\n  // if the protocol is not known, then passthrough\n  protocol = protocols[protocols.indexOf(url.slice(0, 5))];\n  if (! protocol) {\n    return input;\n  }\n\n  // now let's attack the remaining url parts\n  url = url.slice(5);\n  parts = url.split('@');\n\n  output.username = input.username;\n  output.credential = input.credential;\n  // if we have an authentication part, then set the credentials\n  if (parts.length > 1) {\n    url = parts[1];\n    parts = parts[0].split(':');\n\n    // add the output credential and username\n    output.username = parts[0];\n    output.credential = (input || {}).credential || parts[1] || '';\n  }\n\n  output.url = protocol + url;\n  output.urls = [ output.url ];\n\n  return output;\n};\n","function pack(message, id) {\n    var result = {\n        jsonrpc: \"2.0\"\n    };\n    if (message.method) {\n        result.method = message.method;\n        if (message.params)\n            result.params = message.params;\n        if (id != undefined)\n            result.id = id;\n    }\n    else if (id != undefined) {\n        if (message.error) {\n            if (message.result !== undefined)\n                throw new TypeError(\"Both result and error are defined\");\n            result.error = message.error;\n        }\n        else if (message.result !== undefined)\n            result.result = message.result;\n        else\n            throw new TypeError(\"No result or error is defined\");\n        result.id = id;\n    }\n    ;\n    return JSON.stringify(result);\n}\n;\nfunction unpack(message) {\n    var result = message;\n    if (typeof message === 'string' || message instanceof String) {\n        result = JSON.parse(message);\n    }\n    var version = result.jsonrpc;\n    if (version !== '2.0')\n        throw new TypeError(\"Invalid JsonRPC version '\" + version + \"': \" + message);\n    if (result.method == undefined) {\n        if (result.id == undefined)\n            throw new TypeError(\"Invalid message: \" + message);\n        var result_defined = result.result !== undefined;\n        var error_defined = result.error !== undefined;\n        if (result_defined && error_defined)\n            throw new TypeError(\"Both result and error are defined: \" + message);\n        if (!result_defined && !error_defined)\n            throw new TypeError(\"No result or error is defined: \" + message);\n        result.ack = result.id;\n        delete result.id;\n    }\n    return result;\n}\n;\nexports.pack = pack;\nexports.unpack = unpack;\n//# sourceMappingURL=JsonRPC.js.map","'use strict';\n\nexports.__esModule = true;\nexports.AMPERSAND = exports.CLOSEPAREN = exports.CLOSEANGLEBRACKET = exports.CLOSEBRACKET = exports.CLOSEBRACE = exports.OPENPAREN = exports.OPENANGLEBRACKET = exports.OPENBRACKET = exports.OPENBRACE = exports.WS = exports.TLD = exports.SYM = exports.UNDERSCORE = exports.SLASH = exports.MAILTO = exports.PROTOCOL = exports.QUERY = exports.POUND = exports.PLUS = exports.NUM = exports.NL = exports.LOCALHOST = exports.PUNCTUATION = exports.DOT = exports.COLON = exports.AT = exports.DOMAIN = exports.Base = undefined;\n\nvar _createTokenClass = require('./create-token-class');\n\nvar _class = require('../../utils/class');\n\n/******************************************************************************\n\tText Tokens\n\tTokens composed of strings\n******************************************************************************/\n\n/**\n\tAbstract class used for manufacturing text tokens.\n\tPass in the value this token represents\n\n\t@class TextToken\n\t@abstract\n*/\nvar TextToken = (0, _createTokenClass.createTokenClass)();\nTextToken.prototype = {\n\ttoString: function toString() {\n\t\treturn this.v + '';\n\t}\n};\n\nfunction inheritsToken(value) {\n\tvar props = value ? { v: value } : {};\n\treturn (0, _class.inherits)(TextToken, (0, _createTokenClass.createTokenClass)(), props);\n}\n\n/**\n\tA valid domain token\n\t@class DOMAIN\n\t@extends TextToken\n*/\nvar DOMAIN = inheritsToken();\n\n/**\n\t@class AT\n\t@extends TextToken\n*/\nvar AT = inheritsToken('@');\n\n/**\n\tRepresents a single colon `:` character\n\n\t@class COLON\n\t@extends TextToken\n*/\nvar COLON = inheritsToken(':');\n\n/**\n\t@class DOT\n\t@extends TextToken\n*/\nvar DOT = inheritsToken('.');\n\n/**\n\tA character class that can surround the URL, but which the URL cannot begin\n\tor end with. Does not include certain English punctuation like parentheses.\n\n\t@class PUNCTUATION\n\t@extends TextToken\n*/\nvar PUNCTUATION = inheritsToken();\n\n/**\n\tThe word localhost (by itself)\n\t@class LOCALHOST\n\t@extends TextToken\n*/\nvar LOCALHOST = inheritsToken();\n\n/**\n\tNewline token\n\t@class NL\n\t@extends TextToken\n*/\nvar NL = inheritsToken('\\n');\n\n/**\n\t@class NUM\n\t@extends TextToken\n*/\nvar NUM = inheritsToken();\n\n/**\n\t@class PLUS\n\t@extends TextToken\n*/\nvar PLUS = inheritsToken('+');\n\n/**\n\t@class POUND\n\t@extends TextToken\n*/\nvar POUND = inheritsToken('#');\n\n/**\n\tRepresents a web URL protocol. Supported types include\n\n\t* `http:`\n\t* `https:`\n\t* `ftp:`\n\t* `ftps:`\n\n\t@class PROTOCOL\n\t@extends TextToken\n*/\nvar PROTOCOL = inheritsToken();\n\n/**\n\tRepresents the start of the email URI protocol\n\n\t@class MAILTO\n\t@extends TextToken\n*/\nvar MAILTO = inheritsToken('mailto:');\n\n/**\n\t@class QUERY\n\t@extends TextToken\n*/\nvar QUERY = inheritsToken('?');\n\n/**\n\t@class SLASH\n\t@extends TextToken\n*/\nvar SLASH = inheritsToken('/');\n\n/**\n\t@class UNDERSCORE\n\t@extends TextToken\n*/\nvar UNDERSCORE = inheritsToken('_');\n\n/**\n\tOne ore more non-whitespace symbol.\n\t@class SYM\n\t@extends TextToken\n*/\nvar SYM = inheritsToken();\n\n/**\n\t@class TLD\n\t@extends TextToken\n*/\nvar TLD = inheritsToken();\n\n/**\n\tRepresents a string of consecutive whitespace characters\n\n\t@class WS\n\t@extends TextToken\n*/\nvar WS = inheritsToken();\n\n/**\n\tOpening/closing bracket classes\n*/\n\nvar OPENBRACE = inheritsToken('{');\nvar OPENBRACKET = inheritsToken('[');\nvar OPENANGLEBRACKET = inheritsToken('<');\nvar OPENPAREN = inheritsToken('(');\nvar CLOSEBRACE = inheritsToken('}');\nvar CLOSEBRACKET = inheritsToken(']');\nvar CLOSEANGLEBRACKET = inheritsToken('>');\nvar CLOSEPAREN = inheritsToken(')');\n\nvar AMPERSAND = inheritsToken('&');\n\nexports.Base = TextToken;\nexports.DOMAIN = DOMAIN;\nexports.AT = AT;\nexports.COLON = COLON;\nexports.DOT = DOT;\nexports.PUNCTUATION = PUNCTUATION;\nexports.LOCALHOST = LOCALHOST;\nexports.NL = NL;\nexports.NUM = NUM;\nexports.PLUS = PLUS;\nexports.POUND = POUND;\nexports.QUERY = QUERY;\nexports.PROTOCOL = PROTOCOL;\nexports.MAILTO = MAILTO;\nexports.SLASH = SLASH;\nexports.UNDERSCORE = UNDERSCORE;\nexports.SYM = SYM;\nexports.TLD = TLD;\nexports.WS = WS;\nexports.OPENBRACE = OPENBRACE;\nexports.OPENBRACKET = OPENBRACKET;\nexports.OPENANGLEBRACKET = OPENANGLEBRACKET;\nexports.OPENPAREN = OPENPAREN;\nexports.CLOSEBRACE = CLOSEBRACE;\nexports.CLOSEBRACKET = CLOSEBRACKET;\nexports.CLOSEANGLEBRACKET = CLOSEANGLEBRACKET;\nexports.CLOSEPAREN = CLOSEPAREN;\nexports.AMPERSAND = AMPERSAND;","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\n/**\n * Defines the following events:\n * - `publisherStartSpeaking`: dispatched by [[Session]] when a remote user has started speaking\n * - `publisherStopSpeaking`: dispatched by [[Session]] when a remote user has stopped speaking\n *\n * More information:\n * - This events will only be triggered for **remote streams that have audio tracks** ([[Stream.hasAudio]] must be true)\n * - You can further configure how the events are dispatched by setting property `publisherSpeakingEventsOptions` in the call of [[OpenVidu.setAdvancedConfiguration]]\n */\nvar PublisherSpeakingEvent = /** @class */ (function (_super) {\n    __extends(PublisherSpeakingEvent, _super);\n    /**\n     * @hidden\n     */\n    function PublisherSpeakingEvent(target, type, connection, streamId) {\n        var _this = _super.call(this, false, target, type) || this;\n        _this.type = type;\n        _this.connection = connection;\n        _this.streamId = streamId;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    // tslint:disable-next-line:no-empty\n    PublisherSpeakingEvent.prototype.callDefaultBehavior = function () { };\n    return PublisherSpeakingEvent;\n}(Event_1.Event));\nexports.PublisherSpeakingEvent = PublisherSpeakingEvent;\n//# sourceMappingURL=PublisherSpeakingEvent.js.map","var WebSocketWithReconnection = require('./webSocketWithReconnection');\nexports.WebSocketWithReconnection = WebSocketWithReconnection;\n//# sourceMappingURL=index.js.map","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { API_URL } from '@core/constants/global';\r\nimport { PostsService } from '@core/services/posts.service';\r\nimport { VideoService } from '@core/services/video.service';\r\n\r\n@Component({\r\n  selector: 'app-upload-file',\r\n  templateUrl: './upload-file.component.html',\r\n  styleUrls: ['./upload-file.component.scss']\r\n})\r\nexport class UploadFileComponent implements OnInit {\r\n\r\n    title = 'Upload File';\r\n\r\n    srcImg;\r\n    showUploadImg = false;\r\n    percentProgressBar = 0;\r\n    fileName = [];\r\n    typeFile = [];\r\n    countUploadFile;\r\n    files = [];\r\n    type;\r\n    showProgressBar = true;\r\n    apiURL = API_URL;\r\n\r\n  constructor(\r\n      public dialogRef: MatDialogRef<UploadFileComponent>,\r\n      @Inject(MAT_DIALOG_DATA) public data: any,\r\n      private postsServices: PostsService,\r\n      private uploadFile: VideoService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n      console.log(this.data);\r\n      this.type = this.data.type;\r\n      this.countUploadFile = this.data.countUploadFile;\r\n      console.log(this.type);\r\n      console.log(this.countUploadFile);\r\n      if (this.data.post) {\r\n          this.title = 'Edit Post';\r\n          this.showProgressBar = false;\r\n          const post = this.data.post;\r\n          const obj = {\r\n              name: post.cover_img,\r\n              type: '',\r\n              src: ''\r\n          };\r\n          if (post.cover_img.includes('image')) {\r\n              obj.type = 'image';\r\n              obj.src = this.apiURL + 'uploads/' + obj.type + 's/' + post.cover_img;\r\n          }\r\n          if (post.cover_img.includes('video')) {\r\n              obj.type = 'video';\r\n              obj.src = this.apiURL + 'uploads/' + obj.type + 's/' + post.cover_img;\r\n          }\r\n          this.files.push(obj);\r\n          this.showUploadImg = true;\r\n          console.log(this.files);\r\n      }\r\n  }\r\n\r\n\r\n    videoUpload(event): any {\r\n        this.showProgressBar = true;\r\n        this.files = [];\r\n        this.percentProgressBar = 0;\r\n        this.showUploadImg = true;\r\n        for (let i = 0; i < event.target.files.length; i++) {\r\n            const fl = event.target.files[i];\r\n            const obj = {\r\n                index: i,\r\n                file: fl,\r\n                name: fl.name,\r\n                type: fl.type,\r\n                src: '',\r\n                duration: null\r\n            };\r\n            this.fileName.push(fl.name);\r\n            this.typeFile.push(fl.type);\r\n            this.files.push(obj);\r\n            if (fl.type.includes('video')) {\r\n                if (this.type === 'image') {\r\n                    this.dialogRef.close('Upload images');\r\n                }\r\n                // tslint:disable-next-line:prefer-for-of\r\n                const audio = new Audio();\r\n                const reader = new FileReader();\r\n                reader.onload = (e) => {\r\n                    const data = e.target.result.toString().length;\r\n                    const bytes = new ArrayBuffer(data);\r\n                    audio.src = e.target.result.toString();\r\n                    audio.addEventListener('loadedmetadata', () => {\r\n                        console.log(audio.duration);\r\n                        this.files[i].duration = audio.duration;\r\n                        // @ts-ignore\r\n                        // this.fd.append('video', obj);\r\n                    }, false);\r\n                    this.progressPercent(e);\r\n                };\r\n                reader.readAsDataURL(fl);\r\n            }\r\n            console.log(fl.type.includes('image'));\r\n            if (fl.type.includes('image')) {\r\n                const reader = new FileReader();\r\n                reader.onload = (e) => {\r\n                    this.srcImg = e.target.result.toString();\r\n                    this.files[i].src = e.target.result.toString();\r\n                    // @ts-ignore\r\n                    // this.fd.append('image', obj);\r\n                    this.progressPercent(e);\r\n                };\r\n                reader.readAsDataURL(fl);\r\n            }\r\n        }\r\n        console.log(this.files);\r\n    }\r\n\r\n    progressPercent(e) {\r\n        const loaded = e.loaded;\r\n        const total = e.total;\r\n        this.percentProgressBar = Number(((loaded / total) * 100).toFixed());\r\n    }\r\n\r\n    saveFile() {\r\n        if (this.data.post) {\r\n            if (this.files[0]?.file === undefined) {\r\n                return this.dialogRef.close('not edit');\r\n            }\r\n            console.log(this.files);\r\n            console.log(this.data.post);\r\n            const obj = {\r\n                id: this.data.post.id,\r\n                group_id: this.data.post.group_id,\r\n                description: this.data.post.description,\r\n                cover_img: this.data.post.cover_img\r\n            };\r\n            const fd = new FormData();\r\n            let type = '';\r\n            this.files.forEach((elem) => {\r\n                if (elem.type.includes('image')) {\r\n                    fd.append('image', elem.file);\r\n                    type = 'image';\r\n                }\r\n                if (elem.type.includes('video')) {\r\n                    fd.append('video', elem.file);\r\n                    type = 'video';\r\n                }\r\n                fd.append('belonging', 'post_img');\r\n                fd.append('duration', elem.duration);\r\n            });\r\n            this.uploadFile.uploadFile(fd, type).subscribe((dt) => {\r\n                console.log(dt);\r\n                obj.cover_img = dt.path;\r\n                this.postsServices.editPosts(obj).subscribe((data) => {\r\n                    console.log(data);\r\n                });\r\n            });\r\n            return this.dialogRef.close();\r\n        }\r\n        this.dialogRef.close(this.files);\r\n    }\r\n\r\n    canselFile(file, i) {\r\n        this.files = this.files.filter((elem) => elem.index !== this.files[i].index);\r\n        console.log(this.files);\r\n    }\r\n\r\n    closedModal() {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n}\r\n","<div class=\"uploadModal\">\r\n    <div class=\"header\">\r\n        <h1>{{title}}</h1>\r\n        <mat-icon class=\"iconClosedModal\" (click)=\"closedModal()\">close</mat-icon>\r\n    </div>\r\n    <div *ngIf=\"(countUploadFile === 'oneFile')\" class=\"inputFile\">\r\n        <button class=\"buttonUpload\" (click)=\"uploadFile.click()\">\r\n            <mat-icon>save_alt</mat-icon>\r\n            <span>Upload</span>\r\n        </button>\r\n        <input type=\"file\" hidden #uploadFile (change)=\"videoUpload($event)\">\r\n    </div>\r\n    <div *ngIf=\"!(countUploadFile === 'oneFile')\" class=\"inputFile\">\r\n        <button class=\"buttonUpload\" (click)=\"uploadFile.click()\">\r\n            <mat-icon>save_alt</mat-icon>\r\n            <span>Upload</span>\r\n        </button>\r\n        <input type=\"file\" hidden multiple #uploadFile (change)=\"videoUpload($event)\">\r\n    </div>\r\n    <div *ngFor=\"let file of files; let i = index\">\r\n        <div *ngIf=\"showUploadImg\" class=\"progressFile\">\r\n            <div class=\"imgAndName\">\r\n                <div class=\"img\">\r\n                    <mat-icon *ngIf=\"file.type.includes('video')\">movie</mat-icon>\r\n                    <img *ngIf=\"file.type.includes('image')\" [src]=\"file.src\" alt=\"\">\r\n                </div>\r\n                <div class=\"name\">{{file.name}}</div>\r\n            </div>\r\n            <div class=\"progressBar\" *ngIf=\"showProgressBar\">\r\n                {{percentProgressBar}}%<mat-progress-bar class=\"matProgressBar\" mode=\"determinate\" [value]=\"percentProgressBar\"></mat-progress-bar>\r\n            </div>\r\n            <div class=\"cancel\" *ngIf=\"showProgressBar\">\r\n                <a>Cancel</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"uploadedFile\">\r\n        <div class=\"headUploaded\">Uploaded Files</div>\r\n        <div *ngFor=\"let file of files; let i=index\">\r\n            <div *ngIf=\"percentProgressBar === 100 || showUploadImg\" class=\"listUploaded\">\r\n                <div class=\"uploadedFileIconName\">\r\n                    <div class=\"icon\">\r\n                        <mat-icon *ngIf=\"file.type.includes('video')\">movie</mat-icon>\r\n                        <img *ngIf=\"file.type.includes('image')\" [src]=\"file.src\" alt=\"\">\r\n                    </div>\r\n                    <div class=\"uploadedFileName\">{{file.name}}</div>\r\n                </div>\r\n                <div class=\"closedUploadedFile\"  (click)=\"canselFile(file, i)\">\r\n                    <mat-icon>close</mat-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"button\">\r\n        <button class=\"canselButton\" (click)=\"closedModal()\">Cancel</button>\r\n        <button class=\"saveButton\" (click)=\"saveFile()\">Save</button>\r\n    </div>\r\n</div>\r\n","function Mapper() {\n    var sources = {};\n    this.forEach = function (callback) {\n        for (var key in sources) {\n            var source = sources[key];\n            for (var key2 in source)\n                callback(source[key2]);\n        }\n        ;\n    };\n    this.get = function (id, source) {\n        var ids = sources[source];\n        if (ids == undefined)\n            return undefined;\n        return ids[id];\n    };\n    this.remove = function (id, source) {\n        var ids = sources[source];\n        if (ids == undefined)\n            return;\n        delete ids[id];\n        for (var i in ids) {\n            return false;\n        }\n        delete sources[source];\n    };\n    this.set = function (value, id, source) {\n        if (value == undefined)\n            return this.remove(id, source);\n        var ids = sources[source];\n        if (ids == undefined)\n            sources[source] = ids = {};\n        ids[id] = value;\n    };\n}\n;\nMapper.prototype.pop = function (id, source) {\n    var value = this.get(id, source);\n    if (value == undefined)\n        return undefined;\n    this.remove(id, source);\n    return value;\n};\nmodule.exports = Mapper;\n//# sourceMappingURL=Mapper.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\nvar Event = /** @class */ (function () {\n    /**\n     * @hidden\n     */\n    function Event(cancelable, target, type) {\n        /**\n         * @hidden\n         */\n        this.hasBeenPrevented = false;\n        this.cancelable = cancelable;\n        this.target = target;\n        this.type = type;\n    }\n    /**\n     * Whether the default beahivour of the event has been prevented or not. Call [[Event.preventDefault]] to prevent it\n     */\n    Event.prototype.isDefaultPrevented = function () {\n        return this.hasBeenPrevented;\n    };\n    /**\n     * Prevents the default behavior of the event. The following events have a default behavior:\n     *\n     * - `sessionDisconnected`: dispatched by [[Session]] object, automatically unsubscribes the leaving participant from every Subscriber object of the session (this includes closing the WebRTCPeer connection and disposing all MediaStreamTracks)\n     * and also deletes any HTML video element associated to each Subscriber (only those created by OpenVidu Browser, either by passing a valid parameter as `targetElement` in method [[Session.subscribe]] or\n     * by calling [[Subscriber.createVideoElement]]). For every video removed, each Subscriber object will also dispatch a `videoElementDestroyed` event.\n     *\n     * - `streamDestroyed`:\n     *   - If dispatched by a [[Publisher]] (*you* have unpublished): automatically stops all media tracks and deletes any HTML video element associated to it (only those created by OpenVidu Browser, either by passing a valid parameter as `targetElement`\n     * in method [[OpenVidu.initPublisher]] or by calling [[Publisher.createVideoElement]]). For every video removed, the Publisher object will also dispatch a `videoElementDestroyed` event.\n     *   - If dispatched by [[Session]] (*other user* has unpublished): automatically unsubscribes the proper Subscriber object from the session (this includes closing the WebRTCPeer connection and disposing all MediaStreamTracks)\n     * and also deletes any HTML video element associated to that Subscriber (only those created by OpenVidu Browser, either by passing a valid parameter as `targetElement` in method [[Session.subscribe]] or\n     * by calling [[Subscriber.createVideoElement]]). For every video removed, the Subscriber object will also dispatch a `videoElementDestroyed` event.\n     */\n    Event.prototype.preventDefault = function () {\n        // tslint:disable-next-line:no-empty\n        this.callDefaultBehavior = function () { };\n        this.hasBeenPrevented = true;\n    };\n    return Event;\n}());\nexports.Event = Event;\n//# sourceMappingURL=Event.js.map","module.exports = require('../lib/linkify/plugins/hashtag').default;\n","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\nvar OpenViduLogger_1 = require(\"../Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Defines event `sessionDisconnected` dispatched by [[Session]] after the local user has left the session. This is the local version of the `connectionDestroyed` event, which is only dispatched by remote users\n */\nvar SessionDisconnectedEvent = /** @class */ (function (_super) {\n    __extends(SessionDisconnectedEvent, _super);\n    /**\n     * @hidden\n     */\n    function SessionDisconnectedEvent(target, reason) {\n        var _this = _super.call(this, true, target, 'sessionDisconnected') || this;\n        _this.reason = reason;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    SessionDisconnectedEvent.prototype.callDefaultBehavior = function () {\n        logger.info(\"Calling default behavior upon '\" + this.type + \"' event dispatched by 'Session'\");\n        var session = this.target;\n        // Dispose and delete all remote Connections\n        for (var connectionId in session.remoteConnections) {\n            if (!!session.remoteConnections[connectionId].stream) {\n                session.remoteConnections[connectionId].stream.disposeWebRtcPeer();\n                session.remoteConnections[connectionId].stream.disposeMediaStream();\n                if (session.remoteConnections[connectionId].stream.streamManager) {\n                    session.remoteConnections[connectionId].stream.streamManager.removeAllVideos();\n                }\n                delete session.remoteStreamsCreated[session.remoteConnections[connectionId].stream.streamId];\n                session.remoteConnections[connectionId].dispose();\n            }\n            delete session.remoteConnections[connectionId];\n        }\n    };\n    return SessionDisconnectedEvent;\n}(Event_1.Event));\nexports.SessionDisconnectedEvent = SessionDisconnectedEvent;\n//# sourceMappingURL=SessionDisconnectedEvent.js.map","module.exports = require('./lib/linkify-string').default;\n","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\n/**\n * Defines the following events:\n * - `videoElementCreated`: dispatched by [[Publisher]] and [[Subscriber]] whenever a new HTML video element has been inserted into DOM by OpenVidu Browser library. See\n * [Manage video players](/en/stable/cheatsheet/manage-videos) section.\n * - `videoElementDestroyed`: dispatched by [[Publisher]] and [[Subscriber]] whenever an HTML video element has been removed from DOM by OpenVidu Browser library.\n */\nvar VideoElementEvent = /** @class */ (function (_super) {\n    __extends(VideoElementEvent, _super);\n    /**\n     * @hidden\n     */\n    function VideoElementEvent(element, target, type) {\n        var _this = _super.call(this, false, target, type) || this;\n        _this.element = element;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    // tslint:disable-next-line:no-empty\n    VideoElementEvent.prototype.callDefaultBehavior = function () { };\n    return VideoElementEvent;\n}(Event_1.Event));\nexports.VideoElementEvent = VideoElementEvent;\n//# sourceMappingURL=VideoElementEvent.js.map","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { APP_BOOTSTRAP_LISTENER, PLATFORM_ID, NgModule, Injectable, InjectionToken, Inject, inject, NgZone, ɵɵdefineInjectable, ɵɵinject } from '@angular/core';\nimport { DOCUMENT, isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { Subject, BehaviorSubject, Observable, merge, asapScheduler, of, fromEvent } from 'rxjs';\nimport { filter, debounceTime, map, switchMap, takeUntil, take, tap } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/browser-provider.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Find all of the server-generated stylings, if any, and remove them\n * This will be in the form of inline classes and the style block in the\n * head of the DOM\n * @param {?} _document\n * @param {?} platformId\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nfunction removeStyles(_document, platformId) {\n    return (/**\n     * @return {?}\n     */\n    () => {\n        if (isPlatformBrowser(platformId)) {\n            /** @type {?} */\n            const elements = Array.from(_document.querySelectorAll(`[class*=${CLASS_NAME}]`));\n            // RegExp constructor should only be used if passing a variable to the constructor.\n            // When using static regular expression it is more performant to use reg exp literal.\n            // This is also needed to provide Safari 9 compatibility, please see\n            // https://stackoverflow.com/questions/37919802 for more discussion.\n            /** @type {?} */\n            const classRegex = /\\bflex-layout-.+?\\b/g;\n            elements.forEach((/**\n             * @param {?} el\n             * @return {?}\n             */\n            el => {\n                el.classList.contains(`${CLASS_NAME}ssr`) && el.parentNode ?\n                    el.parentNode.removeChild(el) : el.className.replace(classRegex, '');\n            }));\n        }\n    });\n}\n/**\n *  Provider to remove SSR styles on the browser\n * @type {?}\n */\nconst BROWSER_PROVIDER = {\n    provide: (/** @type {?} */ (APP_BOOTSTRAP_LISTENER)),\n    useFactory: removeStyles,\n    deps: [DOCUMENT, PLATFORM_ID],\n    multi: true\n};\n/** @type {?} */\nconst CLASS_NAME = 'flex-layout-';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * *****************************************************************\n * Define module for common Angular Layout utilities\n * *****************************************************************\n */\nclass CoreModule {\n}\nCoreModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: CoreModule });\nCoreModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function CoreModule_Factory(t) { return new (t || CoreModule)(); }, providers: [BROWSER_PROVIDER] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CoreModule, [{\n        type: NgModule,\n        args: [{\n                providers: [BROWSER_PROVIDER]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/media-change.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Class instances emitted [to observers] for each mql notification\n */\nclass MediaChange {\n    /**\n     * @param {?=} matches whether the mediaQuery is currently activated\n     * @param {?=} mediaQuery e.g. (min-width: 600px) and (max-width: 959px)\n     * @param {?=} mqAlias e.g. gt-sm, md, gt-lg\n     * @param {?=} suffix e.g. GtSM, Md, GtLg\n     * @param {?=} priority the priority of activation for the given breakpoint\n     */\n    constructor(matches = false, mediaQuery = 'all', mqAlias = '', suffix = '', priority = 0) {\n        this.matches = matches;\n        this.mediaQuery = mediaQuery;\n        this.mqAlias = mqAlias;\n        this.suffix = suffix;\n        this.priority = priority;\n        this.property = '';\n    }\n    /**\n     * Create an exact copy of the MediaChange\n     * @return {?}\n     */\n    clone() {\n        return new MediaChange(this.matches, this.mediaQuery, this.mqAlias, this.suffix);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/stylesheet-map/stylesheet-map.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Utility to emulate a CSS stylesheet\n *\n * This utility class stores all of the styles for a given HTML element\n * as a readonly `stylesheet` map.\n */\nclass StylesheetMap {\n    constructor() {\n        this.stylesheet = new Map();\n    }\n    /**\n     * Add an individual style to an HTML element\n     * @param {?} element\n     * @param {?} style\n     * @param {?} value\n     * @return {?}\n     */\n    addStyleToElement(element, style, value) {\n        /** @type {?} */\n        const stylesheet = this.stylesheet.get(element);\n        if (stylesheet) {\n            stylesheet.set(style, value);\n        }\n        else {\n            this.stylesheet.set(element, new Map([[style, value]]));\n        }\n    }\n    /**\n     * Clear the virtual stylesheet\n     * @return {?}\n     */\n    clearStyles() {\n        this.stylesheet.clear();\n    }\n    /**\n     * Retrieve a given style for an HTML element\n     * @param {?} el\n     * @param {?} styleName\n     * @return {?}\n     */\n    getStyleForElement(el, styleName) {\n        /** @type {?} */\n        const styles = this.stylesheet.get(el);\n        /** @type {?} */\n        let value = '';\n        if (styles) {\n            /** @type {?} */\n            const style = styles.get(styleName);\n            if (typeof style === 'number' || typeof style === 'string') {\n                value = style + '';\n            }\n        }\n        return value;\n    }\n}\nStylesheetMap.ɵfac = function StylesheetMap_Factory(t) { return new (t || StylesheetMap)(); };\n/** @nocollapse */ StylesheetMap.ɵprov = ɵɵdefineInjectable({ factory: function StylesheetMap_Factory() { return new StylesheetMap(); }, token: StylesheetMap, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(StylesheetMap, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return []; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/stylesheet-map/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/tokens/library-config.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DEFAULT_CONFIG = {\n    addFlexToParent: true,\n    addOrientationBps: false,\n    disableDefaultBps: false,\n    disableVendorPrefixes: false,\n    serverLoaded: false,\n    useColumnBasisZero: true,\n    printWithBreakpoints: [],\n    mediaTriggerAutoRestore: true,\n    ssrObserveBreakpoints: [],\n};\n/** @type {?} */\nconst LAYOUT_CONFIG = new InjectionToken('Flex Layout token, config options for the library', {\n    providedIn: 'root',\n    factory: (/**\n     * @return {?}\n     */\n    () => DEFAULT_CONFIG)\n});\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/tokens/server-token.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Token that is provided to tell whether the FlexLayoutServerModule\n * has been included in the bundle\n *\n * NOTE: This can be manually provided to disable styles when using SSR\n * @type {?}\n */\nconst SERVER_TOKEN = new InjectionToken('FlexLayoutServerLoaded', {\n    providedIn: 'root',\n    factory: (/**\n     * @return {?}\n     */\n    () => false)\n});\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/tokens/breakpoint-token.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst BREAKPOINT = new InjectionToken('Flex Layout token, collect all breakpoints into one provider', {\n    providedIn: 'root',\n    factory: (/**\n     * @return {?}\n     */\n    () => null)\n});\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/tokens/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/add-alias.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * For the specified MediaChange, make sure it contains the breakpoint alias\n * and suffix (if available).\n * @param {?} dest\n * @param {?} source\n * @return {?}\n */\nfunction mergeAlias(dest, source) {\n    dest = dest ? dest.clone() : new MediaChange();\n    if (source) {\n        dest.mqAlias = source.alias;\n        dest.mediaQuery = source.mediaQuery;\n        dest.suffix = (/** @type {?} */ (source.suffix));\n        dest.priority = (/** @type {?} */ (source.priority));\n    }\n    return dest;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: utils/layout-validator.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n * @type {?}\n */\nconst INLINE = 'inline';\n/** @type {?} */\nconst LAYOUT_VALUES = ['row', 'column', 'row-reverse', 'column-reverse'];\n/**\n * Validate the direction|'direction wrap' value and then update the host's inline flexbox styles\n * @param {?} value\n * @return {?}\n */\nfunction buildLayoutCSS(value) {\n    let [direction, wrap, isInline] = validateValue(value);\n    return buildCSS(direction, wrap, isInline);\n}\n/**\n * Validate the value to be one of the acceptable value options\n * Use default fallback of 'row'\n * @param {?} value\n * @return {?}\n */\nfunction validateValue(value) {\n    value = value ? value.toLowerCase() : '';\n    let [direction, wrap, inline] = value.split(' ');\n    // First value must be the `flex-direction`\n    if (!LAYOUT_VALUES.find((/**\n     * @param {?} x\n     * @return {?}\n     */\n    x => x === direction))) {\n        direction = LAYOUT_VALUES[0];\n    }\n    if (wrap === INLINE) {\n        wrap = (inline !== INLINE) ? inline : '';\n        inline = INLINE;\n    }\n    return [direction, validateWrapValue(wrap), !!inline];\n}\n/**\n * Convert layout-wrap='<value>' to expected flex-wrap style\n * @param {?} value\n * @return {?}\n */\nfunction validateWrapValue(value) {\n    if (!!value) {\n        switch (value.toLowerCase()) {\n            case 'reverse':\n            case 'wrap-reverse':\n            case 'reverse-wrap':\n                value = 'wrap-reverse';\n                break;\n            case 'no':\n            case 'none':\n            case 'nowrap':\n                value = 'nowrap';\n                break;\n            // All other values fallback to 'wrap'\n            default:\n                value = 'wrap';\n                break;\n        }\n    }\n    return value;\n}\n/**\n * Build the CSS that should be assigned to the element instance\n * BUG:\n *   1) min-height on a column flex container won’t apply to its flex item children in IE 10-11.\n *      Use height instead if possible; height : <xxx>vh;\n *\n *  This way any padding or border specified on the child elements are\n *  laid out and drawn inside that element's specified width and height.\n * @param {?} direction\n * @param {?=} wrap\n * @param {?=} inline\n * @return {?}\n */\nfunction buildCSS(direction, wrap = null, inline = false) {\n    return {\n        'display': inline ? 'inline-flex' : 'flex',\n        'box-sizing': 'border-box',\n        'flex-direction': direction,\n        'flex-wrap': !!wrap ? wrap : null\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/base/base2.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @abstract\n */\nclass BaseDirective2 {\n    /**\n     * @protected\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     */\n    constructor(elementRef, styleBuilder, styler, marshal) {\n        this.elementRef = elementRef;\n        this.styleBuilder = styleBuilder;\n        this.styler = styler;\n        this.marshal = marshal;\n        this.DIRECTIVE_KEY = '';\n        this.inputs = [];\n        /**\n         * The most recently used styles for the builder\n         */\n        this.mru = {};\n        this.destroySubject = new Subject();\n        /**\n         * Cache map for style computation\n         */\n        this.styleCache = new Map();\n    }\n    /**\n     * Access to host element's parent DOM node\n     * @protected\n     * @return {?}\n     */\n    get parentElement() {\n        return this.elementRef.nativeElement.parentElement;\n    }\n    /**\n     * Access to the HTMLElement for the directive\n     * @protected\n     * @return {?}\n     */\n    get nativeElement() {\n        return this.elementRef.nativeElement;\n    }\n    /**\n     * Access to the activated value for the directive\n     * @return {?}\n     */\n    get activatedValue() {\n        return this.marshal.getValue(this.nativeElement, this.DIRECTIVE_KEY);\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set activatedValue(value) {\n        this.marshal.setValue(this.nativeElement, this.DIRECTIVE_KEY, value, this.marshal.activatedAlias);\n    }\n    /**\n     * For \\@Input changes\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        Object.keys(changes).forEach((/**\n         * @param {?} key\n         * @return {?}\n         */\n        key => {\n            if (this.inputs.indexOf(key) !== -1) {\n                /** @type {?} */\n                const bp = key.split('.').slice(1).join('.');\n                /** @type {?} */\n                const val = changes[key].currentValue;\n                this.setValue(val, bp);\n            }\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.destroySubject.next();\n        this.destroySubject.complete();\n        this.marshal.releaseElement(this.nativeElement);\n    }\n    /**\n     * Register with central marshaller service\n     * @protected\n     * @param {?=} extraTriggers\n     * @return {?}\n     */\n    init(extraTriggers = []) {\n        this.marshal.init(this.elementRef.nativeElement, this.DIRECTIVE_KEY, this.updateWithValue.bind(this), this.clearStyles.bind(this), extraTriggers);\n    }\n    /**\n     * Add styles to the element using predefined style builder\n     * @protected\n     * @param {?} input\n     * @param {?=} parent\n     * @return {?}\n     */\n    addStyles(input, parent) {\n        /** @type {?} */\n        const builder = this.styleBuilder;\n        /** @type {?} */\n        const useCache = builder.shouldCache;\n        /** @type {?} */\n        let genStyles = this.styleCache.get(input);\n        if (!genStyles || !useCache) {\n            genStyles = builder.buildStyles(input, parent);\n            if (useCache) {\n                this.styleCache.set(input, genStyles);\n            }\n        }\n        this.mru = Object.assign({}, genStyles);\n        this.applyStyleToElement(genStyles);\n        builder.sideEffect(input, genStyles, parent);\n    }\n    /**\n     * Remove generated styles from an element using predefined style builder\n     * @protected\n     * @return {?}\n     */\n    clearStyles() {\n        Object.keys(this.mru).forEach((/**\n         * @param {?} k\n         * @return {?}\n         */\n        k => {\n            this.mru[k] = '';\n        }));\n        this.applyStyleToElement(this.mru);\n        this.mru = {};\n    }\n    /**\n     * Force trigger style updates on DOM element\n     * @protected\n     * @return {?}\n     */\n    triggerUpdate() {\n        this.marshal.triggerUpdate(this.nativeElement, this.DIRECTIVE_KEY);\n    }\n    /**\n     * Determine the DOM element's Flexbox flow (flex-direction).\n     *\n     * Check inline style first then check computed (stylesheet) style.\n     * And optionally add the flow value to element's inline style.\n     * @protected\n     * @param {?} target\n     * @param {?=} addIfMissing\n     * @return {?}\n     */\n    getFlexFlowDirection(target, addIfMissing = false) {\n        if (target) {\n            const [value, hasInlineValue] = this.styler.getFlowDirection(target);\n            if (!hasInlineValue && addIfMissing) {\n                /** @type {?} */\n                const style = buildLayoutCSS(value);\n                /** @type {?} */\n                const elements = [target];\n                this.styler.applyStyleToElements(style, elements);\n            }\n            return value.trim();\n        }\n        return 'row';\n    }\n    /**\n     * Applies styles given via string pair or object map to the directive element\n     * @protected\n     * @param {?} style\n     * @param {?=} value\n     * @param {?=} element\n     * @return {?}\n     */\n    applyStyleToElement(style, value, element = this.nativeElement) {\n        this.styler.applyStyleToElement(element, style, value);\n    }\n    /**\n     * @protected\n     * @param {?} val\n     * @param {?} bp\n     * @return {?}\n     */\n    setValue(val, bp) {\n        this.marshal.setValue(this.nativeElement, this.DIRECTIVE_KEY, val, bp);\n    }\n    /**\n     * @protected\n     * @param {?} input\n     * @return {?}\n     */\n    updateWithValue(input) {\n        this.addStyles(input);\n    }\n}\nBaseDirective2.ɵfac = function BaseDirective2_Factory(t) { ɵngcc0.ɵɵinvalidFactory(); };\nBaseDirective2.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BaseDirective2, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/base/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/breakpoints/data/break-points.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * NOTE: Smaller ranges have HIGHER priority since the match is more specific\n * @type {?}\n */\nconst DEFAULT_BREAKPOINTS = [\n    {\n        alias: 'xs',\n        mediaQuery: 'screen and (min-width: 0px) and (max-width: 599.9px)',\n        priority: 1000,\n    },\n    {\n        alias: 'sm',\n        mediaQuery: 'screen and (min-width: 600px) and (max-width: 959.9px)',\n        priority: 900,\n    },\n    {\n        alias: 'md',\n        mediaQuery: 'screen and (min-width: 960px) and (max-width: 1279.9px)',\n        priority: 800,\n    },\n    {\n        alias: 'lg',\n        mediaQuery: 'screen and (min-width: 1280px) and (max-width: 1919.9px)',\n        priority: 700,\n    },\n    {\n        alias: 'xl',\n        mediaQuery: 'screen and (min-width: 1920px) and (max-width: 4999.9px)',\n        priority: 600,\n    },\n    {\n        alias: 'lt-sm',\n        overlapping: true,\n        mediaQuery: 'screen and (max-width: 599.9px)',\n        priority: 950,\n    },\n    {\n        alias: 'lt-md',\n        overlapping: true,\n        mediaQuery: 'screen and (max-width: 959.9px)',\n        priority: 850,\n    },\n    {\n        alias: 'lt-lg',\n        overlapping: true,\n        mediaQuery: 'screen and (max-width: 1279.9px)',\n        priority: 750,\n    },\n    {\n        alias: 'lt-xl',\n        overlapping: true,\n        priority: 650,\n        mediaQuery: 'screen and (max-width: 1919.9px)',\n    },\n    {\n        alias: 'gt-xs',\n        overlapping: true,\n        mediaQuery: 'screen and (min-width: 600px)',\n        priority: -950,\n    },\n    {\n        alias: 'gt-sm',\n        overlapping: true,\n        mediaQuery: 'screen and (min-width: 960px)',\n        priority: -850,\n    }, {\n        alias: 'gt-md',\n        overlapping: true,\n        mediaQuery: 'screen and (min-width: 1280px)',\n        priority: -750,\n    },\n    {\n        alias: 'gt-lg',\n        overlapping: true,\n        mediaQuery: 'screen and (min-width: 1920px)',\n        priority: -650,\n    }\n];\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/breakpoints/data/orientation-break-points.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/* tslint:disable */\n/** @type {?} */\nconst HANDSET_PORTRAIT = '(orientation: portrait) and (max-width: 599.9px)';\n/** @type {?} */\nconst HANDSET_LANDSCAPE = '(orientation: landscape) and (max-width: 959.9px)';\n/** @type {?} */\nconst TABLET_PORTRAIT = '(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)';\n/** @type {?} */\nconst TABLET_LANDSCAPE = '(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)';\n/** @type {?} */\nconst WEB_PORTRAIT = '(orientation: portrait) and (min-width: 840px)';\n/** @type {?} */\nconst WEB_LANDSCAPE = '(orientation: landscape) and (min-width: 1280px)';\n/** @type {?} */\nconst ScreenTypes = {\n    'HANDSET': `${HANDSET_PORTRAIT}, ${HANDSET_LANDSCAPE}`,\n    'TABLET': `${TABLET_PORTRAIT} , ${TABLET_LANDSCAPE}`,\n    'WEB': `${WEB_PORTRAIT}, ${WEB_LANDSCAPE} `,\n    'HANDSET_PORTRAIT': `${HANDSET_PORTRAIT}`,\n    'TABLET_PORTRAIT': `${TABLET_PORTRAIT} `,\n    'WEB_PORTRAIT': `${WEB_PORTRAIT}`,\n    'HANDSET_LANDSCAPE': `${HANDSET_LANDSCAPE}]`,\n    'TABLET_LANDSCAPE': `${TABLET_LANDSCAPE}`,\n    'WEB_LANDSCAPE': `${WEB_LANDSCAPE}`\n};\n/**\n * Extended Breakpoints for handset/tablets with landscape or portrait orientations\n * @type {?}\n */\nconst ORIENTATION_BREAKPOINTS = [\n    { 'alias': 'handset', priority: 2000, 'mediaQuery': ScreenTypes.HANDSET },\n    { 'alias': 'handset.landscape', priority: 2000, 'mediaQuery': ScreenTypes.HANDSET_LANDSCAPE },\n    { 'alias': 'handset.portrait', priority: 2000, 'mediaQuery': ScreenTypes.HANDSET_PORTRAIT },\n    { 'alias': 'tablet', priority: 2100, 'mediaQuery': ScreenTypes.TABLET },\n    { 'alias': 'tablet.landscape', priority: 2100, 'mediaQuery': ScreenTypes.TABLET },\n    { 'alias': 'tablet.portrait', priority: 2100, 'mediaQuery': ScreenTypes.TABLET_PORTRAIT },\n    { 'alias': 'web', priority: 2200, 'mediaQuery': ScreenTypes.WEB, overlapping: true },\n    { 'alias': 'web.landscape', priority: 2200, 'mediaQuery': ScreenTypes.WEB_LANDSCAPE, overlapping: true },\n    { 'alias': 'web.portrait', priority: 2200, 'mediaQuery': ScreenTypes.WEB_PORTRAIT, overlapping: true }\n];\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/breakpoints/break-point.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: utils/object-extend.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\n * similar to Object.assign.\n *\n * @param {?} dest The object which will have properties copied to it.\n * @param {...?} sources The source objects from which properties will be copied.\n * @return {?}\n */\nfunction extendObject(dest, ...sources) {\n    if (dest == null) {\n        throw TypeError('Cannot convert undefined or null to object');\n    }\n    for (let source of sources) {\n        if (source != null) {\n            for (let key in source) {\n                if (source.hasOwnProperty(key)) {\n                    dest[key] = source[key];\n                }\n            }\n        }\n    }\n    return dest;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/breakpoints/breakpoint-tools.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst ALIAS_DELIMITERS = /(\\.|-|_)/g;\n/**\n * @param {?} part\n * @return {?}\n */\nfunction firstUpperCase(part) {\n    /** @type {?} */\n    let first = part.length > 0 ? part.charAt(0) : '';\n    /** @type {?} */\n    let remainder = (part.length > 1) ? part.slice(1) : '';\n    return first.toUpperCase() + remainder;\n}\n/**\n * Converts snake-case to SnakeCase.\n * @param {?} name Text to UpperCamelCase\n * @return {?}\n */\nfunction camelCase(name) {\n    return name\n        .replace(ALIAS_DELIMITERS, '|')\n        .split('|')\n        .map(firstUpperCase)\n        .join('');\n}\n/**\n * For each breakpoint, ensure that a Suffix is defined;\n * fallback to UpperCamelCase the unique Alias value\n * @param {?} list\n * @return {?}\n */\nfunction validateSuffixes(list) {\n    list.forEach((/**\n     * @param {?} bp\n     * @return {?}\n     */\n    (bp) => {\n        if (!bp.suffix) {\n            bp.suffix = camelCase(bp.alias); // create Suffix value based on alias\n            bp.overlapping = !!bp.overlapping; // ensure default value\n        }\n    }));\n    return list;\n}\n/**\n * Merge a custom breakpoint list with the default list based on unique alias values\n *  - Items are added if the alias is not in the default list\n *  - Items are merged with the custom override if the alias exists in the default list\n * @param {?} defaults\n * @param {?=} custom\n * @return {?}\n */\nfunction mergeByAlias(defaults, custom = []) {\n    /** @type {?} */\n    const dict = {};\n    defaults.forEach((/**\n     * @param {?} bp\n     * @return {?}\n     */\n    bp => {\n        dict[bp.alias] = bp;\n    }));\n    // Merge custom breakpoints\n    custom.forEach((/**\n     * @param {?} bp\n     * @return {?}\n     */\n    (bp) => {\n        if (dict[bp.alias]) {\n            extendObject(dict[bp.alias], bp);\n        }\n        else {\n            dict[bp.alias] = bp;\n        }\n    }));\n    return validateSuffixes(Object.keys(dict).map((/**\n     * @param {?} k\n     * @return {?}\n     */\n    k => dict[k])));\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/breakpoints/break-points-token.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n *  Injection token unique to the flex-layout library.\n *  Use this token when build a custom provider (see below).\n * @type {?}\n */\nconst BREAKPOINTS = new InjectionToken('Token (@angular/flex-layout) Breakpoints', {\n    providedIn: 'root',\n    factory: (/**\n     * @return {?}\n     */\n    () => {\n        /** @type {?} */\n        const breakpoints = inject(BREAKPOINT);\n        /** @type {?} */\n        const layoutConfig = inject(LAYOUT_CONFIG);\n        /** @type {?} */\n        const bpFlattenArray = [].concat.apply([], (breakpoints || [])\n            .map((/**\n         * @param {?} v\n         * @return {?}\n         */\n        (v) => Array.isArray(v) ? v : [v])));\n        /** @type {?} */\n        const builtIns = (layoutConfig.disableDefaultBps ? [] : DEFAULT_BREAKPOINTS)\n            .concat(layoutConfig.addOrientationBps ? ORIENTATION_BREAKPOINTS : []);\n        return mergeByAlias(builtIns, bpFlattenArray);\n    })\n});\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/utils/sort.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * HOF to sort the breakpoints by descending priority\n * @template T\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nfunction sortDescendingPriority(a, b) {\n    /** @type {?} */\n    const priorityA = a ? a.priority || 0 : 0;\n    /** @type {?} */\n    const priorityB = b ? b.priority || 0 : 0;\n    return priorityB - priorityA;\n}\n/**\n * HOF to sort the breakpoints by ascending priority\n * @template T\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nfunction sortAscendingPriority(a, b) {\n    /** @type {?} */\n    const pA = a.priority || 0;\n    /** @type {?} */\n    const pB = b.priority || 0;\n    return pA - pB;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/breakpoints/break-point-registry.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Registry of 1..n MediaQuery breakpoint ranges\n * This is published as a provider and may be overridden from custom, application-specific ranges\n *\n */\nclass BreakPointRegistry {\n    /**\n     * @param {?} list\n     */\n    constructor(list) {\n        /**\n         * Memoized BreakPoint Lookups\n         */\n        this.findByMap = new Map();\n        this.items = [...list].sort(sortAscendingPriority);\n    }\n    /**\n     * Search breakpoints by alias (e.g. gt-xs)\n     * @param {?} alias\n     * @return {?}\n     */\n    findByAlias(alias) {\n        return !alias ? null : this.findWithPredicate(alias, (/**\n         * @param {?} bp\n         * @return {?}\n         */\n        (bp) => bp.alias == alias));\n    }\n    /**\n     * @param {?} query\n     * @return {?}\n     */\n    findByQuery(query) {\n        return this.findWithPredicate(query, (/**\n         * @param {?} bp\n         * @return {?}\n         */\n        (bp) => bp.mediaQuery == query));\n    }\n    /**\n     * Get all the breakpoints whose ranges could overlapping `normal` ranges;\n     * e.g. gt-sm overlaps md, lg, and xl\n     * @return {?}\n     */\n    get overlappings() {\n        return this.items.filter((/**\n         * @param {?} it\n         * @return {?}\n         */\n        it => it.overlapping == true));\n    }\n    /**\n     * Get list of all registered (non-empty) breakpoint aliases\n     * @return {?}\n     */\n    get aliases() {\n        return this.items.map((/**\n         * @param {?} it\n         * @return {?}\n         */\n        it => it.alias));\n    }\n    /**\n     * Aliases are mapped to properties using suffixes\n     * e.g.  'gt-sm' for property 'layout'  uses suffix 'GtSm'\n     * for property layoutGtSM.\n     * @return {?}\n     */\n    get suffixes() {\n        return this.items.map((/**\n         * @param {?} it\n         * @return {?}\n         */\n        it => !!it.suffix ? it.suffix : ''));\n    }\n    /**\n     * Memoized lookup using custom predicate function\n     * @private\n     * @param {?} key\n     * @param {?} searchFn\n     * @return {?}\n     */\n    findWithPredicate(key, searchFn) {\n        /** @type {?} */\n        let response = this.findByMap.get(key);\n        if (!response) {\n            response = this.items.find(searchFn) || null;\n            this.findByMap.set(key, response);\n        }\n        return response || null;\n    }\n}\nBreakPointRegistry.ɵfac = function BreakPointRegistry_Factory(t) { return new (t || BreakPointRegistry)(ɵngcc0.ɵɵinject(BREAKPOINTS)); };\n/** @nocollapse */\nBreakPointRegistry.ctorParameters = () => [\n    { type: Array, decorators: [{ type: Inject, args: [BREAKPOINTS,] }] }\n];\n/** @nocollapse */ BreakPointRegistry.ɵprov = ɵɵdefineInjectable({ factory: function BreakPointRegistry_Factory() { return new BreakPointRegistry(ɵɵinject(BREAKPOINTS)); }, token: BreakPointRegistry, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BreakPointRegistry, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: Array, decorators: [{\n                type: Inject,\n                args: [BREAKPOINTS]\n            }] }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/breakpoints/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/match-media/match-media.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * MediaMonitor configures listeners to mediaQuery changes and publishes an Observable facade to\n * convert mediaQuery change callbacks to subscriber notifications. These notifications will be\n * performed within the ng Zone to trigger change detections and component updates.\n *\n * NOTE: both mediaQuery activations and de-activations are announced in notifications\n */\nclass MatchMedia {\n    /**\n     * @param {?} _zone\n     * @param {?} _platformId\n     * @param {?} _document\n     */\n    constructor(_zone, _platformId, _document) {\n        this._zone = _zone;\n        this._platformId = _platformId;\n        this._document = _document;\n        /**\n         * Initialize source with 'all' so all non-responsive APIs trigger style updates\n         */\n        this.source = new BehaviorSubject(new MediaChange(true));\n        this.registry = new Map();\n        this._observable$ = this.source.asObservable();\n    }\n    /**\n     * Publish list of all current activations\n     * @return {?}\n     */\n    get activations() {\n        /** @type {?} */\n        const results = [];\n        this.registry.forEach((/**\n         * @param {?} mql\n         * @param {?} key\n         * @return {?}\n         */\n        (mql, key) => {\n            if (mql.matches) {\n                results.push(key);\n            }\n        }));\n        return results;\n    }\n    /**\n     * For the specified mediaQuery?\n     * @param {?} mediaQuery\n     * @return {?}\n     */\n    isActive(mediaQuery) {\n        /** @type {?} */\n        const mql = this.registry.get(mediaQuery);\n        return !!mql ? mql.matches : false;\n    }\n    /**\n     * External observers can watch for all (or a specific) mql changes.\n     * Typically used by the MediaQueryAdaptor; optionally available to components\n     * who wish to use the MediaMonitor as mediaMonitor$ observable service.\n     *\n     * Use deferred registration process to register breakpoints only on subscription\n     * This logic also enforces logic to register all mediaQueries BEFORE notify\n     * subscribers of notifications.\n     * @param {?=} mqList\n     * @param {?=} filterOthers\n     * @return {?}\n     */\n    observe(mqList, filterOthers = false) {\n        if (mqList && mqList.length) {\n            /** @type {?} */\n            const matchMedia$ = this._observable$.pipe(filter((/**\n             * @param {?} change\n             * @return {?}\n             */\n            (change) => {\n                return !filterOthers ? true : (mqList.indexOf(change.mediaQuery) > -1);\n            })));\n            /** @type {?} */\n            const registration$ = new Observable((/**\n             * @param {?} observer\n             * @return {?}\n             */\n            (observer) => {\n                // tslint:disable-line:max-line-length\n                /** @type {?} */\n                const matches = this.registerQuery(mqList);\n                if (matches.length) {\n                    /** @type {?} */\n                    const lastChange = (/** @type {?} */ (matches.pop()));\n                    matches.forEach((/**\n                     * @param {?} e\n                     * @return {?}\n                     */\n                    (e) => {\n                        observer.next(e);\n                    }));\n                    this.source.next(lastChange); // last match is cached\n                }\n                observer.complete();\n            }));\n            return merge(registration$, matchMedia$);\n        }\n        return this._observable$;\n    }\n    /**\n     * Based on the BreakPointRegistry provider, register internal listeners for each unique\n     * mediaQuery. Each listener emits specific MediaChange data to observers\n     * @param {?} mediaQuery\n     * @return {?}\n     */\n    registerQuery(mediaQuery) {\n        /** @type {?} */\n        const list = Array.isArray(mediaQuery) ? mediaQuery : [mediaQuery];\n        /** @type {?} */\n        const matches = [];\n        buildQueryCss(list, this._document);\n        list.forEach((/**\n         * @param {?} query\n         * @return {?}\n         */\n        (query) => {\n            /** @type {?} */\n            const onMQLEvent = (/**\n             * @param {?} e\n             * @return {?}\n             */\n            (e) => {\n                this._zone.run((/**\n                 * @return {?}\n                 */\n                () => this.source.next(new MediaChange(e.matches, query))));\n            });\n            /** @type {?} */\n            let mql = this.registry.get(query);\n            if (!mql) {\n                mql = this.buildMQL(query);\n                mql.addListener(onMQLEvent);\n                this.registry.set(query, mql);\n            }\n            if (mql.matches) {\n                matches.push(new MediaChange(true, query));\n            }\n        }));\n        return matches;\n    }\n    /**\n     * Call window.matchMedia() to build a MediaQueryList; which\n     * supports 0..n listeners for activation/deactivation\n     * @protected\n     * @param {?} query\n     * @return {?}\n     */\n    buildMQL(query) {\n        return constructMql(query, isPlatformBrowser(this._platformId));\n    }\n}\nMatchMedia.ɵfac = function MatchMedia_Factory(t) { return new (t || MatchMedia)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT)); };\n/** @nocollapse */\nMatchMedia.ctorParameters = () => [\n    { type: NgZone },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n/** @nocollapse */ MatchMedia.ɵprov = ɵɵdefineInjectable({ factory: function MatchMedia_Factory() { return new MatchMedia(ɵɵinject(NgZone), ɵɵinject(PLATFORM_ID), ɵɵinject(DOCUMENT)); }, token: MatchMedia, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatchMedia, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }]; }, null); })();\n/**\n * Private global registry for all dynamically-created, injected style tags\n * @see prepare(query)\n * @type {?}\n */\nconst ALL_STYLES = {};\n/**\n * For Webkit engines that only trigger the MediaQueryList Listener\n * when there is at least one CSS selector for the respective media query.\n *\n * @param {?} mediaQueries\n * @param {?} _document\n * @return {?}\n */\nfunction buildQueryCss(mediaQueries, _document) {\n    /** @type {?} */\n    const list = mediaQueries.filter((/**\n     * @param {?} it\n     * @return {?}\n     */\n    it => !ALL_STYLES[it]));\n    if (list.length > 0) {\n        /** @type {?} */\n        const query = list.join(', ');\n        try {\n            /** @type {?} */\n            const styleEl = _document.createElement('style');\n            styleEl.setAttribute('type', 'text/css');\n            if (!((/** @type {?} */ (styleEl))).styleSheet) {\n                /** @type {?} */\n                const cssText = `\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${query} {.fx-query-test{ }}\n`;\n                styleEl.appendChild(_document.createTextNode(cssText));\n            }\n            (/** @type {?} */ (_document.head)).appendChild(styleEl);\n            // Store in private global registry\n            list.forEach((/**\n             * @param {?} mq\n             * @return {?}\n             */\n            mq => ALL_STYLES[mq] = styleEl));\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n}\n/**\n * @param {?} query\n * @param {?} isBrowser\n * @return {?}\n */\nfunction constructMql(query, isBrowser) {\n    /** @type {?} */\n    const canListen = isBrowser && !!((/** @type {?} */ (window))).matchMedia('all').addListener;\n    return canListen ? ((/** @type {?} */ (window))).matchMedia(query) : (/** @type {?} */ ((/** @type {?} */ ({\n        matches: query === 'all' || query === '',\n        media: query,\n        addListener: (/**\n         * @return {?}\n         */\n        () => {\n        }),\n        removeListener: (/**\n         * @return {?}\n         */\n        () => {\n        })\n    }))));\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/match-media/mock/mock-match-media.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * MockMatchMedia mocks calls to the Window API matchMedia with a build of a simulated\n * MockMediaQueryListener. Methods are available to simulate an activation of a mediaQuery\n * range and to clearAll mediaQuery listeners.\n */\nclass MockMatchMedia extends MatchMedia {\n    // Allow fallback to overlapping mediaQueries\n    /**\n     * @param {?} _zone\n     * @param {?} _platformId\n     * @param {?} _document\n     * @param {?} _breakpoints\n     */\n    constructor(_zone, _platformId, _document, _breakpoints) {\n        super(_zone, _platformId, _document);\n        this._breakpoints = _breakpoints;\n        this.autoRegisterQueries = true; // Used for testing BreakPoint registrations\n        // Used for testing BreakPoint registrations\n        this.useOverlaps = false; // Allow fallback to overlapping mediaQueries\n    }\n    /**\n     * Easy method to clear all listeners for all mediaQueries\n     * @return {?}\n     */\n    clearAll() {\n        this.registry.forEach((/**\n         * @param {?} mql\n         * @return {?}\n         */\n        (mql) => {\n            ((/** @type {?} */ (mql))).destroy();\n        }));\n        this.registry.clear();\n        this.useOverlaps = false;\n    }\n    /**\n     * Feature to support manual, simulated activation of a mediaQuery.\n     * @param {?} mediaQuery\n     * @param {?=} useOverlaps\n     * @return {?}\n     */\n    activate(mediaQuery, useOverlaps = false) {\n        useOverlaps = useOverlaps || this.useOverlaps;\n        mediaQuery = this._validateQuery(mediaQuery);\n        if (useOverlaps || !this.isActive(mediaQuery)) {\n            this._deactivateAll();\n            this._registerMediaQuery(mediaQuery);\n            this._activateWithOverlaps(mediaQuery, useOverlaps);\n        }\n        return this.hasActivated;\n    }\n    /**\n     * Converts an optional mediaQuery alias to a specific, valid mediaQuery\n     * @param {?} queryOrAlias\n     * @return {?}\n     */\n    _validateQuery(queryOrAlias) {\n        /** @type {?} */\n        const bp = this._breakpoints.findByAlias(queryOrAlias);\n        return (bp && bp.mediaQuery) || queryOrAlias;\n    }\n    /**\n     * Manually onMediaChange any overlapping mediaQueries to simulate\n     * similar functionality in the window.matchMedia()\n     * @private\n     * @param {?} mediaQuery\n     * @param {?} useOverlaps\n     * @return {?}\n     */\n    _activateWithOverlaps(mediaQuery, useOverlaps) {\n        if (useOverlaps) {\n            /** @type {?} */\n            const bp = this._breakpoints.findByQuery(mediaQuery);\n            /** @type {?} */\n            const alias = bp ? bp.alias : 'unknown';\n            // Simulate activation of overlapping lt-<XXX> ranges\n            switch (alias) {\n                case 'lg':\n                    this._activateByAlias('lt-xl');\n                    break;\n                case 'md':\n                    this._activateByAlias('lt-xl, lt-lg');\n                    break;\n                case 'sm':\n                    this._activateByAlias('lt-xl, lt-lg, lt-md');\n                    break;\n                case 'xs':\n                    this._activateByAlias('lt-xl, lt-lg, lt-md, lt-sm');\n                    break;\n            }\n            // Simulate activation of overlapping gt-<xxxx> mediaQuery ranges\n            switch (alias) {\n                case 'xl':\n                    this._activateByAlias('gt-lg, gt-md, gt-sm, gt-xs');\n                    break;\n                case 'lg':\n                    this._activateByAlias('gt-md, gt-sm, gt-xs');\n                    break;\n                case 'md':\n                    this._activateByAlias('gt-sm, gt-xs');\n                    break;\n                case 'sm':\n                    this._activateByAlias('gt-xs');\n                    break;\n            }\n        }\n        // Activate last since the responsiveActivation is watching *this* mediaQuery\n        return this._activateByQuery(mediaQuery);\n    }\n    /**\n     *\n     * @private\n     * @param {?} aliases\n     * @return {?}\n     */\n    _activateByAlias(aliases) {\n        /** @type {?} */\n        const activate = (/**\n         * @param {?} alias\n         * @return {?}\n         */\n        (alias) => {\n            /** @type {?} */\n            const bp = this._breakpoints.findByAlias(alias);\n            this._activateByQuery(bp ? bp.mediaQuery : alias);\n        });\n        aliases.split(',').forEach((/**\n         * @param {?} alias\n         * @return {?}\n         */\n        alias => activate(alias.trim())));\n    }\n    /**\n     *\n     * @private\n     * @param {?} mediaQuery\n     * @return {?}\n     */\n    _activateByQuery(mediaQuery) {\n        /** @type {?} */\n        const mql = (/** @type {?} */ (this.registry.get(mediaQuery)));\n        if (mql && !this.isActive(mediaQuery)) {\n            this.registry.set(mediaQuery, mql.activate());\n        }\n        return this.hasActivated;\n    }\n    /**\n     * Deactivate all current MQLs and reset the buffer\n     * @private\n     * @template THIS\n     * @this {THIS}\n     * @return {THIS}\n     */\n    _deactivateAll() {\n        (/** @type {?} */ (this)).registry.forEach((/**\n         * @param {?} it\n         * @return {?}\n         */\n        (it) => {\n            ((/** @type {?} */ (it))).deactivate();\n        }));\n        return (/** @type {?} */ (this));\n    }\n    /**\n     * Insure the mediaQuery is registered with MatchMedia\n     * @private\n     * @param {?} mediaQuery\n     * @return {?}\n     */\n    _registerMediaQuery(mediaQuery) {\n        if (!this.registry.has(mediaQuery) && this.autoRegisterQueries) {\n            this.registerQuery(mediaQuery);\n        }\n    }\n    /**\n     * Call window.matchMedia() to build a MediaQueryList; which\n     * supports 0..n listeners for activation/deactivation\n     * @protected\n     * @param {?} query\n     * @return {?}\n     */\n    buildMQL(query) {\n        return new MockMediaQueryList(query);\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    get hasActivated() {\n        return this.activations.length > 0;\n    }\n}\nMockMatchMedia.ɵfac = function MockMatchMedia_Factory(t) { return new (t || MockMatchMedia)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT), ɵngcc0.ɵɵinject(BreakPointRegistry)); };\nMockMatchMedia.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: MockMatchMedia, factory: MockMatchMedia.ɵfac });\n/** @nocollapse */\nMockMatchMedia.ctorParameters = () => [\n    { type: NgZone },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: BreakPointRegistry }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MockMatchMedia, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: BreakPointRegistry }]; }, null); })();\n/**\n * Special internal class to simulate a MediaQueryList and\n * - supports manual activation to simulate mediaQuery matching\n * - manages listeners\n */\nclass MockMediaQueryList {\n    /**\n     * @param {?} _mediaQuery\n     */\n    constructor(_mediaQuery) {\n        this._mediaQuery = _mediaQuery;\n        this._isActive = false;\n        this._listeners = [];\n        this.onchange = null;\n    }\n    /**\n     * @return {?}\n     */\n    get matches() {\n        return this._isActive;\n    }\n    /**\n     * @return {?}\n     */\n    get media() {\n        return this._mediaQuery;\n    }\n    /**\n     * Destroy the current list by deactivating the\n     * listeners and clearing the internal list\n     * @return {?}\n     */\n    destroy() {\n        this.deactivate();\n        this._listeners = [];\n    }\n    /**\n     * Notify all listeners that 'matches === TRUE'\n     * @return {?}\n     */\n    activate() {\n        if (!this._isActive) {\n            this._isActive = true;\n            this._listeners.forEach((/**\n             * @param {?} callback\n             * @return {?}\n             */\n            (callback) => {\n                /** @type {?} */\n                const cb = (/** @type {?} */ (callback));\n                cb.call(null, this);\n            }));\n        }\n        return this;\n    }\n    /**\n     * Notify all listeners that 'matches === false'\n     * @return {?}\n     */\n    deactivate() {\n        if (this._isActive) {\n            this._isActive = false;\n            this._listeners.forEach((/**\n             * @param {?} callback\n             * @return {?}\n             */\n            (callback) => {\n                /** @type {?} */\n                const cb = (/** @type {?} */ (callback));\n                cb.call(null, this);\n            }));\n        }\n        return this;\n    }\n    /**\n     * Add a listener to our internal list to activate later\n     * @param {?} listener\n     * @return {?}\n     */\n    addListener(listener) {\n        if (this._listeners.indexOf(listener) === -1) {\n            this._listeners.push(listener);\n        }\n        if (this._isActive) {\n            /** @type {?} */\n            const cb = (/** @type {?} */ (listener));\n            cb.call(null, this);\n        }\n    }\n    /**\n     * Don't need to remove listeners in the testing environment\n     * @param {?} _\n     * @return {?}\n     */\n    removeListener(_) {\n    }\n    /**\n     * @param {?} _\n     * @param {?} __\n     * @param {?=} ___\n     * @return {?}\n     */\n    addEventListener(_, __, ___) {\n    }\n    /**\n     * @param {?} _\n     * @param {?} __\n     * @param {?=} ___\n     * @return {?}\n     */\n    removeEventListener(_, __, ___) {\n    }\n    /**\n     * @param {?} _\n     * @return {?}\n     */\n    dispatchEvent(_) {\n        return false;\n    }\n}\n/**\n * Pre-configured provider for MockMatchMedia\n * @type {?}\n */\nconst MockMatchMediaProvider = {\n    // tslint:disable-line:variable-name\n    provide: MatchMedia,\n    useClass: MockMatchMedia\n};\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/match-media/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/media-marshaller/print-hook.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst PRINT = 'print';\n/** @type {?} */\nconst BREAKPOINT_PRINT = {\n    alias: PRINT,\n    mediaQuery: PRINT,\n    priority: 1000\n};\n/**\n * PrintHook - Use to intercept print MediaQuery activations and force\n *             layouts to render with the specified print alias/breakpoint\n *\n * Used in MediaMarshaller and MediaObserver\n */\nclass PrintHook {\n    /**\n     * @param {?} breakpoints\n     * @param {?} layoutConfig\n     * @param {?} _document\n     */\n    constructor(breakpoints, layoutConfig, _document) {\n        this.breakpoints = breakpoints;\n        this.layoutConfig = layoutConfig;\n        this._document = _document;\n        // registeredBeforeAfterPrintHooks tracks if we registered the `beforeprint`\n        //  and `afterprint` event listeners.\n        this.registeredBeforeAfterPrintHooks = false;\n        // isPrintingBeforeAfterEvent is used to track if we are printing from within\n        // a `beforeprint` event handler. This prevents the typicall `stopPrinting`\n        // form `interceptEvents` so that printing is not stopped while the dialog\n        // is still open. This is an extension of the `isPrinting` property on\n        // browsers which support `beforeprint` and `afterprint` events.\n        this.isPrintingBeforeAfterEvent = false;\n        /**\n         * Is this service currently in Print-mode ?\n         */\n        this.isPrinting = false;\n        this.queue = new PrintQueue();\n        this.deactivations = [];\n    }\n    /**\n     * Add 'print' mediaQuery: to listen for matchMedia activations\n     * @param {?} queries\n     * @return {?}\n     */\n    withPrintQuery(queries) {\n        return [...queries, PRINT];\n    }\n    /**\n     * Is the MediaChange event for any 'print' \\@media\n     * @param {?} e\n     * @return {?}\n     */\n    isPrintEvent(e) {\n        return e.mediaQuery.startsWith(PRINT);\n    }\n    /**\n     * What is the desired mqAlias to use while printing?\n     * @return {?}\n     */\n    get printAlias() {\n        return this.layoutConfig.printWithBreakpoints || [];\n    }\n    /**\n     * Lookup breakpoints associated with print aliases.\n     * @return {?}\n     */\n    get printBreakPoints() {\n        return (/** @type {?} */ (this.printAlias\n            .map((/**\n         * @param {?} alias\n         * @return {?}\n         */\n        alias => this.breakpoints.findByAlias(alias)))\n            .filter((/**\n         * @param {?} bp\n         * @return {?}\n         */\n        bp => bp !== null))));\n    }\n    /**\n     * Lookup breakpoint associated with mediaQuery\n     * @param {?} __0\n     * @return {?}\n     */\n    getEventBreakpoints({ mediaQuery }) {\n        /** @type {?} */\n        const bp = this.breakpoints.findByQuery(mediaQuery);\n        /** @type {?} */\n        const list = bp ? [...this.printBreakPoints, bp] : this.printBreakPoints;\n        return list.sort(sortDescendingPriority);\n    }\n    /**\n     * Update event with printAlias mediaQuery information\n     * @param {?} event\n     * @return {?}\n     */\n    updateEvent(event) {\n        /** @type {?} */\n        let bp = this.breakpoints.findByQuery(event.mediaQuery);\n        if (this.isPrintEvent(event)) {\n            // Reset from 'print' to first (highest priority) print breakpoint\n            bp = this.getEventBreakpoints(event)[0];\n            event.mediaQuery = bp ? bp.mediaQuery : '';\n        }\n        return mergeAlias(event, bp);\n    }\n    // registerBeforeAfterPrintHooks registers a `beforeprint` event hook so we can\n    // trigger print styles synchronously and apply proper layout styles.\n    // It is a noop if the hooks have already been registered or if the document's\n    // `defaultView` is not available.\n    /**\n     * @private\n     * @param {?} target\n     * @return {?}\n     */\n    registerBeforeAfterPrintHooks(target) {\n        // `defaultView` may be null when rendering on the server or in other contexts.\n        if (!this._document.defaultView || this.registeredBeforeAfterPrintHooks) {\n            return;\n        }\n        this.registeredBeforeAfterPrintHooks = true;\n        // Could we have teardown logic to remove if there are no print listeners being used?\n        this._document.defaultView.addEventListener('beforeprint', (/**\n         * @return {?}\n         */\n        () => {\n            // If we aren't already printing, start printing and update the styles as\n            // if there was a regular print `MediaChange`(from matchMedia).\n            if (!this.isPrinting) {\n                this.isPrintingBeforeAfterEvent = true;\n                this.startPrinting(target, this.getEventBreakpoints(new MediaChange(true, PRINT)));\n                target.updateStyles();\n            }\n        }));\n        this._document.defaultView.addEventListener('afterprint', (/**\n         * @return {?}\n         */\n        () => {\n            // If we aren't already printing, start printing and update the styles as\n            // if there was a regular print `MediaChange`(from matchMedia).\n            this.isPrintingBeforeAfterEvent = false;\n            if (this.isPrinting) {\n                this.stopPrinting(target);\n                target.updateStyles();\n            }\n        }));\n    }\n    /**\n     * Prepare RxJs filter operator with partial application\n     * @param {?} target\n     * @return {?} pipeable filter predicate\n     */\n    interceptEvents(target) {\n        this.registerBeforeAfterPrintHooks(target);\n        return (/**\n         * @param {?} event\n         * @return {?}\n         */\n        (event) => {\n            if (this.isPrintEvent(event)) {\n                if (event.matches && !this.isPrinting) {\n                    this.startPrinting(target, this.getEventBreakpoints(event));\n                    target.updateStyles();\n                }\n                else if (!event.matches && this.isPrinting && !this.isPrintingBeforeAfterEvent) {\n                    this.stopPrinting(target);\n                    target.updateStyles();\n                }\n            }\n            else {\n                this.collectActivations(event);\n            }\n        });\n    }\n    /**\n     * Stop mediaChange event propagation in event streams\n     * @return {?}\n     */\n    blockPropagation() {\n        return (/**\n         * @param {?} event\n         * @return {?}\n         */\n        (event) => {\n            return !(this.isPrinting || this.isPrintEvent(event));\n        });\n    }\n    /**\n     * Save current activateBreakpoints (for later restore)\n     * and substitute only the printAlias breakpoint\n     * @protected\n     * @param {?} target\n     * @param {?} bpList\n     * @return {?}\n     */\n    startPrinting(target, bpList) {\n        this.isPrinting = true;\n        target.activatedBreakpoints = this.queue.addPrintBreakpoints(bpList);\n    }\n    /**\n     * For any print de-activations, reset the entire print queue\n     * @protected\n     * @param {?} target\n     * @return {?}\n     */\n    stopPrinting(target) {\n        target.activatedBreakpoints = this.deactivations;\n        this.deactivations = [];\n        this.queue.clear();\n        this.isPrinting = false;\n    }\n    /**\n     * To restore pre-Print Activations, we must capture the proper\n     * list of breakpoint activations BEFORE print starts. OnBeforePrint()\n     * is supported; so 'print' mediaQuery activations are used as a fallback\n     * in browsers without `beforeprint` support.\n     *\n     * >  But activated breakpoints are deactivated BEFORE 'print' activation.\n     *\n     * Let's capture all de-activations using the following logic:\n     *\n     *  When not printing:\n     *    - clear cache when activating non-print breakpoint\n     *    - update cache (and sort) when deactivating\n     *\n     *  When printing:\n     *    - sort and save when starting print\n     *    - restore as activatedTargets and clear when stop printing\n     * @param {?} event\n     * @return {?}\n     */\n    collectActivations(event) {\n        if (!this.isPrinting || this.isPrintingBeforeAfterEvent) {\n            if (!event.matches) {\n                /** @type {?} */\n                const bp = this.breakpoints.findByQuery(event.mediaQuery);\n                if (bp) { // Deactivating a breakpoint\n                    this.deactivations.push(bp);\n                    this.deactivations.sort(sortDescendingPriority);\n                }\n            }\n            else if (!this.isPrintingBeforeAfterEvent) {\n                // Only clear deactivations if we aren't printing from a `beforeprint` event.\n                // Otherwise this will clear before `stopPrinting()` is called to restore\n                // the pre-Print Activations.\n                this.deactivations = [];\n            }\n        }\n    }\n}\nPrintHook.ɵfac = function PrintHook_Factory(t) { return new (t || PrintHook)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(LAYOUT_CONFIG), ɵngcc0.ɵɵinject(DOCUMENT)); };\n/** @nocollapse */\nPrintHook.ctorParameters = () => [\n    { type: BreakPointRegistry },\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n/** @nocollapse */ PrintHook.ɵprov = ɵɵdefineInjectable({ factory: function PrintHook_Factory() { return new PrintHook(ɵɵinject(BreakPointRegistry), ɵɵinject(LAYOUT_CONFIG), ɵɵinject(DOCUMENT)); }, token: PrintHook, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PrintHook, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: BreakPointRegistry }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [LAYOUT_CONFIG]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }]; }, null); })();\n// ************************************************************************\n// Internal Utility class 'PrintQueue'\n// ************************************************************************\n/**\n * Utility class to manage print breakpoints + activatedBreakpoints\n * with correct sorting WHILE printing\n */\nclass PrintQueue {\n    constructor() {\n        /**\n         * Sorted queue with prioritized print breakpoints\n         */\n        this.printBreakpoints = [];\n    }\n    /**\n     * @param {?} bpList\n     * @return {?}\n     */\n    addPrintBreakpoints(bpList) {\n        bpList.push(BREAKPOINT_PRINT);\n        bpList.sort(sortDescendingPriority);\n        bpList.forEach((/**\n         * @param {?} bp\n         * @return {?}\n         */\n        bp => this.addBreakpoint(bp)));\n        return this.printBreakpoints;\n    }\n    /**\n     * Add Print breakpoint to queue\n     * @param {?} bp\n     * @return {?}\n     */\n    addBreakpoint(bp) {\n        if (!!bp) {\n            /** @type {?} */\n            const bpInList = this.printBreakpoints.find((/**\n             * @param {?} it\n             * @return {?}\n             */\n            it => it.mediaQuery === bp.mediaQuery));\n            if (bpInList === undefined) {\n                // If this is a `printAlias` breakpoint, then append. If a true 'print' breakpoint,\n                // register as highest priority in the queue\n                this.printBreakpoints = isPrintBreakPoint(bp) ? [bp, ...this.printBreakpoints]\n                    : [...this.printBreakpoints, bp];\n            }\n        }\n    }\n    /**\n     * Restore original activated breakpoints and clear internal caches\n     * @return {?}\n     */\n    clear() {\n        this.printBreakpoints = [];\n    }\n}\n// ************************************************************************\n// Internal Utility methods\n// ************************************************************************\n/**\n * Only support intercept queueing if the Breakpoint is a print \\@media query\n * @param {?} bp\n * @return {?}\n */\nfunction isPrintBreakPoint(bp) {\n    return bp ? bp.mediaQuery.startsWith(PRINT) : false;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/utils/array.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Wraps the provided value in an array, unless the provided value is an array.\n * @template T\n * @param {?} value\n * @return {?}\n */\nfunction coerceArray(value) {\n    return Array.isArray(value) ? value : [value];\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/media-observer/media-observer.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * MediaObserver enables applications to listen for 1..n mediaQuery activations and to determine\n * if a mediaQuery is currently activated.\n *\n * Since a breakpoint change will first deactivate 1...n mediaQueries and then possibly activate\n * 1..n mediaQueries, the MediaObserver will debounce notifications and report ALL *activations*\n * in 1 event notification. The reported activations will be sorted in descending priority order.\n *\n * This class uses the BreakPoint Registry to inject alias information into the raw MediaChange\n * notification. For custom mediaQuery notifications, alias information will not be injected and\n * those fields will be ''.\n *\n * Note: Developers should note that only mediaChange activations (not de-activations)\n *       are announced by the MediaObserver.\n *\n * \\@usage\n *\n *  // RxJS\n *  import { filter } from 'rxjs/operators';\n *  import { MediaObserver } from '\\@angular/flex-layout';\n *\n * \\@Component({ ... })\n *  export class AppComponent {\n *    status: string = '';\n *\n *    constructor(mediaObserver: MediaObserver) {\n *      const media$ = mediaObserver.asObservable().pipe(\n *        filter((changes: MediaChange[]) => true)   // silly noop filter\n *      );\n *\n *      media$.subscribe((changes: MediaChange[]) => {\n *        let status = '';\n *        changes.forEach( change => {\n *          status += `'${change.mqAlias}' = (${change.mediaQuery}) <br/>` ;\n *        });\n *        this.status = status;\n *     });\n *\n *    }\n *  }\n */\nclass MediaObserver {\n    /**\n     * @param {?} breakpoints\n     * @param {?} matchMedia\n     * @param {?} hook\n     */\n    constructor(breakpoints, matchMedia, hook) {\n        this.breakpoints = breakpoints;\n        this.matchMedia = matchMedia;\n        this.hook = hook;\n        /**\n         * Filter MediaChange notifications for overlapping breakpoints\n         */\n        this.filterOverlaps = false;\n        this.destroyed$ = new Subject();\n        this._media$ = this.watchActivations();\n        this.media$ = this._media$.pipe(filter((/**\n         * @param {?} changes\n         * @return {?}\n         */\n        (changes) => changes.length > 0)), map((/**\n         * @param {?} changes\n         * @return {?}\n         */\n        (changes) => changes[0])));\n    }\n    /**\n     * Completes the active subject, signalling to all complete for all\n     * MediaObserver subscribers\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.destroyed$.next();\n        this.destroyed$.complete();\n    }\n    // ************************************************\n    // Public Methods\n    // ************************************************\n    /**\n     * Observe changes to current activation 'list'\n     * @return {?}\n     */\n    asObservable() {\n        return this._media$;\n    }\n    /**\n     * Allow programmatic query to determine if one or more media query/alias match\n     * the current viewport size.\n     * @param {?} value One or more media queries (or aliases) to check.\n     * @return {?} Whether any of the media queries match.\n     */\n    isActive(value) {\n        /** @type {?} */\n        const aliases = splitQueries(coerceArray(value));\n        return aliases.some((/**\n         * @param {?} alias\n         * @return {?}\n         */\n        alias => {\n            /** @type {?} */\n            const query = toMediaQuery(alias, this.breakpoints);\n            return this.matchMedia.isActive(query);\n        }));\n    }\n    // ************************************************\n    // Internal Methods\n    // ************************************************\n    /**\n     * Register all the mediaQueries registered in the BreakPointRegistry\n     * This is needed so subscribers can be auto-notified of all standard, registered\n     * mediaQuery activations\n     * @private\n     * @return {?}\n     */\n    watchActivations() {\n        /** @type {?} */\n        const queries = this.breakpoints.items.map((/**\n         * @param {?} bp\n         * @return {?}\n         */\n        bp => bp.mediaQuery));\n        return this.buildObservable(queries);\n    }\n    /**\n     * Only pass/announce activations (not de-activations)\n     *\n     * Since multiple-mediaQueries can be activation in a cycle,\n     * gather all current activations into a single list of changes to observers\n     *\n     * Inject associated (if any) alias information into the MediaChange event\n     * - Exclude mediaQuery activations for overlapping mQs. List bounded mQ ranges only\n     * - Exclude print activations that do not have an associated mediaQuery\n     *\n     * NOTE: the raw MediaChange events [from MatchMedia] do not\n     *       contain important alias information; as such this info\n     *       must be injected into the MediaChange\n     * @private\n     * @param {?} mqList\n     * @return {?}\n     */\n    buildObservable(mqList) {\n        /** @type {?} */\n        const hasChanges = (/**\n         * @param {?} changes\n         * @return {?}\n         */\n        (changes) => {\n            /** @type {?} */\n            const isValidQuery = (/**\n             * @param {?} change\n             * @return {?}\n             */\n            (change) => (change.mediaQuery.length > 0));\n            return (changes.filter(isValidQuery).length > 0);\n        });\n        /** @type {?} */\n        const excludeOverlaps = (/**\n         * @param {?} changes\n         * @return {?}\n         */\n        (changes) => {\n            return !this.filterOverlaps ? changes : changes.filter((/**\n             * @param {?} change\n             * @return {?}\n             */\n            change => {\n                /** @type {?} */\n                const bp = this.breakpoints.findByQuery(change.mediaQuery);\n                return !bp ? true : !bp.overlapping;\n            }));\n        });\n        /**\n         */\n        return this.matchMedia\n            .observe(this.hook.withPrintQuery(mqList))\n            .pipe(filter((/**\n         * @param {?} change\n         * @return {?}\n         */\n        (change) => change.matches)), debounceTime(0, asapScheduler), switchMap((/**\n         * @param {?} _\n         * @return {?}\n         */\n        _ => of(this.findAllActivations()))), map(excludeOverlaps), filter(hasChanges), takeUntil(this.destroyed$));\n    }\n    /**\n     * Find all current activations and prepare single list of activations\n     * sorted by descending priority.\n     * @private\n     * @return {?}\n     */\n    findAllActivations() {\n        /** @type {?} */\n        const mergeMQAlias = (/**\n         * @param {?} change\n         * @return {?}\n         */\n        (change) => {\n            /** @type {?} */\n            let bp = this.breakpoints.findByQuery(change.mediaQuery);\n            return mergeAlias(change, bp);\n        });\n        /** @type {?} */\n        const replaceWithPrintAlias = (/**\n         * @param {?} change\n         * @return {?}\n         */\n        (change) => {\n            return this.hook.isPrintEvent(change) ? this.hook.updateEvent(change) : change;\n        });\n        return this.matchMedia\n            .activations\n            .map((/**\n         * @param {?} query\n         * @return {?}\n         */\n        query => new MediaChange(true, query)))\n            .map(replaceWithPrintAlias)\n            .map(mergeMQAlias)\n            .sort(sortDescendingPriority);\n    }\n}\nMediaObserver.ɵfac = function MediaObserver_Factory(t) { return new (t || MediaObserver)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(PrintHook)); };\n/** @nocollapse */\nMediaObserver.ctorParameters = () => [\n    { type: BreakPointRegistry },\n    { type: MatchMedia },\n    { type: PrintHook }\n];\n/** @nocollapse */ MediaObserver.ɵprov = ɵɵdefineInjectable({ factory: function MediaObserver_Factory() { return new MediaObserver(ɵɵinject(BreakPointRegistry), ɵɵinject(MatchMedia), ɵɵinject(PrintHook)); }, token: MediaObserver, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MediaObserver, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: BreakPointRegistry }, { type: MatchMedia }, { type: PrintHook }]; }, null); })();\n/**\n * Find associated breakpoint (if any)\n * @param {?} query\n * @param {?} locator\n * @return {?}\n */\nfunction toMediaQuery(query, locator) {\n    /** @type {?} */\n    const bp = locator.findByAlias(query) || locator.findByQuery(query);\n    return bp ? bp.mediaQuery : query;\n}\n/**\n * Split each query string into separate query strings if two queries are provided as comma\n * separated.\n * @param {?} queries\n * @return {?}\n */\nfunction splitQueries(queries) {\n    return queries.map((/**\n     * @param {?} query\n     * @return {?}\n     */\n    (query) => query.split(',')))\n        .reduce((/**\n     * @param {?} a1\n     * @param {?} a2\n     * @return {?}\n     */\n    (a1, a2) => a1.concat(a2)))\n        .map((/**\n     * @param {?} query\n     * @return {?}\n     */\n    query => query.trim()));\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/media-observer/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/media-trigger/media-trigger.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Class\n */\nclass MediaTrigger {\n    /**\n     * @param {?} breakpoints\n     * @param {?} matchMedia\n     * @param {?} layoutConfig\n     * @param {?} _platformId\n     * @param {?} _document\n     */\n    constructor(breakpoints, matchMedia, layoutConfig, _platformId, _document) {\n        this.breakpoints = breakpoints;\n        this.matchMedia = matchMedia;\n        this.layoutConfig = layoutConfig;\n        this._platformId = _platformId;\n        this._document = _document;\n        this.hasCachedRegistryMatches = false;\n        this.originalActivations = [];\n        this.originalRegistry = new Map();\n    }\n    /**\n     * Manually activate range of breakpoints\n     * @param {?} list array of mediaQuery or alias strings\n     * @return {?}\n     */\n    activate(list) {\n        list = list.map((/**\n         * @param {?} it\n         * @return {?}\n         */\n        it => it.trim())); // trim queries\n        this.saveActivations();\n        this.deactivateAll();\n        this.setActivations(list);\n        this.prepareAutoRestore();\n    }\n    /**\n     * Restore original, 'real' breakpoints and emit events\n     * to trigger stream notification\n     * @return {?}\n     */\n    restore() {\n        if (this.hasCachedRegistryMatches) {\n            /** @type {?} */\n            const extractQuery = (/**\n             * @param {?} change\n             * @return {?}\n             */\n            (change) => change.mediaQuery);\n            /** @type {?} */\n            const list = this.originalActivations.map(extractQuery);\n            try {\n                this.deactivateAll();\n                this.restoreRegistryMatches();\n                this.setActivations(list);\n            }\n            finally {\n                this.originalActivations = [];\n                if (this.resizeSubscription) {\n                    this.resizeSubscription.unsubscribe();\n                }\n            }\n        }\n    }\n    // ************************************************\n    // Internal Methods\n    // ************************************************\n    /**\n     * Whenever window resizes, immediately auto-restore original\n     * activations (if we are simulating activations)\n     * @private\n     * @return {?}\n     */\n    prepareAutoRestore() {\n        /** @type {?} */\n        const isBrowser = isPlatformBrowser(this._platformId) && this._document;\n        /** @type {?} */\n        const enableAutoRestore = isBrowser && this.layoutConfig.mediaTriggerAutoRestore;\n        if (enableAutoRestore) {\n            /** @type {?} */\n            const resize$ = fromEvent(window, 'resize').pipe(take(1));\n            this.resizeSubscription = resize$.subscribe(this.restore.bind(this));\n        }\n    }\n    /**\n     * Notify all matchMedia subscribers of de-activations\n     *\n     * Note: we must force 'matches' updates for\n     *       future matchMedia::activation lookups\n     * @private\n     * @return {?}\n     */\n    deactivateAll() {\n        /** @type {?} */\n        const list = this.currentActivations;\n        this.forceRegistryMatches(list, false);\n        this.simulateMediaChanges(list, false);\n    }\n    /**\n     * Cache current activations as sorted, prioritized list of MediaChanges\n     * @private\n     * @return {?}\n     */\n    saveActivations() {\n        if (!this.hasCachedRegistryMatches) {\n            /** @type {?} */\n            const toMediaChange = (/**\n             * @param {?} query\n             * @return {?}\n             */\n            (query) => new MediaChange(true, query));\n            /** @type {?} */\n            const mergeMQAlias = (/**\n             * @param {?} change\n             * @return {?}\n             */\n            (change) => {\n                /** @type {?} */\n                const bp = this.breakpoints.findByQuery(change.mediaQuery);\n                return mergeAlias(change, bp);\n            });\n            this.originalActivations = this.currentActivations\n                .map(toMediaChange)\n                .map(mergeMQAlias)\n                .sort(sortDescendingPriority);\n            this.cacheRegistryMatches();\n        }\n    }\n    /**\n     * Force set manual activations for specified mediaQuery list\n     * @private\n     * @param {?} list\n     * @return {?}\n     */\n    setActivations(list) {\n        if (!!this.originalRegistry) {\n            this.forceRegistryMatches(list, true);\n        }\n        this.simulateMediaChanges(list);\n    }\n    /**\n     * For specified mediaQuery list manually simulate activations or deactivations\n     * @private\n     * @param {?} queries\n     * @param {?=} matches\n     * @return {?}\n     */\n    simulateMediaChanges(queries, matches = true) {\n        /** @type {?} */\n        const toMediaQuery = (/**\n         * @param {?} query\n         * @return {?}\n         */\n        (query) => {\n            /** @type {?} */\n            const locator = this.breakpoints;\n            /** @type {?} */\n            const bp = locator.findByAlias(query) || locator.findByQuery(query);\n            return bp ? bp.mediaQuery : query;\n        });\n        /** @type {?} */\n        const emitChangeEvent = (/**\n         * @param {?} query\n         * @return {?}\n         */\n        (query) => this.emitChangeEvent(matches, query));\n        queries.map(toMediaQuery).forEach(emitChangeEvent);\n    }\n    /**\n     * Replace current registry with simulated registry...\n     * Note: this is required since MediaQueryList::matches is 'readOnly'\n     * @private\n     * @param {?} queries\n     * @param {?} matches\n     * @return {?}\n     */\n    forceRegistryMatches(queries, matches) {\n        /** @type {?} */\n        const registry = new Map();\n        queries.forEach((/**\n         * @param {?} query\n         * @return {?}\n         */\n        query => {\n            registry.set(query, (/** @type {?} */ ({ matches: matches })));\n        }));\n        this.matchMedia.registry = registry;\n    }\n    /**\n     * Save current MatchMedia::registry items.\n     * @private\n     * @return {?}\n     */\n    cacheRegistryMatches() {\n        /** @type {?} */\n        const target = this.originalRegistry;\n        target.clear();\n        this.matchMedia.registry.forEach((/**\n         * @param {?} value\n         * @param {?} key\n         * @return {?}\n         */\n        (value, key) => {\n            target.set(key, value);\n        }));\n        this.hasCachedRegistryMatches = true;\n    }\n    /**\n     * Restore original, 'true' registry\n     * @private\n     * @return {?}\n     */\n    restoreRegistryMatches() {\n        /** @type {?} */\n        const target = this.matchMedia.registry;\n        target.clear();\n        this.originalRegistry.forEach((/**\n         * @param {?} value\n         * @param {?} key\n         * @return {?}\n         */\n        (value, key) => {\n            target.set(key, value);\n        }));\n        this.originalRegistry.clear();\n        this.hasCachedRegistryMatches = false;\n    }\n    /**\n     * Manually emit a MediaChange event via the MatchMedia to MediaMarshaller and MediaObserver\n     * @private\n     * @param {?} matches\n     * @param {?} query\n     * @return {?}\n     */\n    emitChangeEvent(matches, query) {\n        this.matchMedia.source.next(new MediaChange(matches, query));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    get currentActivations() {\n        return this.matchMedia.activations;\n    }\n}\nMediaTrigger.ɵfac = function MediaTrigger_Factory(t) { return new (t || MediaTrigger)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(LAYOUT_CONFIG), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT)); };\n/** @nocollapse */\nMediaTrigger.ctorParameters = () => [\n    { type: BreakPointRegistry },\n    { type: MatchMedia },\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n/** @nocollapse */ MediaTrigger.ɵprov = ɵɵdefineInjectable({ factory: function MediaTrigger_Factory() { return new MediaTrigger(ɵɵinject(BreakPointRegistry), ɵɵinject(MatchMedia), ɵɵinject(LAYOUT_CONFIG), ɵɵinject(PLATFORM_ID), ɵɵinject(DOCUMENT)); }, token: MediaTrigger, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MediaTrigger, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: BreakPointRegistry }, { type: MatchMedia }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [LAYOUT_CONFIG]\n            }] }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/media-trigger/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/utils/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: utils/auto-prefixer.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Applies CSS prefixes to appropriate style keys.\n *\n * Note: `-ms-`, `-moz` and `-webkit-box` are no longer supported. e.g.\n *    {\n *      display: -webkit-flex;     NEW - Safari 6.1+. iOS 7.1+, BB10\n *      display: flex;             NEW, Spec - Firefox, Chrome, Opera\n *      // display: -webkit-box;   OLD - iOS 6-, Safari 3.1-6, BB7\n *      // display: -ms-flexbox;   TWEENER - IE 10\n *      // display: -moz-flexbox;  OLD - Firefox\n *    }\n * @param {?} target\n * @return {?}\n */\nfunction applyCssPrefixes(target) {\n    for (let key in target) {\n        /** @type {?} */\n        let value = target[key] || '';\n        switch (key) {\n            case 'display':\n                if (value === 'flex') {\n                    target['display'] = [\n                        '-webkit-flex',\n                        'flex'\n                    ];\n                }\n                else if (value === 'inline-flex') {\n                    target['display'] = [\n                        '-webkit-inline-flex',\n                        'inline-flex'\n                    ];\n                }\n                else {\n                    target['display'] = value;\n                }\n                break;\n            case 'align-items':\n            case 'align-self':\n            case 'align-content':\n            case 'flex':\n            case 'flex-basis':\n            case 'flex-flow':\n            case 'flex-grow':\n            case 'flex-shrink':\n            case 'flex-wrap':\n            case 'justify-content':\n                target['-webkit-' + key] = value;\n                break;\n            case 'flex-direction':\n                value = value || 'row';\n                target['-webkit-flex-direction'] = value;\n                target['flex-direction'] = value;\n                break;\n            case 'order':\n                target['order'] = target['-webkit-' + key] = isNaN(+value) ? '0' : value;\n                break;\n        }\n    }\n    return target;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/style-utils/style-utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass StyleUtils {\n    /**\n     * @param {?} _serverStylesheet\n     * @param {?} _serverModuleLoaded\n     * @param {?} _platformId\n     * @param {?} layoutConfig\n     */\n    constructor(_serverStylesheet, _serverModuleLoaded, _platformId, layoutConfig) {\n        this._serverStylesheet = _serverStylesheet;\n        this._serverModuleLoaded = _serverModuleLoaded;\n        this._platformId = _platformId;\n        this.layoutConfig = layoutConfig;\n    }\n    /**\n     * Applies styles given via string pair or object map to the directive element\n     * @param {?} element\n     * @param {?} style\n     * @param {?=} value\n     * @return {?}\n     */\n    applyStyleToElement(element, style, value = null) {\n        /** @type {?} */\n        let styles = {};\n        if (typeof style === 'string') {\n            styles[style] = value;\n            style = styles;\n        }\n        styles = this.layoutConfig.disableVendorPrefixes ? style : applyCssPrefixes(style);\n        this._applyMultiValueStyleToElement(styles, element);\n    }\n    /**\n     * Applies styles given via string pair or object map to the directive's element\n     * @param {?} style\n     * @param {?=} elements\n     * @return {?}\n     */\n    applyStyleToElements(style, elements = []) {\n        /** @type {?} */\n        const styles = this.layoutConfig.disableVendorPrefixes ? style : applyCssPrefixes(style);\n        elements.forEach((/**\n         * @param {?} el\n         * @return {?}\n         */\n        el => {\n            this._applyMultiValueStyleToElement(styles, el);\n        }));\n    }\n    /**\n     * Determine the DOM element's Flexbox flow (flex-direction)\n     *\n     * Check inline style first then check computed (stylesheet) style\n     * @param {?} target\n     * @return {?}\n     */\n    getFlowDirection(target) {\n        /** @type {?} */\n        const query = 'flex-direction';\n        /** @type {?} */\n        let value = this.lookupStyle(target, query);\n        /** @type {?} */\n        const hasInlineValue = this.lookupInlineStyle(target, query) ||\n            (isPlatformServer(this._platformId) && this._serverModuleLoaded) ? value : '';\n        return [value || 'row', hasInlineValue];\n    }\n    /**\n     * Find the DOM element's raw attribute value (if any)\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    lookupAttributeValue(element, attribute) {\n        return element.getAttribute(attribute) || '';\n    }\n    /**\n     * Find the DOM element's inline style value (if any)\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    lookupInlineStyle(element, styleName) {\n        return isPlatformBrowser(this._platformId) ?\n            element.style.getPropertyValue(styleName) : this._getServerStyle(element, styleName);\n    }\n    /**\n     * Determine the inline or inherited CSS style\n     * NOTE: platform-server has no implementation for getComputedStyle\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} inlineOnly\n     * @return {?}\n     */\n    lookupStyle(element, styleName, inlineOnly = false) {\n        /** @type {?} */\n        let value = '';\n        if (element) {\n            /** @type {?} */\n            let immediateValue = value = this.lookupInlineStyle(element, styleName);\n            if (!immediateValue) {\n                if (isPlatformBrowser(this._platformId)) {\n                    if (!inlineOnly) {\n                        value = getComputedStyle(element).getPropertyValue(styleName);\n                    }\n                }\n                else {\n                    if (this._serverModuleLoaded) {\n                        value = this._serverStylesheet.getStyleForElement(element, styleName);\n                    }\n                }\n            }\n        }\n        // Note: 'inline' is the default of all elements, unless UA stylesheet overrides;\n        //       in which case getComputedStyle() should determine a valid value.\n        return value ? value.trim() : '';\n    }\n    /**\n     * Applies the styles to the element. The styles object map may contain an array of values\n     * Each value will be added as element style\n     * Keys are sorted to add prefixed styles (like -webkit-x) first, before the standard ones\n     * @private\n     * @param {?} styles\n     * @param {?} element\n     * @return {?}\n     */\n    _applyMultiValueStyleToElement(styles, element) {\n        Object.keys(styles).sort().forEach((/**\n         * @param {?} key\n         * @return {?}\n         */\n        key => {\n            /** @type {?} */\n            const el = styles[key];\n            /** @type {?} */\n            const values = Array.isArray(el) ? el : [el];\n            values.sort();\n            for (let value of values) {\n                value = value ? value + '' : '';\n                if (isPlatformBrowser(this._platformId) || !this._serverModuleLoaded) {\n                    isPlatformBrowser(this._platformId) ?\n                        element.style.setProperty(key, value) : this._setServerStyle(element, key, value);\n                }\n                else {\n                    this._serverStylesheet.addStyleToElement(element, key, value);\n                }\n            }\n        }));\n    }\n    /**\n     * @private\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    _setServerStyle(element, styleName, styleValue) {\n        styleName = styleName.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n        /** @type {?} */\n        const styleMap = this._readStyleAttribute(element);\n        styleMap[styleName] = styleValue || '';\n        this._writeStyleAttribute(element, styleMap);\n    }\n    /**\n     * @private\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    _getServerStyle(element, styleName) {\n        /** @type {?} */\n        const styleMap = this._readStyleAttribute(element);\n        return styleMap[styleName] || '';\n    }\n    /**\n     * @private\n     * @param {?} element\n     * @return {?}\n     */\n    _readStyleAttribute(element) {\n        /** @type {?} */\n        const styleMap = {};\n        /** @type {?} */\n        const styleAttribute = element.getAttribute('style');\n        if (styleAttribute) {\n            /** @type {?} */\n            const styleList = styleAttribute.split(/;+/g);\n            for (let i = 0; i < styleList.length; i++) {\n                /** @type {?} */\n                const style = styleList[i].trim();\n                if (style.length > 0) {\n                    /** @type {?} */\n                    const colonIndex = style.indexOf(':');\n                    if (colonIndex === -1) {\n                        throw new Error(`Invalid CSS style: ${style}`);\n                    }\n                    /** @type {?} */\n                    const name = style.substr(0, colonIndex).trim();\n                    styleMap[name] = style.substr(colonIndex + 1).trim();\n                }\n            }\n        }\n        return styleMap;\n    }\n    /**\n     * @private\n     * @param {?} element\n     * @param {?} styleMap\n     * @return {?}\n     */\n    _writeStyleAttribute(element, styleMap) {\n        /** @type {?} */\n        let styleAttrValue = '';\n        for (const key in styleMap) {\n            /** @type {?} */\n            const newValue = styleMap[key];\n            if (newValue) {\n                styleAttrValue += key + ':' + styleMap[key] + ';';\n            }\n        }\n        element.setAttribute('style', styleAttrValue);\n    }\n}\nStyleUtils.ɵfac = function StyleUtils_Factory(t) { return new (t || StyleUtils)(ɵngcc0.ɵɵinject(StylesheetMap), ɵngcc0.ɵɵinject(SERVER_TOKEN), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(LAYOUT_CONFIG)); };\n/** @nocollapse */\nStyleUtils.ctorParameters = () => [\n    { type: StylesheetMap },\n    { type: Boolean, decorators: [{ type: Inject, args: [SERVER_TOKEN,] }] },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] }\n];\n/** @nocollapse */ StyleUtils.ɵprov = ɵɵdefineInjectable({ factory: function StyleUtils_Factory() { return new StyleUtils(ɵɵinject(StylesheetMap), ɵɵinject(SERVER_TOKEN), ɵɵinject(PLATFORM_ID), ɵɵinject(LAYOUT_CONFIG)); }, token: StyleUtils, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(StyleUtils, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: StylesheetMap }, { type: Boolean, decorators: [{\n                type: Inject,\n                args: [SERVER_TOKEN]\n            }] }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [LAYOUT_CONFIG]\n            }] }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/style-builder/style-builder.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * A class that encapsulates CSS style generation for common directives\n * @abstract\n */\nclass StyleBuilder {\n    constructor() {\n        /**\n         * Whether to cache the generated output styles\n         */\n        this.shouldCache = true;\n    }\n    /**\n     * Run a side effect computation given the input string and the computed styles\n     * from the build task and the host configuration object\n     * NOTE: This should be a no-op unless an algorithm is provided in a subclass\n     * @param {?} _input\n     * @param {?} _styles\n     * @param {?=} _parent\n     * @return {?}\n     */\n    sideEffect(_input, _styles, _parent) {\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/basis-validator/basis-validator.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * The flex API permits 3 or 1 parts of the value:\n *    - `flex-grow flex-shrink flex-basis`, or\n *    - `flex-basis`\n * @param {?} basis\n * @param {?=} grow\n * @param {?=} shrink\n * @return {?}\n */\nfunction validateBasis(basis, grow = '1', shrink = '1') {\n    /** @type {?} */\n    let parts = [grow, shrink, basis];\n    /** @type {?} */\n    let j = basis.indexOf('calc');\n    if (j > 0) {\n        parts[2] = _validateCalcValue(basis.substring(j).trim());\n        /** @type {?} */\n        let matches = basis.substr(0, j).trim().split(' ');\n        if (matches.length == 2) {\n            parts[0] = matches[0];\n            parts[1] = matches[1];\n        }\n    }\n    else if (j == 0) {\n        parts[2] = _validateCalcValue(basis.trim());\n    }\n    else {\n        /** @type {?} */\n        let matches = basis.split(' ');\n        parts = (matches.length === 3) ? matches : [\n            grow, shrink, basis\n        ];\n    }\n    return parts;\n}\n/**\n * Calc expressions require whitespace before & after any expression operators\n * This is a simple, crude whitespace padding solution.\n *   - '3 3 calc(15em + 20px)'\n *   - calc(100% / 7 * 2)\n *   - 'calc(15em + 20px)'\n *   - 'calc(15em+20px)'\n *   - '37px'\n *   = '43%'\n * @param {?} calc\n * @return {?}\n */\nfunction _validateCalcValue(calc) {\n    return calc.replace(/[\\s]/g, '').replace(/[\\/\\*\\+\\-]/g, ' $& ');\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/media-marshaller/media-marshaller.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * MediaMarshaller - register responsive values from directives and\n *                   trigger them based on media query events\n */\nclass MediaMarshaller {\n    /**\n     * @param {?} matchMedia\n     * @param {?} breakpoints\n     * @param {?} hook\n     */\n    constructor(matchMedia, breakpoints, hook) {\n        this.matchMedia = matchMedia;\n        this.breakpoints = breakpoints;\n        this.hook = hook;\n        this.activatedBreakpoints = [];\n        this.elementMap = new Map();\n        this.elementKeyMap = new WeakMap();\n        this.watcherMap = new WeakMap(); // special triggers to update elements\n        // special triggers to update elements\n        this.updateMap = new WeakMap(); // callback functions to update styles\n        // callback functions to update styles\n        this.clearMap = new WeakMap(); // callback functions to clear styles\n        // callback functions to clear styles\n        this.subject = new Subject();\n        this.observeActivations();\n    }\n    /**\n     * @return {?}\n     */\n    get activatedAlias() {\n        return this.activatedBreakpoints[0] ? this.activatedBreakpoints[0].alias : '';\n    }\n    /**\n     * Update styles on breakpoint activates or deactivates\n     * @param {?} mc\n     * @return {?}\n     */\n    onMediaChange(mc) {\n        /** @type {?} */\n        const bp = this.findByQuery(mc.mediaQuery);\n        if (bp) {\n            mc = mergeAlias(mc, bp);\n            if (mc.matches && this.activatedBreakpoints.indexOf(bp) === -1) {\n                this.activatedBreakpoints.push(bp);\n                this.activatedBreakpoints.sort(sortDescendingPriority);\n                this.updateStyles();\n            }\n            else if (!mc.matches && this.activatedBreakpoints.indexOf(bp) !== -1) {\n                // Remove the breakpoint when it's deactivated\n                this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(bp), 1);\n                this.activatedBreakpoints.sort(sortDescendingPriority);\n                this.updateStyles();\n            }\n        }\n    }\n    /**\n     * initialize the marshaller with necessary elements for delegation on an element\n     * @param {?} element\n     * @param {?} key\n     * @param {?=} updateFn optional callback so that custom bp directives don't have to re-provide this\n     * @param {?=} clearFn optional callback so that custom bp directives don't have to re-provide this\n     * @param {?=} extraTriggers other triggers to force style updates (e.g. layout, directionality, etc)\n     * @return {?}\n     */\n    init(element, key, updateFn, clearFn, extraTriggers = []) {\n        initBuilderMap(this.updateMap, element, key, updateFn);\n        initBuilderMap(this.clearMap, element, key, clearFn);\n        this.buildElementKeyMap(element, key);\n        this.watchExtraTriggers(element, key, extraTriggers);\n    }\n    /**\n     * get the value for an element and key and optionally a given breakpoint\n     * @param {?} element\n     * @param {?} key\n     * @param {?=} bp\n     * @return {?}\n     */\n    getValue(element, key, bp) {\n        /** @type {?} */\n        const bpMap = this.elementMap.get(element);\n        if (bpMap) {\n            /** @type {?} */\n            const values = bp !== undefined ? bpMap.get(bp) : this.getActivatedValues(bpMap, key);\n            if (values) {\n                return values.get(key);\n            }\n        }\n        return undefined;\n    }\n    /**\n     * whether the element has values for a given key\n     * @param {?} element\n     * @param {?} key\n     * @return {?}\n     */\n    hasValue(element, key) {\n        /** @type {?} */\n        const bpMap = this.elementMap.get(element);\n        if (bpMap) {\n            /** @type {?} */\n            const values = this.getActivatedValues(bpMap, key);\n            if (values) {\n                return values.get(key) !== undefined || false;\n            }\n        }\n        return false;\n    }\n    /**\n     * Set the value for an input on a directive\n     * @param {?} element the element in question\n     * @param {?} key the type of the directive (e.g. flex, layout-gap, etc)\n     * @param {?} val the value for the breakpoint\n     * @param {?} bp the breakpoint suffix (empty string = default)\n     * @return {?}\n     */\n    setValue(element, key, val, bp) {\n        /** @type {?} */\n        let bpMap = this.elementMap.get(element);\n        if (!bpMap) {\n            bpMap = new Map().set(bp, new Map().set(key, val));\n            this.elementMap.set(element, bpMap);\n        }\n        else {\n            /** @type {?} */\n            const values = (bpMap.get(bp) || new Map()).set(key, val);\n            bpMap.set(bp, values);\n            this.elementMap.set(element, bpMap);\n        }\n        /** @type {?} */\n        const value = this.getValue(element, key);\n        if (value !== undefined) {\n            this.updateElement(element, key, value);\n        }\n    }\n    /**\n     * Track element value changes for a specific key\n     * @param {?} element\n     * @param {?} key\n     * @return {?}\n     */\n    trackValue(element, key) {\n        return this.subject\n            .asObservable()\n            .pipe(filter((/**\n         * @param {?} v\n         * @return {?}\n         */\n        v => v.element === element && v.key === key)));\n    }\n    /**\n     * update all styles for all elements on the current breakpoint\n     * @return {?}\n     */\n    updateStyles() {\n        this.elementMap.forEach((/**\n         * @param {?} bpMap\n         * @param {?} el\n         * @return {?}\n         */\n        (bpMap, el) => {\n            /** @type {?} */\n            const keyMap = new Set((/** @type {?} */ (this.elementKeyMap.get(el))));\n            /** @type {?} */\n            let valueMap = this.getActivatedValues(bpMap);\n            if (valueMap) {\n                valueMap.forEach((/**\n                 * @param {?} v\n                 * @param {?} k\n                 * @return {?}\n                 */\n                (v, k) => {\n                    this.updateElement(el, k, v);\n                    keyMap.delete(k);\n                }));\n            }\n            keyMap.forEach((/**\n             * @param {?} k\n             * @return {?}\n             */\n            k => {\n                valueMap = this.getActivatedValues(bpMap, k);\n                if (valueMap) {\n                    /** @type {?} */\n                    const value = valueMap.get(k);\n                    this.updateElement(el, k, value);\n                }\n                else {\n                    this.clearElement(el, k);\n                }\n            }));\n        }));\n    }\n    /**\n     * clear the styles for a given element\n     * @param {?} element\n     * @param {?} key\n     * @return {?}\n     */\n    clearElement(element, key) {\n        /** @type {?} */\n        const builders = this.clearMap.get(element);\n        if (builders) {\n            /** @type {?} */\n            const clearFn = (/** @type {?} */ (builders.get(key)));\n            if (!!clearFn) {\n                clearFn();\n                this.subject.next({ element, key, value: '' });\n            }\n        }\n    }\n    /**\n     * update a given element with the activated values for a given key\n     * @param {?} element\n     * @param {?} key\n     * @param {?} value\n     * @return {?}\n     */\n    updateElement(element, key, value) {\n        /** @type {?} */\n        const builders = this.updateMap.get(element);\n        if (builders) {\n            /** @type {?} */\n            const updateFn = (/** @type {?} */ (builders.get(key)));\n            if (!!updateFn) {\n                updateFn(value);\n                this.subject.next({ element, key, value });\n            }\n        }\n    }\n    /**\n     * release all references to a given element\n     * @param {?} element\n     * @return {?}\n     */\n    releaseElement(element) {\n        /** @type {?} */\n        const watcherMap = this.watcherMap.get(element);\n        if (watcherMap) {\n            watcherMap.forEach((/**\n             * @param {?} s\n             * @return {?}\n             */\n            s => s.unsubscribe()));\n            this.watcherMap.delete(element);\n        }\n        /** @type {?} */\n        const elementMap = this.elementMap.get(element);\n        if (elementMap) {\n            elementMap.forEach((/**\n             * @param {?} _\n             * @param {?} s\n             * @return {?}\n             */\n            (_, s) => elementMap.delete(s)));\n            this.elementMap.delete(element);\n        }\n    }\n    /**\n     * trigger an update for a given element and key (e.g. layout)\n     * @param {?} element\n     * @param {?=} key\n     * @return {?}\n     */\n    triggerUpdate(element, key) {\n        /** @type {?} */\n        const bpMap = this.elementMap.get(element);\n        if (bpMap) {\n            /** @type {?} */\n            const valueMap = this.getActivatedValues(bpMap, key);\n            if (valueMap) {\n                if (key) {\n                    this.updateElement(element, key, valueMap.get(key));\n                }\n                else {\n                    valueMap.forEach((/**\n                     * @param {?} v\n                     * @param {?} k\n                     * @return {?}\n                     */\n                    (v, k) => this.updateElement(element, k, v)));\n                }\n            }\n        }\n    }\n    /**\n     * Cross-reference for HTMLElement with directive key\n     * @private\n     * @param {?} element\n     * @param {?} key\n     * @return {?}\n     */\n    buildElementKeyMap(element, key) {\n        /** @type {?} */\n        let keyMap = this.elementKeyMap.get(element);\n        if (!keyMap) {\n            keyMap = new Set();\n            this.elementKeyMap.set(element, keyMap);\n        }\n        keyMap.add(key);\n    }\n    /**\n     * Other triggers that should force style updates:\n     * - directionality\n     * - layout changes\n     * - mutationobserver updates\n     * @private\n     * @param {?} element\n     * @param {?} key\n     * @param {?} triggers\n     * @return {?}\n     */\n    watchExtraTriggers(element, key, triggers) {\n        if (triggers && triggers.length) {\n            /** @type {?} */\n            let watchers = this.watcherMap.get(element);\n            if (!watchers) {\n                watchers = new Map();\n                this.watcherMap.set(element, watchers);\n            }\n            /** @type {?} */\n            const subscription = watchers.get(key);\n            if (!subscription) {\n                /** @type {?} */\n                const newSubscription = merge(...triggers).subscribe((/**\n                 * @return {?}\n                 */\n                () => {\n                    /** @type {?} */\n                    const currentValue = this.getValue(element, key);\n                    this.updateElement(element, key, currentValue);\n                }));\n                watchers.set(key, newSubscription);\n            }\n        }\n    }\n    /**\n     * Breakpoint locator by mediaQuery\n     * @private\n     * @param {?} query\n     * @return {?}\n     */\n    findByQuery(query) {\n        return this.breakpoints.findByQuery(query);\n    }\n    /**\n     * get the fallback breakpoint for a given element, starting with the current breakpoint\n     * @private\n     * @param {?} bpMap\n     * @param {?=} key\n     * @return {?}\n     */\n    getActivatedValues(bpMap, key) {\n        for (let i = 0; i < this.activatedBreakpoints.length; i++) {\n            /** @type {?} */\n            const activatedBp = this.activatedBreakpoints[i];\n            /** @type {?} */\n            const valueMap = bpMap.get(activatedBp.alias);\n            if (valueMap) {\n                if (key === undefined || valueMap.has(key)) {\n                    return valueMap;\n                }\n            }\n        }\n        /** @type {?} */\n        const lastHope = bpMap.get('');\n        return (key === undefined || lastHope && lastHope.has(key)) ? lastHope : undefined;\n    }\n    /**\n     * Watch for mediaQuery breakpoint activations\n     * @private\n     * @return {?}\n     */\n    observeActivations() {\n        /** @type {?} */\n        const target = (/** @type {?} */ ((/** @type {?} */ (this))));\n        /** @type {?} */\n        const queries = this.breakpoints.items.map((/**\n         * @param {?} bp\n         * @return {?}\n         */\n        bp => bp.mediaQuery));\n        this.matchMedia\n            .observe(this.hook.withPrintQuery(queries))\n            .pipe(tap(this.hook.interceptEvents(target)), filter(this.hook.blockPropagation()))\n            .subscribe(this.onMediaChange.bind(this));\n    }\n}\nMediaMarshaller.ɵfac = function MediaMarshaller_Factory(t) { return new (t || MediaMarshaller)(ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(PrintHook)); };\n/** @nocollapse */\nMediaMarshaller.ctorParameters = () => [\n    { type: MatchMedia },\n    { type: BreakPointRegistry },\n    { type: PrintHook }\n];\n/** @nocollapse */ MediaMarshaller.ɵprov = ɵɵdefineInjectable({ factory: function MediaMarshaller_Factory() { return new MediaMarshaller(ɵɵinject(MatchMedia), ɵɵinject(BreakPointRegistry), ɵɵinject(PrintHook)); }, token: MediaMarshaller, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MediaMarshaller, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: MatchMedia }, { type: BreakPointRegistry }, { type: PrintHook }]; }, null); })();\n/**\n * @param {?} map\n * @param {?} element\n * @param {?} key\n * @param {?=} input\n * @return {?}\n */\nfunction initBuilderMap(map$$1, element, key, input) {\n    if (input !== undefined) {\n        /** @type {?} */\n        let oldMap = map$$1.get(element);\n        if (!oldMap) {\n            oldMap = new Map();\n            map$$1.set(element, oldMap);\n        }\n        oldMap.set(key, input);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: core/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { MatchMedia as ɵMatchMedia, MockMatchMedia as ɵMockMatchMedia, MockMatchMediaProvider as ɵMockMatchMediaProvider, CoreModule, removeStyles, BROWSER_PROVIDER, CLASS_NAME, MediaChange, StylesheetMap, DEFAULT_CONFIG, LAYOUT_CONFIG, SERVER_TOKEN, BREAKPOINT, mergeAlias, BaseDirective2, DEFAULT_BREAKPOINTS, ScreenTypes, ORIENTATION_BREAKPOINTS, BreakPointRegistry, BREAKPOINTS, MediaObserver, MediaTrigger, sortDescendingPriority, sortAscendingPriority, coerceArray, StyleUtils, StyleBuilder, validateBasis, MediaMarshaller, BREAKPOINT_PRINT, PrintHook };\n\n//# sourceMappingURL=core.js.map","function pack(message) {\n    throw new TypeError(\"Not yet implemented\");\n}\n;\nfunction unpack(message) {\n    throw new TypeError(\"Not yet implemented\");\n}\n;\nexports.pack = pack;\nexports.unpack = unpack;\n//# sourceMappingURL=XmlRPC.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\n/**\n * Defines the following events:\n * - `recordingStarted`: dispatched by [[Session]] after the session has started being recorded\n * - `recordingStopped`: dispatched by [[Session]] after the session has stopped being recorded\n */\nvar RecordingEvent = /** @class */ (function (_super) {\n    __extends(RecordingEvent, _super);\n    /**\n     * @hidden\n     */\n    function RecordingEvent(target, type, id, name, reason) {\n        var _this = _super.call(this, false, target, type) || this;\n        _this.id = id;\n        if (name !== id) {\n            _this.name = name;\n        }\n        _this.reason = reason;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    // tslint:disable-next-line:no-empty\n    RecordingEvent.prototype.callDefaultBehavior = function () { };\n    return RecordingEvent;\n}(Event_1.Event));\nexports.RecordingEvent = RecordingEvent;\n//# sourceMappingURL=RecordingEvent.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\nvar Stream_1 = require(\"./Stream\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Represents each one of the user's connection to the session (the local one and other user's connections).\n * Therefore each [[Session]] and [[Stream]] object has an attribute of type Connection\n */\nvar Connection = /** @class */ (function () {\n    /**\n     * @hidden\n     */\n    function Connection(session, opts) {\n        this.session = session;\n        /**\n         * @hidden\n         */\n        this.disposed = false;\n        var msg = \"'Connection' created \";\n        if (!!opts) {\n            // Connection is remote\n            msg += \"(remote) with 'connectionId' [\" + opts.id + ']';\n            this.options = opts;\n            this.connectionId = opts.id;\n            this.creationTime = opts.createdAt;\n            if (opts.metadata) {\n                this.data = opts.metadata;\n            }\n            if (opts.streams) {\n                this.initRemoteStreams(opts.streams);\n            }\n        }\n        else {\n            // Connection is local\n            msg += '(local)';\n        }\n        logger.info(msg);\n    }\n    /* Hidden methods */\n    /**\n     * @hidden\n     */\n    Connection.prototype.sendIceCandidate = function (candidate) {\n        logger.debug((!!this.stream.outboundStreamOpts ? 'Local' : 'Remote') + 'candidate for' +\n            this.connectionId, candidate);\n        this.session.openvidu.sendRequest('onIceCandidate', {\n            endpointName: this.connectionId,\n            candidate: candidate.candidate,\n            sdpMid: candidate.sdpMid,\n            sdpMLineIndex: candidate.sdpMLineIndex\n        }, function (error, response) {\n            if (error) {\n                logger.error('Error sending ICE candidate: '\n                    + JSON.stringify(error));\n            }\n        });\n    };\n    /**\n     * @hidden\n     */\n    Connection.prototype.initRemoteStreams = function (options) {\n        var _this = this;\n        // This is ready for supporting multiple streams per Connection object. Right now the loop will always run just once\n        // this.stream should also be replaced by a collection of streams to support multiple streams per Connection\n        options.forEach(function (opts) {\n            var streamOptions = {\n                id: opts.id,\n                createdAt: opts.createdAt,\n                connection: _this,\n                hasAudio: opts.hasAudio,\n                hasVideo: opts.hasVideo,\n                audioActive: opts.audioActive,\n                videoActive: opts.videoActive,\n                typeOfVideo: opts.typeOfVideo,\n                frameRate: opts.frameRate,\n                videoDimensions: !!opts.videoDimensions ? JSON.parse(opts.videoDimensions) : undefined,\n                filter: !!opts.filter ? opts.filter : undefined\n            };\n            var stream = new Stream_1.Stream(_this.session, streamOptions);\n            _this.addStream(stream);\n        });\n        logger.info(\"Remote 'Connection' with 'connectionId' [\" + this.connectionId + '] is now configured for receiving Streams with options: ', this.stream.inboundStreamOpts);\n    };\n    /**\n     * @hidden\n     */\n    Connection.prototype.addStream = function (stream) {\n        stream.connection = this;\n        this.stream = stream;\n    };\n    /**\n     * @hidden\n     */\n    Connection.prototype.removeStream = function (streamId) {\n        delete this.stream;\n    };\n    /**\n     * @hidden\n     */\n    Connection.prototype.dispose = function () {\n        if (!!this.stream) {\n            delete this.stream;\n        }\n        this.disposed = true;\n    };\n    return Connection;\n}());\nexports.Connection = Connection;\n//# sourceMappingURL=Connection.js.map","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Event_1 = require(\"./Event\");\n/**\n * Defines the following events:\n * - `signal`: dispatched by [[Session]] when a signal is received\n * - `signal:TYPE`: dispatched by [[Session]] when a signal of type TYPE is received\n */\nvar SignalEvent = /** @class */ (function (_super) {\n    __extends(SignalEvent, _super);\n    /**\n     * @hidden\n     */\n    function SignalEvent(target, type, data, from) {\n        var _this = _super.call(this, false, target, 'signal') || this;\n        if (!!type) {\n            _this.type = 'signal:' + type;\n        }\n        _this.data = data;\n        _this.from = from;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    // tslint:disable-next-line:no-empty\n    SignalEvent.prototype.callDefaultBehavior = function () { };\n    return SignalEvent;\n}(Event_1.Event));\nexports.SignalEvent = SignalEvent;\n//# sourceMappingURL=SignalEvent.js.map","'use strict';\n\nexports.__esModule = true;\nexports.start = exports.run = exports.TOKENS = exports.State = undefined;\n\nvar _state = require('./state');\n\nvar _text = require('./tokens/text');\n\nvar TOKENS = _interopRequireWildcard(_text);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar tlds = 'aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw'.split('|'); // macro, see gulpfile.js\n\n/**\n\tThe scanner provides an interface that takes a string of text as input, and\n\toutputs an array of tokens instances that can be used for easy URL parsing.\n\n\t@module linkify\n\t@submodule scanner\n\t@main scanner\n*/\n\nvar NUMBERS = '0123456789'.split('');\nvar ALPHANUM = '0123456789abcdefghijklmnopqrstuvwxyz'.split('');\nvar WHITESPACE = [' ', '\\f', '\\r', '\\t', '\\v', '\\xA0', '\\u1680', '\\u180E']; // excluding line breaks\n\nvar domainStates = []; // states that jump to DOMAIN on /[a-z0-9]/\nvar makeState = function makeState(tokenClass) {\n\treturn new _state.CharacterState(tokenClass);\n};\n\n// Frequently used states\nvar S_START = makeState();\nvar S_NUM = makeState(_text.NUM);\nvar S_DOMAIN = makeState(_text.DOMAIN);\nvar S_DOMAIN_HYPHEN = makeState(); // domain followed by 1 or more hyphen characters\nvar S_WS = makeState(_text.WS);\n\n// States for special URL symbols\nS_START.on('@', makeState(_text.AT)).on('.', makeState(_text.DOT)).on('+', makeState(_text.PLUS)).on('#', makeState(_text.POUND)).on('?', makeState(_text.QUERY)).on('/', makeState(_text.SLASH)).on('_', makeState(_text.UNDERSCORE)).on(':', makeState(_text.COLON)).on('{', makeState(_text.OPENBRACE)).on('[', makeState(_text.OPENBRACKET)).on('<', makeState(_text.OPENANGLEBRACKET)).on('(', makeState(_text.OPENPAREN)).on('}', makeState(_text.CLOSEBRACE)).on(']', makeState(_text.CLOSEBRACKET)).on('>', makeState(_text.CLOSEANGLEBRACKET)).on(')', makeState(_text.CLOSEPAREN)).on('&', makeState(_text.AMPERSAND)).on([',', ';', '!', '\"', '\\''], makeState(_text.PUNCTUATION));\n\n// Whitespace jumps\n// Tokens of only non-newline whitespace are arbitrarily long\nS_START.on('\\n', makeState(_text.NL)).on(WHITESPACE, S_WS);\n\n// If any whitespace except newline, more whitespace!\nS_WS.on(WHITESPACE, S_WS);\n\n// Generates states for top-level domains\n// Note that this is most accurate when tlds are in alphabetical order\nfor (var i = 0; i < tlds.length; i++) {\n\tvar newStates = (0, _state.stateify)(tlds[i], S_START, _text.TLD, _text.DOMAIN);\n\tdomainStates.push.apply(domainStates, newStates);\n}\n\n// Collect the states generated by different protocls\nvar partialProtocolFileStates = (0, _state.stateify)('file', S_START, _text.DOMAIN, _text.DOMAIN);\nvar partialProtocolFtpStates = (0, _state.stateify)('ftp', S_START, _text.DOMAIN, _text.DOMAIN);\nvar partialProtocolHttpStates = (0, _state.stateify)('http', S_START, _text.DOMAIN, _text.DOMAIN);\nvar partialProtocolMailtoStates = (0, _state.stateify)('mailto', S_START, _text.DOMAIN, _text.DOMAIN);\n\n// Add the states to the array of DOMAINeric states\ndomainStates.push.apply(domainStates, partialProtocolFileStates);\ndomainStates.push.apply(domainStates, partialProtocolFtpStates);\ndomainStates.push.apply(domainStates, partialProtocolHttpStates);\ndomainStates.push.apply(domainStates, partialProtocolMailtoStates);\n\n// Protocol states\nvar S_PROTOCOL_FILE = partialProtocolFileStates.pop();\nvar S_PROTOCOL_FTP = partialProtocolFtpStates.pop();\nvar S_PROTOCOL_HTTP = partialProtocolHttpStates.pop();\nvar S_MAILTO = partialProtocolMailtoStates.pop();\nvar S_PROTOCOL_SECURE = makeState(_text.DOMAIN);\nvar S_FULL_PROTOCOL = makeState(_text.PROTOCOL); // Full protocol ends with COLON\nvar S_FULL_MAILTO = makeState(_text.MAILTO); // Mailto ends with COLON\n\n// Secure protocols (end with 's')\nS_PROTOCOL_FTP.on('s', S_PROTOCOL_SECURE).on(':', S_FULL_PROTOCOL);\n\nS_PROTOCOL_HTTP.on('s', S_PROTOCOL_SECURE).on(':', S_FULL_PROTOCOL);\n\ndomainStates.push(S_PROTOCOL_SECURE);\n\n// Become protocol tokens after a COLON\nS_PROTOCOL_FILE.on(':', S_FULL_PROTOCOL);\nS_PROTOCOL_SECURE.on(':', S_FULL_PROTOCOL);\nS_MAILTO.on(':', S_FULL_MAILTO);\n\n// Localhost\nvar partialLocalhostStates = (0, _state.stateify)('localhost', S_START, _text.LOCALHOST, _text.DOMAIN);\ndomainStates.push.apply(domainStates, partialLocalhostStates);\n\n// Everything else\n// DOMAINs make more DOMAINs\n// Number and character transitions\nS_START.on(NUMBERS, S_NUM);\nS_NUM.on('-', S_DOMAIN_HYPHEN).on(NUMBERS, S_NUM).on(ALPHANUM, S_DOMAIN); // number becomes DOMAIN\n\nS_DOMAIN.on('-', S_DOMAIN_HYPHEN).on(ALPHANUM, S_DOMAIN);\n\n// All the generated states should have a jump to DOMAIN\nfor (var _i = 0; _i < domainStates.length; _i++) {\n\tdomainStates[_i].on('-', S_DOMAIN_HYPHEN).on(ALPHANUM, S_DOMAIN);\n}\n\nS_DOMAIN_HYPHEN.on('-', S_DOMAIN_HYPHEN).on(NUMBERS, S_DOMAIN).on(ALPHANUM, S_DOMAIN);\n\n// Set default transition\nS_START.defaultTransition = makeState(_text.SYM);\n\n/**\n\tGiven a string, returns an array of TOKEN instances representing the\n\tcomposition of that string.\n\n\t@method run\n\t@param {String} str Input string to scan\n\t@return {Array} Array of TOKEN instances\n*/\nvar run = function run(str) {\n\n\t// The state machine only looks at lowercase strings.\n\t// This selective `toLowerCase` is used because lowercasing the entire\n\t// string causes the length and character position to vary in some in some\n\t// non-English strings. This happens only on V8-based runtimes.\n\tvar lowerStr = str.replace(/[A-Z]/g, function (c) {\n\t\treturn c.toLowerCase();\n\t});\n\tvar len = str.length;\n\tvar tokens = []; // return value\n\n\tvar cursor = 0;\n\n\t// Tokenize the string\n\twhile (cursor < len) {\n\t\tvar state = S_START;\n\t\tvar nextState = null;\n\t\tvar tokenLength = 0;\n\t\tvar latestAccepting = null;\n\t\tvar sinceAccepts = -1;\n\n\t\twhile (cursor < len && (nextState = state.next(lowerStr[cursor]))) {\n\t\t\tstate = nextState;\n\n\t\t\t// Keep track of the latest accepting state\n\t\t\tif (state.accepts()) {\n\t\t\t\tsinceAccepts = 0;\n\t\t\t\tlatestAccepting = state;\n\t\t\t} else if (sinceAccepts >= 0) {\n\t\t\t\tsinceAccepts++;\n\t\t\t}\n\n\t\t\ttokenLength++;\n\t\t\tcursor++;\n\t\t}\n\n\t\tif (sinceAccepts < 0) {\n\t\t\tcontinue;\n\t\t} // Should never happen\n\n\t\t// Roll back to the latest accepting state\n\t\tcursor -= sinceAccepts;\n\t\ttokenLength -= sinceAccepts;\n\n\t\t// Get the class for the new token\n\t\tvar TOKEN = latestAccepting.emit(); // Current token class\n\n\t\t// No more jumps, just make a new token\n\t\ttokens.push(new TOKEN(str.substr(cursor - tokenLength, tokenLength)));\n\t}\n\n\treturn tokens;\n};\n\nvar start = S_START;\nexports.State = _state.CharacterState;\nexports.TOKENS = TOKENS;\nexports.run = run;\nexports.start = start;","\"use strict\";\n/*\n * (C) Copyright 2017-2020 OpenVidu (https://openvidu.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nexports.__esModule = true;\nvar LocalRecorderState_1 = require(\"../OpenViduInternal/Enums/LocalRecorderState\");\nvar platform = require(\"platform\");\nvar OpenViduLogger_1 = require(\"../OpenViduInternal/Logger/OpenViduLogger\");\n/**\n * @hidden\n */\nvar logger = OpenViduLogger_1.OpenViduLogger.getInstance();\n/**\n * Easy recording of [[Stream]] objects straightaway from the browser. Initialized with [[OpenVidu.initLocalRecorder]] method\n *\n * > WARNINGS:\n * - Performing browser local recording of **remote streams** may cause some troubles. A long waiting time may be required after calling _LocalRecorder.stop()_ in this case\n * - Only Chrome and Firefox support local stream recording\n */\nvar LocalRecorder = /** @class */ (function () {\n    /**\n     * @hidden\n     */\n    function LocalRecorder(stream) {\n        this.stream = stream;\n        this.chunks = [];\n        this.connectionId = (!!this.stream.connection) ? this.stream.connection.connectionId : 'default-connection';\n        this.id = this.stream.streamId + '_' + this.connectionId + '_localrecord';\n        this.state = LocalRecorderState_1.LocalRecorderState.READY;\n    }\n    /**\n     * Starts the recording of the Stream. [[state]] property must be `READY`. After method succeeds is set to `RECORDING`\n     *\n     * @param mimeType The [MediaRecorder.mimeType](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/mimeType) to be used to record this Stream.\n     * Make sure the platform supports it or the promise will return an error. If this parameter is not provided, the MediaRecorder will use the default codecs available in the platform\n     *\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the recording successfully started and rejected with an Error object if not\n     */\n    LocalRecorder.prototype.record = function (mimeType) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                if (typeof MediaRecorder === 'undefined') {\n                    logger.error('MediaRecorder not supported on your browser. See compatibility in https://caniuse.com/#search=MediaRecorder');\n                    throw (Error('MediaRecorder not supported on your browser. See compatibility in https://caniuse.com/#search=MediaRecorder'));\n                }\n                if (_this.state !== LocalRecorderState_1.LocalRecorderState.READY) {\n                    throw (Error('\\'LocalRecord.record()\\' needs \\'LocalRecord.state\\' to be \\'READY\\' (current value: \\'' + _this.state + '\\'). Call \\'LocalRecorder.clean()\\' or init a new LocalRecorder before'));\n                }\n                logger.log(\"Starting local recording of stream '\" + _this.stream.streamId + \"' of connection '\" + _this.connectionId + \"'\");\n                var options = {};\n                if (typeof MediaRecorder.isTypeSupported === 'function') {\n                    if (!!mimeType) {\n                        if (!MediaRecorder.isTypeSupported(mimeType)) {\n                            reject(new Error('mimeType \"' + mimeType + '\" is not supported'));\n                        }\n                        options = { mimeType: mimeType };\n                    }\n                    else {\n                        logger.log('No mimeType parameter provided. Using default codecs');\n                    }\n                }\n                else {\n                    logger.warn('MediaRecorder#isTypeSupported is not supported. Using default codecs');\n                }\n                _this.mediaRecorder = new MediaRecorder(_this.stream.getMediaStream(), options);\n                _this.mediaRecorder.start(10);\n            }\n            catch (err) {\n                reject(err);\n            }\n            _this.mediaRecorder.ondataavailable = function (e) {\n                _this.chunks.push(e.data);\n            };\n            _this.mediaRecorder.onerror = function (e) {\n                logger.error('MediaRecorder error: ', e);\n            };\n            _this.mediaRecorder.onstart = function () {\n                logger.log('MediaRecorder started (state=' + _this.mediaRecorder.state + ')');\n            };\n            _this.mediaRecorder.onstop = function () {\n                _this.onStopDefault();\n            };\n            _this.mediaRecorder.onpause = function () {\n                logger.log('MediaRecorder paused (state=' + _this.mediaRecorder.state + ')');\n            };\n            _this.mediaRecorder.onresume = function () {\n                logger.log('MediaRecorder resumed (state=' + _this.mediaRecorder.state + ')');\n            };\n            _this.mediaRecorder.onwarning = function (e) {\n                logger.log('MediaRecorder warning: ' + e);\n            };\n            _this.state = LocalRecorderState_1.LocalRecorderState.RECORDING;\n            resolve();\n        });\n    };\n    /**\n     * Ends the recording of the Stream. [[state]] property must be `RECORDING` or `PAUSED`. After method succeeds is set to `FINISHED`\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the recording successfully stopped and rejected with an Error object if not\n     */\n    LocalRecorder.prototype.stop = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                if (_this.state === LocalRecorderState_1.LocalRecorderState.READY || _this.state === LocalRecorderState_1.LocalRecorderState.FINISHED) {\n                    throw (Error('\\'LocalRecord.stop()\\' needs \\'LocalRecord.state\\' to be \\'RECORDING\\' or \\'PAUSED\\' (current value: \\'' + _this.state + '\\'). Call \\'LocalRecorder.start()\\' before'));\n                }\n                _this.mediaRecorder.onstop = function () {\n                    _this.onStopDefault();\n                    resolve();\n                };\n                _this.mediaRecorder.stop();\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    };\n    /**\n     * Pauses the recording of the Stream. [[state]] property must be `RECORDING`. After method succeeds is set to `PAUSED`\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the recording was successfully paused and rejected with an Error object if not\n     */\n    LocalRecorder.prototype.pause = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                if (_this.state !== LocalRecorderState_1.LocalRecorderState.RECORDING) {\n                    reject(Error('\\'LocalRecord.pause()\\' needs \\'LocalRecord.state\\' to be \\'RECORDING\\' (current value: \\'' + _this.state + '\\'). Call \\'LocalRecorder.start()\\' or \\'LocalRecorder.resume()\\' before'));\n                }\n                _this.mediaRecorder.pause();\n                _this.state = LocalRecorderState_1.LocalRecorderState.PAUSED;\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    };\n    /**\n     * Resumes the recording of the Stream. [[state]] property must be `PAUSED`. After method succeeds is set to `RECORDING`\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved if the recording was successfully resumed and rejected with an Error object if not\n     */\n    LocalRecorder.prototype.resume = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                if (_this.state !== LocalRecorderState_1.LocalRecorderState.PAUSED) {\n                    throw (Error('\\'LocalRecord.resume()\\' needs \\'LocalRecord.state\\' to be \\'PAUSED\\' (current value: \\'' + _this.state + '\\'). Call \\'LocalRecorder.pause()\\' before'));\n                }\n                _this.mediaRecorder.resume();\n                _this.state = LocalRecorderState_1.LocalRecorderState.RECORDING;\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    };\n    /**\n     * Previews the recording, appending a new HTMLVideoElement to element with id `parentId`. [[state]] property must be `FINISHED`\n     */\n    LocalRecorder.prototype.preview = function (parentElement) {\n        if (this.state !== LocalRecorderState_1.LocalRecorderState.FINISHED) {\n            throw (Error('\\'LocalRecord.preview()\\' needs \\'LocalRecord.state\\' to be \\'FINISHED\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.stop()\\' before'));\n        }\n        this.videoPreview = document.createElement('video');\n        this.videoPreview.id = this.id;\n        this.videoPreview.autoplay = true;\n        if (platform.name === 'Safari') {\n            this.videoPreview.setAttribute('playsinline', 'true');\n        }\n        if (typeof parentElement === 'string') {\n            var parentElementDom = document.getElementById(parentElement);\n            if (parentElementDom) {\n                this.videoPreview = parentElementDom.appendChild(this.videoPreview);\n            }\n        }\n        else {\n            this.videoPreview = parentElement.appendChild(this.videoPreview);\n        }\n        this.videoPreview.src = this.videoPreviewSrc;\n        return this.videoPreview;\n    };\n    /**\n     * Gracefully stops and cleans the current recording (WARNING: it is completely dismissed). Sets [[state]] to `READY` so the recording can start again\n     */\n    LocalRecorder.prototype.clean = function () {\n        var _this = this;\n        var f = function () {\n            delete _this.blob;\n            _this.chunks = [];\n            delete _this.mediaRecorder;\n            _this.state = LocalRecorderState_1.LocalRecorderState.READY;\n        };\n        if (this.state === LocalRecorderState_1.LocalRecorderState.RECORDING || this.state === LocalRecorderState_1.LocalRecorderState.PAUSED) {\n            this.stop().then(function () { return f(); })[\"catch\"](function () { return f(); });\n        }\n        else {\n            f();\n        }\n    };\n    /**\n     * Downloads the recorded video through the browser. [[state]] property must be `FINISHED`\n     */\n    LocalRecorder.prototype.download = function () {\n        if (this.state !== LocalRecorderState_1.LocalRecorderState.FINISHED) {\n            throw (Error('\\'LocalRecord.download()\\' needs \\'LocalRecord.state\\' to be \\'FINISHED\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.stop()\\' before'));\n        }\n        else {\n            var a = document.createElement('a');\n            a.style.display = 'none';\n            document.body.appendChild(a);\n            var url = window.URL.createObjectURL(this.blob);\n            a.href = url;\n            a.download = this.id + '.webm';\n            a.click();\n            window.URL.revokeObjectURL(url);\n            document.body.removeChild(a);\n        }\n    };\n    /**\n     * Gets the raw Blob file. Methods preview, download, uploadAsBinary and uploadAsMultipartfile use this same file to perform their specific actions. [[state]] property must be `FINISHED`\n     */\n    LocalRecorder.prototype.getBlob = function () {\n        if (this.state !== LocalRecorderState_1.LocalRecorderState.FINISHED) {\n            throw (Error('Call \\'LocalRecord.stop()\\' before getting Blob file'));\n        }\n        else {\n            return this.blob;\n        }\n    };\n    /**\n     * Uploads the recorded video as a binary file performing an HTTP/POST operation to URL `endpoint`. [[state]] property must be `FINISHED`. Optional HTTP headers can be passed as second parameter. For example:\n     * ```\n     * var headers = {\n     *  \"Cookie\": \"$Version=1; Skin=new;\",\n     *  \"Authorization\":\"Basic QWxhZGpbjpuIHNlctZQ==\"\n     * }\n     * ```\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved with the `http.responseText` from server if the operation was successful and rejected with the failed `http.status` if not\n     */\n    LocalRecorder.prototype.uploadAsBinary = function (endpoint, headers) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (_this.state !== LocalRecorderState_1.LocalRecorderState.FINISHED) {\n                reject(Error('\\'LocalRecord.uploadAsBinary()\\' needs \\'LocalRecord.state\\' to be \\'FINISHED\\' (current value: \\'' + _this.state + '\\'). Call \\'LocalRecorder.stop()\\' before'));\n            }\n            else {\n                var http_1 = new XMLHttpRequest();\n                http_1.open('POST', endpoint, true);\n                if (typeof headers === 'object') {\n                    for (var _i = 0, _a = Object.keys(headers); _i < _a.length; _i++) {\n                        var key = _a[_i];\n                        http_1.setRequestHeader(key, headers[key]);\n                    }\n                }\n                http_1.onreadystatechange = function () {\n                    if (http_1.readyState === 4) {\n                        if (http_1.status.toString().charAt(0) === '2') {\n                            // Success response from server (HTTP status standard: 2XX is success)\n                            resolve(http_1.responseText);\n                        }\n                        else {\n                            reject(http_1.status);\n                        }\n                    }\n                };\n                http_1.send(_this.blob);\n            }\n        });\n    };\n    /**\n     * Uploads the recorded video as a multipart file performing an HTTP/POST operation to URL `endpoint`. [[state]] property must be `FINISHED`. Optional HTTP headers can be passed as second parameter. For example:\n     * ```\n     * var headers = {\n     *  \"Cookie\": \"$Version=1; Skin=new;\",\n     *  \"Authorization\":\"Basic QWxhZGpbjpuIHNlctZQ==\"\n     * }\n     * ```\n     * @returns A Promise (to which you can optionally subscribe to) that is resolved with the `http.responseText` from server if the operation was successful and rejected with the failed `http.status` if not:\n     */\n    LocalRecorder.prototype.uploadAsMultipartfile = function (endpoint, headers) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (_this.state !== LocalRecorderState_1.LocalRecorderState.FINISHED) {\n                reject(Error('\\'LocalRecord.uploadAsMultipartfile()\\' needs \\'LocalRecord.state\\' to be \\'FINISHED\\' (current value: \\'' + _this.state + '\\'). Call \\'LocalRecorder.stop()\\' before'));\n            }\n            else {\n                var http_2 = new XMLHttpRequest();\n                http_2.open('POST', endpoint, true);\n                if (typeof headers === 'object') {\n                    for (var _i = 0, _a = Object.keys(headers); _i < _a.length; _i++) {\n                        var key = _a[_i];\n                        http_2.setRequestHeader(key, headers[key]);\n                    }\n                }\n                var sendable = new FormData();\n                sendable.append('file', _this.blob, _this.id + '.webm');\n                http_2.onreadystatechange = function () {\n                    if (http_2.readyState === 4) {\n                        if (http_2.status.toString().charAt(0) === '2') {\n                            // Success response from server (HTTP status standard: 2XX is success)\n                            resolve(http_2.responseText);\n                        }\n                        else {\n                            reject(http_2.status);\n                        }\n                    }\n                };\n                http_2.send(sendable);\n            }\n        });\n    };\n    /* Private methods */\n    LocalRecorder.prototype.onStopDefault = function () {\n        logger.log('MediaRecorder stopped  (state=' + this.mediaRecorder.state + ')');\n        this.blob = new Blob(this.chunks, { type: 'video/webm' });\n        this.chunks = [];\n        this.videoPreviewSrc = window.URL.createObjectURL(this.blob);\n        this.state = LocalRecorderState_1.LocalRecorderState.FINISHED;\n    };\n    return LocalRecorder;\n}());\nexports.LocalRecorder = LocalRecorder;\n//# sourceMappingURL=LocalRecorder.js.map","/*\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based\non @visionmedia's Emitter from UI Kit.\n\nWhy? I wanted it standalone.\n\nI also wanted support for wildcard emitters like this:\n\nemitter.on('*', function (eventName, other, event, payloads) {\n\n});\n\nemitter.on('somenamespace*', function (eventName, payloads) {\n\n});\n\nPlease note that callbacks triggered by wildcard registered events also get\nthe event name as the first argument.\n*/\n\nmodule.exports = WildEmitter;\n\nfunction WildEmitter() { }\n\nWildEmitter.mixin = function (constructor) {\n    var prototype = constructor.prototype || constructor;\n\n    prototype.isWildEmitter= true;\n\n    // Listen on the given `event` with `fn`. Store a group name if present.\n    prototype.on = function (event, groupName, fn) {\n        this.callbacks = this.callbacks || {};\n        var hasGroup = (arguments.length === 3),\n            group = hasGroup ? arguments[1] : undefined,\n            func = hasGroup ? arguments[2] : arguments[1];\n        func._groupName = group;\n        (this.callbacks[event] = this.callbacks[event] || []).push(func);\n        return this;\n    };\n\n    // Adds an `event` listener that will be invoked a single\n    // time then automatically removed.\n    prototype.once = function (event, groupName, fn) {\n        var self = this,\n            hasGroup = (arguments.length === 3),\n            group = hasGroup ? arguments[1] : undefined,\n            func = hasGroup ? arguments[2] : arguments[1];\n        function on() {\n            self.off(event, on);\n            func.apply(this, arguments);\n        }\n        this.on(event, group, on);\n        return this;\n    };\n\n    // Unbinds an entire group\n    prototype.releaseGroup = function (groupName) {\n        this.callbacks = this.callbacks || {};\n        var item, i, len, handlers;\n        for (item in this.callbacks) {\n            handlers = this.callbacks[item];\n            for (i = 0, len = handlers.length; i < len; i++) {\n                if (handlers[i]._groupName === groupName) {\n                    //console.log('removing');\n                    // remove it and shorten the array we're looping through\n                    handlers.splice(i, 1);\n                    i--;\n                    len--;\n                }\n            }\n        }\n        return this;\n    };\n\n    // Remove the given callback for `event` or all\n    // registered callbacks.\n    prototype.off = function (event, fn) {\n        this.callbacks = this.callbacks || {};\n        var callbacks = this.callbacks[event],\n            i;\n\n        if (!callbacks) return this;\n\n        // remove all handlers\n        if (arguments.length === 1) {\n            delete this.callbacks[event];\n            return this;\n        }\n\n        // remove specific handler\n        i = callbacks.indexOf(fn);\n        if (i !== -1) {\n            callbacks.splice(i, 1);\n            if (callbacks.length === 0) {\n                delete this.callbacks[event];\n            }\n        }\n        return this;\n    };\n\n    /// Emit `event` with the given args.\n    // also calls any `*` handlers\n    prototype.emit = function (event) {\n        this.callbacks = this.callbacks || {};\n        var args = [].slice.call(arguments, 1),\n            callbacks = this.callbacks[event],\n            specialCallbacks = this.getWildcardCallbacks(event),\n            i,\n            len,\n            item,\n            listeners;\n\n        if (callbacks) {\n            listeners = callbacks.slice();\n            for (i = 0, len = listeners.length; i < len; ++i) {\n                if (!listeners[i]) {\n                    break;\n                }\n                listeners[i].apply(this, args);\n            }\n        }\n\n        if (specialCallbacks) {\n            len = specialCallbacks.length;\n            listeners = specialCallbacks.slice();\n            for (i = 0, len = listeners.length; i < len; ++i) {\n                if (!listeners[i]) {\n                    break;\n                }\n                listeners[i].apply(this, [event].concat(args));\n            }\n        }\n\n        return this;\n    };\n\n    // Helper for for finding special wildcard event handlers that match the event\n    prototype.getWildcardCallbacks = function (eventName) {\n        this.callbacks = this.callbacks || {};\n        var item,\n            split,\n            result = [];\n\n        for (item in this.callbacks) {\n            split = item.split('*');\n            if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\n                result = result.concat(this.callbacks[item]);\n            }\n        }\n        return result;\n    };\n\n};\n\nWildEmitter.mixin(WildEmitter);\n","var WildEmitter = require('wildemitter');\n\nfunction getMaxVolume (analyser, fftBins) {\n  var maxVolume = -Infinity;\n  analyser.getFloatFrequencyData(fftBins);\n\n  for(var i=4, ii=fftBins.length; i < ii; i++) {\n    if (fftBins[i] > maxVolume && fftBins[i] < 0) {\n      maxVolume = fftBins[i];\n    }\n  };\n\n  return maxVolume;\n}\n\n\nvar audioContextType;\nif (typeof window !== 'undefined') {\n  audioContextType = window.AudioContext || window.webkitAudioContext;\n}\n// use a single audio context due to hardware limits\nvar audioContext = null;\nmodule.exports = function(stream, options) {\n  var harker = new WildEmitter();\n\n  // make it not break in non-supported browsers\n  if (!audioContextType) return harker;\n\n  //Config\n  var options = options || {},\n      smoothing = (options.smoothing || 0.1),\n      interval = (options.interval || 50),\n      threshold = options.threshold,\n      play = options.play,\n      history = options.history || 10,\n      running = true;\n\n  // Ensure that just a single AudioContext is internally created\n  audioContext = options.audioContext || audioContext || new audioContextType();\n\n  var sourceNode, fftBins, analyser;\n\n  analyser = audioContext.createAnalyser();\n  analyser.fftSize = 512;\n  analyser.smoothingTimeConstant = smoothing;\n  fftBins = new Float32Array(analyser.frequencyBinCount);\n\n  if (stream.jquery) stream = stream[0];\n  if (stream instanceof HTMLAudioElement || stream instanceof HTMLVideoElement) {\n    //Audio Tag\n    sourceNode = audioContext.createMediaElementSource(stream);\n    if (typeof play === 'undefined') play = true;\n    threshold = threshold || -50;\n  } else {\n    //WebRTC Stream\n    sourceNode = audioContext.createMediaStreamSource(stream);\n    threshold = threshold || -50;\n  }\n\n  sourceNode.connect(analyser);\n  if (play) analyser.connect(audioContext.destination);\n\n  harker.speaking = false;\n\n  harker.suspend = function() {\n    return audioContext.suspend();\n  }\n  harker.resume = function() {\n    return audioContext.resume();\n  }\n  Object.defineProperty(harker, 'state', { get: function() {\n    return audioContext.state;\n  }});\n  audioContext.onstatechange = function() {\n    harker.emit('state_change', audioContext.state);\n  }\n\n  harker.setThreshold = function(t) {\n    threshold = t;\n  };\n\n  harker.setInterval = function(i) {\n    interval = i;\n  };\n\n  harker.stop = function() {\n    running = false;\n    harker.emit('volume_change', -100, threshold);\n    if (harker.speaking) {\n      harker.speaking = false;\n      harker.emit('stopped_speaking');\n    }\n    analyser.disconnect();\n    sourceNode.disconnect();\n  };\n  harker.speakingHistory = [];\n  for (var i = 0; i < history; i++) {\n      harker.speakingHistory.push(0);\n  }\n\n  // Poll the analyser node to determine if speaking\n  // and emit events if changed\n  var looper = function() {\n    setTimeout(function() {\n\n      //check if stop has been called\n      if(!running) {\n        return;\n      }\n\n      var currentVolume = getMaxVolume(analyser, fftBins);\n\n      harker.emit('volume_change', currentVolume, threshold);\n\n      var history = 0;\n      if (currentVolume > threshold && !harker.speaking) {\n        // trigger quickly, short history\n        for (var i = harker.speakingHistory.length - 3; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history >= 2) {\n          harker.speaking = true;\n          harker.emit('speaking');\n        }\n      } else if (currentVolume < threshold && harker.speaking) {\n        for (var i = 0; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history == 0) {\n          harker.speaking = false;\n          harker.emit('stopped_speaking');\n        }\n      }\n      harker.speakingHistory.shift();\n      harker.speakingHistory.push(0 + (currentVolume > threshold));\n\n      looper();\n    }, interval);\n  };\n  looper();\n\n  return harker;\n}\n","/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:17.411Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Cropper = factory());\n}(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper'; // Actions\n\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw'; // Classes\n\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\"); // Data keys\n\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\"); // Drag modes\n\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none'; // Events\n\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom'; // Mime types\n\n  var MIME_TYPE_JPEG = 'image/jpeg'; // RegExps\n\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i; // Misc\n  // Inspired by the default width and height of a canvas element.\n\n  var MIN_CONTAINER_WIDTH = 200;\n  var MIN_CONTAINER_HEIGHT = 100;\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: MIN_CONTAINER_WIDTH,\n    minContainerHeight: MIN_CONTAINER_HEIGHT,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length)\n      /* array-like */\n      ) {\n          toArray(data).forEach(function (value, key) {\n            callback.call(data, value, key, data);\n          });\n        } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n\n    return data;\n  }\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n\n      style[property] = value;\n    });\n  }\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n\n    var className = element.className.trim();\n\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  var onceSupported = function () {\n    var supported = false;\n\n    if (IS_BROWSER) {\n      var once = false;\n\n      var listener = function listener() {};\n\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n\n    return supported;\n  }();\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n\n      element.removeEventListener(event, handler, options);\n    });\n  }\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n            listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          listener.apply(element, args);\n        };\n\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n\n      element.addEventListener(event, _handler, options);\n    });\n  }\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n\n  function dispatchEvent(element, type, data) {\n    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    return element.dispatchEvent(event);\n  }\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n        scaleX = _ref.scaleX,\n        scaleY = _ref.scaleY,\n        translateX = _ref.translateX,\n        translateY = _ref.translateY;\n    var values = [];\n\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    } // Rotate should come first before scale to match orientation transform\n\n\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n\n    var maxRatio = 0;\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n\n        if (Math.abs(ratio) > Math.abs(maxRatio)) {\n          maxRatio = ratio;\n        }\n      });\n    });\n    return maxRatio;\n  }\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n          startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n\n  function getAdjustedSizes(_ref4) // or 'cover'\n  {\n    var aspectRatio = _ref4.aspectRatio,\n        height = _ref4.height,\n        width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height,\n        degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n        imageNaturalWidth = _ref6.naturalWidth,\n        imageNaturalHeight = _ref6.naturalHeight,\n        _ref6$rotate = _ref6.rotate,\n        rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n        _ref6$scaleX = _ref6.scaleX,\n        scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n        _ref6$scaleY = _ref6.scaleY,\n        scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n        naturalWidth = _ref7.naturalWidth,\n        naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n        fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n        _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n        imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n        _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n        imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n        _ref8$maxWidth = _ref8.maxWidth,\n        maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n        _ref8$maxHeight = _ref8.maxHeight,\n        maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n        _ref8$minWidth = _ref8.minWidth,\n        minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n        _ref8$minHeight = _ref8.minHeight,\n        minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = []; // Chunk Typed Array for better performance (#435)\n\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation; // Ignores range error when the image does not have correct Exif information\n\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n\n          offset += 1;\n        }\n      }\n\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n\n          if (littleEndian || endianness === 0x4D4D\n          /* bigEndian */\n          ) {\n              if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n                var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n                if (firstIFDOffset >= 0x00000008) {\n                  ifdStart = tiffOffset + firstIFDOffset;\n                }\n              }\n            }\n        }\n      }\n\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n\n        var _offset;\n\n        var i;\n\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112\n          /* Orientation */\n          ) {\n              // 8 is the offset of the current tag's value\n              _offset += 8; // Get the original orientation value\n\n              orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n              dataView.setUint16(_offset, 1, littleEndian);\n              break;\n            }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n\n    return orientation;\n  }\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n      // Rotate left 180°\n\n      case 3:\n        rotate = -180;\n        break;\n      // Flip vertical\n\n      case 4:\n        scaleY = -1;\n        break;\n      // Flip vertical and rotate right 90°\n\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n      // Rotate right 90°\n\n      case 6:\n        rotate = 90;\n        break;\n      // Flip horizontal and rotate right 90°\n\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n      // Rotate left 90°\n\n      case 8:\n        rotate = -90;\n        break;\n    }\n\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n          options = this.options,\n          container = this.container,\n          cropper = this.cropper;\n      var minWidth = Number(options.minContainerWidth);\n      var minHeight = Number(options.minContainerHeight);\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n        height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n          imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      canvasData.left = (containerData.width - canvasData.width) / 2;\n      canvasData.top = (containerData.height - canvasData.height) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n          width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n          height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n          degree: imageData.rotate || 0\n        }),\n            naturalWidth = _getRotatedSizes.width,\n            naturalHeight = _getRotatedSizes.height;\n\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true); // Initialize auto crop area\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); // The width/height of auto crop area must large than \"minWidth/Height\"\n\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData,\n          limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; // The min/maxCropBoxWidth/Height must be less than container's width/height\n\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        } // The minWidth/Height must be less than maxWidth/Height\n\n\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData;\n\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n          crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n\n      if (!preview) {\n        return;\n      }\n\n      var previews = preview;\n\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img'); // Save the original size for recover\n\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n\n        img.src = url;\n        img.alt = alt;\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n          cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n          height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      if (this.disabled) {\n        return;\n      }\n\n      var options = this.options,\n          container = this.container,\n          containerData = this.containerData;\n      var ratioX = container.offsetWidth / containerData.width;\n      var ratioY = container.offsetHeight / containerData.height;\n      var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY; // Resize when width changed or height changed\n\n      if (ratio !== 1) {\n        var canvasData;\n        var cropBoxData;\n\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n\n        this.render();\n\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n\n      if (this.disabled) {\n        return;\n      }\n\n      event.preventDefault(); // Limit wheel speed to prevent zoom too fast (#21)\n\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n          button = event.button;\n\n      if (this.disabled // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      var options = this.options,\n          pointers = this.pointers;\n      var action;\n\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      } // This line is required for preventing page zooming in iOS browsers\n\n\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n\n      if (this.disabled || !action) {\n        return;\n      }\n\n      var pointers = this.pointers;\n      event.preventDefault();\n\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      var action = this.action,\n          pointers = this.pointers;\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n\n      if (!action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n          canvasData = this.canvasData,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData,\n          pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n          top = cropBoxData.top,\n          width = cropBoxData.width,\n          height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset; // Locking aspect ratio in \"free mode\" by holding shift key\n\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n\n            break;\n\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n\n            break;\n\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n\n            break;\n\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n\n            break;\n        }\n      };\n\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n        // Resize crop box\n\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_SOUTH);\n          height += range.y;\n\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n        // Move canvas\n\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n        // Zoom canvas\n\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n        // Create crop box\n\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n\n          if (range.y < 0) {\n            top -= height;\n          } // Show the crop box if is hidden\n\n\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n\n          break;\n      }\n\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      } // Override\n\n\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true); // Render canvas after crop box rendered\n\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n\n      return this;\n    },\n\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n\n      element[NAMESPACE] = undefined;\n\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n\n      this.uncreate();\n      return this;\n    },\n\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n          left = _this$canvasData.left,\n          top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var width = canvasData.width,\n          height = canvasData.height,\n          naturalWidth = canvasData.naturalWidth,\n          naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          }; // Zoom from the triggering point of the event\n\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData;\n      var cropBoxData = {};\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n\n        var ratio = imageData.width / imageData.naturalWidth;\n\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n\n        this.setCropBoxData(cropBoxData);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n\n      return data || {};\n    },\n\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n\n        this.renderCropBox();\n      }\n\n      return this;\n    },\n\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options); // Returns the source canvas if it is not cropped.\n\n      if (!this.cropped) {\n        return source;\n      }\n\n      var _this$getData = this.getData(),\n          initialX = _this$getData.x,\n          initialY = _this$getData.y,\n          initialWidth = _this$getData.width,\n          initialHeight = _this$getData.height;\n\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.width || (ratio !== 1 ? source.width : initialWidth),\n        height: options.height || (ratio !== 1 ? source.height : initialHeight)\n      }),\n          width = _getAdjustedSizes.width,\n          height = _getAdjustedSizes.height;\n\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n          imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n          imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      } // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n\n\n      var sourceWidth = source.width;\n      var sourceHeight = source.height; // Source canvas parameters\n\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight; // Destination canvas parameters\n\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n\n      var params = [srcX, srcY, srcWidth, srcHeight]; // Avoid \"IndexSizeError\"\n\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      } // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n\n\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n        if (this.ready) {\n          this.initCropBox();\n\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n          dragBox = this.dragBox,\n          face = this.face;\n\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n\n  var Cropper = /*#__PURE__*/function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Cropper);\n\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n\n        if (element[NAMESPACE]) {\n          return;\n        }\n\n        element[NAMESPACE] = this;\n\n        if (tagName === 'img') {\n          this.isImg = true; // e.g.: \"img/picture.jpg\"\n\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url; // Stop when it's a blank image\n\n          if (!url) {\n            return;\n          } // e.g.: \"https://example.com/img/picture.jpg\"\n\n\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n\n        if (!url) {\n          return;\n        }\n\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n            options = this.options;\n\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        } // Only IE10+ supports Typed Arrays\n\n\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        } // Detect the mime type of the image directly if it is a Data URL\n\n\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n\n          return;\n        } // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n\n\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr; // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        }; // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n\n\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        } // The third parameter is required for avoiding side-effect (#682)\n\n\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n            imageData = this.imageData; // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n\n          var _parseOrientation = parseOrientation(orientation);\n\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n            url = this.url;\n        var crossOrigin = element.crossOrigin;\n        var crossOriginUrl = url;\n\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          } // Bust cache when there is not a \"crossOrigin\" property (#519)\n\n\n          crossOriginUrl = addTimestamp(url);\n        }\n\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true; // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.initialImageData = assign({}, _this2.imageData);\n          _this2.sizing = false;\n          _this2.sized = true;\n\n          _this2.build();\n        }; // Most modern browsers (excepts iOS WebKit)\n\n\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n\n        sizingImage.src = image.src; // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n\n        var element = this.element,\n            options = this.options,\n            image = this.image; // Create cropper elements\n\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image); // Hide the original image\n\n        addClass(element, CLASS_HIDDEN); // Inserts the cropper after to the current image\n\n        container.insertBefore(cropper, element.nextSibling); // Show the image if is hidden\n\n        if (!this.isImg) {\n          removeClass(image, CLASS_HIDE);\n        }\n\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n\n        if (options.autoCrop) {\n          this.crop();\n        }\n\n        this.setData(options.data);\n\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        this.cropper.parentNode.removeChild(this.cropper);\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n\n    return Cropper;\n  }();\n\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n})));\n","'use strict';\n\nexports.__esModule = true;\nexports.URL = exports.TEXT = exports.NL = exports.EMAIL = exports.MAILTOEMAIL = exports.Base = undefined;\n\nvar _createTokenClass = require('./create-token-class');\n\nvar _class = require('../../utils/class');\n\nvar _text = require('./text');\n\n/******************************************************************************\n\tMulti-Tokens\n\tTokens composed of arrays of TextTokens\n******************************************************************************/\n\n// Is the given token a valid domain token?\n// Should nums be included here?\nfunction isDomainToken(token) {\n\treturn token instanceof _text.DOMAIN || token instanceof _text.TLD;\n}\n\n/**\n\tAbstract class used for manufacturing tokens of text tokens. That is rather\n\tthan the value for a token being a small string of text, it's value an array\n\tof text tokens.\n\n\tUsed for grouping together URLs, emails, hashtags, and other potential\n\tcreations.\n\n\t@class MultiToken\n\t@abstract\n*/\nvar MultiToken = (0, _createTokenClass.createTokenClass)();\n\nMultiToken.prototype = {\n\t/**\n \tString representing the type for this token\n \t@property type\n \t@default 'TOKEN'\n */\n\ttype: 'token',\n\n\t/**\n \tIs this multitoken a link?\n \t@property isLink\n \t@default false\n */\n\tisLink: false,\n\n\t/**\n \tReturn the string this token represents.\n \t@method toString\n \t@return {String}\n */\n\ttoString: function toString() {\n\t\tvar result = [];\n\t\tfor (var i = 0; i < this.v.length; i++) {\n\t\t\tresult.push(this.v[i].toString());\n\t\t}\n\t\treturn result.join('');\n\t},\n\n\n\t/**\n \tWhat should the value for this token be in the `href` HTML attribute?\n \tReturns the `.toString` value by default.\n \t\t@method toHref\n \t@return {String}\n */\n\ttoHref: function toHref() {\n\t\treturn this.toString();\n\t},\n\n\n\t/**\n \tReturns a hash of relevant values for this token, which includes keys\n \t* type - Kind of token ('url', 'email', etc.)\n \t* value - Original text\n \t* href - The value that should be added to the anchor tag's href\n \t\tattribute\n \t\t@method toObject\n \t@param {String} [protocol] `'http'` by default\n \t@return {Object}\n */\n\ttoObject: function toObject() {\n\t\tvar protocol = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'http';\n\n\t\treturn {\n\t\t\ttype: this.type,\n\t\t\tvalue: this.toString(),\n\t\t\thref: this.toHref(protocol)\n\t\t};\n\t}\n};\n\n/**\n\tRepresents an arbitrarily mailto email address with the prefix included\n\t@class MAILTO\n\t@extends MultiToken\n*/\nvar MAILTOEMAIL = (0, _class.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), {\n\ttype: 'email',\n\tisLink: true\n});\n\n/**\n\tRepresents a list of tokens making up a valid email address\n\t@class EMAIL\n\t@extends MultiToken\n*/\nvar EMAIL = (0, _class.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), {\n\ttype: 'email',\n\tisLink: true,\n\ttoHref: function toHref() {\n\t\treturn 'mailto:' + this.toString();\n\t}\n});\n\n/**\n\tRepresents some plain text\n\t@class TEXT\n\t@extends MultiToken\n*/\nvar TEXT = (0, _class.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), { type: 'text' });\n\n/**\n\tMulti-linebreak token - represents a line break\n\t@class NL\n\t@extends MultiToken\n*/\nvar NL = (0, _class.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), { type: 'nl' });\n\n/**\n\tRepresents a list of tokens making up a valid URL\n\t@class URL\n\t@extends MultiToken\n*/\nvar URL = (0, _class.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), {\n\ttype: 'url',\n\tisLink: true,\n\n\t/**\n \tLowercases relevant parts of the domain and adds the protocol if\n \trequired. Note that this will not escape unsafe HTML characters in the\n \tURL.\n \t\t@method href\n \t@param {String} protocol\n \t@return {String}\n */\n\ttoHref: function toHref() {\n\t\tvar protocol = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'http';\n\n\t\tvar hasProtocol = false;\n\t\tvar hasSlashSlash = false;\n\t\tvar tokens = this.v;\n\t\tvar result = [];\n\t\tvar i = 0;\n\n\t\t// Make the first part of the domain lowercase\n\t\t// Lowercase protocol\n\t\twhile (tokens[i] instanceof _text.PROTOCOL) {\n\t\t\thasProtocol = true;\n\t\t\tresult.push(tokens[i].toString().toLowerCase());\n\t\t\ti++;\n\t\t}\n\n\t\t// Skip slash-slash\n\t\twhile (tokens[i] instanceof _text.SLASH) {\n\t\t\thasSlashSlash = true;\n\t\t\tresult.push(tokens[i].toString());\n\t\t\ti++;\n\t\t}\n\n\t\t// Lowercase all other characters in the domain\n\t\twhile (isDomainToken(tokens[i])) {\n\t\t\tresult.push(tokens[i].toString().toLowerCase());\n\t\t\ti++;\n\t\t}\n\n\t\t// Leave all other characters as they were written\n\t\tfor (; i < tokens.length; i++) {\n\t\t\tresult.push(tokens[i].toString());\n\t\t}\n\n\t\tresult = result.join('');\n\n\t\tif (!(hasProtocol || hasSlashSlash)) {\n\t\t\tresult = protocol + '://' + result;\n\t\t}\n\n\t\treturn result;\n\t},\n\thasProtocol: function hasProtocol() {\n\t\treturn this.v[0] instanceof _text.PROTOCOL;\n\t}\n});\n\nexports.Base = MultiToken;\nexports.MAILTOEMAIL = MAILTOEMAIL;\nexports.EMAIL = EMAIL;\nexports.NL = NL;\nexports.TEXT = TEXT;\nexports.URL = URL;","import { InjectionToken, Component, ViewEncapsulation, ChangeDetectionStrategy, ElementRef, Optional, Inject, Input, ContentChildren, Directive, NgModule } from '@angular/core';\nimport { setLines, MatLine, MatLineModule, MatCommonModule } from '@angular/material/core';\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\nimport { Directionality } from '@angular/cdk/bidi';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/grid-list/grid-list-base.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Injection token used to provide a grid list to a tile and to avoid circular imports.\n * \\@docs-private\n * @type {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/bidi';\n\nconst _c0 = [\"*\"];\nconst _c1 = [[[\"\", \"mat-grid-avatar\", \"\"], [\"\", \"matGridAvatar\", \"\"]], [[\"\", \"mat-line\", \"\"], [\"\", \"matLine\", \"\"]], \"*\"];\nconst _c2 = [\"[mat-grid-avatar], [matGridAvatar]\", \"[mat-line], [matLine]\", \"*\"];\nconst MAT_GRID_LIST = new InjectionToken('MAT_GRID_LIST');\n/**\n * Base interface for a `MatGridList`.\n * \\@docs-private\n * @record\n */\nfunction MatGridListBase() { }\nif (false) {\n    /** @type {?} */\n    MatGridListBase.prototype.cols;\n    /** @type {?} */\n    MatGridListBase.prototype.gutterSize;\n    /** @type {?} */\n    MatGridListBase.prototype.rowHeight;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/grid-list/grid-tile.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass MatGridTile {\n    /**\n     * @param {?} _element\n     * @param {?=} _gridList\n     */\n    constructor(_element, _gridList) {\n        this._element = _element;\n        this._gridList = _gridList;\n        this._rowspan = 1;\n        this._colspan = 1;\n    }\n    /**\n     * Amount of rows that the grid tile takes up.\n     * @return {?}\n     */\n    get rowspan() { return this._rowspan; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set rowspan(value) { this._rowspan = Math.round(coerceNumberProperty(value)); }\n    /**\n     * Amount of columns that the grid tile takes up.\n     * @return {?}\n     */\n    get colspan() { return this._colspan; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set colspan(value) { this._colspan = Math.round(coerceNumberProperty(value)); }\n    /**\n     * Sets the style of the grid-tile element.  Needs to be set manually to avoid\n     * \"Changed after checked\" errors that would occur with HostBinding.\n     * @param {?} property\n     * @param {?} value\n     * @return {?}\n     */\n    _setStyle(property, value) {\n        ((/** @type {?} */ (this._element.nativeElement.style)))[property] = value;\n    }\n}\nMatGridTile.ɵfac = function MatGridTile_Factory(t) { return new (t || MatGridTile)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(MAT_GRID_LIST, 8)); };\nMatGridTile.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatGridTile, selectors: [[\"mat-grid-tile\"]], hostAttrs: [1, \"mat-grid-tile\"], hostVars: 2, hostBindings: function MatGridTile_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"rowspan\", ctx.rowspan)(\"colspan\", ctx.colspan);\n    } }, inputs: { rowspan: \"rowspan\", colspan: \"colspan\" }, exportAs: [\"matGridTile\"], ngContentSelectors: _c0, decls: 2, vars: 0, consts: [[1, \"mat-figure\"]], template: function MatGridTile_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"figure\", 0);\n        ɵngcc0.ɵɵprojection(1);\n        ɵngcc0.ɵɵelementEnd();\n    } }, styles: [\".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\\n\"], encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nMatGridTile.ctorParameters = () => [\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_GRID_LIST,] }] }\n];\nMatGridTile.propDecorators = {\n    rowspan: [{ type: Input }],\n    colspan: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatGridTile, [{\n        type: Component,\n        args: [{\n                selector: 'mat-grid-tile',\n                exportAs: 'matGridTile',\n                host: {\n                    'class': 'mat-grid-tile',\n                    // Ensures that the \"rowspan\" and \"colspan\" input value is reflected in\n                    // the DOM. This is needed for the grid-tile harness.\n                    '[attr.rowspan]': 'rowspan',\n                    '[attr.colspan]': 'colspan'\n                },\n                template: \"<!-- TODO(kara): Revisit why this is a figure.-->\\n<figure class=\\\"mat-figure\\\">\\n  <ng-content></ng-content>\\n</figure>\",\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [MAT_GRID_LIST]\n            }] }]; }, { rowspan: [{\n            type: Input\n        }], colspan: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    MatGridTile.ngAcceptInputType_rowspan;\n    /** @type {?} */\n    MatGridTile.ngAcceptInputType_colspan;\n    /** @type {?} */\n    MatGridTile.prototype._rowspan;\n    /** @type {?} */\n    MatGridTile.prototype._colspan;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatGridTile.prototype._element;\n    /** @type {?} */\n    MatGridTile.prototype._gridList;\n}\nclass MatGridTileText {\n    /**\n     * @param {?} _element\n     */\n    constructor(_element) {\n        this._element = _element;\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        setLines(this._lines, this._element);\n    }\n}\nMatGridTileText.ɵfac = function MatGridTileText_Factory(t) { return new (t || MatGridTileText)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nMatGridTileText.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatGridTileText, selectors: [[\"mat-grid-tile-header\"], [\"mat-grid-tile-footer\"]], contentQueries: function MatGridTileText_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, MatLine, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._lines = _t);\n    } }, ngContentSelectors: _c2, decls: 4, vars: 0, consts: [[1, \"mat-grid-list-text\"]], template: function MatGridTileText_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef(_c1);\n        ɵngcc0.ɵɵprojection(0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 0);\n        ɵngcc0.ɵɵprojection(2, 1);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵprojection(3, 2);\n    } }, encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nMatGridTileText.ctorParameters = () => [\n    { type: ElementRef }\n];\nMatGridTileText.propDecorators = {\n    _lines: [{ type: ContentChildren, args: [MatLine, { descendants: true },] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatGridTileText, [{\n        type: Component,\n        args: [{\n                selector: 'mat-grid-tile-header, mat-grid-tile-footer',\n                template: \"<ng-content select=\\\"[mat-grid-avatar], [matGridAvatar]\\\"></ng-content>\\n<div class=\\\"mat-grid-list-text\\\"><ng-content select=\\\"[mat-line], [matLine]\\\"></ng-content></div>\\n<ng-content></ng-content>\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { _lines: [{\n            type: ContentChildren,\n            args: [MatLine, { descendants: true }]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    MatGridTileText.prototype._lines;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatGridTileText.prototype._element;\n}\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * \\@docs-private\n */\nclass MatGridAvatarCssMatStyler {\n}\nMatGridAvatarCssMatStyler.ɵfac = function MatGridAvatarCssMatStyler_Factory(t) { return new (t || MatGridAvatarCssMatStyler)(); };\nMatGridAvatarCssMatStyler.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatGridAvatarCssMatStyler, selectors: [[\"\", \"mat-grid-avatar\", \"\"], [\"\", \"matGridAvatar\", \"\"]], hostAttrs: [1, \"mat-grid-avatar\"] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatGridAvatarCssMatStyler, [{\n        type: Directive,\n        args: [{\n                selector: '[mat-grid-avatar], [matGridAvatar]',\n                host: { 'class': 'mat-grid-avatar' }\n            }]\n    }], null, null); })();\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * \\@docs-private\n */\nclass MatGridTileHeaderCssMatStyler {\n}\nMatGridTileHeaderCssMatStyler.ɵfac = function MatGridTileHeaderCssMatStyler_Factory(t) { return new (t || MatGridTileHeaderCssMatStyler)(); };\nMatGridTileHeaderCssMatStyler.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatGridTileHeaderCssMatStyler, selectors: [[\"mat-grid-tile-header\"]], hostAttrs: [1, \"mat-grid-tile-header\"] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatGridTileHeaderCssMatStyler, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-grid-tile-header',\n                host: { 'class': 'mat-grid-tile-header' }\n            }]\n    }], null, null); })();\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * \\@docs-private\n */\nclass MatGridTileFooterCssMatStyler {\n}\nMatGridTileFooterCssMatStyler.ɵfac = function MatGridTileFooterCssMatStyler_Factory(t) { return new (t || MatGridTileFooterCssMatStyler)(); };\nMatGridTileFooterCssMatStyler.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatGridTileFooterCssMatStyler, selectors: [[\"mat-grid-tile-footer\"]], hostAttrs: [1, \"mat-grid-tile-footer\"] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatGridTileFooterCssMatStyler, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-grid-tile-footer',\n                host: { 'class': 'mat-grid-tile-footer' }\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/grid-list/tile-coordinator.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Interface describing a tile.\n * \\@docs-private\n * @record\n */\nfunction Tile() { }\nif (false) {\n    /**\n     * Amount of rows that the tile takes up.\n     * @type {?}\n     */\n    Tile.prototype.rowspan;\n    /**\n     * Amount of columns that the tile takes up.\n     * @type {?}\n     */\n    Tile.prototype.colspan;\n}\n/**\n * Class for determining, from a list of tiles, the (row, col) position of each of those tiles\n * in the grid. This is necessary (rather than just rendering the tiles in normal document flow)\n * because the tiles can have a rowspan.\n *\n * The positioning algorithm greedily places each tile as soon as it encounters a gap in the grid\n * large enough to accommodate it so that the tiles still render in the same order in which they\n * are given.\n *\n * The basis of the algorithm is the use of an array to track the already placed tiles. Each\n * element of the array corresponds to a column, and the value indicates how many cells in that\n * column are already occupied; zero indicates an empty cell. Moving \"down\" to the next row\n * decrements each value in the tracking array (indicating that the column is one cell closer to\n * being free).\n *\n * \\@docs-private\n */\nclass TileCoordinator {\n    constructor() {\n        /**\n         * Index at which the search for the next gap will start.\n         */\n        this.columnIndex = 0;\n        /**\n         * The current row index.\n         */\n        this.rowIndex = 0;\n    }\n    /**\n     * Gets the total number of rows occupied by tiles\n     * @return {?}\n     */\n    get rowCount() { return this.rowIndex + 1; }\n    /**\n     * Gets the total span of rows occupied by tiles.\n     * Ex: A list with 1 row that contains a tile with rowspan 2 will have a total rowspan of 2.\n     * @return {?}\n     */\n    get rowspan() {\n        /** @type {?} */\n        const lastRowMax = Math.max(...this.tracker);\n        // if any of the tiles has a rowspan that pushes it beyond the total row count,\n        // add the difference to the rowcount\n        return lastRowMax > 1 ? this.rowCount + lastRowMax - 1 : this.rowCount;\n    }\n    /**\n     * Updates the tile positions.\n     * @param {?} numColumns Amount of columns in the grid.\n     * @param {?} tiles Tiles to be positioned.\n     * @return {?}\n     */\n    update(numColumns, tiles) {\n        this.columnIndex = 0;\n        this.rowIndex = 0;\n        this.tracker = new Array(numColumns);\n        this.tracker.fill(0, 0, this.tracker.length);\n        this.positions = tiles.map((/**\n         * @param {?} tile\n         * @return {?}\n         */\n        tile => this._trackTile(tile)));\n    }\n    /**\n     * Calculates the row and col position of a tile.\n     * @private\n     * @param {?} tile\n     * @return {?}\n     */\n    _trackTile(tile) {\n        // Find a gap large enough for this tile.\n        /** @type {?} */\n        const gapStartIndex = this._findMatchingGap(tile.colspan);\n        // Place tile in the resulting gap.\n        this._markTilePosition(gapStartIndex, tile);\n        // The next time we look for a gap, the search will start at columnIndex, which should be\n        // immediately after the tile that has just been placed.\n        this.columnIndex = gapStartIndex + tile.colspan;\n        return new TilePosition(this.rowIndex, gapStartIndex);\n    }\n    /**\n     * Finds the next available space large enough to fit the tile.\n     * @private\n     * @param {?} tileCols\n     * @return {?}\n     */\n    _findMatchingGap(tileCols) {\n        if (tileCols > this.tracker.length) {\n            throw Error(`mat-grid-list: tile with colspan ${tileCols} is wider than ` +\n                `grid with cols=\"${this.tracker.length}\".`);\n        }\n        // Start index is inclusive, end index is exclusive.\n        /** @type {?} */\n        let gapStartIndex = -1;\n        /** @type {?} */\n        let gapEndIndex = -1;\n        // Look for a gap large enough to fit the given tile. Empty spaces are marked with a zero.\n        do {\n            // If we've reached the end of the row, go to the next row.\n            if (this.columnIndex + tileCols > this.tracker.length) {\n                this._nextRow();\n                gapStartIndex = this.tracker.indexOf(0, this.columnIndex);\n                gapEndIndex = this._findGapEndIndex(gapStartIndex);\n                continue;\n            }\n            gapStartIndex = this.tracker.indexOf(0, this.columnIndex);\n            // If there are no more empty spaces in this row at all, move on to the next row.\n            if (gapStartIndex == -1) {\n                this._nextRow();\n                gapStartIndex = this.tracker.indexOf(0, this.columnIndex);\n                gapEndIndex = this._findGapEndIndex(gapStartIndex);\n                continue;\n            }\n            gapEndIndex = this._findGapEndIndex(gapStartIndex);\n            // If a gap large enough isn't found, we want to start looking immediately after the current\n            // gap on the next iteration.\n            this.columnIndex = gapStartIndex + 1;\n            // Continue iterating until we find a gap wide enough for this tile. Since gapEndIndex is\n            // exclusive, gapEndIndex is 0 means we didn't find a gap and should continue.\n        } while ((gapEndIndex - gapStartIndex < tileCols) || (gapEndIndex == 0));\n        // If we still didn't manage to find a gap, ensure that the index is\n        // at least zero so the tile doesn't get pulled out of the grid.\n        return Math.max(gapStartIndex, 0);\n    }\n    /**\n     * Move \"down\" to the next row.\n     * @private\n     * @return {?}\n     */\n    _nextRow() {\n        this.columnIndex = 0;\n        this.rowIndex++;\n        // Decrement all spaces by one to reflect moving down one row.\n        for (let i = 0; i < this.tracker.length; i++) {\n            this.tracker[i] = Math.max(0, this.tracker[i] - 1);\n        }\n    }\n    /**\n     * Finds the end index (exclusive) of a gap given the index from which to start looking.\n     * The gap ends when a non-zero value is found.\n     * @private\n     * @param {?} gapStartIndex\n     * @return {?}\n     */\n    _findGapEndIndex(gapStartIndex) {\n        for (let i = gapStartIndex + 1; i < this.tracker.length; i++) {\n            if (this.tracker[i] != 0) {\n                return i;\n            }\n        }\n        // The gap ends with the end of the row.\n        return this.tracker.length;\n    }\n    /**\n     * Update the tile tracker to account for the given tile in the given space.\n     * @private\n     * @param {?} start\n     * @param {?} tile\n     * @return {?}\n     */\n    _markTilePosition(start, tile) {\n        for (let i = 0; i < tile.colspan; i++) {\n            this.tracker[start + i] = tile.rowspan;\n        }\n    }\n}\nif (false) {\n    /**\n     * Tracking array (see class description).\n     * @type {?}\n     */\n    TileCoordinator.prototype.tracker;\n    /**\n     * Index at which the search for the next gap will start.\n     * @type {?}\n     */\n    TileCoordinator.prototype.columnIndex;\n    /**\n     * The current row index.\n     * @type {?}\n     */\n    TileCoordinator.prototype.rowIndex;\n    /**\n     * The computed (row, col) position of each tile (the output).\n     * @type {?}\n     */\n    TileCoordinator.prototype.positions;\n}\n/**\n * Simple data structure for tile position (row, col).\n * \\@docs-private\n */\nclass TilePosition {\n    /**\n     * @param {?} row\n     * @param {?} col\n     */\n    constructor(row, col) {\n        this.row = row;\n        this.col = col;\n    }\n}\nif (false) {\n    /** @type {?} */\n    TilePosition.prototype.row;\n    /** @type {?} */\n    TilePosition.prototype.col;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/grid-list/tile-styler.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * RegExp that can be used to check whether a value will\n * be allowed inside a CSS `calc()` expression.\n * @type {?}\n */\nconst cssCalcAllowedValue = /^-?\\d+((\\.\\d+)?[A-Za-z%$]?)+$/;\n/**\n * Sets the style properties for an individual tile, given the position calculated by the\n * Tile Coordinator.\n * \\@docs-private\n * @abstract\n */\nclass TileStyler {\n    constructor() {\n        this._rows = 0;\n        this._rowspan = 0;\n    }\n    /**\n     * Adds grid-list layout info once it is available. Cannot be processed in the constructor\n     * because these properties haven't been calculated by that point.\n     *\n     * @param {?} gutterSize Size of the grid's gutter.\n     * @param {?} tracker Instance of the TileCoordinator.\n     * @param {?} cols Amount of columns in the grid.\n     * @param {?} direction Layout direction of the grid.\n     * @return {?}\n     */\n    init(gutterSize, tracker, cols, direction) {\n        this._gutterSize = normalizeUnits(gutterSize);\n        this._rows = tracker.rowCount;\n        this._rowspan = tracker.rowspan;\n        this._cols = cols;\n        this._direction = direction;\n    }\n    /**\n     * Computes the amount of space a single 1x1 tile would take up (width or height).\n     * Used as a basis for other calculations.\n     * @param {?} sizePercent Percent of the total grid-list space that one 1x1 tile would take up.\n     * @param {?} gutterFraction Fraction of the gutter size taken up by one 1x1 tile.\n     * @return {?} The size of a 1x1 tile as an expression that can be evaluated via CSS calc().\n     */\n    getBaseTileSize(sizePercent, gutterFraction) {\n        // Take the base size percent (as would be if evenly dividing the size between cells),\n        // and then subtracting the size of one gutter. However, since there are no gutters on the\n        // edges, each tile only uses a fraction (gutterShare = numGutters / numCells) of the gutter\n        // size. (Imagine having one gutter per tile, and then breaking up the extra gutter on the\n        // edge evenly among the cells).\n        return `(${sizePercent}% - (${this._gutterSize} * ${gutterFraction}))`;\n    }\n    /**\n     * Gets The horizontal or vertical position of a tile, e.g., the 'top' or 'left' property value.\n     * @param {?} baseSize Base size of a 1x1 tile (as computed in getBaseTileSize).\n     * @param {?} offset Number of tiles that have already been rendered in the row/column.\n     * @return {?} Position of the tile as a CSS calc() expression.\n     */\n    getTilePosition(baseSize, offset) {\n        // The position comes the size of a 1x1 tile plus gutter for each previous tile in the\n        // row/column (offset).\n        return offset === 0 ? '0' : calc(`(${baseSize} + ${this._gutterSize}) * ${offset}`);\n    }\n    /**\n     * Gets the actual size of a tile, e.g., width or height, taking rowspan or colspan into account.\n     * @param {?} baseSize Base size of a 1x1 tile (as computed in getBaseTileSize).\n     * @param {?} span The tile's rowspan or colspan.\n     * @return {?} Size of the tile as a CSS calc() expression.\n     */\n    getTileSize(baseSize, span) {\n        return `(${baseSize} * ${span}) + (${span - 1} * ${this._gutterSize})`;\n    }\n    /**\n     * Sets the style properties to be applied to a tile for the given row and column index.\n     * @param {?} tile Tile to which to apply the styling.\n     * @param {?} rowIndex Index of the tile's row.\n     * @param {?} colIndex Index of the tile's column.\n     * @return {?}\n     */\n    setStyle(tile, rowIndex, colIndex) {\n        // Percent of the available horizontal space that one column takes up.\n        /** @type {?} */\n        let percentWidthPerTile = 100 / this._cols;\n        // Fraction of the vertical gutter size that each column takes up.\n        // For example, if there are 5 columns, each column uses 4/5 = 0.8 times the gutter width.\n        /** @type {?} */\n        let gutterWidthFractionPerTile = (this._cols - 1) / this._cols;\n        this.setColStyles(tile, colIndex, percentWidthPerTile, gutterWidthFractionPerTile);\n        this.setRowStyles(tile, rowIndex, percentWidthPerTile, gutterWidthFractionPerTile);\n    }\n    /**\n     * Sets the horizontal placement of the tile in the list.\n     * @param {?} tile\n     * @param {?} colIndex\n     * @param {?} percentWidth\n     * @param {?} gutterWidth\n     * @return {?}\n     */\n    setColStyles(tile, colIndex, percentWidth, gutterWidth) {\n        // Base horizontal size of a column.\n        /** @type {?} */\n        let baseTileWidth = this.getBaseTileSize(percentWidth, gutterWidth);\n        // The width and horizontal position of each tile is always calculated the same way, but the\n        // height and vertical position depends on the rowMode.\n        /** @type {?} */\n        let side = this._direction === 'rtl' ? 'right' : 'left';\n        tile._setStyle(side, this.getTilePosition(baseTileWidth, colIndex));\n        tile._setStyle('width', calc(this.getTileSize(baseTileWidth, tile.colspan)));\n    }\n    /**\n     * Calculates the total size taken up by gutters across one axis of a list.\n     * @return {?}\n     */\n    getGutterSpan() {\n        return `${this._gutterSize} * (${this._rowspan} - 1)`;\n    }\n    /**\n     * Calculates the total size taken up by tiles across one axis of a list.\n     * @param {?} tileHeight Height of the tile.\n     * @return {?}\n     */\n    getTileSpan(tileHeight) {\n        return `${this._rowspan} * ${this.getTileSize(tileHeight, 1)}`;\n    }\n    /**\n     * Calculates the computed height and returns the correct style property to set.\n     * This method can be implemented by each type of TileStyler.\n     * \\@docs-private\n     * @return {?}\n     */\n    getComputedHeight() { return null; }\n}\nif (false) {\n    /** @type {?} */\n    TileStyler.prototype._gutterSize;\n    /** @type {?} */\n    TileStyler.prototype._rows;\n    /** @type {?} */\n    TileStyler.prototype._rowspan;\n    /** @type {?} */\n    TileStyler.prototype._cols;\n    /** @type {?} */\n    TileStyler.prototype._direction;\n    /**\n     * Sets the vertical placement of the tile in the list.\n     * This method will be implemented by each type of TileStyler.\n     * \\@docs-private\n     * @abstract\n     * @param {?} tile\n     * @param {?} rowIndex\n     * @param {?} percentWidth\n     * @param {?} gutterWidth\n     * @return {?}\n     */\n    TileStyler.prototype.setRowStyles = function (tile, rowIndex, percentWidth, gutterWidth) { };\n    /**\n     * Called when the tile styler is swapped out with a different one. To be used for cleanup.\n     * \\@docs-private\n     * @abstract\n     * @param {?} list Grid list that the styler was attached to.\n     * @return {?}\n     */\n    TileStyler.prototype.reset = function (list) { };\n}\n/**\n * This type of styler is instantiated when the user passes in a fixed row height.\n * Example `<mat-grid-list cols=\"3\" rowHeight=\"100px\">`\n * \\@docs-private\n */\nclass FixedTileStyler extends TileStyler {\n    /**\n     * @param {?} fixedRowHeight\n     */\n    constructor(fixedRowHeight) {\n        super();\n        this.fixedRowHeight = fixedRowHeight;\n    }\n    /**\n     * @param {?} gutterSize\n     * @param {?} tracker\n     * @param {?} cols\n     * @param {?} direction\n     * @return {?}\n     */\n    init(gutterSize, tracker, cols, direction) {\n        super.init(gutterSize, tracker, cols, direction);\n        this.fixedRowHeight = normalizeUnits(this.fixedRowHeight);\n        if (!cssCalcAllowedValue.test(this.fixedRowHeight)) {\n            throw Error(`Invalid value \"${this.fixedRowHeight}\" set as rowHeight.`);\n        }\n    }\n    /**\n     * @param {?} tile\n     * @param {?} rowIndex\n     * @return {?}\n     */\n    setRowStyles(tile, rowIndex) {\n        tile._setStyle('top', this.getTilePosition(this.fixedRowHeight, rowIndex));\n        tile._setStyle('height', calc(this.getTileSize(this.fixedRowHeight, tile.rowspan)));\n    }\n    /**\n     * @return {?}\n     */\n    getComputedHeight() {\n        return [\n            'height', calc(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)\n        ];\n    }\n    /**\n     * @param {?} list\n     * @return {?}\n     */\n    reset(list) {\n        list._setListStyle(['height', null]);\n        if (list._tiles) {\n            list._tiles.forEach((/**\n             * @param {?} tile\n             * @return {?}\n             */\n            tile => {\n                tile._setStyle('top', null);\n                tile._setStyle('height', null);\n            }));\n        }\n    }\n}\nif (false) {\n    /** @type {?} */\n    FixedTileStyler.prototype.fixedRowHeight;\n}\n/**\n * This type of styler is instantiated when the user passes in a width:height ratio\n * for the row height.  Example `<mat-grid-list cols=\"3\" rowHeight=\"3:1\">`\n * \\@docs-private\n */\nclass RatioTileStyler extends TileStyler {\n    /**\n     * @param {?} value\n     */\n    constructor(value) {\n        super();\n        this._parseRatio(value);\n    }\n    /**\n     * @param {?} tile\n     * @param {?} rowIndex\n     * @param {?} percentWidth\n     * @param {?} gutterWidth\n     * @return {?}\n     */\n    setRowStyles(tile, rowIndex, percentWidth, gutterWidth) {\n        /** @type {?} */\n        let percentHeightPerTile = percentWidth / this.rowHeightRatio;\n        this.baseTileHeight = this.getBaseTileSize(percentHeightPerTile, gutterWidth);\n        // Use padding-top and margin-top to maintain the given aspect ratio, as\n        // a percentage-based value for these properties is applied versus the *width* of the\n        // containing block. See http://www.w3.org/TR/CSS2/box.html#margin-properties\n        tile._setStyle('marginTop', this.getTilePosition(this.baseTileHeight, rowIndex));\n        tile._setStyle('paddingTop', calc(this.getTileSize(this.baseTileHeight, tile.rowspan)));\n    }\n    /**\n     * @return {?}\n     */\n    getComputedHeight() {\n        return [\n            'paddingBottom', calc(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)\n        ];\n    }\n    /**\n     * @param {?} list\n     * @return {?}\n     */\n    reset(list) {\n        list._setListStyle(['paddingBottom', null]);\n        list._tiles.forEach((/**\n         * @param {?} tile\n         * @return {?}\n         */\n        tile => {\n            tile._setStyle('marginTop', null);\n            tile._setStyle('paddingTop', null);\n        }));\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    _parseRatio(value) {\n        /** @type {?} */\n        const ratioParts = value.split(':');\n        if (ratioParts.length !== 2) {\n            throw Error(`mat-grid-list: invalid ratio given for row-height: \"${value}\"`);\n        }\n        this.rowHeightRatio = parseFloat(ratioParts[0]) / parseFloat(ratioParts[1]);\n    }\n}\nif (false) {\n    /**\n     * Ratio width:height given by user to determine row height.\n     * @type {?}\n     */\n    RatioTileStyler.prototype.rowHeightRatio;\n    /** @type {?} */\n    RatioTileStyler.prototype.baseTileHeight;\n}\n/**\n * This type of styler is instantiated when the user selects a \"fit\" row height mode.\n * In other words, the row height will reflect the total height of the container divided\n * by the number of rows.  Example `<mat-grid-list cols=\"3\" rowHeight=\"fit\">`\n *\n * \\@docs-private\n */\nclass FitTileStyler extends TileStyler {\n    /**\n     * @param {?} tile\n     * @param {?} rowIndex\n     * @return {?}\n     */\n    setRowStyles(tile, rowIndex) {\n        // Percent of the available vertical space that one row takes up.\n        /** @type {?} */\n        let percentHeightPerTile = 100 / this._rowspan;\n        // Fraction of the horizontal gutter size that each column takes up.\n        /** @type {?} */\n        let gutterHeightPerTile = (this._rows - 1) / this._rows;\n        // Base vertical size of a column.\n        /** @type {?} */\n        let baseTileHeight = this.getBaseTileSize(percentHeightPerTile, gutterHeightPerTile);\n        tile._setStyle('top', this.getTilePosition(baseTileHeight, rowIndex));\n        tile._setStyle('height', calc(this.getTileSize(baseTileHeight, tile.rowspan)));\n    }\n    /**\n     * @param {?} list\n     * @return {?}\n     */\n    reset(list) {\n        if (list._tiles) {\n            list._tiles.forEach((/**\n             * @param {?} tile\n             * @return {?}\n             */\n            tile => {\n                tile._setStyle('top', null);\n                tile._setStyle('height', null);\n            }));\n        }\n    }\n}\n/**\n * Wraps a CSS string in a calc function\n * @param {?} exp\n * @return {?}\n */\nfunction calc(exp) {\n    return `calc(${exp})`;\n}\n/**\n * Appends pixels to a CSS string if no units are given.\n * @param {?} value\n * @return {?}\n */\nfunction normalizeUnits(value) {\n    return value.match(/([A-Za-z%]+)$/) ? value : `${value}px`;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/grid-list/grid-list.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// TODO(kara): Conditional (responsive) column count / row size.\n// TODO(kara): Re-layout on window resize / media change (debounced).\n// TODO(kara): gridTileHeader and gridTileFooter.\n/** @type {?} */\nconst MAT_FIT_MODE = 'fit';\nclass MatGridList {\n    /**\n     * @param {?} _element\n     * @param {?} _dir\n     */\n    constructor(_element, _dir) {\n        this._element = _element;\n        this._dir = _dir;\n        /**\n         * The amount of space between tiles. This will be something like '5px' or '2em'.\n         */\n        this._gutter = '1px';\n    }\n    /**\n     * Amount of columns in the grid list.\n     * @return {?}\n     */\n    get cols() { return this._cols; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set cols(value) {\n        this._cols = Math.max(1, Math.round(coerceNumberProperty(value)));\n    }\n    /**\n     * Size of the grid list's gutter in pixels.\n     * @return {?}\n     */\n    get gutterSize() { return this._gutter; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set gutterSize(value) { this._gutter = `${value == null ? '' : value}`; }\n    /**\n     * Set internal representation of row height from the user-provided value.\n     * @return {?}\n     */\n    get rowHeight() { return this._rowHeight; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set rowHeight(value) {\n        /** @type {?} */\n        const newValue = `${value == null ? '' : value}`;\n        if (newValue !== this._rowHeight) {\n            this._rowHeight = newValue;\n            this._setTileStyler(this._rowHeight);\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this._checkCols();\n        this._checkRowHeight();\n    }\n    /**\n     * The layout calculation is fairly cheap if nothing changes, so there's little cost\n     * to run it frequently.\n     * @return {?}\n     */\n    ngAfterContentChecked() {\n        this._layoutTiles();\n    }\n    /**\n     * Throw a friendly error if cols property is missing\n     * @private\n     * @return {?}\n     */\n    _checkCols() {\n        if (!this.cols) {\n            throw Error(`mat-grid-list: must pass in number of columns. ` +\n                `Example: <mat-grid-list cols=\"3\">`);\n        }\n    }\n    /**\n     * Default to equal width:height if rowHeight property is missing\n     * @private\n     * @return {?}\n     */\n    _checkRowHeight() {\n        if (!this._rowHeight) {\n            this._setTileStyler('1:1');\n        }\n    }\n    /**\n     * Creates correct Tile Styler subtype based on rowHeight passed in by user\n     * @private\n     * @param {?} rowHeight\n     * @return {?}\n     */\n    _setTileStyler(rowHeight) {\n        if (this._tileStyler) {\n            this._tileStyler.reset(this);\n        }\n        if (rowHeight === MAT_FIT_MODE) {\n            this._tileStyler = new FitTileStyler();\n        }\n        else if (rowHeight && rowHeight.indexOf(':') > -1) {\n            this._tileStyler = new RatioTileStyler(rowHeight);\n        }\n        else {\n            this._tileStyler = new FixedTileStyler(rowHeight);\n        }\n    }\n    /**\n     * Computes and applies the size and position for all children grid tiles.\n     * @private\n     * @return {?}\n     */\n    _layoutTiles() {\n        if (!this._tileCoordinator) {\n            this._tileCoordinator = new TileCoordinator();\n        }\n        /** @type {?} */\n        const tracker = this._tileCoordinator;\n        /** @type {?} */\n        const tiles = this._tiles.filter((/**\n         * @param {?} tile\n         * @return {?}\n         */\n        tile => !tile._gridList || tile._gridList === this));\n        /** @type {?} */\n        const direction = this._dir ? this._dir.value : 'ltr';\n        this._tileCoordinator.update(this.cols, tiles);\n        this._tileStyler.init(this.gutterSize, tracker, this.cols, direction);\n        tiles.forEach((/**\n         * @param {?} tile\n         * @param {?} index\n         * @return {?}\n         */\n        (tile, index) => {\n            /** @type {?} */\n            const pos = tracker.positions[index];\n            this._tileStyler.setStyle(tile, pos.row, pos.col);\n        }));\n        this._setListStyle(this._tileStyler.getComputedHeight());\n    }\n    /**\n     * Sets style on the main grid-list element, given the style name and value.\n     * @param {?} style\n     * @return {?}\n     */\n    _setListStyle(style) {\n        if (style) {\n            ((/** @type {?} */ (this._element.nativeElement.style)))[style[0]] = style[1];\n        }\n    }\n}\nMatGridList.ɵfac = function MatGridList_Factory(t) { return new (t || MatGridList)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Directionality, 8)); };\nMatGridList.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatGridList, selectors: [[\"mat-grid-list\"]], contentQueries: function MatGridList_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, MatGridTile, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._tiles = _t);\n    } }, hostAttrs: [1, \"mat-grid-list\"], hostVars: 1, hostBindings: function MatGridList_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"cols\", ctx.cols);\n    } }, inputs: { cols: \"cols\", gutterSize: \"gutterSize\", rowHeight: \"rowHeight\" }, exportAs: [\"matGridList\"], features: [ɵngcc0.ɵɵProvidersFeature([{\n                provide: MAT_GRID_LIST,\n                useExisting: MatGridList\n            }])], ngContentSelectors: _c0, decls: 2, vars: 0, template: function MatGridList_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\");\n        ɵngcc0.ɵɵprojection(1);\n        ɵngcc0.ɵɵelementEnd();\n    } }, styles: [\".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\\n\"], encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nMatGridList.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Directionality, decorators: [{ type: Optional }] }\n];\nMatGridList.propDecorators = {\n    _tiles: [{ type: ContentChildren, args: [MatGridTile, { descendants: true },] }],\n    cols: [{ type: Input }],\n    gutterSize: [{ type: Input }],\n    rowHeight: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatGridList, [{\n        type: Component,\n        args: [{\n                selector: 'mat-grid-list',\n                exportAs: 'matGridList',\n                template: \"<div>\\n  <ng-content></ng-content>\\n</div>\",\n                host: {\n                    'class': 'mat-grid-list',\n                    // Ensures that the \"cols\" input value is reflected in the DOM. This is\n                    // needed for the grid-list harness.\n                    '[attr.cols]': 'cols'\n                },\n                providers: [{\n                        provide: MAT_GRID_LIST,\n                        useExisting: MatGridList\n                    }],\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                styles: [\".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.Directionality, decorators: [{\n                type: Optional\n            }] }]; }, { cols: [{\n            type: Input\n        }], gutterSize: [{\n            type: Input\n        }], rowHeight: [{\n            type: Input\n        }], _tiles: [{\n            type: ContentChildren,\n            args: [MatGridTile, { descendants: true }]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    MatGridList.ngAcceptInputType_cols;\n    /**\n     * Number of columns being rendered.\n     * @type {?}\n     * @private\n     */\n    MatGridList.prototype._cols;\n    /**\n     * Used for determiningthe position of each tile in the grid.\n     * @type {?}\n     * @private\n     */\n    MatGridList.prototype._tileCoordinator;\n    /**\n     * Row height value passed in by user. This can be one of three types:\n     * - Number value (ex: \"100px\"):  sets a fixed row height to that value\n     * - Ratio value (ex: \"4:3\"): sets the row height based on width:height ratio\n     * - \"Fit\" mode (ex: \"fit\"): sets the row height to total height divided by number of rows\n     * @type {?}\n     * @private\n     */\n    MatGridList.prototype._rowHeight;\n    /**\n     * The amount of space between tiles. This will be something like '5px' or '2em'.\n     * @type {?}\n     * @private\n     */\n    MatGridList.prototype._gutter;\n    /**\n     * Sets position and size styles for a tile\n     * @type {?}\n     * @private\n     */\n    MatGridList.prototype._tileStyler;\n    /**\n     * Query list of tiles that are being rendered.\n     * @type {?}\n     */\n    MatGridList.prototype._tiles;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatGridList.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatGridList.prototype._dir;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/grid-list/grid-list-module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass MatGridListModule {\n}\nMatGridListModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: MatGridListModule });\nMatGridListModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function MatGridListModule_Factory(t) { return new (t || MatGridListModule)(); }, imports: [[MatLineModule, MatCommonModule],\n        MatLineModule,\n        MatCommonModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MatGridListModule, { declarations: function () { return [MatGridList,\n        MatGridTile,\n        MatGridTileText,\n        MatGridTileHeaderCssMatStyler,\n        MatGridTileFooterCssMatStyler,\n        MatGridAvatarCssMatStyler]; }, imports: function () { return [MatLineModule, MatCommonModule]; }, exports: function () { return [MatGridList,\n        MatGridTile,\n        MatGridTileText,\n        MatLineModule,\n        MatCommonModule,\n        MatGridTileHeaderCssMatStyler,\n        MatGridTileFooterCssMatStyler,\n        MatGridAvatarCssMatStyler]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatGridListModule, [{\n        type: NgModule,\n        args: [{\n                imports: [MatLineModule, MatCommonModule],\n                exports: [\n                    MatGridList,\n                    MatGridTile,\n                    MatGridTileText,\n                    MatLineModule,\n                    MatCommonModule,\n                    MatGridTileHeaderCssMatStyler,\n                    MatGridTileFooterCssMatStyler,\n                    MatGridAvatarCssMatStyler\n                ],\n                declarations: [\n                    MatGridList,\n                    MatGridTile,\n                    MatGridTileText,\n                    MatGridTileHeaderCssMatStyler,\n                    MatGridTileFooterCssMatStyler,\n                    MatGridAvatarCssMatStyler\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/grid-list/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MatGridAvatarCssMatStyler, MatGridList, MatGridListModule, MatGridTile, MatGridTileFooterCssMatStyler, MatGridTileHeaderCssMatStyler, MatGridTileText, TileCoordinator as ɵTileCoordinator, MAT_GRID_LIST as ɵangular_material_src_material_grid_list_grid_list_a };\n\n//# sourceMappingURL=grid-list.js.map","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Directive, ElementRef, Inject, PLATFORM_ID, Injectable, Input, NgModule, IterableDiffers, KeyValueDiffers, Optional, Renderer2, Self, SecurityContext, ɵɵdefineInjectable } from '@angular/core';\nimport { isPlatformServer, NgClass, NgStyle } from '@angular/common';\nimport { MediaMarshaller, BaseDirective2, SERVER_TOKEN, StyleBuilder, StyleUtils, LAYOUT_CONFIG, CoreModule } from '@angular/flex-layout/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { takeUntil } from 'rxjs/operators';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: extended/img-src/img-src.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/flex-layout/core';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from '@angular/platform-browser';\nclass ImgSrcStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} url\n     * @return {?}\n     */\n    buildStyles(url) {\n        return { 'content': url ? `url(${url})` : '' };\n    }\n}\nImgSrcStyleBuilder.ɵfac = function ImgSrcStyleBuilder_Factory(t) { return ɵImgSrcStyleBuilder_BaseFactory(t || ImgSrcStyleBuilder); };\n/** @nocollapse */ ImgSrcStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function ImgSrcStyleBuilder_Factory() { return new ImgSrcStyleBuilder(); }, token: ImgSrcStyleBuilder, providedIn: \"root\" });\nconst ɵImgSrcStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(ImgSrcStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ImgSrcStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass ImgSrcDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     * @param {?} platformId\n     * @param {?} serverModuleLoaded\n     */\n    constructor(elementRef, styleBuilder, styler, marshal, platformId, serverModuleLoaded) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.platformId = platformId;\n        this.serverModuleLoaded = serverModuleLoaded;\n        this.DIRECTIVE_KEY = 'img-src';\n        this.defaultSrc = '';\n        this.styleCache = imgSrcCache;\n        this.init();\n        this.setValue(this.nativeElement.getAttribute('src') || '', '');\n        if (isPlatformServer(this.platformId) && this.serverModuleLoaded) {\n            this.nativeElement.setAttribute('src', '');\n        }\n    }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    set src(val) {\n        this.defaultSrc = val;\n        this.setValue(this.defaultSrc, '');\n    }\n    /**\n     * Use the [responsively] activated input value to update\n     * the host img src attribute or assign a default `img.src=''`\n     * if the src has not been defined.\n     *\n     * Do nothing to standard `<img src=\"\">` usages, only when responsive\n     * keys are present do we actually call `setAttribute()`\n     * @protected\n     * @param {?=} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        /** @type {?} */\n        const url = value || this.defaultSrc;\n        if (isPlatformServer(this.platformId) && this.serverModuleLoaded) {\n            this.addStyles(url);\n        }\n        else {\n            this.nativeElement.setAttribute('src', url);\n        }\n    }\n}\nImgSrcDirective.ɵfac = function ImgSrcDirective_Factory(t) { return new (t || ImgSrcDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ImgSrcStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(SERVER_TOKEN)); };\nImgSrcDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ImgSrcDirective, inputs: { src: \"src\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nImgSrcDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ImgSrcStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: Boolean, decorators: [{ type: Inject, args: [SERVER_TOKEN,] }] }\n];\nImgSrcDirective.propDecorators = {\n    src: [{ type: Input, args: ['src',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ImgSrcDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ImgSrcStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: Boolean, decorators: [{\n                type: Inject,\n                args: [SERVER_TOKEN]\n            }] }]; }, { src: [{\n            type: Input,\n            args: ['src']\n        }] }); })();\n/** @type {?} */\nconst imgSrcCache = new Map();\n/** @type {?} */\nconst inputs = [\n    'src.xs', 'src.sm', 'src.md', 'src.lg', 'src.xl',\n    'src.lt-sm', 'src.lt-md', 'src.lt-lg', 'src.lt-xl',\n    'src.gt-xs', 'src.gt-sm', 'src.gt-md', 'src.gt-lg'\n];\n/** @type {?} */\nconst selector = `\n  img[src.xs],    img[src.sm],    img[src.md],    img[src.lg],   img[src.xl],\n  img[src.lt-sm], img[src.lt-md], img[src.lt-lg], img[src.lt-xl],\n  img[src.gt-xs], img[src.gt-sm], img[src.gt-md], img[src.gt-lg]\n`;\n/**\n * This directive provides a responsive API for the HTML <img> 'src' attribute\n * and will update the img.src property upon each responsive activation.\n *\n * e.g.\n *      <img src=\"defaultScene.jpg\" src.xs=\"mobileScene.jpg\"></img>\n *\n * @see https://css-tricks.com/responsive-images-youre-just-changing-resolutions-use-src/\n */\nclass DefaultImgSrcDirective extends ImgSrcDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs;\n    }\n}\nDefaultImgSrcDirective.ɵfac = function DefaultImgSrcDirective_Factory(t) { return ɵDefaultImgSrcDirective_BaseFactory(t || DefaultImgSrcDirective); };\nDefaultImgSrcDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultImgSrcDirective, selectors: [[\"img\", \"src.xs\", \"\"], [\"img\", \"src.sm\", \"\"], [\"img\", \"src.md\", \"\"], [\"img\", \"src.lg\", \"\"], [\"img\", \"src.xl\", \"\"], [\"img\", \"src.lt-sm\", \"\"], [\"img\", \"src.lt-md\", \"\"], [\"img\", \"src.lt-lg\", \"\"], [\"img\", \"src.lt-xl\", \"\"], [\"img\", \"src.gt-xs\", \"\"], [\"img\", \"src.gt-sm\", \"\"], [\"img\", \"src.gt-md\", \"\"], [\"img\", \"src.gt-lg\", \"\"]], inputs: { \"src.xs\": \"src.xs\", \"src.sm\": \"src.sm\", \"src.md\": \"src.md\", \"src.lg\": \"src.lg\", \"src.xl\": \"src.xl\", \"src.lt-sm\": \"src.lt-sm\", \"src.lt-md\": \"src.lt-md\", \"src.lt-lg\": \"src.lt-lg\", \"src.lt-xl\": \"src.lt-xl\", \"src.gt-xs\": \"src.gt-xs\", \"src.gt-sm\": \"src.gt-sm\", \"src.gt-md\": \"src.gt-md\", \"src.gt-lg\": \"src.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultImgSrcDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultImgSrcDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultImgSrcDirective, [{\n        type: Directive,\n        args: [{ selector, inputs }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: extended/class/class.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ClassDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styler\n     * @param {?} marshal\n     * @param {?} iterableDiffers\n     * @param {?} keyValueDiffers\n     * @param {?} renderer2\n     * @param {?} ngClassInstance\n     */\n    constructor(elementRef, styler, marshal, iterableDiffers, keyValueDiffers, renderer2, ngClassInstance) {\n        super(elementRef, (/** @type {?} */ (null)), styler, marshal);\n        this.ngClassInstance = ngClassInstance;\n        this.DIRECTIVE_KEY = 'ngClass';\n        if (!this.ngClassInstance) {\n            // Create an instance NgClass Directive instance only if `ngClass=\"\"` has NOT been defined on\n            // the same host element; since the responsive variations may be defined...\n            this.ngClassInstance = new NgClass(iterableDiffers, keyValueDiffers, elementRef, renderer2);\n        }\n        this.init();\n        this.setValue('', '');\n    }\n    /**\n     * Capture class assignments so we cache the default classes\n     * which are merged with activated styles and used as fallbacks.\n     * @param {?} val\n     * @return {?}\n     */\n    set klass(val) {\n        this.ngClassInstance.klass = val;\n        this.setValue(val, '');\n    }\n    /**\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        this.ngClassInstance.ngClass = value;\n        this.ngClassInstance.ngDoCheck();\n    }\n    // ******************************************************************\n    // Lifecycle Hooks\n    // ******************************************************************\n    /**\n     * For ChangeDetectionStrategy.onPush and ngOnChanges() updates\n     * @return {?}\n     */\n    ngDoCheck() {\n        this.ngClassInstance.ngDoCheck();\n    }\n}\nClassDirective.ɵfac = function ClassDirective_Factory(t) { return new (t || ClassDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.IterableDiffers), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.KeyValueDiffers), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.NgClass, 10)); };\nClassDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ClassDirective, inputs: { klass: [\"class\", \"klass\"] }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nClassDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: MediaMarshaller },\n    { type: IterableDiffers },\n    { type: KeyValueDiffers },\n    { type: Renderer2 },\n    { type: NgClass, decorators: [{ type: Optional }, { type: Self }] }\n];\nClassDirective.propDecorators = {\n    klass: [{ type: Input, args: ['class',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ClassDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }, { type: ɵngcc0.IterableDiffers }, { type: ɵngcc0.KeyValueDiffers }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc2.NgClass, decorators: [{\n                type: Optional\n            }, {\n                type: Self\n            }] }]; }, { klass: [{\n            type: Input,\n            args: ['class']\n        }] }); })();\n/** @type {?} */\nconst inputs$1 = [\n    'ngClass', 'ngClass.xs', 'ngClass.sm', 'ngClass.md', 'ngClass.lg', 'ngClass.xl',\n    'ngClass.lt-sm', 'ngClass.lt-md', 'ngClass.lt-lg', 'ngClass.lt-xl',\n    'ngClass.gt-xs', 'ngClass.gt-sm', 'ngClass.gt-md', 'ngClass.gt-lg'\n];\n/** @type {?} */\nconst selector$1 = `\n  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],\n  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],\n  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]\n`;\n/**\n * Directive to add responsive support for ngClass.\n * This maintains the core functionality of 'ngClass' and adds responsive API\n * Note: this class is a no-op when rendered on the server\n */\nclass DefaultClassDirective extends ClassDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$1;\n    }\n}\nDefaultClassDirective.ɵfac = function DefaultClassDirective_Factory(t) { return ɵDefaultClassDirective_BaseFactory(t || DefaultClassDirective); };\nDefaultClassDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultClassDirective, selectors: [[\"\", \"ngClass\", \"\"], [\"\", \"ngClass.xs\", \"\"], [\"\", \"ngClass.sm\", \"\"], [\"\", \"ngClass.md\", \"\"], [\"\", \"ngClass.lg\", \"\"], [\"\", \"ngClass.xl\", \"\"], [\"\", \"ngClass.lt-sm\", \"\"], [\"\", \"ngClass.lt-md\", \"\"], [\"\", \"ngClass.lt-lg\", \"\"], [\"\", \"ngClass.lt-xl\", \"\"], [\"\", \"ngClass.gt-xs\", \"\"], [\"\", \"ngClass.gt-sm\", \"\"], [\"\", \"ngClass.gt-md\", \"\"], [\"\", \"ngClass.gt-lg\", \"\"]], inputs: { ngClass: \"ngClass\", \"ngClass.xs\": \"ngClass.xs\", \"ngClass.sm\": \"ngClass.sm\", \"ngClass.md\": \"ngClass.md\", \"ngClass.lg\": \"ngClass.lg\", \"ngClass.xl\": \"ngClass.xl\", \"ngClass.lt-sm\": \"ngClass.lt-sm\", \"ngClass.lt-md\": \"ngClass.lt-md\", \"ngClass.lt-lg\": \"ngClass.lt-lg\", \"ngClass.lt-xl\": \"ngClass.lt-xl\", \"ngClass.gt-xs\": \"ngClass.gt-xs\", \"ngClass.gt-sm\": \"ngClass.gt-sm\", \"ngClass.gt-md\": \"ngClass.gt-md\", \"ngClass.gt-lg\": \"ngClass.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultClassDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultClassDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultClassDirective, [{\n        type: Directive,\n        args: [{ selector: selector$1, inputs: inputs$1 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: extended/show-hide/show-hide.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ShowHideStyleBuilder extends StyleBuilder {\n    /**\n     * @param {?} show\n     * @param {?} parent\n     * @return {?}\n     */\n    buildStyles(show, parent) {\n        /** @type {?} */\n        const shouldShow = show === 'true';\n        return { 'display': shouldShow ? parent.display : 'none' };\n    }\n}\nShowHideStyleBuilder.ɵfac = function ShowHideStyleBuilder_Factory(t) { return ɵShowHideStyleBuilder_BaseFactory(t || ShowHideStyleBuilder); };\n/** @nocollapse */ ShowHideStyleBuilder.ɵprov = ɵɵdefineInjectable({ factory: function ShowHideStyleBuilder_Factory() { return new ShowHideStyleBuilder(); }, token: ShowHideStyleBuilder, providedIn: \"root\" });\nconst ɵShowHideStyleBuilder_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(ShowHideStyleBuilder);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ShowHideStyleBuilder, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\nclass ShowHideDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styleBuilder\n     * @param {?} styler\n     * @param {?} marshal\n     * @param {?} layoutConfig\n     * @param {?} platformId\n     * @param {?} serverModuleLoaded\n     */\n    constructor(elementRef, styleBuilder, styler, marshal, layoutConfig, platformId, serverModuleLoaded) {\n        super(elementRef, styleBuilder, styler, marshal);\n        this.layoutConfig = layoutConfig;\n        this.platformId = platformId;\n        this.serverModuleLoaded = serverModuleLoaded;\n        this.DIRECTIVE_KEY = 'show-hide';\n        /**\n         * Original dom Elements CSS display style\n         */\n        this.display = '';\n        this.hasLayout = false;\n        this.hasFlexChild = false;\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        this.trackExtraTriggers();\n        /** @type {?} */\n        const children = Array.from(this.nativeElement.children);\n        for (let i = 0; i < children.length; i++) {\n            if (this.marshal.hasValue((/** @type {?} */ (children[i])), 'flex')) {\n                this.hasFlexChild = true;\n                break;\n            }\n        }\n        if (DISPLAY_MAP.has(this.nativeElement)) {\n            this.display = (/** @type {?} */ (DISPLAY_MAP.get(this.nativeElement)));\n        }\n        else {\n            this.display = this.getDisplayStyle();\n            DISPLAY_MAP.set(this.nativeElement, this.display);\n        }\n        this.init();\n        // set the default to show unless explicitly overridden\n        /** @type {?} */\n        const defaultValue = this.marshal.getValue(this.nativeElement, this.DIRECTIVE_KEY, '');\n        if (defaultValue === undefined || defaultValue === '') {\n            this.setValue(true, '');\n        }\n        else {\n            this.triggerUpdate();\n        }\n    }\n    /**\n     * On changes to any \\@Input properties...\n     * Default to use the non-responsive Input value ('fxShow')\n     * Then conditionally override with the mq-activated Input's current value\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        Object.keys(changes).forEach((/**\n         * @param {?} key\n         * @return {?}\n         */\n        key => {\n            if (this.inputs.indexOf(key) !== -1) {\n                /** @type {?} */\n                const inputKey = key.split('.');\n                /** @type {?} */\n                const bp = inputKey.slice(1).join('.');\n                /** @type {?} */\n                const inputValue = changes[key].currentValue;\n                /** @type {?} */\n                let shouldShow = inputValue !== '' ?\n                    inputValue !== 0 ? coerceBooleanProperty(inputValue) : false\n                    : true;\n                if (inputKey[0] === 'fxHide') {\n                    shouldShow = !shouldShow;\n                }\n                this.setValue(shouldShow, bp);\n            }\n        }));\n    }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     *  Watch for these extra triggers to update fxShow, fxHide stylings\n     * @protected\n     * @return {?}\n     */\n    trackExtraTriggers() {\n        this.hasLayout = this.marshal.hasValue(this.nativeElement, 'layout');\n        ['layout', 'layout-align'].forEach((/**\n         * @param {?} key\n         * @return {?}\n         */\n        key => {\n            this.marshal\n                .trackValue(this.nativeElement, key)\n                .pipe(takeUntil(this.destroySubject))\n                .subscribe(this.triggerUpdate.bind(this));\n        }));\n    }\n    /**\n     * Override accessor to the current HTMLElement's `display` style\n     * Note: Show/Hide will not change the display to 'flex' but will set it to 'block'\n     * unless it was already explicitly specified inline or in a CSS stylesheet.\n     * @protected\n     * @return {?}\n     */\n    getDisplayStyle() {\n        return (this.hasLayout || (this.hasFlexChild && this.layoutConfig.addFlexToParent)) ?\n            'flex' : this.styler.lookupStyle(this.nativeElement, 'display', true);\n    }\n    /**\n     * Validate the visibility value and then update the host's inline display style\n     * @protected\n     * @param {?=} value\n     * @return {?}\n     */\n    updateWithValue(value = true) {\n        if (value === '') {\n            return;\n        }\n        this.addStyles(value ? 'true' : 'false', { display: this.display });\n        if (isPlatformServer(this.platformId) && this.serverModuleLoaded) {\n            this.nativeElement.style.setProperty('display', '');\n        }\n        this.marshal.triggerUpdate((/** @type {?} */ (this.parentElement)), 'layout-gap');\n    }\n}\nShowHideDirective.ɵfac = function ShowHideDirective_Factory(t) { return new (t || ShowHideDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ShowHideStyleBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller), ɵngcc0.ɵɵdirectiveInject(LAYOUT_CONFIG), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(SERVER_TOKEN)); };\nShowHideDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ShowHideDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature, ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nShowHideDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ShowHideStyleBuilder },\n    { type: StyleUtils },\n    { type: MediaMarshaller },\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: Boolean, decorators: [{ type: Inject, args: [SERVER_TOKEN,] }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ShowHideDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ShowHideStyleBuilder }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [LAYOUT_CONFIG]\n            }] }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: Boolean, decorators: [{\n                type: Inject,\n                args: [SERVER_TOKEN]\n            }] }]; }, null); })();\n/** @type {?} */\nconst DISPLAY_MAP = new WeakMap();\n/** @type {?} */\nconst inputs$2 = [\n    'fxShow', 'fxShow.print',\n    'fxShow.xs', 'fxShow.sm', 'fxShow.md', 'fxShow.lg', 'fxShow.xl',\n    'fxShow.lt-sm', 'fxShow.lt-md', 'fxShow.lt-lg', 'fxShow.lt-xl',\n    'fxShow.gt-xs', 'fxShow.gt-sm', 'fxShow.gt-md', 'fxShow.gt-lg',\n    'fxHide', 'fxHide.print',\n    'fxHide.xs', 'fxHide.sm', 'fxHide.md', 'fxHide.lg', 'fxHide.xl',\n    'fxHide.lt-sm', 'fxHide.lt-md', 'fxHide.lt-lg', 'fxHide.lt-xl',\n    'fxHide.gt-xs', 'fxHide.gt-sm', 'fxHide.gt-md', 'fxHide.gt-lg'\n];\n/** @type {?} */\nconst selector$2 = `\n  [fxShow], [fxShow.print],\n  [fxShow.xs], [fxShow.sm], [fxShow.md], [fxShow.lg], [fxShow.xl],\n  [fxShow.lt-sm], [fxShow.lt-md], [fxShow.lt-lg], [fxShow.lt-xl],\n  [fxShow.gt-xs], [fxShow.gt-sm], [fxShow.gt-md], [fxShow.gt-lg],\n  [fxHide], [fxHide.print],\n  [fxHide.xs], [fxHide.sm], [fxHide.md], [fxHide.lg], [fxHide.xl],\n  [fxHide.lt-sm], [fxHide.lt-md], [fxHide.lt-lg], [fxHide.lt-xl],\n  [fxHide.gt-xs], [fxHide.gt-sm], [fxHide.gt-md], [fxHide.gt-lg]\n`;\n/**\n * 'show' Layout API directive\n */\nclass DefaultShowHideDirective extends ShowHideDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$2;\n    }\n}\nDefaultShowHideDirective.ɵfac = function DefaultShowHideDirective_Factory(t) { return ɵDefaultShowHideDirective_BaseFactory(t || DefaultShowHideDirective); };\nDefaultShowHideDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultShowHideDirective, selectors: [[\"\", \"fxShow\", \"\"], [\"\", \"fxShow.print\", \"\"], [\"\", \"fxShow.xs\", \"\"], [\"\", \"fxShow.sm\", \"\"], [\"\", \"fxShow.md\", \"\"], [\"\", \"fxShow.lg\", \"\"], [\"\", \"fxShow.xl\", \"\"], [\"\", \"fxShow.lt-sm\", \"\"], [\"\", \"fxShow.lt-md\", \"\"], [\"\", \"fxShow.lt-lg\", \"\"], [\"\", \"fxShow.lt-xl\", \"\"], [\"\", \"fxShow.gt-xs\", \"\"], [\"\", \"fxShow.gt-sm\", \"\"], [\"\", \"fxShow.gt-md\", \"\"], [\"\", \"fxShow.gt-lg\", \"\"], [\"\", \"fxHide\", \"\"], [\"\", \"fxHide.print\", \"\"], [\"\", \"fxHide.xs\", \"\"], [\"\", \"fxHide.sm\", \"\"], [\"\", \"fxHide.md\", \"\"], [\"\", \"fxHide.lg\", \"\"], [\"\", \"fxHide.xl\", \"\"], [\"\", \"fxHide.lt-sm\", \"\"], [\"\", \"fxHide.lt-md\", \"\"], [\"\", \"fxHide.lt-lg\", \"\"], [\"\", \"fxHide.lt-xl\", \"\"], [\"\", \"fxHide.gt-xs\", \"\"], [\"\", \"fxHide.gt-sm\", \"\"], [\"\", \"fxHide.gt-md\", \"\"], [\"\", \"fxHide.gt-lg\", \"\"]], inputs: { fxShow: \"fxShow\", \"fxShow.print\": \"fxShow.print\", \"fxShow.xs\": \"fxShow.xs\", \"fxShow.sm\": \"fxShow.sm\", \"fxShow.md\": \"fxShow.md\", \"fxShow.lg\": \"fxShow.lg\", \"fxShow.xl\": \"fxShow.xl\", \"fxShow.lt-sm\": \"fxShow.lt-sm\", \"fxShow.lt-md\": \"fxShow.lt-md\", \"fxShow.lt-lg\": \"fxShow.lt-lg\", \"fxShow.lt-xl\": \"fxShow.lt-xl\", \"fxShow.gt-xs\": \"fxShow.gt-xs\", \"fxShow.gt-sm\": \"fxShow.gt-sm\", \"fxShow.gt-md\": \"fxShow.gt-md\", \"fxShow.gt-lg\": \"fxShow.gt-lg\", fxHide: \"fxHide\", \"fxHide.print\": \"fxHide.print\", \"fxHide.xs\": \"fxHide.xs\", \"fxHide.sm\": \"fxHide.sm\", \"fxHide.md\": \"fxHide.md\", \"fxHide.lg\": \"fxHide.lg\", \"fxHide.xl\": \"fxHide.xl\", \"fxHide.lt-sm\": \"fxHide.lt-sm\", \"fxHide.lt-md\": \"fxHide.lt-md\", \"fxHide.lt-lg\": \"fxHide.lt-lg\", \"fxHide.lt-xl\": \"fxHide.lt-xl\", \"fxHide.gt-xs\": \"fxHide.gt-xs\", \"fxHide.gt-sm\": \"fxHide.gt-sm\", \"fxHide.gt-md\": \"fxHide.gt-md\", \"fxHide.gt-lg\": \"fxHide.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultShowHideDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultShowHideDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultShowHideDirective, [{\n        type: Directive,\n        args: [{ selector: selector$2, inputs: inputs$2 }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: extended/style/style-transforms.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * NgStyle allowed inputs\n */\nclass NgStyleKeyValue {\n    /**\n     * @param {?} key\n     * @param {?} value\n     * @param {?=} noQuotes\n     */\n    constructor(key, value, noQuotes = true) {\n        this.key = key;\n        this.value = value;\n        this.key = noQuotes ? key.replace(/['\"]/g, '').trim() : key.trim();\n        this.value = noQuotes ? value.replace(/['\"]/g, '').trim() : value.trim();\n        this.value = this.value.replace(/;/, '');\n    }\n}\n/**\n * @param {?} target\n * @return {?}\n */\nfunction getType(target) {\n    /** @type {?} */\n    let what = typeof target;\n    if (what === 'object') {\n        return (target.constructor === Array) ? 'array' :\n            (target.constructor === Set) ? 'set' : 'object';\n    }\n    return what;\n}\n/**\n * Split string of key:value pairs into Array of k-v pairs\n * e.g.  'key:value; key:value; key:value;' -> ['key:value',...]\n * @param {?} source\n * @param {?=} delimiter\n * @return {?}\n */\nfunction buildRawList(source, delimiter = ';') {\n    return String(source)\n        .trim()\n        .split(delimiter)\n        .map((/**\n     * @param {?} val\n     * @return {?}\n     */\n    (val) => val.trim()))\n        .filter((/**\n     * @param {?} val\n     * @return {?}\n     */\n    val => val !== ''));\n}\n/**\n * Convert array of key:value strings to a iterable map object\n * @param {?} styles\n * @param {?=} sanitize\n * @return {?}\n */\nfunction buildMapFromList(styles, sanitize) {\n    /** @type {?} */\n    const sanitizeValue = (/**\n     * @param {?} it\n     * @return {?}\n     */\n    (it) => {\n        if (sanitize) {\n            it.value = sanitize(it.value);\n        }\n        return it;\n    });\n    return styles\n        .map(stringToKeyValue)\n        .filter((/**\n     * @param {?} entry\n     * @return {?}\n     */\n    entry => !!entry))\n        .map(sanitizeValue)\n        .reduce(keyValuesToMap, (/** @type {?} */ ({})));\n}\n/**\n * Convert Set<string> or raw Object to an iterable NgStyleMap\n * @param {?} source\n * @param {?=} sanitize\n * @return {?}\n */\nfunction buildMapFromSet(source, sanitize) {\n    /** @type {?} */\n    let list = [];\n    if (getType(source) === 'set') {\n        ((/** @type {?} */ (source))).forEach((/**\n         * @param {?} entry\n         * @return {?}\n         */\n        entry => list.push(entry)));\n    }\n    else {\n        Object.keys(source).forEach((/**\n         * @param {?} key\n         * @return {?}\n         */\n        (key) => {\n            list.push(`${key}:${((/** @type {?} */ (source)))[key]}`);\n        }));\n    }\n    return buildMapFromList(list, sanitize);\n}\n/**\n * Convert 'key:value' -> [key, value]\n * @param {?} it\n * @return {?}\n */\nfunction stringToKeyValue(it) {\n    const [key, ...vals] = it.split(':');\n    return new NgStyleKeyValue(key, vals.join(':'));\n}\n/**\n * Convert [ [key,value] ] -> { key : value }\n * @param {?} map\n * @param {?} entry\n * @return {?}\n */\nfunction keyValuesToMap(map, entry) {\n    if (!!entry.key) {\n        map[entry.key] = entry.value;\n    }\n    return map;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: extended/style/style.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass StyleDirective extends BaseDirective2 {\n    /**\n     * @param {?} elementRef\n     * @param {?} styler\n     * @param {?} marshal\n     * @param {?} sanitizer\n     * @param {?} differs\n     * @param {?} renderer2\n     * @param {?} ngStyleInstance\n     * @param {?} serverLoaded\n     * @param {?} platformId\n     */\n    constructor(elementRef, styler, marshal, sanitizer, differs, renderer2, ngStyleInstance, serverLoaded, platformId) {\n        super(elementRef, (/** @type {?} */ (null)), styler, marshal);\n        this.sanitizer = sanitizer;\n        this.ngStyleInstance = ngStyleInstance;\n        this.DIRECTIVE_KEY = 'ngStyle';\n        if (!this.ngStyleInstance) {\n            // Create an instance NgStyle Directive instance only if `ngStyle=\"\"` has NOT been\n            // defined on the same host element; since the responsive variations may be defined...\n            this.ngStyleInstance = new NgStyle(elementRef, differs, renderer2);\n        }\n        this.init();\n        /** @type {?} */\n        const styles = this.nativeElement.getAttribute('style') || '';\n        this.fallbackStyles = this.buildStyleMap(styles);\n        this.isServer = serverLoaded && isPlatformServer(platformId);\n    }\n    /**\n     * Add generated styles\n     * @protected\n     * @param {?} value\n     * @return {?}\n     */\n    updateWithValue(value) {\n        /** @type {?} */\n        const styles = this.buildStyleMap(value);\n        this.ngStyleInstance.ngStyle = Object.assign(Object.assign({}, this.fallbackStyles), styles);\n        if (this.isServer) {\n            this.applyStyleToElement(styles);\n        }\n        this.ngStyleInstance.ngDoCheck();\n    }\n    /**\n     * Remove generated styles\n     * @protected\n     * @return {?}\n     */\n    clearStyles() {\n        this.ngStyleInstance.ngStyle = this.fallbackStyles;\n        this.ngStyleInstance.ngDoCheck();\n    }\n    /**\n     * Convert raw strings to ngStyleMap; which is required by ngStyle\n     * NOTE: Raw string key-value pairs MUST be delimited by `;`\n     *       Comma-delimiters are not supported due to complexities of\n     *       possible style values such as `rgba(x,x,x,x)` and others\n     * @protected\n     * @param {?} styles\n     * @return {?}\n     */\n    buildStyleMap(styles) {\n        // Always safe-guard (aka sanitize) style property values\n        /** @type {?} */\n        const sanitizer = (/**\n         * @param {?} val\n         * @return {?}\n         */\n        (val) => this.sanitizer.sanitize(SecurityContext.STYLE, val) || '');\n        if (styles) {\n            switch (getType(styles)) {\n                case 'string': return buildMapFromList$1(buildRawList(styles), sanitizer);\n                case 'array': return buildMapFromList$1((/** @type {?} */ (styles)), sanitizer);\n                case 'set': return buildMapFromSet(styles, sanitizer);\n                default: return buildMapFromSet(styles, sanitizer);\n            }\n        }\n        return {};\n    }\n    // ******************************************************************\n    // Lifecycle Hooks\n    // ******************************************************************\n    /**\n     * For ChangeDetectionStrategy.onPush and ngOnChanges() updates\n     * @return {?}\n     */\n    ngDoCheck() {\n        this.ngStyleInstance.ngDoCheck();\n    }\n}\nStyleDirective.ɵfac = function StyleDirective_Factory(t) { return new (t || StyleDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.StyleUtils), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.MediaMarshaller), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.KeyValueDiffers), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.NgStyle, 10), ɵngcc0.ɵɵdirectiveInject(SERVER_TOKEN), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID)); };\nStyleDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: StyleDirective, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nStyleDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: StyleUtils },\n    { type: MediaMarshaller },\n    { type: DomSanitizer },\n    { type: KeyValueDiffers },\n    { type: Renderer2 },\n    { type: NgStyle, decorators: [{ type: Optional }, { type: Self }] },\n    { type: Boolean, decorators: [{ type: Inject, args: [SERVER_TOKEN,] }] },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(StyleDirective, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.StyleUtils }, { type: ɵngcc1.MediaMarshaller }, { type: ɵngcc3.DomSanitizer }, { type: ɵngcc0.KeyValueDiffers }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc2.NgStyle, decorators: [{\n                type: Optional\n            }, {\n                type: Self\n            }] }, { type: Boolean, decorators: [{\n                type: Inject,\n                args: [SERVER_TOKEN]\n            }] }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }]; }, null); })();\n/** @type {?} */\nconst inputs$3 = [\n    'ngStyle',\n    'ngStyle.xs', 'ngStyle.sm', 'ngStyle.md', 'ngStyle.lg', 'ngStyle.xl',\n    'ngStyle.lt-sm', 'ngStyle.lt-md', 'ngStyle.lt-lg', 'ngStyle.lt-xl',\n    'ngStyle.gt-xs', 'ngStyle.gt-sm', 'ngStyle.gt-md', 'ngStyle.gt-lg'\n];\n/** @type {?} */\nconst selector$3 = `\n  [ngStyle],\n  [ngStyle.xs], [ngStyle.sm], [ngStyle.md], [ngStyle.lg], [ngStyle.xl],\n  [ngStyle.lt-sm], [ngStyle.lt-md], [ngStyle.lt-lg], [ngStyle.lt-xl],\n  [ngStyle.gt-xs], [ngStyle.gt-sm], [ngStyle.gt-md], [ngStyle.gt-lg]\n`;\n/**\n * Directive to add responsive support for ngStyle.\n *\n */\nclass DefaultStyleDirective extends StyleDirective {\n    constructor() {\n        super(...arguments);\n        this.inputs = inputs$3;\n    }\n}\nDefaultStyleDirective.ɵfac = function DefaultStyleDirective_Factory(t) { return ɵDefaultStyleDirective_BaseFactory(t || DefaultStyleDirective); };\nDefaultStyleDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DefaultStyleDirective, selectors: [[\"\", \"ngStyle\", \"\"], [\"\", \"ngStyle.xs\", \"\"], [\"\", \"ngStyle.sm\", \"\"], [\"\", \"ngStyle.md\", \"\"], [\"\", \"ngStyle.lg\", \"\"], [\"\", \"ngStyle.xl\", \"\"], [\"\", \"ngStyle.lt-sm\", \"\"], [\"\", \"ngStyle.lt-md\", \"\"], [\"\", \"ngStyle.lt-lg\", \"\"], [\"\", \"ngStyle.lt-xl\", \"\"], [\"\", \"ngStyle.gt-xs\", \"\"], [\"\", \"ngStyle.gt-sm\", \"\"], [\"\", \"ngStyle.gt-md\", \"\"], [\"\", \"ngStyle.gt-lg\", \"\"]], inputs: { ngStyle: \"ngStyle\", \"ngStyle.xs\": \"ngStyle.xs\", \"ngStyle.sm\": \"ngStyle.sm\", \"ngStyle.md\": \"ngStyle.md\", \"ngStyle.lg\": \"ngStyle.lg\", \"ngStyle.xl\": \"ngStyle.xl\", \"ngStyle.lt-sm\": \"ngStyle.lt-sm\", \"ngStyle.lt-md\": \"ngStyle.lt-md\", \"ngStyle.lt-lg\": \"ngStyle.lt-lg\", \"ngStyle.lt-xl\": \"ngStyle.lt-xl\", \"ngStyle.gt-xs\": \"ngStyle.gt-xs\", \"ngStyle.gt-sm\": \"ngStyle.gt-sm\", \"ngStyle.gt-md\": \"ngStyle.gt-md\", \"ngStyle.gt-lg\": \"ngStyle.gt-lg\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵDefaultStyleDirective_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultStyleDirective);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DefaultStyleDirective, [{\n        type: Directive,\n        args: [{ selector: selector$3, inputs: inputs$3 }]\n    }], null, null); })();\n/**\n * Build a styles map from a list of styles, while sanitizing bad values first\n * @param {?} styles\n * @param {?=} sanitize\n * @return {?}\n */\nfunction buildMapFromList$1(styles, sanitize) {\n    /** @type {?} */\n    const sanitizeValue = (/**\n     * @param {?} it\n     * @return {?}\n     */\n    (it) => {\n        if (sanitize) {\n            it.value = sanitize(it.value);\n        }\n        return it;\n    });\n    return styles\n        .map(stringToKeyValue)\n        .filter((/**\n     * @param {?} entry\n     * @return {?}\n     */\n    entry => !!entry))\n        .map(sanitizeValue)\n        .reduce(keyValuesToMap, (/** @type {?} */ ({})));\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: extended/module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst ALL_DIRECTIVES = [\n    DefaultShowHideDirective,\n    DefaultClassDirective,\n    DefaultStyleDirective,\n    DefaultImgSrcDirective,\n];\n/**\n * *****************************************************************\n * Define module for the Extended API\n * *****************************************************************\n */\nclass ExtendedModule {\n}\nExtendedModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ExtendedModule });\nExtendedModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ExtendedModule_Factory(t) { return new (t || ExtendedModule)(); }, imports: [[CoreModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ExtendedModule, { declarations: function () { return [DefaultShowHideDirective,\n        DefaultClassDirective,\n        DefaultStyleDirective,\n        DefaultImgSrcDirective]; }, imports: function () { return [CoreModule]; }, exports: function () { return [DefaultShowHideDirective,\n        DefaultClassDirective,\n        DefaultStyleDirective,\n        DefaultImgSrcDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ExtendedModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule],\n                declarations: [...ALL_DIRECTIVES],\n                exports: [...ALL_DIRECTIVES]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: extended/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: extended/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { ExtendedModule, ClassDirective, DefaultClassDirective, ImgSrcStyleBuilder, ImgSrcDirective, DefaultImgSrcDirective, ShowHideStyleBuilder, ShowHideDirective, DefaultShowHideDirective, StyleDirective, DefaultStyleDirective };\n\n//# sourceMappingURL=extended.js.map","import { AfterViewInit, Component, ElementRef, Inject, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { API_URL } from '@core/constants/global';\r\nimport Cropper from 'cropperjs';\r\nimport { GetAuthUserPipe } from '@shared/pipes/get-auth-user.pipe';\r\n\r\n@Component({\r\n  selector: 'app-img-edit-cropper',\r\n  templateUrl: './img-edit-cropper.component.html',\r\n  styleUrls: ['./img-edit-cropper.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ImgEditCropperComponent implements OnInit, AfterViewInit {\r\n\r\n    title = '';\r\n\r\n    imageSrc = '';\r\n    cropperImage;\r\n    authUser;\r\n    @ViewChild('image', {static: false})\r\n    public imageElement: ElementRef;\r\n    private cropper: Cropper;\r\n    file;\r\n    shape;\r\n\r\n\r\n\r\n    public constructor(\r\n        public dialogRef: MatDialogRef<ImgEditCropperComponent>,\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private getAuthUser: GetAuthUserPipe,\r\n    ) {\r\n\r\n    }\r\n\r\n    public ngOnInit(): void {\r\n        this.authUser = this.getAuthUser.transform();\r\n        this.title = this.data.title;\r\n        this.shape = this.data.shape;\r\n        this.file = this.data.file;\r\n        this.imgSrcFile(this.file);\r\n    }\r\n\r\n    imgSrcFile(file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            this.imageSrc = e.target.result.toString();\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n\r\n    public ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    loadImage() {\r\n        if (this.shape === 'circle') {\r\n            this.avatarImgLoad();\r\n        }\r\n        if (this.shape === 'square') {\r\n            this.cropperImgLoad();\r\n        }\r\n    }\r\n\r\n    cropperImgLoad() {\r\n        this.cropper = new Cropper(this.imageElement.nativeElement, {\r\n            zoomable: false,\r\n            scalable: false,\r\n            viewMode: 2,\r\n            aspectRatio: 1200 / 300,\r\n            crop: () => {\r\n                const canvas = this.cropper.getCroppedCanvas();\r\n                this.cropperImage = canvas.toDataURL('image/png');\r\n            }\r\n        });\r\n    }\r\n\r\n    avatarImgLoad() {\r\n        this.cropper = new Cropper(this.imageElement.nativeElement, {\r\n            zoomable: false,\r\n            scalable: false,\r\n            viewMode: 2,\r\n            aspectRatio: 400 / 400,\r\n            crop: () => {\r\n                const canvas = this.cropper.getCroppedCanvas();\r\n                this.cropperImage = canvas.toDataURL('image/png');\r\n            }\r\n        });\r\n    }\r\n\r\n    saveImg() {\r\n        if (this.shape === 'circle') {\r\n            this.saveAvatarImg();\r\n        }\r\n        if (this.shape === 'square') {\r\n            this.saveCropperImg();\r\n        }\r\n    }\r\n\r\n    saveCropperImg() {\r\n       this.cropper.getCroppedCanvas({\r\n           minWidth: 720,\r\n           minHeight: 300,\r\n           maxWidth: 720,\r\n           maxHeight: 300,\r\n       }).toBlob((blob) => {\r\n           console.log(blob);\r\n           this.dialogRef.close({ blob, shape: 'square' });\r\n       });\r\n    }\r\n\r\n    saveAvatarImg() {\r\n       this.cropper.getCroppedCanvas({\r\n           minWidth: 400,\r\n           minHeight: 400,\r\n           maxWidth: 400,\r\n           maxHeight: 400,\r\n       }).toBlob((blob) => {\r\n           console.log(blob);\r\n           blob['name'] = Date.now() + '.png';\r\n           this.dialogRef.close({ blob, shape: 'circle' });\r\n       }, 'image/png');\r\n    }\r\n\r\n\r\n\r\n    closedModal() {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n}\r\n","<div class=\"imageCropper\">\r\n    <div class=\"header\">\r\n        <h1>{{title}}</h1>\r\n        <mat-icon class=\"iconClosedModal\" (click)=\"closedModal()\">close</mat-icon>\r\n    </div>\r\n\r\n    <div class=\"img-container\" [ngClass]=\"{'circle': shape === 'circle'}\">\r\n        <img #image [src]=\"imageSrc\" (load)=\"loadImage()\" crossorigin alt=\"\">\r\n    </div>\r\n\r\n    <div class=\"img-save-button\">\r\n        <button (click)=\"saveImg()\">Save Image</button>\r\n    </div>\r\n\r\n</div>\r\n","<form [formGroup]=\"profileForm\" class=\"flex-wrap-reverse\">\r\n    <div class=\"editPart\">\r\n    <div id=\"profile-cover-image\" class=\"editCoverDiv\" >\r\n        <img class=\"editCover\" *ngIf=\"!coverShowImg\" [src]=\"coverImg|getImgPath:'images'\" alt=\"\">\r\n        <img class=\"editCover\" *ngIf=\"coverShowImg\" [src]=\"coverImgSrc\" alt=\"\">\r\n        <div class=\"coverImgEditDiv\">\r\n            <img class=\"remove-profile-img\" src=\"assets/img/edit.svg\" alt=\"\" (click)=\"coverChangeImg.click()\">\r\n        </div>\r\n        <input type=\"file\" #coverChangeImg hidden (change)=\"editImage($event, 'square')\">\r\n    </div>\r\n        <div class=\"editPart1\">\r\n            <div class=\"right-side mx-auto ml-xl-4 pl-lg-2\">\r\n                <!-- User image or drop zone container-->\r\n                <div class=\"userImg\">\r\n\r\n                    <!-- Showing drop zone for non-authenticated users and for a users without a profile-form image -->\r\n                    <dropzone [config]=\"dropzoneConfig\" *ngIf=\"!profileImg\"\r\n                              id=\"dropzone\" class=\"profileImgDropzone single\" #dropzone (thumbnail)=\"onAddedFile($event)\"\r\n                              [message]=\"'Click or drag an image to upload'\">\r\n                    </dropzone>\r\n\r\n                    <div class=\"profile-img\" >\r\n                        <img class=\"profileImage\" *ngIf=\"!avatarShowImg\" [src]=\"profileImg| getImgPath:'images'\" alt=\"\">\r\n                        <img class=\"profileImage\" *ngIf=\"avatarShowImg\" [src]=\"avatarImgSrc\" alt=\"\">\r\n                        <img class=\"remove-profile-img\" src=\"assets/img/edit.svg\" alt=\"\" (click)=\"avatarChangeImg.click()\">\r\n                        <input type=\"file\" #avatarChangeImg hidden (change)=\"editImage($event, 'circle')\">\r\n                    </div>\r\n<!--                    <div class=\"profile-img\" *ngIf=\"profileImg\"-->\r\n<!--                         [style.background]=\"profileImg| getImgPath:'user_avatars':'background'\"-->\r\n<!--                         [ngStyle]=\"{'background-size':'cover'}\">-->\r\n<!--                        &lt;!&ndash;                <i class=\"fa fa-times remove-profile-img\" (click)=\"removeImage()\"></i>&ndash;&gt;-->\r\n<!--                        <img class=\"remove-profile-img\" src=\"assets/img/edit.svg\" alt=\"\" (click)=\"editImage()\">-->\r\n<!--                    </div>-->\r\n\r\n                    <!--            <button (click)=\"imgCover.click()\">Add Cover</button>-->\r\n                    <!--            <input #imgCover type=\"file\" hidden (change)=\"addCoverImg($event)\">-->\r\n                </div>\r\n            </div>\r\n    <div class=\"left-side pr-lg-2\">\r\n\r\n        <input class=\"login-input\" placeholder=\"First Name\" formControlName=\"first_name\">\r\n        <span class=\"error\" *ngIf=\"isSubmitted && firstName.hasError('required')\">First name is required</span>\r\n        <span class=\"error\" *ngIf=\"isSubmitted && firstName.hasError('patternInvalid')\">\r\n                    First name should contain only alphabetical characters\r\n        </span>\r\n\r\n        <input class=\"login-input\" placeholder=\"Last Name\" formControlName=\"last_name\">\r\n        <span class=\"error\" *ngIf=\"isSubmitted && lastName.hasError('required')\">Last name is required</span>\r\n        <span class=\"error\" *ngIf=\"isSubmitted && lastName.hasError('patternInvalid')\">\r\n                    Last name should contain only alphabetical characters\r\n        </span>\r\n        <input class=\"login-input\" placeholder=\"User name\" formControlName=\"username\">\r\n        <span class=\"error\" *ngIf=\"isSubmitted && username.hasError('required')\">User name is required</span>\r\n        <span class=\"error\" *ngIf=\"isSubmitted && username.hasError('patternInvalid')\">\r\n                    Please write alphabetical characters before numbers for username\r\n        </span>\r\n\r\n        <!--        <div class=\"register-block birthday-block\">-->\r\n        <!--            <input type=\"text\" (bsValueChange)=\"dateChanged($event)\" formControlName=\"birthday\"-->\r\n        <!--                   class=\"login-input\"-->\r\n        <!--                   placeholder=\"Birthday\" [bsConfig]=\"{maxDate:maxDate, showWeekNumbers: false}\"-->\r\n        <!--                   [maxDate]=\"maxDate\"-->\r\n        <!--                   bsDatepicker>-->\r\n        <!--        </div>-->\r\n\r\n        <input class=\"login-input\" placeholder=\"Email\" formControlName=\"email\">\r\n        <span class=\"error\" *ngIf=\"isSubmitted && email.hasError('required')\">E-mail is required</span>\r\n        <span class=\"error\" *ngIf=\"isSubmitted && email.hasError('patternInvalid')\">E-mail is\r\n            <strong>invalid</strong>\r\n        </span>\r\n\r\n\r\n        <!--                <input class=\"login-input\" placeholder=\"Password\" type=\"password\" formControlName=\"password\">-->\r\n        <!--                <span class=\"error\" *ngIf=\"isSubmitted && pass.hasError('required')\">Password is required</span>-->\r\n        <!--                <span class=\"error\" *ngIf=\"pass.hasError('patternInvalid')\">-->\r\n        <!--                                   Password should not contain spaces-->\r\n        <!--                                </span>-->\r\n        <!--                <span class=\"error\" *ngIf=\"pass.hasError('maxlength')||pass.hasError('minlength')\">-->\r\n        <!--                                   Password should be between 6-15 characters-->\r\n        <!--                                </span>-->\r\n        <!--                <input class=\"login-input\" placeholder=\"Reenter Password\" type=\"password\"-->\r\n        <!--                       formControlName=\"confirm_password\">-->\r\n        <!--                <span class=\"error\" *ngIf=\"confirmPass.hasError('notMatch')\">Passwords don't match</span>-->\r\n        <!--                <span class=\"error\"-->\r\n        <!--                      *ngIf=\"isSubmitted && confirmPass.hasError('required')\">Please confirm the password</span>-->\r\n\r\n        <span class=\"error\" *ngIf=\"isSubmitted && birthday.hasError('required')\">Birth day is required</span>\r\n        <div class=\"actions\">\r\n            <a class=\"save-profile-changes\" (click)=\"saveChanges()\">Save changes</a>\r\n            <mat-spinner [diameter]=\"15\" *ngIf=\"loader.formProcessing\"></mat-spinner>\r\n        </div>\r\n    </div>\r\n\r\n        </div>\r\n    </div>\r\n</form>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {VideoService} from '@core/services/video.service';\r\nimport {GetAuthUserPipe} from '@shared/pipes/get-auth-user.pipe';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {UsersService} from '@core/services/users.service';\r\nimport {Base64ToFilePipe} from '@shared/pipes/base64-to-file.pipe';\r\nimport {User} from '@shared/models/user';\r\nimport {AbstractControl, FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport { of, Subscription } from \"rxjs\";\r\nimport {patternValidator} from '@core/helpers/pattern-validator';\r\nimport {\r\n    EMAIL_PATTERN,\r\n    NO_SPACE_PATTERN,\r\n    NUMBER_AFTER_TEXT_PATTERN,\r\n    TEXT_ONLY_PATTERN_WITHOUT_SPECIALS\r\n} from '@core/constants/patterns';\r\nimport {LoaderService} from '@core/services/loader.service';\r\nimport {DROPZONE_CONFIG} from 'ngx-dropzone-wrapper';\r\nimport {AuthService} from '@core/services/auth.service';\r\nimport * as  moment from 'moment';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {SubjectService} from '@core/services/subject.service';\r\nimport {UserStoreService} from '@core/services/stores/user-store.service';\r\nimport { UploadFileComponent } from '@core/components/modals/upload-file/upload-file.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ImgEditCropperComponent } from '@core/components/modals/img-edit-cropper/img-edit-cropper.component';\r\nimport { concatAll, map } from \"rxjs/operators\";\r\n\r\n@Component({\r\n    selector: 'app-profile',\r\n    templateUrl: './profile-form.component.html',\r\n    styleUrls: ['./profile-form.component.scss']\r\n})\r\nexport class ProfileFormComponent implements OnInit, OnDestroy {\r\n    profileForm: FormGroup;\r\n    isSubmitted = false;\r\n    subscriptions: Subscription[] = [];\r\n    currentDate = new Date();\r\n    maxDate: Date;\r\n\r\n    dropzoneConfig = DROPZONE_CONFIG;\r\n    dropzoneFiles = [];\r\n\r\n    authUser;\r\n    coverFile = [];\r\n\r\n    imageCoverChangedEvent: any;\r\n    imageAvatarChangedEvent: any;\r\n    imageCoverFile;\r\n    imageAvatarFile;\r\n    coverShowImg = false;\r\n    avatarShowImg = false;\r\n    coverImgSrc;\r\n    avatarImgSrc;\r\n\r\n\r\n    constructor(\r\n        private fb: FormBuilder,\r\n        public loader: LoaderService,\r\n        public auth: AuthService,\r\n        private usersService: UsersService,\r\n        private getAuthUser: GetAuthUserPipe,\r\n        private toastr: ToastrService,\r\n        private userStore: UserStoreService,\r\n        public router: Router,\r\n        private dialog: MatDialog,\r\n        private uploadFile: VideoService\r\n    ) {\r\n        this.initForm();\r\n        this.authUser = this.getAuthUser.transform();\r\n        console.log(this.authUser);\r\n        this.profileForm.patchValue({...this.authUser, birthday: moment(this.authUser.birthday).format('MM/DD/YYYY')});\r\n\r\n    }\r\n\r\n    initForm() {\r\n        this.profileForm = this.fb.group({\r\n            id: [''],\r\n            first_name: [{ value: '', disabled: true }, [Validators.required, patternValidator(TEXT_ONLY_PATTERN_WITHOUT_SPECIALS)]],\r\n            last_name: [{ value: '', disabled: true }, [Validators.required, patternValidator(TEXT_ONLY_PATTERN_WITHOUT_SPECIALS)]],\r\n            username: ['', [Validators.required, patternValidator(NUMBER_AFTER_TEXT_PATTERN)]],\r\n            email: ['', [Validators.required, patternValidator(EMAIL_PATTERN)]],\r\n            birthday: [''],\r\n            // avatar: [''],\r\n        });\r\n    }\r\n\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    dateChanged(e) {\r\n\r\n    }\r\n\r\n    editImage(event, shape) {\r\n        const file = event.target.files[0];\r\n        this.dialog.open(ImgEditCropperComponent, {\r\n            maxWidth: '60vw',\r\n            maxHeight: '70vh',\r\n            height: '100%',\r\n            width: '100%',\r\n            data: {\r\n                title: 'Profile Image Cropper',\r\n                shape,\r\n                file\r\n            }\r\n        }).afterClosed().subscribe(dt => {\r\n            console.log(dt);\r\n            if (dt) {\r\n                if (dt.shape === 'square') {\r\n                    this.imageCoverFile = dt.blob;\r\n                    this.coverShowImg = true;\r\n                    const reader = new FileReader();\r\n                    reader.onload = (e) => {\r\n                        this.coverImgSrc = e.target.result.toString();\r\n                    };\r\n                    reader.readAsDataURL(this.imageCoverFile);\r\n                }\r\n                if (dt.shape === 'circle') {\r\n                    this.imageAvatarFile = dt.blob;\r\n                    this.avatarShowImg = true;\r\n                    const reader = new FileReader();\r\n                    reader.onload = (e) => {\r\n                        this.avatarImgSrc = e.target.result.toString();\r\n                    };\r\n                    reader.readAsDataURL(this.imageAvatarFile);\r\n                }\r\n            }\r\n        });\r\n        // this.authUser.avatar = '';\r\n        // this.profileForm.patchValue({avatar: ''});\r\n    }\r\n\r\n    onAddedFile(e) {\r\n        this.dropzoneFiles.push(e[0]);\r\n        this.profileForm.patchValue({avatar: e[0].name});\r\n        console.log(e);\r\n    }\r\n\r\n    addCoverImg(e) {\r\n        this.coverFile.push(e.target.files[0]);\r\n        this.profileForm.patchValue({cover: e.target.files[0].name});\r\n    }\r\n\r\n    buildFormData() {\r\n        const formData: FormData = new FormData();\r\n        const formValue = this.profileForm.value;\r\n        const dropFileExist = Object.entries(this.dropzoneFiles).length > 0;\r\n        const coverFileExist = Object.entries(this.coverFile).length > 0;\r\n\r\n        for (const field in this.profileForm.value) {\r\n            if (field === 'birthday') {\r\n                if (formValue.birthday) {\r\n                    formData.append(field, moment(new Date(this.profileForm.value[field])).format('YYYY-MM-DD'));\r\n                }\r\n            } else if (field !== 'avatar' || !dropFileExist) {\r\n                formData.append(field, this.profileForm.value[field]);\r\n            }\r\n        }\r\n\r\n        // If drop zone file exists saving it to formData object as well\r\n        if (dropFileExist) {\r\n\r\n            const file = this.dropzoneFiles[0];\r\n\r\n            const fileName = `avatar_${Date.now()}.jpg`;\r\n            formData.append('avatar', fileName);\r\n            formData.append('user_avatar_file', file, fileName);\r\n        }\r\n        // if (coverFileExist) {\r\n        //     const cover = this.coverFile[0];\r\n        //     const fileName = `cover_${Date.now()}.jpg`;\r\n        //     formData.append('cover', fileName);\r\n        //     // formData.append('cover_avatar_file', cover, fileName);\r\n        // }\r\n\r\n        return formData;\r\n    }\r\n\r\n    async saveChanges() {\r\n        console.log('++++++++');\r\n        if (this.coverShowImg) {\r\n            const fdCover = new FormData();\r\n            fdCover.append('image', this.imageCoverFile);\r\n            fdCover.append('belonging', 'profile_cover_img');\r\n            fdCover.append('duration', '');\r\n            await this.uploadFile.uploadFile(fdCover, 'image').subscribe((data) => {\r\n                console.log(data);\r\n                this.coverShowImg = false;\r\n                this.saveEditeProfile('cover', data.path);\r\n            });\r\n        }\r\n        if (this.avatarShowImg) {\r\n            const fdAvatar = new FormData();\r\n            fdAvatar.append('image', this.imageAvatarFile);\r\n            fdAvatar.append('belonging', 'profile_avatar_img');\r\n            fdAvatar.append('duration', '');\r\n            await this.uploadFile.uploadFile(fdAvatar, 'image').subscribe((data) => {\r\n                console.log(data);\r\n                this.coverShowImg = false;\r\n                this.saveEditeProfile('avatar', data.path);\r\n            });\r\n        }\r\n        if (!this.avatarShowImg && !this.coverShowImg) {\r\n            this.saveEditeProfile();\r\n        }\r\n\r\n        // const source = of(\r\n        //     [\r\n        //         this.uploadFile.uploadFile(fdCover, 'image'),\r\n        //         this.uploadFile.uploadFile(fdAvatar, 'image'),\r\n        //         this.usersService.saveProfileChanges(formData)\r\n        //     ]);\r\n        // const arrPosts = source.pipe(concatAll());\r\n        // arrPosts.subscribe(data => {\r\n        //     console.log(data);\r\n        // },\r\n        //     error => console.log(error));\r\n    }\r\n\r\n    saveEditeProfile(key?, value?) {\r\n        const formData = this.buildFormData();\r\n        if (key && value) {\r\n            formData.append(key, value);\r\n        }\r\n        this.usersService.saveProfileChanges(formData).subscribe(async (dt) => {\r\n            console.log(dt);\r\n            const token = dt.hasOwnProperty('token') ? dt?.token : '';\r\n            if (token) {\r\n                localStorage.setItem('token', token);\r\n                this.userStore.setAuthUser(token);\r\n                this.toastr.success('The changes are saved successfully');\r\n                await this.router.navigateByUrl('users/' + this.profileForm.value.username);\r\n            }\r\n        });\r\n    }\r\n\r\n    get firstName(): AbstractControl {\r\n        return this.profileForm.get('first_name');\r\n    }\r\n\r\n    get lastName(): AbstractControl {\r\n        return this.profileForm.get('last_name');\r\n    }\r\n\r\n    get email(): AbstractControl {\r\n        return this.profileForm.get('email');\r\n    }\r\n\r\n    get pass(): AbstractControl {\r\n        return this.profileForm.get('password');\r\n    }\r\n\r\n    get username(): AbstractControl {\r\n        return this.profileForm.get('username');\r\n    }\r\n\r\n    get confirmPass(): AbstractControl {\r\n        return this.profileForm.get('confirm_password');\r\n    }\r\n\r\n    get birthday(): AbstractControl {\r\n        return this.profileForm.get('birthday');\r\n    }\r\n\r\n    get profileImg(): any {\r\n        return this.authUser ? this.authUser.avatar : false;\r\n    }\r\n    get coverImg(): any {\r\n        return this.authUser ? this.authUser.cover : false;\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {API_URL} from '@core/constants/global';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OpenviduService {\r\n\r\n  constructor(\r\n    private httpClient: HttpClient\r\n  ) {\r\n  }\r\n\r\n  getToken(params) {\r\n    return this.httpClient.get(`${API_URL}users/session/get-token`, {params});\r\n    // return this.httpClient.post(`${API_URL}api/sessions`, {params});\r\n  }\r\n\r\n  getSession() {\r\n    return this.httpClient.post(`${API_URL}api/sessions`, {});\r\n  }\r\n\r\n  leaveSession(params){\r\n    return this.httpClient.get(`${API_URL}users/session/leave`, {params});\r\n  }\r\n}\r\n","<div class=\"video-container\">\r\n    <video id=\"video_{{idx}}\" class=\"video-js\" playsinline></video>\r\n    <div id=\"live-session-finished\" *ngIf=\"recordingState === 'finished'\">\r\n        <div class=\"messages-container\">\r\n            <h2>Live video ended</h2>\r\n            <p class=\"back-to-channel-videos\" [routerLink]=\"'/channels/'+authUser.username+'/tab/videos'\">Go to my\r\n                channel</p>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<button (click)=\"muted()\" style=\"position: absolute; bottom: 0; left: 50%\">Muted</button>\r\n<button (click)=\"unMuted()\" style=\"position: absolute; bottom: 0; left: 70%\">Un Muted</button>\r\n\r\n\r\n<!--<video id=\"liveVideo\" style=\"display: none\" [src]=\"videoSRC\" preload=\"auto\"></video>-->\r\n","import {\r\n    Component,\r\n    OnInit,\r\n    OnDestroy,\r\n    ElementRef, AfterViewInit, EventEmitter, Output, Input\r\n} from '@angular/core';\r\n\r\nimport videojs from 'video.js';\r\nimport * as adapter from 'webrtc-adapter/out/adapter_no_global.js';\r\nimport * as RecordRTC from 'recordrtc';\r\nimport * as moment from 'moment';\r\n\r\nimport watermark from 'videojs-watermark';\r\nimport 'videojs-watermark/dist/videojs-watermark.css';\r\n\r\n\r\nimport * as Record from 'videojs-record/dist/videojs.record.js';\r\nimport {VideoService} from '@core/services/video.service';\r\nimport {GetAuthUserPipe} from '@shared/pipes/get-auth-user.pipe';\r\nimport {BlobToFilePipe} from '@shared/pipes/blob-to-file.pipe';\r\nimport {SubjectService} from '@core/services/subject.service';\r\nimport {Router} from '@angular/router';\r\nimport { API_URL } from '@core/constants/global';\r\n\r\n@Component({\r\n    selector: 'app-video-js-record',\r\n    templateUrl: './video-js-record.component.html',\r\n    styleUrls: ['./video-js-record.component.scss']\r\n})\r\nexport class VideoJsRecordComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n    apiUrl = API_URL;\r\n\r\n    // index to create unique ID for component\r\n    idx = 'clip1';\r\n    authUser;\r\n    recordingState = 'idle';\r\n    videoId;\r\n    recordingStartTimeStamp;\r\n    recordingEndTimeStamp;\r\n    readonly config: any;\r\n    private player: any;\r\n    private plugin: any;\r\n\r\n    @Input() openViduToken;\r\n    @Input() videoSettings;\r\n    @Input() thumbnailFile;\r\n    @Input() participants;\r\n\r\n    @Output() shareScreen = new EventEmitter();\r\n    @Output() recordingStarted = new EventEmitter();\r\n\r\n    screenSharing = false;\r\n    start;\r\n\r\n    videoSRC = '';\r\n\r\n    // constructor initializes our declared vars\r\n    constructor(\r\n        elementRef: ElementRef,\r\n        private videoService: VideoService,\r\n        private getAuthUser: GetAuthUserPipe,\r\n        private blobToFile: BlobToFilePipe,\r\n        private subject: SubjectService,\r\n        public router: Router,\r\n    ) {\r\n\r\n\r\n        this.player = false;\r\n\r\n        // save reference to plugin (so it initializes)\r\n        this.plugin = Record;\r\n\r\n        // video.js configuration\r\n        this.config = {\r\n            controls: true,\r\n            autoplay: false,\r\n            fluid: false,\r\n            loop: false,\r\n            width: 640,\r\n            height: 480,\r\n            bigPlayButton: false,\r\n            controlBar: {\r\n                volumePanel: true,\r\n                pictureInPictureToggle: false,\r\n            },\r\n            plugins: {\r\n                /*\r\n                // wavesurfer section is only needed when recording audio-only\r\n                wavesurfer: {\r\n                    backend: 'WebAudio',\r\n                    waveColor: '#36393b',\r\n                    progressColor: 'black',\r\n                    debug: true,\r\n                    cursorWidth: 1,\r\n                    displayMilliseconds: true,\r\n                    hideScrollbar: true,\r\n                    plugins: [\r\n                        // enable microphone plugin\r\n                        WaveSurfer.microphone.create({\r\n                            bufferSize: 4096,\r\n                            numberOfInputChannels: 1,\r\n                            numberOfOutputChannels: 1,\r\n                            constraints: {\r\n                                video: false,\r\n                                audio: true\r\n                            }\r\n                        })\r\n                    ]\r\n                },\r\n                */\r\n                // configure videojs-record plugin\r\n                record: {\r\n                    audio: true,\r\n                    // video: true,\r\n                    video: {\r\n                        frameRate: {ideal: 30, max: 30},\r\n                        width: {min: 640, ideal: 640, max: 1280},\r\n                        height: {min: 480, ideal: 480, max: 720}\r\n                    },\r\n                    screen: true,\r\n                    displayMilliseconds: false,\r\n                    maxLength: 3600, // 30\r\n                    debug: true,\r\n                    videoEngine: 'recordrtc',\r\n                    videoMimeType: 'video/webm;codecs=h264',\r\n                    // videoMimeType: 'video/x-matroska;codecs=avc1,opus',\r\n                    // videoMimeType: 'video/webm;codecs=vp8,opus',\r\n                    frameWidth: 640,\r\n                    frameHeight: 480\r\n                    // convertEngine: 'ts-ebml'\r\n                },\r\n\r\n                // videoJsResolutionSwitcher: {\r\n                //     default: 'low', // Default resolution [{Number}, 'low', 'high'],\r\n                //     dynamicLabel: true\"\"\r\n                // }\r\n\r\n            }\r\n        };\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.authUser = this.getAuthUser.transform();\r\n    }\r\n\r\n    // use ngAfterViewInit to make sure we initialize the videojs element\r\n    // after the component template itself has been rendered\r\n    ngAfterViewInit() {\r\n        // ID with which to access the template's video element\r\n        const el = 'video_' + this.idx;\r\n\r\n\r\n        // setup the player via the unique element ID\r\n        this.player = videojs(document.getElementById(el), this.config, () => {\r\n            // console.log('player ready! id:', el);\r\n\r\n            // print version information at startup\r\n            const msg = 'Using video.js ' + videojs.VERSION +\r\n                ' with videojs-record ' + videojs.getPluginVersion('record') +\r\n                ' and recordrtc ' + RecordRTC.version;\r\n            videojs.log(msg);\r\n        }, () => {\r\n            this.player.updateSrc([\r\n                {\r\n                    src: 'https://vjs.zencdn.net/v/oceans.mp4?SD',\r\n                    type: 'video/mp4',\r\n                    label: 'SD',\r\n                    res: 360\r\n                },\r\n                {\r\n                    src: 'https://vjs.zencdn.net/v/oceans.mp4?HD',\r\n                    type: 'video/mp4',\r\n                    label: 'HD',\r\n                    res: 720\r\n                }\r\n            ]);\r\n            this.player.on('resolutionchange', () => {\r\n                console.log('Source changed to %s', this.player.src());\r\n            });\r\n        });\r\n\r\n        videojs.registerPlugin('watermark', watermark);\r\n        this.player.watermark({\r\n            image: 'assets/img/logo.png',\r\n            position: 'bottom-right',\r\n            fadeTime: 1000\r\n        });\r\n\r\n\r\n        // device is ready\r\n        this.player.on('deviceReady', (a) => {\r\n            console.log(a);\r\n            this.shareScreen.emit(a);\r\n            // console.log('device is ready!');\r\n        });\r\n\r\n        // users clicked the record button and started recording\r\n        this.player.on('startRecord', (aa) => {\r\n            // console.log(this.openViduToken)\r\n            this.recordingState = 'active';\r\n            this.subject.setVideoRecordingState({recording: true, viaSocket: false});\r\n\r\n            // console.log('start timestamp:' + this.player.currentTimestamp)\r\n            // this.recordingStartTimeStamp = moment(this.player.currentTimestamp);\r\n            this.start = new Date();\r\n            // console.log(start);\r\n\r\n            // this.thumbnailFile = this.videoSettings.thumbnail;\r\n            console.log('+++++++++++++++++++++++ 200 ');\r\n\r\n            this.videoService.saveVideoToken({\r\n                token: this.openViduToken,\r\n                author_id: this.authUser.id,\r\n                channel_id: this.authUser.channel.id,\r\n                category_id: this.videoSettings.category_id,\r\n                privacy: this.videoSettings.privacy,\r\n                filename: '',\r\n                session_name: this.videoSettings.sessionName,\r\n                publisher: this.videoSettings.myUserName,\r\n                status: 'live',\r\n                thumbnail: this.videoSettings.thumbnail,\r\n                name: this.videoSettings.name,\r\n                description: this.videoSettings.description,\r\n                tags: this.videoSettings.tags,\r\n                participants: this.participants.length\r\n            }).subscribe((dt) => {\r\n                console.log(dt);\r\n                console.log('+++++++++++++++++');\r\n                this.videoId = dt?.id;\r\n                this.recordingStarted.emit(dt);\r\n                this.recordingStartTimeStamp = moment(this.player.currentTimestamp);\r\n            });\r\n\r\n\r\n            console.log('started recording!');\r\n        });\r\n\r\n\r\n        // users completed recording and stream is available\r\n        this.player.on('finishRecord', (e) => {\r\n            // recordedData is a blob object containing the recorded data that\r\n            // can be downloaded by the users, stored on server etc.\r\n            // console.log('finished recording: ', this.player);\r\n            // console.log(document.getElementsByTagName('video')[0].duration)\r\n            // console.log('end timestamp:' + this.player.currentTimestamp)\r\n            this.recordingEndTimeStamp = moment(this.player.currentTimestamp);\r\n            // console.log('Duration timestamp:' + moment.\r\n            // utc((moment.duration(this.recordingEndTimeStamp - this.recordingStartTimeStamp, 'seconds')\r\n            // .asMilliseconds()).format('HH:mm')))\r\n\r\n            const x = e.target.player.controlBar.durationDisplay.formattedTime_;\r\n            const end = new Date();\r\n            // tslint:disable-next-line:no-shadowed-variable\r\n            const el = 'video_' + this.idx;\r\n            const playerCastom = document.getElementById(el);\r\n            // @ts-ignore\r\n\r\n\r\n\r\n            // console.log(end - this.start);\r\n            // tslint:disable-next-line:no-shadowed-variable\r\n\r\n            console.log(this.player);\r\n            // console.log(moment.utc(this.recordingEndTimeStamp.diff(this.recordingStartTimeStamp)));\r\n            const recordingDuration = moment.utc(this.recordingEndTimeStamp.diff(this.recordingStartTimeStamp)).format('mm:ss');\r\n\r\n            const fd: FormData = new FormData();\r\n            fd.append('username', this.authUser.username);\r\n            // fd.append('avatar', this.authUser.avatar);\r\n            fd.append('id', this.videoId);\r\n            fd.append('author_id', this.authUser.id);\r\n            // fd.append('full_name', this.authUser.full_name);\r\n            // fd.append('category_id', this.authUser._id);\r\n            // fd.append('video_name', this.player.recordedData.name);\r\n            fd.append('video_duration', recordingDuration);\r\n            // fd.append('video_stream_file', this.blobToFile.transform(this.player.recordedData));\r\n            // if (this.thumbnailFile) {\r\n            //     fd.append('thumbnail', this.thumbnailFile.name);\r\n            // }\r\n            fd.append('video_settings', JSON.stringify(this.videoSettings));\r\n            this.subject.setVideoRecordingState({recording: false});\r\n            this.recordingState = 'finished';\r\n\r\n            const formDataFile = new FormData();\r\n            formDataFile.append('video', this.blobToFile.transform(this.player.recordedData));\r\n            formDataFile.append('belonging', 'live_video');\r\n            formDataFile.append('duration', recordingDuration);\r\n            this.videoService.uploadFile(formDataFile, 'video').subscribe((res) => {\r\n                console.log(res);\r\n\r\n                // const video = document.getElementById('liveVideo');\r\n                // this.videoSRC = this.apiUrl + 'uploads/videos/' + res.path;\r\n                // console.log(video);\r\n                // // tslint:disable-next-line:no-shadowed-variable\r\n                // video.addEventListener('loadedmetadata', (e) => {\r\n                //     console.log(e);\r\n                //     // const duration = video.duration;\r\n                //     // await console.log(duration);\r\n                // });\r\n                if (res) {\r\n                    fd.append('video_name', res.path);\r\n                    this.videoService.saveRecordedData(fd).subscribe(() => {\r\n                        localStorage.setItem('session', '');\r\n                        localStorage.setItem('video_settings', '');\r\n                    });\r\n                }\r\n            });\r\n        });\r\n\r\n        // converter ready and stream is available\r\n        this.player.on('finishConvert', () => {\r\n            // the convertedData object contains the converted data that\r\n            // can be downloaded by the users, stored on server etc.\r\n            console.log('finished converting: ', this.player.convertedData);\r\n        });\r\n\r\n        // error handling\r\n        this.player.on('error', (element, error) => {\r\n            console.warn(error);\r\n        });\r\n\r\n        this.player.on('deviceError', () => {\r\n            console.error('device error:', this.player.deviceErrorCode);\r\n        });\r\n    }\r\n\r\n\r\n    // use ngOnDestroy to detach event handlers and remove the player\r\n    ngOnDestroy(): void {\r\n        if (this.player) {\r\n            this.player.dispose();\r\n            this.player = false;\r\n        }\r\n    }\r\n\r\n    muted() {\r\n        this.subject.publish.next(false);\r\n        // navigator.mediaDevices.getUserMedia({audio: true, video: true}).then((stream) => {\r\n        //     console.log(stream.getTracks());\r\n        //     stream.getTracks()[0].enabled = false;\r\n        //     stream.getTracks()[1].enabled = false;\r\n        // });\r\n    }\r\n    unMuted() {\r\n        this.subject.publish.next(true);\r\n        // navigator.mediaDevices.getUserMedia({audio: true, video: true}).then((stream) => {\r\n        //     console.log(stream.getTracks());\r\n        //     stream.getTracks()[0].enabled = true;\r\n        //     stream.getTracks()[1].enabled = true;\r\n        // });\r\n    }\r\n\r\n}\r\n","<mat-spinner [diameter]=\"100\" class=\"session-loader\" *ngIf=\"loader.dataLoading\"></mat-spinner>\r\n<div id=\"video-stream-container\" *ngIf=\"!loader.dataLoading\">\r\n\r\n\r\n    <!-- Shown when session connected -->\r\n    <ng-container *ngIf=\"openViduToken\">\r\n        <div id=\"video-chat-container\" class=\"videoContainerLivePartDiv\">\r\n\r\n            <!-- Publisher video recording interface -->\r\n            <div class=\"left\">\r\n                <div class=\"video-container liveVideo\">\r\n                    <app-video-js-record [openViduToken]=\"openViduToken\" [thumbnailFile]=\"thumbnailFile\"\r\n                                         [videoSettings]=\"videoSettings\" [participants]=\"participants\"\r\n                                         (recordingStarted)=\"getRecordedVideoId($event)\"></app-video-js-record>\r\n                </div>\r\n                <div id=\"video-info-row\">\r\n                    <div id=\"video-info\">\r\n                        <div class=\"videoTagsAndActions\">\r\n                        <ul id=\"video-tags-list\">\r\n                            <li *ngFor=\"let tag of videoSettings.tags\" class=\"tag\">\r\n                                #{{tag.name}}\r\n                            </li>\r\n                        </ul>\r\n                        <div id=\"video-info-actions\" *ngIf=\"videoId\">\r\n                            <div id=\"participants-count\">\r\n                                <i class=\"fa fa-users\"></i>\r\n                                <span>{{participants.length}}</span>\r\n                            </div>\r\n                            <!--                        <ul>-->\r\n                            <!--                            <li *ngFor=\"let participant of participants\">{{participant}}</li>-->\r\n                            <!--                        </ul>-->\r\n\r\n                            <div id=\"share-wrap\" (click)=\"openSocialShareModal()\">\r\n                                <i class=\"fas fa-share-alt\"></i>\r\n                                <p>Share</p>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                        <h3>{{videoSettings.name}}</h3>\r\n                        <div class=\"details-row\" *ngIf=\"videoId\">\r\n                            <span class=\"watchers-count\">{{participants.length}} watching now</span>\r\n                            <span class=\"dot\">&middot;</span>\r\n                            <span class=\"date\">{{savedVideoSettings.created_at|dateFromNow}}</span>\r\n                        </div>\r\n                        <span class=\"live-now\" *ngIf=\"videoId\">Live</span>\r\n\r\n                        <!--                        <p>-->\r\n                        <!--                            <span>{{participants.length}} users</span>-->\r\n                        <!--                        </p>-->\r\n                    </div>\r\n\r\n\r\n                </div>\r\n                <div id=\"channel-info\">\r\n                    <div>\r\n                        <img class=\"avatar\" id=\"channel-avatar\"\r\n                             [src]=\"channelUser.channel.avatar|getImgPath: 'images'\">\r\n                    </div>\r\n                    <div>\r\n                        <p id=\"channel-name\">{{channelUser.channel.name}}</p>\r\n                        <p class=\"subscribers-count\">{{channelUser.channel.subscribers_count + ' subscriber' + (channelUser.channel.subscribers_count === 1 ? '' : 's')}} </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <app-stocks-marquee [stocks]=\"userStocks\" [videoStreaming]=\"true\"></app-stocks-marquee>\r\n            </div>\r\n\r\n\r\n            <div class=\"chat-container\">\r\n                <app-chat-box [openViduToken]=\"openViduToken\" [messages]=\"messages\" [session]=\"session\"\r\n                              [videoId]=\"videoId\" *ngIf=\"videoId\"\r\n                              (sendMessage)=\"sendMessage($event)\" [videoRecordingState]=\"recordingState\"></app-chat-box>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <div class=\"no-stored-session-data\" *ngIf=\"!sessionData && !videoSettings\">\r\n        <div class=\"d-flex flex-column justify-content-center align-items-center mx-auto py-5 mt-5\">\r\n\r\n            <img src=\"assets/img/errorPage.svg\" alt=\"no-stored-session-data-img\" width=\"500\" height=\"370\">\r\n            <p class=\"text-center\"><b>There is no session data defined.</b> <br> Please return to the <a\r\n                routerLink=\"/users/video/start-live-video\">'Start\r\n                live video' page</a></p>\r\n        </div>\r\n    </div>\r\n    <div class=\"stream-errors\" *ngIf=\"!openViduToken && sessionData && videoSettings\">\r\n        <div class=\"d-flex flex-column justify-content-center align-items-center mx-auto py-5 mt-5\">\r\n            <img src=\"assets/img/errorLoading.svg\" alt=\"no-stored-session-data-img\" width=\"150\" height=\"200\">\r\n            <p class=\"text-center\"><b>There was a problem while loading streaming session.</b> <br>\r\n                <small>Please <a class=\"reload\" (click)=\"reloadPage()\">reload</a> the page or try again later.</small>\r\n            </p>\r\n        </div>\r\n        <div class=\"d-none\">\r\n            <div class=\"d-flex flex-column justify-content-center align-items-center mx-auto py-5 mt-5\">\r\n                <img src=\"assets/img/dataError.svg\" alt=\"stream-errors-img\" width=\"334\" height=\"471\">\r\n                <p class=\"text-center top\"><b>There was a problem while loading streaming session.</b> <br>\r\n                    <small>Please <a class=\"reload\" (click)=\"reloadPage()\">reload</a> the page or try again\r\n                        later.</small>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n","import {\r\n    AfterViewInit,\r\n    ChangeDetectorRef,\r\n    Component,\r\n    ElementRef,\r\n    HostListener,\r\n    OnDestroy,\r\n    OnInit,\r\n    ViewChild\r\n} from '@angular/core';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {ConnectionEvent, OpenVidu, Publisher, Session, StreamEvent, StreamManager, Subscriber} from 'openvidu-browser';\r\nimport {FormBuilder} from '@angular/forms';\r\nimport {OpenviduService} from '@core/services/openvidu.service';\r\nimport {SubjectService} from '@core/services/subject.service';\r\nimport {GetAuthUserPipe} from '@shared/pipes/get-auth-user.pipe';\r\nimport {VideoService} from '@core/services/video.service';\r\nimport {ActivatedRoute, NavigationStart, Router} from '@angular/router';\r\nimport {API_URL} from '@core/constants/global';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {LoaderService} from '@core/services/loader.service';\r\nimport {ChatService} from '@core/services/chat.service';\r\nimport {StocksService} from '@core/services/stocks.service';\r\nimport {VideoChatService} from '@core/services/video-chat.service';\r\nimport {UsersService} from '@core/services/users.service';\r\nimport {Subscription} from 'rxjs';\r\nimport {SocialShareDialogComponent} from '@core/components/modals/social-share-dialog/social-share-dialog.component';\r\nimport {GetUriPartsPipe} from '@shared/pipes/get-uri-parts.pipe';\r\n\r\n@Component({\r\n    selector: 'app-video',\r\n    templateUrl: './video.component.html',\r\n    styleUrls: ['./video.component.scss']\r\n})\r\nexport class VideoComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n\r\n    videoJSPlayerOptions = {\r\n        autoplay: true,\r\n        controls: true,\r\n        fluid: false,\r\n        sources: []\r\n    };\r\n\r\n    videoSettings;\r\n    savedVideoSettings;\r\n\r\n    videoId;\r\n\r\n\r\n    OPENVIDU_SERVER_URL = 'https://localhost:4443';\r\n    OPENVIDU_SERVER_SECRET = 'MY_SECRET';\r\n\r\n    // OpenVidu objects\r\n    OV: OpenVidu;\r\n    session: Session;\r\n    publisher: StreamManager; // Local\r\n    subscribers: StreamManager[] = []; // Remotes\r\n\r\n\r\n    @ViewChild('video') videoEl;\r\n\r\n    // Main video of the page, will be 'publisher' or one of the 'subscribers',\r\n    // updated by click event in UserVideoComponent children\r\n    mainStreamManager: StreamManager;\r\n\r\n    authUser;\r\n    openViduToken;\r\n\r\n    recordingState = 'idle';\r\n\r\n    webcams = [];\r\n    tags = [];\r\n\r\n    participants = [];\r\n\r\n\r\n    thumbnailFile;\r\n    thumbnailUploaded = false;\r\n    apiUrl = API_URL;\r\n    shareUrl;\r\n\r\n    publisherData;\r\n    sessionData = {sessionName: '', myUserName: ''};\r\n\r\n    sessionName;\r\n    userStocks = [];\r\n    messages = [];\r\n\r\n    channelUser;\r\n\r\n    subscriptions: Subscription[] = [];\r\n\r\n    constructor(\r\n        private ref: ChangeDetectorRef,\r\n        private toastr: ToastrService,\r\n        private elRef: ElementRef,\r\n        private openViduService: OpenviduService,\r\n        private subject: SubjectService,\r\n        private getAuthUser: GetAuthUserPipe,\r\n        private videoService: VideoService,\r\n        private chatService: ChatService,\r\n        private videoChatService: VideoChatService,\r\n        private stocksService: StocksService,\r\n        public router: Router,\r\n        private route: ActivatedRoute,\r\n        private dialog: MatDialog,\r\n        public loader: LoaderService,\r\n        private usersService: UsersService,\r\n        private getUrlParts: GetUriPartsPipe\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n\r\n        this.authUser = this.getAuthUser.transform();\r\n        this.getUserChannel();\r\n\r\n        this.getVideoSessionData();\r\n        if (this.sessionData && this.videoSettings) {\r\n            this.joinSession();\r\n        }\r\n\r\n\r\n        this.subscriptions.push(this.subject.getVideoRecordingState().subscribe(data => {\r\n\r\n            if (data.recordingState === 'finished') {\r\n                this.leaveSession();\r\n            }\r\n\r\n            if (!data.viaSocket) {\r\n                this.sendRecordingState(data.recording);\r\n            }\r\n        }));\r\n\r\n        this.subscriptions.push(this.stocksService.getUserStocks({user_id: this.authUser.id}).subscribe(dt => {\r\n            this.userStocks = dt?.user_stocks || [];\r\n        }));\r\n\r\n\r\n    }\r\n\r\n\r\n    @HostListener('window:beforeunload')\r\n    beforeunloadHandler() {\r\n        // On window closed leave session\r\n        this.leaveSession();\r\n        if (this.recordingState === 'started') {\r\n            this.removeLiveVideoByToken();\r\n        }\r\n        // return false;\r\n    }\r\n\r\n    alertOfLeaving() {\r\n        this.toastr.error('Please stop recording first');\r\n    }\r\n\r\n    getUserChannel() {\r\n        this.subscriptions.push(this.usersService.getUserInfo({\r\n            username: this.authUser.username,\r\n        }).subscribe(dt => {\r\n            this.channelUser = dt;\r\n        }));\r\n    }\r\n\r\n    getVideoSessionData() {\r\n        const savedSession = localStorage.getItem('session');\r\n        const videoSettings = localStorage.getItem('video_settings');\r\n        this.sessionData = savedSession ? JSON.parse(savedSession) : null;\r\n        this.videoSettings = videoSettings ? JSON.parse(videoSettings) : null;\r\n        console.log(this.videoSettings, this.sessionData)\r\n    }\r\n\r\n\r\n    joinSession() {\r\n        this.OV = new OpenVidu();\r\n\r\n        this.session = this.OV.initSession();\r\n        this.getStreamEvents();\r\n\r\n        this.loader.dataLoading = true;\r\n\r\n        this.subscriptions.push(this.openViduService.getToken({\r\n            email: this.authUser.email,\r\n            sessionName: this.sessionData.sessionName,\r\n            role: 'PUBLISHER'\r\n        }).subscribe((token: any) => {\r\n            console.log(token);\r\n            // const {token} = data;\r\n            this.openViduToken = token;\r\n            this.receiveMessage();\r\n            this.receiveRecordingState();\r\n\r\n\r\n            // console.log(token)\r\n            // console.log({clientData: this.joinSessionForm.value.myUserName})\r\n            this.session.connect(token, {\r\n                clientData: this.sessionData,\r\n                avatar: this.authUser.avatar,\r\n                from_user: this.authUser\r\n            })\r\n                .then(() => {\r\n                    this.loader.dataLoading = false;\r\n                    if (token.includes('PUBLISHER')) {\r\n                        const video = this.elRef.nativeElement.querySelector('video');\r\n                        const publisher: Publisher = this.OV.initPublisher(video, {\r\n                            audioSource: undefined, // The source of audio. If undefined default microphone\r\n                            videoSource: undefined, // The source of video. If undefined default webcam\r\n                            publishAudio: true,     // Whether you want to start publishing with your audio unmuted or not\r\n                            publishVideo: true,     // Whether you want to start publishing with your video enabled or not\r\n                            resolution: '640x480',  // The resolution of your video\r\n                            frameRate: 30,          // The frame rate of your video\r\n                            insertMode: 'APPEND',   // How the video is inserted in the target element 'video-container'\r\n                            mirror: false           // Whether to mirror your local video or not\r\n                        });\r\n                        console.log(publisher);\r\n                        this.session.publish(publisher);\r\n\r\n                        // Set the main video in the page to display our webcam and store our Publisher\r\n                        this.mainStreamManager = publisher;\r\n                        this.publisher = publisher;\r\n                    } else {\r\n\r\n                    }\r\n                }).catch((err) => {\r\n                this.toastr.error('There was a problem white loading streaming session')\r\n                console.log(err)\r\n            });\r\n\r\n        }));\r\n\r\n    }\r\n\r\n    getStreamEvents() {\r\n        this.session.on('streamCreated', (event: StreamEvent) => {\r\n\r\n            const video = this.elRef.nativeElement.querySelector('video');\r\n            this.thumbnailFile = this.videoSettings.thumbnail;\r\n            // const video = undefined;\r\n            // console.log('stream created', video)\r\n            // console.log(event.stream)\r\n\r\n            const subscriber: Subscriber = this.session.subscribe(event.stream, undefined\r\n                // {\r\n                //   insertMode: 'append'\r\n                // },\r\n                // (error) => {\r\n                //   console.log(error)\r\n                //   if (error) {\r\n                //     console.log('error: ' + error.message);\r\n                //   } else {\r\n                //     console.log('callback')\r\n                //     // this.handleScreenShare(event.stream.videoType);\r\n                //     // this.getVideo(event.stream);\r\n                //\r\n                //   }\r\n                // }\r\n            );\r\n\r\n        });\r\n\r\n        this.session.on('connectionCreated', (event: ConnectionEvent) => {\r\n            // console.log('connection created!!!')\r\n            const connection = JSON.parse(event.connection.data.replace(/}%\\/%{/g, ','));\r\n            // console.log(event.connection.data)\r\n            // this.toastr.success(from.clientData.myUserName + 'joined the session');\r\n            this.participants.push(connection.clientData.myUserName);\r\n        });\r\n\r\n        this.session.on('connectionDestroyed', (event: ConnectionEvent) => {\r\n            // console.log('connection destroyed!!!')\r\n            const connection = JSON.parse(event.connection.data.replace(/}%\\/%{/g, ','));\r\n            this.participants = this.participants.filter(p => p !== connection.clientData.myUserName);\r\n        });\r\n\r\n        // On every Stream destroyed...\r\n        this.session.on('streamDestroyed', (event: StreamEvent) => {\r\n\r\n            // console.log('stream destroyed!!!!!')\r\n            // console.log(event)\r\n\r\n            // Remove the stream from 'subscribers' array\r\n            this.deleteSubscriber(event.stream.streamManager);\r\n            this.leaveSession();\r\n        });\r\n    }\r\n\r\n    updateMainStreamManager(streamManager: StreamManager) {\r\n        this.mainStreamManager = streamManager;\r\n    }\r\n\r\n\r\n    deleteSubscriber(streamManager: StreamManager) {\r\n        console.log(this.subscribers)\r\n    }\r\n\r\n    getRecordedVideoId(video) {\r\n        this.savedVideoSettings = video;\r\n\r\n        this.videoId = video?.id;\r\n        const {hostName} = this.getUrlParts.transform(window.location.href);\r\n        this.shareUrl = `${hostName}users/video/watch?session=${this.sessionData.sessionName}&publisher=${this.authUser.username}&id=${this.videoId}`;\r\n    }\r\n\r\n    leaveSession() {\r\n        console.log('leaving session!!!');\r\n        if (this.session) {\r\n            this.session.disconnect();\r\n        }\r\n\r\n        // Empty all properties...\r\n        this.subscribers = [];\r\n        delete this.publisher;\r\n        delete this.session;\r\n        delete this.OV;\r\n\r\n\r\n        this.thumbnailFile = [];\r\n        this.thumbnailUploaded = false;\r\n\r\n        if (this.sessionData) {\r\n\r\n            this.subscriptions.push(this.openViduService.leaveSession({\r\n                token: this.openViduToken,\r\n                sessionName: this.sessionData.sessionName,\r\n                role: 'publisher'\r\n            }).subscribe(() => {\r\n\r\n            }));\r\n        }\r\n    }\r\n\r\n    sendMessage(e) {\r\n        console.log(e)\r\n        this.session.signal({\r\n            data: e.message,  // Any string (optional)\r\n            to: [],                     // Array of Connection objects (optional. Broadcast to everyone if empty)\r\n            type: 'my-chat'             // The type of message (optional)\r\n        })\r\n            .then(() => {\r\n                this.subscriptions.push(this.videoChatService.saveVideoMessage({video_id: this.videoId, ...e}).subscribe(dt => {\r\n                    // console.log('Message successfully sent');\r\n                    this.messages = dt;\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    sendRecordingState(recording) {\r\n        // console.log('recording!!!!')\r\n        if (this.session) {\r\n            this.session.signal({\r\n                data: recording,  // Any string (optional)\r\n                to: [],                     // Array of Connection objects (optional. Broadcast to everyone if empty)\r\n                type: 'recording-state'             // The type of message (optional)\r\n            }).then(() => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    receiveRecordingState() {\r\n        this.session.on('signal:recording-state', (event: any) => {\r\n            this.recordingState = !!event.data ? 'started' : 'finished';\r\n            if (this.recordingState === 'finished') {\r\n                this.tags = [];\r\n            }\r\n\r\n            this.subject.setVideoRecordingState({recordingState: this.recordingState, ...{viaSocket: true}});\r\n        });\r\n    }\r\n\r\n    receiveMessage() {\r\n        this.session.on('signal:my-chat', (event: any) => {\r\n            // console.log(event.from)\r\n            this.subject.setMsgData({message: event.data, from_user: event.from.data});\r\n            // console.log(event.data); // Message\r\n            // console.log(event.from); // Connection object of the sender\r\n            // console.log(event.type); // The type of message (\"my-chat\")\r\n        });\r\n    }\r\n\r\n    removeLiveVideoByToken() {\r\n        this.videoService.removeVideoByToken({token: this.openViduToken}).subscribe(() => {\r\n        });\r\n    }\r\n\r\n    reloadPage() {\r\n        location.reload();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n\r\n        if (this.recordingState === 'started') {\r\n            this.removeLiveVideoByToken();\r\n        }\r\n\r\n        // On component destroyed leave session\r\n        this.leaveSession();\r\n\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n    openSocialShareModal() {\r\n        console.log('modal');\r\n        console.log(this.recordingState);\r\n        if (this.recordingState === 'started') {\r\n            this.dialog.open(SocialShareDialogComponent, {width: '500px', height: '400px', data: {shareUrl: this.shareUrl}})\r\n                .afterClosed().subscribe(dt => {\r\n            });\r\n        }\r\n        if (this.recordingState === 'finished') {\r\n            const {hostName} = this.getUrlParts.transform(window.location.href);\r\n            this.shareUrl = `${hostName}videos/play?id=${this.videoId}`;\r\n            this.dialog.open(SocialShareDialogComponent, {width: '500px', height: '400px', data: {shareUrl: this.shareUrl}})\r\n                .afterClosed().subscribe(dt => {\r\n            });\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n    }\r\n}\r\n","<div *ngIf=\"!session\" id=\"join\">\r\n  <div id=\"join-dialog\">\r\n    <h1>Join a video session</h1>\r\n    <form class=\"form-group\" [formGroup]=\"joinSessionForm\">\r\n      <p>\r\n        <label>Participant</label>\r\n        <input class=\"form-control\" id=\"userName\" formControlName=\"mySessionId\" required>\r\n      </p>\r\n      <p>\r\n        <label>Session</label>\r\n        <input class=\"form-control\" id=\"sessionId\" formControlName=\"myUserName\" required>\r\n      </p>\r\n      <p class=\"text-center\">\r\n        <button class=\"btn btn-lg btn-success join-session-btn\" type=\"button\" (click)=\"joinSession()\">Join!</button>\r\n      </p>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"session\" id=\"session\">\r\n  <opv-session\r\n      #ovSessionComponent\r\n      [sessionName]=\"mySessionId\"\r\n      [user]=\"myUserName\"\r\n      [tokens]=\"tokens\"\r\n      (sessionCreated)=\"handlerSessionCreatedEvent($event)\"\r\n      (publisherCreated)=\"handlerPublisherCreatedEvent($event)\"\r\n      (error)=\"handlerErrorEvent($event)\">\r\n  </opv-session>\r\n</div>\r\n","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {\r\n  OpenVidu,\r\n  Publisher,\r\n  Session,\r\n  SessionDisconnectedEvent,\r\n  StreamEvent,\r\n  StreamManager,\r\n  Subscriber\r\n} from 'openvidu-browser';\r\nimport {OpenviduService} from '@core/services/openvidu.service';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {OpenViduLayout, OpenViduLayoutOptions, OpenviduSessionComponent, OvSettings, UserModel} from 'openvidu-angular';\r\n\r\n@Component({\r\n  selector: 'app-video-library',\r\n  templateUrl: './video-library.component.html',\r\n  styleUrls: ['./video-library.component.scss']\r\n})\r\nexport class VideoLibraryComponent implements OnInit {\r\n\r\n  joinSessionForm: FormGroup;\r\n\r\n  OPENVIDU_SERVER_URL = 'https://localhost/:4443';\r\n  OPENVIDU_SERVER_SECRET = 'MY_SECRET';\r\n\r\n  // Join form\r\n  mySessionId = 'SessionA';\r\n  myUserName = 'Participant' + Math.floor(Math.random() * 100);\r\n  tokens: string[] = [];\r\n  session = false;\r\n\r\n  ovSession: Session;\r\n  ovLocalUsers: UserModel[];\r\n  ovLayout: OpenViduLayout;\r\n  ovLayoutOptions: OpenViduLayoutOptions;\r\n\r\n  @ViewChild('ovSessionComponent')\r\n  public ovSessionComponent: OpenviduSessionComponent;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private openViduService: OpenviduService,\r\n    private toastr: ToastrService,\r\n    private elRef: ElementRef,\r\n  ) {\r\n    this.initForm();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  initForm() {\r\n    this.joinSessionForm = this.fb.group({\r\n      mySessionId: ['SessionB'],\r\n      myUserName: ['Participant' + Math.floor(Math.random() * 100)]\r\n    });\r\n  }\r\n\r\n  async joinSession() {\r\n    this.getToken();\r\n  }\r\n\r\n  getToken() {\r\n    this.openViduService.getToken({email: 'admin@gmail.com', sessionName: 'SessionA'}).subscribe((token: any) => {\r\n        console.log(token);\r\n        this.tokens.push(token);\r\n        this.session = true;\r\n        console.log('getToken ', this.tokens);\r\n    },\r\n        (err) => {\r\n            console.log(err);\r\n        });\r\n  }\r\n\r\n\r\n  leaveSession() {\r\n\r\n  }\r\n\r\n  handlerSessionCreatedEvent(session: Session): void {\r\n\r\n    // You can see the session documentation here\r\n    // https://docs.openvidu.io/en/stable/api/openvidu-browser/classes/session.html\r\n\r\n    console.log('SESSION CREATED EVENT', session);\r\n\r\n    session.on('streamCreated', (event: StreamEvent) => {\r\n      console.log('stream created!!!')\r\n      // Do something\r\n    });\r\n\r\n    session.on('streamDestroyed', (event: StreamEvent) => {\r\n      // Do something\r\n    });\r\n\r\n    session.on('sessionDisconnected', (event: SessionDisconnectedEvent) => {\r\n      this.session = false;\r\n      this.tokens = [];\r\n    });\r\n\r\n    // this.myMethod();\r\n\r\n\r\n  }\r\n\r\n  handlerPublisherCreatedEvent(publisher: Publisher) {\r\n\r\n    // You can see the publisher documentation here\r\n    // https://docs.openvidu.io/en/stable/api/openvidu-browser/classes/publisher.html\r\n\r\n    publisher.on('streamCreated', (e) => {\r\n      console.log('Publisher streamCreated', e);\r\n    });\r\n\r\n  }\r\n\r\n  handlerErrorEvent(event): void {\r\n    // Do something\r\n    console.log('error', event)\r\n  }\r\n\r\n  myMethod() {\r\n    this.ovLocalUsers = this.ovSessionComponent.getLocalUsers();\r\n    this.ovLayout = this.ovSessionComponent.getOpenviduLayout();\r\n    this.ovLayoutOptions = this.ovSessionComponent.getOpenviduLayoutOptions();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // On component destroyed leave session\r\n    this.leaveSession();\r\n  }\r\n\r\n}\r\n","<div class=\"start-live-video-page\">\r\n\r\n    <div class=\"text\">\r\n        <h1>Start live video</h1>\r\n        <p>Start sharing your story and connecting with viewers. Get your webcam ready, check your lighting, and\r\n            click below to go live!\r\n            We ask that you keep in mind of the <a href=\"https://www.copyright.gov/dmca-directory/\" target=\"_blank\">DMCA rules</a> and\r\n            please do not\r\n            play any music that is not owned by you\r\n            while you stream. We will remove any videos that are in violation of the DMCA. <br>\r\n            Smile, you look great!\r\n        </p>\r\n        <div class=\"loader\" *ngIf=\"deviceStatus!=='loaded' && deviceStatus!=='failed'\">\r\n            <mat-spinner [diameter]=\"20\"></mat-spinner>\r\n            <strong>Loading devices info</strong>\r\n        </div>\r\n        <form [formGroup]=\"deviceRecognitionForm\" *ngIf=\"deviceStatus==='loaded' || deviceStatus==='failed'\">\r\n            <div id=\"devices\">\r\n                <div class=\"item-wrap\">\r\n\r\n                    <div class=\"item\">\r\n                        <div class=\"info border\" *ngIf=\"!videoDevice.hasError('required')\">\r\n                            <span class=\"material-icons\">videocam</span>\r\n                            <mat-form-field style=\"width:88%;\">\r\n                                <mat-select formControlName=\"video_device\">\r\n                                    <mat-option\r\n                                        *ngFor=\"let videoDevice of userMediaDevices|filterDevices:{kind:'videoinput'}\"\r\n                                        [value]=\"videoDevice.label\">\r\n                                        {{videoDevice.label}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                            <mat-icon class=\"refresh\" (click)=\"getConnectedDevices()\">refresh</mat-icon>\r\n                        </div>\r\n                        <div class=\"error-msg\" *ngIf=\"videoDevice.hasError('required')\">\r\n                            <mat-icon>videocam_off</mat-icon>\r\n                            <ng-container>\r\n                                <span>Can't find camera. Make sure it's connected and try again</span>\r\n                                <mat-icon class=\"refresh\" (click)=\"getConnectedDevices()\">refresh</mat-icon>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"item\">\r\n                        <div class=\"info border\" *ngIf=\"!audioDevice.hasError('required')\">\r\n                            <span class=\"material-icons\">mic</span>\r\n                            <mat-form-field style=\"width:88%;\">\r\n                                <mat-select formControlName=\"audio_device\">\r\n                                    <mat-option\r\n                                        *ngFor=\"let audioDevice of userMediaDevices|filterDevices:{kind:'audioinput'}\"\r\n                                        [value]=\"audioDevice.label\">\r\n                                        {{audioDevice.label}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                            <mat-icon class=\"refresh\" (click)=\"getConnectedDevices()\">refresh</mat-icon>\r\n                        </div>\r\n                        <div class=\"error-msg\" *ngIf=\"audioDevice.hasError('required')\">\r\n                            <mat-icon>mic</mat-icon>\r\n                            <span>Can't find microphone. Make sure it's connected and try again</span>\r\n                            <mat-icon class=\"refresh\" (click)=\"getConnectedDevices()\">refresh</mat-icon>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <button class=\"btn\" type=\"button\" (click)=\"startLiveVideo()\" [disabled]=\"!deviceRecognitionForm.valid\">\r\n                <span class=\"material-icons\"> video_call </span>\r\n                <span>Start live video</span>\r\n            </button>\r\n        </form>\r\n    </div>\r\n\r\n</div>\r\n","import {AfterViewInit, Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {GetAuthUserPipe} from '@shared/pipes/get-auth-user.pipe';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'app-check-requirements',\r\n    templateUrl: './check-streaming-requirements.component.html',\r\n    styleUrls: ['./check-streaming-requirements.component.scss']\r\n})\r\nexport class CheckStreamingRequirementsComponent implements OnInit, AfterViewInit {\r\n\r\n    deviceRecognitionForm: FormGroup;\r\n\r\n    userMediaDevices;\r\n    defaultVideoDevice;\r\n    defaultAudioDevice;\r\n\r\n    authUser;\r\n    deviceStatus = 'idle';\r\n\r\n    @Output('checked') checked = new EventEmitter();\r\n\r\n    constructor(\r\n        private toastr: ToastrService,\r\n        private fb: FormBuilder,\r\n        private getAuthUser: GetAuthUserPipe,\r\n        public router: Router\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.authUser = this.getAuthUser.transform();\r\n        this.initForm();\r\n    }\r\n\r\n    initForm(): void {\r\n        this.deviceRecognitionForm = this.fb.group({\r\n            video_device: ['', Validators.required],\r\n            audio_device: ['', Validators.required]\r\n        });\r\n    }\r\n\r\n    async startLiveVideo() {\r\n        // if (this.deviceRecognitionForm.valid) {\r\n        this.checked.emit(true);\r\n        // }\r\n    }\r\n\r\n    async ngAfterViewInit() {\r\n        await this.getConnectedDevices(true);\r\n    }\r\n\r\n    async getConnectedDevices(pageLoad = false) {\r\n\r\n        navigator.mediaDevices.getUserMedia({audio: true, video: true}).then(() => {\r\n            this.deviceStatus = 'loading';\r\n            navigator.mediaDevices.enumerateDevices()\r\n                .then((devices) => {\r\n                    this.deviceStatus = 'loaded';\r\n                    this.userMediaDevices = devices;\r\n                    this.defaultVideoDevice = devices.find(d => d.kind === 'videoinput');\r\n                    this.deviceRecognitionForm.patchValue({video_device: this.defaultVideoDevice?.label});\r\n                    this.defaultAudioDevice = devices.find(d => d.kind === 'audioinput');\r\n                    this.deviceRecognitionForm.patchValue({audio_device: this.defaultAudioDevice?.label});\r\n                })\r\n                .catch((err) => {\r\n\r\n                    this.deviceRecognitionForm.patchValue({\r\n                        audio_device: '',\r\n                        video_device: '',\r\n                    });\r\n                    this.toastr.error(err.message);\r\n                });\r\n        }).catch((err) => {\r\n            console.log(err)\r\n            this.deviceStatus = 'failed';\r\n            this.deviceRecognitionForm.patchValue({\r\n                audio_device: '',\r\n                video_device: '',\r\n            });\r\n            console.log(this.deviceRecognitionForm.value)\r\n            this.toastr.error(err.message);\r\n        });\r\n\r\n\r\n    }\r\n\r\n    get audioDevice() {\r\n        return this.deviceRecognitionForm.get('audio_device');\r\n    }\r\n\r\n    get videoDevice() {\r\n        return this.deviceRecognitionForm.get('video_device');\r\n    }\r\n\r\n}\r\n","<form [formGroup]=\"startStreamingForm\" id=\"start-streaming-form\">\r\n    <div class=\"start-live-video\">\r\n\r\n        <div id=\"video-name\">\r\n            <input class=\"liveVideo\" formControlName=\"name\" placeholder=\"Video name\">\r\n            <mat-error *ngIf=\"streamName.hasError('required') && isSubmitted\">The stream name is required</mat-error>\r\n        </div>\r\n\r\n        <div id=\"video-tags\">\r\n\r\n\r\n            <mat-form-field>\r\n                <mat-chip-list #tagList aria-label=\"Fruit selection\" formControlName=\"tags\" >\r\n                    <mat-chip *ngFor=\"let tag of tags\" (removed)=\"remove(tag)\">\r\n                        {{tag.name}}\r\n                        <mat-icon matChipRemove>cancel</mat-icon>\r\n                    </mat-chip>\r\n\r\n                    <input class=\"liveVideo\" type=\"text\" #chipsInput\r\n                           placeholder=\"Tags...\"\r\n                           matInput\r\n                           maxlength=\"10\"\r\n                           (input)=\"resetValue($event)\"\r\n                           [matChipInputFor]=\"tagList\"\r\n                           [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                           (matChipInputTokenEnd)=\"add($event)\"\r\n                           [matAutocomplete]=\"auto\">\r\n\r\n\r\n                </mat-chip-list>\r\n                <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"autoCompleteTagsSelected($event)\">\r\n\r\n                    <mat-optgroup *ngFor=\"let group of savedTags\" [label]=\"group.name\">\r\n                        <mat-option *ngFor=\"let tag of group.values\" [value]=\"tag\">\r\n                            {{tag?.tag_details.name}}\r\n                        </mat-option>\r\n                    </mat-optgroup>\r\n\r\n\r\n\r\n                </mat-autocomplete>\r\n\r\n                <mat-hint align=\"end\">Please press 'Enter' after the tag name and write not more than 3 tags</mat-hint>\r\n\r\n            </mat-form-field>\r\n            <mat-error *ngIf=\"tags.length ===0 && isSubmitted\">Please provide some tags describing your live video\r\n            </mat-error>\r\n            <mat-error *ngIf=\"tags.length > 3 && isSubmitted\">Only 3 tags please</mat-error>\r\n        </div>\r\n\r\n        <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"autocompleteSelect($event)\"\r\n                          *ngIf=\"savedTags.length > 0\">\r\n\r\n            <mat-option>\r\n                OK\r\n                <!--                        {{tag.tag_details.name}}-->\r\n            </mat-option>\r\n        </mat-autocomplete>\r\n\r\n        <!--        <mat-form-field appearance=\"fill\">-->\r\n        <!--            <mat-label>Number</mat-label>-->\r\n        <!--            <input type=\"text\"-->\r\n        <!--                   placeholder=\"Pick one\"-->\r\n        <!--                   aria-label=\"Number\"-->\r\n        <!--                   matInput-->\r\n        <!--                   [formControl]=\"myControl\"-->\r\n        <!--                   [matAutocomplete]=\"auto\">-->\r\n        <!--            <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\">-->\r\n        <!--                <mat-option *ngFor=\"let tag of savedTags\" [value]=\"tag\">-->\r\n        <!--                    {{tag.tag_details.name}}-->\r\n        <!--                </mat-option>-->\r\n        <!--            </mat-autocomplete>-->\r\n        <!--        </mat-form-field>-->\r\n\r\n        <div id=\"video-categories\">\r\n            <select formControlName=\"category_id\" class=\"liveVideo\">\r\n                <option selected disabled [value]=\"''\">Category</option>\r\n                <option *ngFor=\"let category of videoCategories\" [value]=\"category.id\">{{category.name}}</option>\r\n            </select>\r\n            <mat-error *ngIf=\"streamCategory.hasError('required') && isSubmitted\">\r\n                The stream category is required\r\n            </mat-error>\r\n        </div>\r\n\r\n        <div id=\"video-description\">\r\n            <textarea formControlName=\"description\" placeholder=\"Video description\" (input)=\"resetTextArea($event)\"></textarea>\r\n            <mat-error *ngIf=\"streamDesc.hasError('required') && isSubmitted\">\r\n                The stream description is required\r\n            </mat-error>\r\n            <p>\r\n                Max length symbols {{count}} / {{limit}}\r\n            </p>\r\n        </div>\r\n\r\n        <div id=\"privacy\">\r\n            <mat-radio-group formControlName=\"privacy\" (change)=\"changedPrivacy($event)\">\r\n                <mat-radio-button *ngFor=\"let privacy of privacyTypes\"\r\n                                  [value]=\"privacy.name\">\r\n                    {{privacy.name}}\r\n                    <mat-icon>{{privacy.icon}}</mat-icon>\r\n                </mat-radio-button>\r\n            </mat-radio-group>\r\n            <!--            <mat-icon>{{selectedPrivacy?.icon}}</mat-icon>-->\r\n            <!--            <select formControlName=\"privacy\" required (change)=\"changedPrivacy($event)\">-->\r\n            <!--                <option [value]=\"''\">Select privacy</option>-->\r\n            <!--                <option *ngFor=\"let privacy of privacyTypes\" [value]=\"privacy.name\">-->\r\n            <!--                    &lt;!&ndash;                                    <mat-icon>{{privacy.icon}}</mat-icon>&ndash;&gt;-->\r\n            <!--                    {{privacy.name}}-->\r\n            <!--                </option>-->\r\n            <!--            </select>-->\r\n        </div>\r\n\r\n        <!--        <div class=\"item\">-->\r\n        <!--            <div class=\"info\">-->\r\n        <!--                <mat-icon>{{selectedPrivacy?.icon}}</mat-icon>-->\r\n        <!--                <mat-form-field style=\"width:88%;\">-->\r\n        <!--                    <mat-select formControlName=\"privacy\" required-->\r\n        <!--                                (selectionChange)=\"changedPrivacy($event)\">-->\r\n        <!--                        &lt;!&ndash;                                <mat-select-trigger>&ndash;&gt;-->\r\n        <!--                        &lt;!&ndash;                                    <div class=\"selected-privacy\">&ndash;&gt;-->\r\n        <!--                        &lt;!&ndash;                                        <mat-icon>{{selectedPrivacy.icon}}</mat-icon>&ndash;&gt;-->\r\n        <!--                        &lt;!&ndash;                                        <span>{{selectedPrivacy.name}}</span>&ndash;&gt;-->\r\n        <!--                        &lt;!&ndash;                                    </div>&ndash;&gt;-->\r\n        <!--                        &lt;!&ndash;                                </mat-select-trigger>&ndash;&gt;-->\r\n        <!--                        <mat-option [value]=\"''\">Select privacy</mat-option>-->\r\n        <!--                        <mat-option *ngFor=\"let privacy of privacyTypes\" [value]=\"privacy.name\">-->\r\n        <!--                            &lt;!&ndash;                                    <mat-icon>{{privacy.icon}}</mat-icon>&ndash;&gt;-->\r\n        <!--                            {{privacy.name}}-->\r\n        <!--                        </mat-option>-->\r\n        <!--                    </mat-select>-->\r\n        <!--                </mat-form-field>-->\r\n        <!--            </div>-->\r\n        <!--        </div>-->\r\n\r\n        <div id=\"thumbnail\">\r\n            <ng-container *ngIf=\"!thumbnailUploaded\">\r\n                <label for=\"custom-thumbnail\" (click)=\"uploadImg()\">\r\n                    <span class=\"material-icons\">backup</span>\r\n                    Upload Thumbnail\r\n                </label>\r\n                <mat-spinner [diameter]=\"15\" *ngIf=\"loader.fileProcessing\"></mat-spinner>\r\n<!--                <input type=\"file\" id=\"custom-thumbnail\" (change)=\"getThumbnailFile($event)\">-->\r\n                <mat-error *ngIf=\"startStreamingForm.get('thumbnail').hasError('required') && isSubmitted\">\r\n                    The thumbnail is required\r\n                </mat-error>\r\n            </ng-container>\r\n            <div *ngIf=\"thumbnailUploaded\" id=\"uploaded-thumbnail-container\">\r\n                <mat-icon (click)=\"removeUploadedThumbnail(thumbnailImage)\" id=\"remove-thumbnail\">clear\r\n                </mat-icon>\r\n                <img id=\"uploaded-thumbnail\" src=\"{{apiUrl+'uploads/images/'+imageName}}\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"actions\">\r\n            <button class=\"btn btn-lg btn-success join-session-btn\" type=\"button\" (click)=\"submit()\">\r\n                Start live video\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n\r\n\r\n","import {Component, ElementRef, EventEmitter, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {AbstractControl, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {API_URL, DESCRIPTION_CHARACTERS_LIMIT} from '@core/constants/global';\r\nimport {COMMA, ENTER} from '@angular/cdk/keycodes';\r\nimport {VideoService} from '@core/services/video.service';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {GetAuthUserPipe} from '@shared/pipes/get-auth-user.pipe';\r\nimport {MatChipInputEvent, MatChipList} from '@angular/material/chips';\r\nimport {LoaderService} from '@core/services/loader.service';\r\nimport {Observable} from 'rxjs';\r\nimport {MatAutocompleteSelectedEvent} from '@angular/material/autocomplete';\r\nimport { UploadFileComponent } from '@core/components/modals/upload-file/upload-file.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\n@Component({\r\n    selector: 'app-stream-details-form',\r\n    templateUrl: './collect-streaming-details-form.component.html',\r\n    styleUrls: ['./collect-streaming-details-form.component.scss']\r\n})\r\nexport class CollectStreamingDetailsFormComponent implements OnInit {\r\n\r\n    startStreamingForm: FormGroup;\r\n    isSubmitted = false;\r\n    thumbnailFile;\r\n    thumbnailUploading = false;\r\n    thumbnailUploaded = false;\r\n    apiUrl = API_URL;\r\n    tags = [];\r\n    videoCategories;\r\n    authUser;\r\n\r\n    sessionName = 'SessionA';\r\n    readonly separatorKeysCodes: number[] = [ENTER, COMMA];\r\n\r\n    privacyTypes = [{name: 'Public', icon: 'public'}, {name: 'Private', icon: 'lock'}];\r\n    selectedPrivacy;\r\n\r\n    savedTags = [];\r\n    imageName;\r\n    count = 0;\r\n    limit = DESCRIPTION_CHARACTERS_LIMIT;\r\n    thumbnailImage;\r\n\r\n    @ViewChild('chipsInput') chipsInput: ElementRef<HTMLInputElement>;\r\n    @ViewChild('tagList') tagList: MatChipList;\r\n    // tslint:disable-next-line:no-output-rename\r\n    @Output('formReady') formReady = new EventEmitter();\r\n\r\n    constructor(\r\n        private videoService: VideoService,\r\n        private toastr: ToastrService,\r\n        private fb: FormBuilder,\r\n        private getAuthUser: GetAuthUserPipe,\r\n        public loader: LoaderService,\r\n        private dialog: MatDialog,\r\n        private uploadFile: VideoService,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.authUser = this.getAuthUser.transform();\r\n        this.selectedPrivacy = this.privacyTypes[0];\r\n        this.initForm();\r\n        this.getVideoCategories();\r\n        // this.getVideoTags();\r\n\r\n        // this.startStreamingForm.get('tags').statusChanges.subscribe(\r\n        //     status => this.tagList.errorState = this.tags.length > 3\r\n        // );\r\n    }\r\n\r\n    initForm(): void {\r\n        this.startStreamingForm = this.fb.group({\r\n            name: ['', Validators.required],\r\n            description: ['', [Validators.required, Validators.maxLength(this.limit)]],\r\n            category_id: ['', Validators.required],\r\n            tags: [[], Validators.required],\r\n            sessionName: [this.sessionName],\r\n            myUserName: [this.authUser.username],\r\n            thumbnail: ['', Validators.required],\r\n            privacy: ['Public'],\r\n            status: ['live']\r\n        });\r\n    }\r\n\r\n    getVideoCategories() {\r\n        this.videoService.getVideoCategories().subscribe(dt => {\r\n            this.videoCategories = dt;\r\n        });\r\n    }\r\n\r\n    getVideoTags() {\r\n        this.videoService.getVideoTags().subscribe(dt => {\r\n            this.savedTags = dt;\r\n        });\r\n    }\r\n\r\n    changedPrivacy(e) {\r\n        this.selectedPrivacy = this.privacyTypes.find(t => t.name === e.value);\r\n    }\r\n\r\n    autocompleteSelect(e) {\r\n        console.log(e);\r\n    }\r\n\r\n    add(event: MatChipInputEvent): void {\r\n        console.log('add');\r\n        const input = event.input;\r\n        if (this.tags.length < 3) {\r\n            const value = event.value;\r\n\r\n            if ((value || '').trim()) {\r\n                this.tags.push({name: value.trim()});\r\n                this.startStreamingForm.patchValue({tags: this.tags});\r\n                // console.log(this.startStreamingForm.value)\r\n            }\r\n        }\r\n        // Reset the input value\r\n        if (input) {\r\n            input.value = '';\r\n        }\r\n    }\r\n    resetValue(event) {\r\n        if (event.target.value && this.tags.length >= 3) {\r\n            event.target.value = '';\r\n        }\r\n    }\r\n\r\n    remove(fruit): void {\r\n        const index = this.tags.indexOf(fruit);\r\n\r\n        if (index >= 0) {\r\n            this.tags.splice(index, 1);\r\n            this.startStreamingForm.patchValue({tags: this.tags});\r\n        }\r\n    }\r\n\r\n    uploadImg() {\r\n        this.dialog.open(UploadFileComponent, {\r\n            maxWidth: '591px',\r\n            maxHeight: '479px',\r\n            height: '100%',\r\n            width: '100%',\r\n            data: {\r\n                countUploadFile: 'oneFile',\r\n                type: 'image'\r\n            }\r\n        }).afterClosed().subscribe((dt) => {\r\n            if (dt) {\r\n                this.thumbnailUploading = true;\r\n                this.loader.fileProcessing = true;\r\n                if (typeof dt === 'string') {\r\n                    this.thumbnailUploading = false;\r\n                    this.loader.fileProcessing = false;\r\n                    return this.toastr.error(dt);\r\n                }\r\n                if (dt[0].type.includes('image')) {\r\n                    const fd = new FormData();\r\n                    const type = 'image';\r\n                    dt.forEach((elem) => {\r\n                        fd.append('image', elem.file);\r\n                        fd.append('belonging', 'thumbnail_image');\r\n                        fd.append('duration', '');\r\n                    });\r\n                    this.uploadFile.uploadFile(fd, type).subscribe((res) => {\r\n                        this.thumbnailImage = res.path;\r\n                        this.imageName = res.path;\r\n                        this.startStreamingForm.patchValue({thumbnail: this.imageName});\r\n                        this.toastr.success(res.message);\r\n                        this.thumbnailUploading = false;\r\n                        this.loader.fileProcessing = false;\r\n                        this.thumbnailUploaded = true;\r\n                    });\r\n                } else {\r\n                    this.thumbnailUploading = false;\r\n                    this.loader.fileProcessing = false;\r\n                    return this.toastr.error(dt);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    getThumbnailFile(e) {\r\n        // this.thumbnailFile = e.target.files[0];\r\n        // const fd = new FormData();\r\n        // fd.append('video_thumbnail_file', this.thumbnailFile);\r\n        // this.startStreamingForm.patchValue({thumbnail: this.thumbnailFile.name});\r\n        // this.thumbnailUploading = true;\r\n        // this.loader.fileProcessing = true;\r\n        //\r\n        // this.videoService.saveVideoThumbnail(fd).subscribe(filename => {\r\n        //     this.toastr.success('The thumbnail has been uploaded successfully');\r\n        //     this.thumbnailUploading = false;\r\n        //     this.thumbnailUploaded = true;\r\n        //     this.loader.fileProcessing = false;\r\n        // });\r\n    }\r\n\r\n    removeUploadedThumbnail(filename) {\r\n        console.log(filename);\r\n        this.videoService.deleteFile(filename, 'image').subscribe(dt => {\r\n            this.thumbnailImage = '';\r\n            this.toastr.success('The thumbnail has been removed successfully');\r\n            this.thumbnailUploaded = false;\r\n            this.startStreamingForm.patchValue({thumbnail: ''});\r\n        });\r\n    }\r\n\r\n    submit() {\r\n        this.isSubmitted = true;\r\n        if (this.startStreamingForm.valid && this.tags.length <= 3) {\r\n            this.formReady.emit({\r\n                categoryName: this.videoCategories.find(c => c.id === +this.startStreamingForm.value.category_id)?.name,\r\n                ...this.startStreamingForm.value\r\n            });\r\n        }\r\n    }\r\n\r\n    resetTextArea(e) {\r\n        if (e.target.value.length > this.limit) {\r\n            e.target.value = e.target.value.slice(0, this.limit);\r\n            this.startStreamingForm.value.description = e.target.value;\r\n        }\r\n        this.count = e.target.value.length;\r\n    }\r\n\r\n\r\n    get streamName(): AbstractControl {\r\n        return this.startStreamingForm.get('name');\r\n    }\r\n\r\n\r\n    get streamDesc(): AbstractControl {\r\n        return this.startStreamingForm.get('description');\r\n    }\r\n\r\n    get streamCategory(): AbstractControl {\r\n        return this.startStreamingForm.get('category_id');\r\n    }\r\n\r\n    get streamTags(): AbstractControl {\r\n        return this.startStreamingForm.get('tags');\r\n    }\r\n\r\n    autoCompleteTagsSelected(event: MatAutocompleteSelectedEvent): void {\r\n        if (this.tags.length < 3) {\r\n            this.tags.push({name: event.option.viewValue});\r\n            this.startStreamingForm.patchValue({tags: this.tags});\r\n        }\r\n    }\r\n}\r\n","<app-check-requirements (checked)=\"requirementsChecked = true\" *ngIf=\"!requirementsChecked\"></app-check-requirements>\r\n<app-stream-details-form *ngIf=\"requirementsChecked\" (formReady)=\"getPublisherData($event)\"></app-stream-details-form>\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {SubjectService} from '@core/services/subject.service';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'app-publisher-flow',\r\n    templateUrl: './publisher-flow.component.html',\r\n    styleUrls: ['./publisher-flow.component.scss']\r\n})\r\nexport class PublisherFlowComponent implements OnInit {\r\n\r\n    videoSettings;\r\n    sessionData = {sessionName: '', myUserName: ''};\r\n    requirementsChecked = false;\r\n\r\n    constructor(\r\n        private subject: SubjectService,\r\n        public router: Router\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    async getPublisherData(e) {\r\n        this.sessionData = {sessionName: e.sessionName, myUserName: e.myUserName};\r\n        this.videoSettings = e;\r\n        this.subject.setSessionData(this.sessionData);\r\n        localStorage.setItem('session', JSON.stringify(this.sessionData));\r\n        localStorage.setItem('video_settings', JSON.stringify(this.videoSettings));\r\n        await this.router.navigate(['users/video/publish']);\r\n    }\r\n\r\n}\r\n","<video #videoElement controls muted id=\"live-video\" width=\"640\" height=\"480\"></video>\r\n<!--<video #videoElement class=\"video-js\" controls muted playsinline preload=\"none\"></video>-->\r\n<div id=\"live-session-finished\" *ngIf=\"recordingState === 'finished'\">\r\n  <h2>Live video ended</h2>\r\n</div>\r\n\r\n<!--<app-vjs-player [options]=\"videoJSPlayerOptions\" #videoElement></app-vjs-player>-->\r\n","import {AfterViewInit, Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\r\nimport {StreamManager} from 'openvidu-browser';\r\nimport videojs from 'video.js';\r\nimport {SubjectService} from '@core/services/subject.service';\r\n\r\n@Component({\r\n    selector: 'app-ov-video',\r\n    templateUrl: './ov-video.component.html',\r\n    styleUrls: ['./ov-video.component.scss']\r\n})\r\nexport class OvVideoComponent implements OnInit, AfterViewInit {\r\n    videoJSPlayerOptions = {\r\n        width: 640,\r\n        height: 480,\r\n        autoplay: true,\r\n        controls: true,\r\n        fluid: false,\r\n        sources: []\r\n    };\r\n\r\n    @ViewChild('videoElement') elementRef: ElementRef;\r\n\r\n    _streamManager: StreamManager;\r\n    player: videojs.Player;\r\n    recordingState;\r\n\r\n    constructor(\r\n        private subject: SubjectService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.subject.getVideoRecordingState().subscribe(data => {\r\n            console.log('STATE!!!!' + data.recordingState);\r\n            this.recordingState = data.recordingState;\r\n            if (this.recordingState === 'finished') {\r\n                let video = document.getElementById('live-video') as any;\r\n\r\n                // video = document.getElementsByClassName('video-js') as any;\r\n                console.log(video)\r\n                // video.pause();\r\n                // video.currentTime = 0;\r\n                // video.controls = false;\r\n                // console.log(this.player)\r\n                // this.player.pause();\r\n                // this.player.src('');\r\n                // this.player.reset();\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this._streamManager.addVideoElement(this.elementRef.nativeElement);\r\n        // this.player = videojs(this.elementRef.nativeElement, this.videoJSPlayerOptions, function onPlayerReady() {\r\n        //   console.log('onPlayerReady', this);\r\n        // });\r\n        const video = document.getElementById('live-video') as any;\r\n        console.log(video)\r\n        video.setAttribute('controls', 'controls');\r\n        video.controls = true;\r\n    }\r\n\r\n    @Input()\r\n    set streamManager(streamManager: StreamManager) {\r\n        this._streamManager = streamManager;\r\n        if (!!this.elementRef) {\r\n            this._streamManager.addVideoElement(this.elementRef.nativeElement);\r\n        }\r\n    }\r\n\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {StreamManager} from 'openvidu-browser';\r\nimport {ToastrService} from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-user-video',\r\n  templateUrl: './user-video.component.html',\r\n  styleUrls: ['./user-video.component.scss']\r\n})\r\nexport class UserVideoComponent implements OnInit {\r\n\r\n\r\n  @Input() streamManager: StreamManager;\r\n\r\n  constructor(\r\n    private toastr: ToastrService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getNicknameTag() { // Gets the nickName of the users\r\n    const from = JSON.parse(this.streamManager.stream.connection.data.replace(/}%\\/%{/g, ','));\r\n    // this.toastr.success(from.clientData.myUserName + 'joined the session');\r\n    // console.log(from)\r\n    return from.clientData.myUserName;\r\n    // console.log(this.streamManager.stream.connection.data)\r\n    // const streamData = JSON.parse(this.streamManager.stream.connection.data);\r\n  }\r\n\r\n}\r\n","<div>\r\n  <app-ov-video [streamManager]=\"streamManager\"></app-ov-video>\r\n<!--  <div><p>{{getNicknameTag()}}</p></div>-->\r\n</div>\r\n","<div id=\"video-chat-container\" *ngIf=\"openViduToken && videoFound\">\r\n\r\n    <mat-spinner [diameter]=\"100\" class=\"session-loader\" *ngIf=\"loader.dataLoading\"></mat-spinner>\r\n\r\n    <!-- Streaming started -->\r\n    <ng-container *ngIf=\"streamCreated\">\r\n        <div *ngFor=\"let sub of subscribers\" class=\"stream-container col-md-6 col-xs-6\">\r\n            <div class=\"video-container\">\r\n                <app-user-video [streamManager]=\"sub\" (click)=\"updateMainStreamManager(sub)\"></app-user-video>\r\n            </div>\r\n\r\n            <ng-container *ngIf=\"streamCreated && openViduToken && videoFound\">\r\n                <!--    <i class=\"fa fa-users\"></i>{{participants.length}}-->\r\n                <!--    <ul>-->\r\n                <!--        <li *ngFor=\"let participant of participants\">{{participant}}</li>-->\r\n                <!--    </ul>-->\r\n                <div id=\"video-info-row\">\r\n                    <div id=\"video-info\">\r\n                        <div class=\"videoTagsAndActions\">\r\n                        <ul id=\"video-tags-list\">\r\n                            <li *ngFor=\"let tag of videoSettings.tags\" class=\"tag\">\r\n                                #{{tag.name}}\r\n                            </li>\r\n                        </ul>\r\n                        <div id=\"video-info-actions\">\r\n                            <div id=\"participants-count\">\r\n                                <i class=\"fa fa-users\"></i>\r\n                                <span>{{participants.length}}</span>\r\n                            </div>\r\n                            <!--                        <ul>-->\r\n                            <!--                            <li *ngFor=\"let participant of participants\">{{participant}}</li>-->\r\n                            <!--                        </ul>-->\r\n\r\n                            <div id=\"share-wrap\" (click)=\"openSocialShareModal()\">\r\n                                <i class=\"fas fa-share-alt\"></i>\r\n                                <p>Share</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        <h3>{{videoSettings.name}}</h3>\r\n                        <div class=\"details-row\" *ngIf=\"videoId\">\r\n                            <span class=\"watchers-count\">{{participants.length}} watching now</span>\r\n                            <span class=\"dot\">&middot;</span>\r\n                            <span class=\"date\">Started streaming {{videoSettings.created_at|dateFromNow}}</span>\r\n                        </div>\r\n                        <span class=\"live-now\" *ngIf=\"videoId\">Live</span>\r\n                        <!--                        <p>-->\r\n                        <!--                            <span>{{participants.length}} users</span>-->\r\n                        <!--                        </p>-->\r\n                    </div>\r\n\r\n\r\n                </div>\r\n                <div id=\"channel-info\">\r\n                    <div>\r\n                        <img class=\"avatar\" id=\"channel-avatar\"\r\n                             [src]=\"channelInfo.avatar|getImgPath: 'images'\">\r\n                    </div>\r\n                    <div>\r\n                        <p id=\"channel-name\">{{channelInfo.name}}</p>\r\n                        <p class=\"subscribers-count\">{{channelInfo.subscribers_count + ' subscriber' + (channelInfo.subscribers_count === 1 ? '' : 's')}} </p>\r\n                    </div>\r\n                </div>\r\n                <p *ngIf=\"streamDestroyed\">Stream destroyed.</p>\r\n            </ng-container>\r\n        </div>\r\n        <app-chat-box *ngIf=\"videoId\" [openViduToken]=\"openViduToken\" [session]=\"session\"\r\n                      [videoRecordingState]=\"recordingState\" [messages]=\"messages\"\r\n                      [videoId]=\"videoId\" (sendMessage)=\"sendMessage($event)\"></app-chat-box>\r\n    </ng-container>\r\n\r\n\r\n    <p *ngIf=\"!videoFound && !loader.dataLoading\">Video streaming session is not found.</p>\r\n\r\n    <ng-container *ngIf=\"!openViduToken && !loader.dataLoading && videoFound\">\r\n        <p>The session does not exist.</p>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"!streamCreated && !loader.dataLoading && videoFound\">\r\n        <p>There was a problem creating the video stream.</p>\r\n    </ng-container>\r\n</div>\r\n","import {AfterViewInit, Component, ElementRef, HostListener, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {ConnectionEvent, OpenVidu, Publisher, Session, StreamEvent, StreamManager, Subscriber} from 'openvidu-browser';\r\nimport {GetAuthUserPipe} from '@shared/pipes/get-auth-user.pipe';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {OpenviduService} from '@core/services/openvidu.service';\r\nimport {SubjectService} from '@core/services/subject.service';\r\nimport {LoaderService} from '@core/services/loader.service';\r\nimport {VideoService} from '@core/services/video.service';\r\nimport {ChatService} from '@core/services/chat.service';\r\nimport {ChatBoxComponent} from '@shared/components/chat-box/chat-box.component';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport { SocialShareDialogComponent } from '@core/components/modals/social-share-dialog/social-share-dialog.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { GetUriPartsPipe } from '@shared/pipes/get-uri-parts.pipe';\r\n\r\n@Component({\r\n    selector: 'app-join-video-streaming',\r\n    templateUrl: './join-video-streaming.component.html',\r\n    styleUrls: ['./join-video-streaming.component.scss']\r\n})\r\nexport class JoinVideoStreamingComponent implements OnInit, OnDestroy {\r\n    recordingState = 'started';\r\n    videoId;\r\n    videoFound;\r\n\r\n    // OpenVidu objects\r\n    OV: OpenVidu;\r\n    openViduToken;\r\n    session: Session;\r\n    sessionData = {sessionName: '', myUserName: ''};\r\n    streamCreated;\r\n    streamDestroyed = false;\r\n    publisher: Publisher;\r\n\r\n    authUser;\r\n    participants = [];\r\n    subscribers = [];\r\n    tags = [];\r\n\r\n    mainStreamManager: StreamManager;\r\n    messages = [];\r\n\r\n    videoSettings;\r\n    channelInfo;\r\n    shareUrl;\r\n    @ViewChild(ChatBoxComponent) chatBox: ChatBoxComponent;\r\n\r\n    constructor(\r\n        private getAuthUser: GetAuthUserPipe,\r\n        private route: ActivatedRoute,\r\n        private openViduService: OpenviduService,\r\n        private videoService: VideoService,\r\n        private chatService: ChatService,\r\n        private subject: SubjectService,\r\n        public loader: LoaderService,\r\n        private toastr: ToastrService,\r\n        private dialog: MatDialog,\r\n        private elRef: ElementRef,\r\n        private getUrlParts: GetUriPartsPipe\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.authUser = this.getAuthUser.transform();\r\n        this.getSessionData();\r\n        this.getRecordingState();\r\n        this.joinSession();\r\n        const {hostName} = this.getUrlParts.transform(window.location.href);\r\n        this.shareUrl = `${hostName}users/video/watch?session=${this.sessionData.sessionName}&publisher=${this.authUser.username}&id=${this.videoId}`;\r\n        this.subject.publish.subscribe((ev) => {\r\n            console.log(ev);\r\n            this.publisher.publishAudio(ev);\r\n        });\r\n    }\r\n\r\n    openSocialShareModal() {\r\n        console.log('modal');\r\n        this.dialog.open(SocialShareDialogComponent, {width: '500px', height: '400px', data: {shareUrl: this.shareUrl}})\r\n            .afterClosed().subscribe(dt => {\r\n        });\r\n    }\r\n\r\n\r\n    @HostListener('window:beforeunload')\r\n    beforeunloadHandler() {\r\n        // On window closed leave session\r\n        this.leaveSession();\r\n    }\r\n\r\n    getRecordingState() {\r\n        this.subject.getVideoRecordingState().subscribe(data => {\r\n            // console.log(data)\r\n            if (data.recordingState === 'finished') {\r\n                this.leaveSession();\r\n            }\r\n\r\n            if (!data.viaSocket) {\r\n                // this.sendRecordingState(data.recording);\r\n            }\r\n        });\r\n    }\r\n\r\n    getSessionData() {\r\n        const params: any = this.route.snapshot.queryParams;\r\n        if (params && params.hasOwnProperty('session')) {\r\n            this.sessionData.sessionName = params.session;\r\n            this.sessionData.myUserName = this.authUser.username;\r\n            this.recordingState = 'started';\r\n            this.videoId = params.id;\r\n            this.videoService.getVideoById({id: this.videoId}).subscribe(dt => {\r\n                this.videoFound = dt?.status === 'live';\r\n                this.videoSettings = dt;\r\n                this.channelInfo = dt?.channel;\r\n                console.log('video!!!', dt)\r\n            });\r\n        }\r\n    }\r\n\r\n    joinSession() {\r\n        this.OV = new OpenVidu();\r\n\r\n        this.session = this.OV.initSession();\r\n        this.loader.dataLoading = true;\r\n        this.getStreamEvents();\r\n\r\n        // console.log(this.session)\r\n\r\n        this.openViduService.getToken({\r\n            email: this.authUser.email,\r\n            sessionName: this.sessionData.sessionName,\r\n            role: 'SUBSCRIBER'\r\n        }).subscribe((token: any) => {\r\n            // const {token} = data;\r\n            this.openViduToken = token;\r\n            this.receiveMessage();\r\n            this.recordingState = 'started';\r\n            this.receiveRecordingState();\r\n\r\n\r\n            // console.log(token)\r\n            // console.log({...this.sessionData, avatar: this.authUser.avatar})\r\n            this.session.connect(token, {\r\n                clientData: this.sessionData,\r\n                avatar: this.authUser.avatar,\r\n                from_user: this.authUser\r\n            })\r\n                .then(() => {\r\n                    this.loader.dataLoading = false;\r\n                }).catch((err) => {\r\n                this.toastr.error('There was a problem white loading streaming session')\r\n                // console.log(err)\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    getStreamEvents() {\r\n        this.session.on('streamCreated', (event: StreamEvent) => {\r\n            this.streamCreated = true;\r\n            const video = this.elRef.nativeElement.querySelector('video');\r\n            // const video = undefined;\r\n            // this.streamCreated = true;\r\n            // console.log('stream created', video);\r\n            // console.log(event.stream);\r\n\r\n            const subscriber: Subscriber = this.session.subscribe(event.stream, undefined);\r\n            this.subscribers.push(subscriber);\r\n            // console.log(this.subscribers)\r\n        });\r\n\r\n        this.session.on('connectionCreated', (event: ConnectionEvent) => {\r\n            console.log('connection created!!!');\r\n            const connection = JSON.parse(event.connection.data.replace(/}%\\/%{/g, ','));\r\n            // console.log(event.connection.data);\r\n            // console.log('RECORDING STATE' + this.recordingState)\r\n            // this.toastr.success(from.clientData.myUserName + 'joined the session');\r\n            this.participants.push(connection.clientData.myUserName);\r\n            this.videoService.updateParticipantsCount({\r\n                video_id: this.videoId, participants: this.participants.length\r\n            })\r\n                .subscribe();\r\n        });\r\n\r\n        this.session.on('connectionDestroyed', (event: ConnectionEvent) => {\r\n            // console.log('connection destroyed!!!');\r\n            const connection = JSON.parse(event.connection.data.replace(/}%\\/%{/g, ','));\r\n            this.participants = this.participants.filter(p => p !== connection.clientData.myUserName);\r\n        });\r\n\r\n        // On every Stream destroyed...\r\n        this.session.on('streamDestroyed', (event: StreamEvent) => {\r\n\r\n            // console.log('stream destroyed!!!!!');\r\n            // console.log(event);\r\n\r\n            this.streamDestroyed = true;\r\n            this.openViduToken = null;\r\n\r\n            // Remove the stream from 'subscribers' array\r\n            // this.deleteSubscriber(event.stream.streamManager);\r\n            this.leaveSession();\r\n        });\r\n    }\r\n\r\n\r\n    receiveRecordingState() {\r\n        // console.log('receive recording!!!!')\r\n        this.session.on('signal:recording-state', (event: any) => {\r\n            const obj = {event, ...{socket: true}};\r\n            this.recordingState = !!event.data ? 'started' : 'finished';\r\n            if (this.recordingState === 'finished') {\r\n                this.tags = [];\r\n            }\r\n\r\n            // console.log(obj);\r\n            // console.log(this.recordingState);\r\n            // console.log('received');\r\n            this.subject.setVideoRecordingState({recordingState: this.recordingState, ...{viaSocket: true}});\r\n        });\r\n    }\r\n\r\n    receiveMessage() {\r\n        this.session.on('signal:my-chat', (event: any) => {\r\n            this.subject.setMsgData({message: event.data, from: event.from.data});\r\n            // console.log(event.data); // Message\r\n            // console.log(event.from); // Connection object of the sender\r\n            // console.log(event.type); // The type of message (\"my-chat\")\r\n        });\r\n    }\r\n\r\n    sendMessage(e) {\r\n        console.log(e)\r\n        this.session.signal({\r\n            data: e.message,  // Any string (optional)\r\n            to: [],                     // Array of Connection objects (optional. Broadcast to everyone if empty)\r\n            type: 'my-chat'             // The type of message (optional)\r\n        })\r\n            .then(() => {\r\n                this.chatService.saveVideoMessage({video_id: this.videoId, ...e}).subscribe(dt => {\r\n                    this.messages = dt;\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n\r\n    updateMainStreamManager(streamManager: StreamManager) {\r\n        this.mainStreamManager = streamManager;\r\n    }\r\n\r\n    leaveSession() {\r\n        if (this.session) {\r\n            this.session.disconnect();\r\n        }\r\n\r\n        if (this.sessionData) {\r\n\r\n            this.openViduService.leaveSession({\r\n                token: this.openViduToken,\r\n                sessionName: this.sessionData.sessionName,\r\n                role: 'subscriber'\r\n            }).subscribe(() => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        // On component destroyed leave session\r\n        this.leaveSession();\r\n    }\r\n\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-subscriber-flow',\r\n  templateUrl: './subscriber-flow.component.html',\r\n  styleUrls: ['./subscriber-flow.component.scss']\r\n})\r\nexport class SubscriberFlowComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-join-video-streaming></app-join-video-streaming>\r\n","import { Injectable } from '@angular/core';\r\nimport { CanDeactivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport {VideoComponent} from '@app/users/openvidu-stuff/publisher-flow/video/video.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DoNotLeavePageGuard implements CanDeactivate<VideoComponent> {\r\n  canDeactivate(\r\n    component: VideoComponent,\r\n    currentRoute: ActivatedRouteSnapshot,\r\n    currentState: RouterStateSnapshot,\r\n    nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n      if (component.recordingState === 'started') {\r\n          component.alertOfLeaving();\r\n          return false;\r\n      }\r\n\r\n      return true;\r\n  }\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {UserStoreService} from '@core/services/stores/user-store.service';\r\n\r\n@Component({\r\n    selector: 'app-show-notifications',\r\n    templateUrl: './show-notifications.component.html',\r\n    styleUrls: ['./show-notifications.component.scss']\r\n})\r\nexport class ShowNotificationsComponent implements OnInit {\r\n    authUser;\r\n\r\n    constructor(private userStore: UserStoreService) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.userStore.authUser$.subscribe(user => {\r\n            this.authUser = user;\r\n        });\r\n    }\r\n\r\n}\r\n","<app-notifications-list [notificationsCategory]=\"'new'\" [authUser]=\"authUser\"></app-notifications-list>\r\n<app-notifications-list [notificationsCategory]=\"'early'\" [authUser]=\"authUser\"></app-notifications-list>\r\n","<div id=\"profile-wrap\" *ngIf=\"profileUser\">\r\n    <table>\r\n        <tr>\r\n            <td class=\"myProfile\" [routerLink]=\"'/users/'+authUser?.username\" [routerLinkActive]=\"'active'\">My Profile</td>\r\n            <td class=\"myChannel\" [routerLink]=\"'/channels/'+authUser?.username\">My Channel</td>\r\n        </tr>\r\n    </table>\r\n    <div id=\"profile-cover-image\">\r\n        <img [src]=\"profileUser?.cover|getImgPath:'images'\">\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div id=\"user-details\">\r\n            <div class=\"details-row\">\r\n                <div id=\"details-block\">\r\n                    <div class=\"avatar-container\">\r\n                        <label for=\"\">\r\n                            <img class=\"avatar\" style=\"cursor: unset\" id=\"profile-image\"\r\n                                 [src]=\"profileUser?.avatar|getImgPath: 'images'\">\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <strong id=\"user-full-name\">{{profileUser?.first_name + ' ' + profileUser?.last_name}}</strong>\r\n                        <p class=\"connections-count\">{{connectionsCount + ' connection' + (connectionsCount === 1 ? '' : 's')}} </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"profile-actions-block\">\r\n\r\n                    <ng-container *ngIf=\"!ownProfile\">\r\n\r\n                        <a class=\"add-friend-btn\" (click)=\"connectWithUser()\"\r\n                           *ngIf=\"usersConnectionStatus==='idle'\">\r\n                            <mat-icon>person_add</mat-icon>\r\n                            <span>Connect</span>\r\n                        </a>\r\n\r\n                        <a class=\"waiting-for-confirmation-btn\"\r\n                           *ngIf=\"usersConnectionStatus==='pending'\" [matMenuTriggerFor]=\"pendingMenu\">\r\n                            <mat-icon>check</mat-icon>\r\n                            <span>Waiting for confirmation</span>\r\n                        </a>\r\n\r\n                        <mat-menu #pendingMenu=\"matMenu\">\r\n                            <button mat-menu-item (click)=\"cancelUsersConnecting(usersConnection)\">\r\n                                <mat-icon>close</mat-icon>\r\n                                <span>Cancel</span>\r\n                            </button>\r\n                        </mat-menu>\r\n\r\n                        <button class=\"users-connected-btn\" *ngIf=\"usersConnectionStatus==='connected' \"\r\n                                [matMenuTriggerFor]=\"menu\">\r\n                            <mat-icon>check</mat-icon>\r\n                            <span>Connected</span>\r\n                        </button>\r\n\r\n                        <mat-menu #menu=\"matMenu\">\r\n                            <button mat-menu-item (click)=\"disconnectUser()\">\r\n                                <mat-icon>close</mat-icon>\r\n                                <span>Disconnect</span>\r\n                            </button>\r\n                        </mat-menu>\r\n\r\n                        <a (click)=\"toggleBottomChatBox()\" class=\"toggle-chat-box-btn\" *ngIf=\"isMessageBtnShown()\">\r\n                            <mat-icon>chat</mat-icon>\r\n                            <span>Message</span>\r\n                        </a>\r\n                    </ng-container>\r\n\r\n                    <button type=\"button\" id=\"edit-profile\" *ngIf=\"ownProfile\"\r\n                            [routerLink]=\"'/users/'+authUser.username+'/edit'\">\r\n                        <mat-icon>edit</mat-icon>\r\n                        Edit profile\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"details-row\">\r\n\r\n            </div>\r\n\r\n<!--            <div [hidden]=\"true\">-->\r\n<!--                <input type=\"file\" id=\"profile-image-input\"/>-->\r\n<!--                <input type=\"hidden\">-->\r\n<!--            </div>-->\r\n        </div>\r\n\r\n        <div id=\"group-actions\">\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div id=\"group-tabs\">\r\n            <ul class=\"nav-tabs\">\r\n                <li class=\"nav-item\" *ngFor=\"let tab of profileTabs\" [hidden]=\"!ownProfile && tab.ownPageOnly\">\r\n                    <a class=\"nav-link\" [routerLink]=\"'/users/'+this.profileUser.username+'/tab/'+tab.link\"\r\n                       routerLinkActive=\"active\"\r\n                    >{{tab.name}}</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div id=\"search-in-current-tab\">\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"tab-content\" *ngIf=\"authUser && connections.length > 0 && profileUserStocks\">\r\n        <router-outlet (activate)=\"onOutletLoaded($event)\"></router-outlet>\r\n    </div>\r\n</div>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {UserStoreService} from '@core/services/stores/user-store.service';\r\nimport {Subscription} from 'rxjs';\r\nimport {UsersMessagesSubjectService} from '@core/services/stores/users-messages-subject.service';\r\nimport {PROFILE_PAGE_TABS} from '@core/constants/global';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {UsersService} from '@core/services/users.service';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\nimport {GroupsMessagesSubjectService} from '@core/services/stores/groups-messages-subject.service';\r\nimport {StocksService} from '@core/services/stocks.service';\r\n\r\n@Component({\r\n    selector: 'app-show-profile',\r\n    templateUrl: './show-profile.component.html',\r\n    styleUrls: ['./show-profile.component.scss']\r\n})\r\nexport class ShowProfileComponent implements OnInit, OnDestroy {\r\n    authUser;\r\n    profileUser;\r\n    profileTabs = PROFILE_PAGE_TABS;\r\n    subscriptions: Subscription[] = [];\r\n\r\n    connectionsCount = 0;\r\n    connections = [];\r\n    connectionRequests = [];\r\n    passedUsername: string;\r\n\r\n    ownProfile = false;\r\n\r\n\r\n    usersConnection;\r\n    usersConnectionStatus = 'idle';\r\n    attemptedToConnect = false;\r\n    isBlocked = false;\r\n\r\n    profileUserStocks;\r\n\r\n    constructor(\r\n        private userStore: UserStoreService,\r\n        private usersConnectionsStore: UsersMessagesSubjectService,\r\n        private groupsMessagesStore: GroupsMessagesSubjectService,\r\n        private usersService: UsersService,\r\n        private socketService: SocketIoService,\r\n        private stocksService: StocksService,\r\n        private route: ActivatedRoute,\r\n        public router: Router\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.passedUsername = this.route.snapshot.params.username;\r\n        this.trackAuthUserChanges();\r\n        this.getUserInfo();\r\n        if (this.ownProfile) {\r\n            this.trackUserConnections();\r\n        }\r\n    }\r\n\r\n    trackAuthUserChanges() {\r\n        this.subscriptions.push(this.userStore.authUser$.subscribe(user => {\r\n            this.authUser = user;\r\n        }));\r\n    }\r\n\r\n    getUserInfo() {\r\n        this.ownProfile = this.authUser.username === this.passedUsername;\r\n        if (this.passedUsername) {\r\n            this.subscriptions.push(this.usersService.getUserInfo({\r\n                username: this.passedUsername,\r\n                own_channel: this.ownProfile\r\n            }).subscribe(dt => {\r\n                if (dt) {\r\n                    this.profileUser = dt;\r\n                    this.checkIfUsersConnected();\r\n                    this.getAcceptedDeclinedRequests();\r\n                    this.getConnectWithUser();\r\n                    this.getDisconnectUsers();\r\n                    this.cancelledUsersConnecting();\r\n                    this.getBlockUnblockUser();\r\n                    this.getConnectionsChanges();\r\n\r\n                    if (!this.ownProfile) {\r\n                        this.getProfileUserStocks();\r\n                        this.connectionsCount = this.profileUser.users_connections.filter(uc => uc.confirmed).length;\r\n                        console.log(this.profileUser)\r\n                    } else {\r\n                        this.profileUserStocks = [];\r\n                    }\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    trackUserConnections() {\r\n        this.subscriptions.push(this.usersConnectionsStore.usersMessages$.subscribe(dt => {\r\n            this.connectionsCount = dt.filter(d => d.users_connections[0].confirmed === 1).length;\r\n            this.connections = dt.filter(d => d.users_connections[0].confirmed === 1);\r\n            this.connectionRequests = dt.filter(d => d.users_connections[0].confirmed === 0);\r\n        }));\r\n    }\r\n\r\n    getConnectionsChanges() {\r\n        this.subscriptions.push(this.usersConnectionsStore.usersMessages$.subscribe((dt: any) => {\r\n            // console.log('connection changed!!!', dt, this.profileUser.id);\r\n            this.usersConnection = dt.find(d => d.id === this.profileUser.id)?.users_connections[0];\r\n            // console.log(this.usersConnection);\r\n            //\r\n            //     if (dt.filter(d => d.id === this.channelUser.id)) {\r\n            //         this.usersConnectionStatus = 'connected';\r\n            //         this.isBlocked = false;\r\n            //     }\r\n        }));\r\n    }\r\n\r\n    getAcceptedDeclinedRequests() {\r\n        this.subscriptions.push(this.socketService.acceptedConnection().subscribe((dt: any) => {\r\n            const {notification, profile_user_contacts} = dt;\r\n            if ((notification.to_user.id === this.authUser.id && notification.from_user.id === this.profileUser.id)\r\n                || (notification.to_user.id === this.profileUser.id && notification.from_user.id === this.authUser.id)) {\r\n                this.usersConnectionStatus = 'connected';\r\n                this.isBlocked = false;\r\n            }\r\n\r\n            if (notification.from_user.id !== this.authUser.id) {\r\n                this.connectionsCount = profile_user_contacts.length;\r\n            }\r\n        }));\r\n\r\n        this.subscriptions.push(this.socketService.declinedConnection().subscribe(() => {\r\n            console.log('declined');\r\n            this.usersConnectionStatus = 'idle';\r\n        }));\r\n    }\r\n\r\n    checkIfUsersConnected() {\r\n        this.usersService.checkIfUsersConnected({\r\n            user_id: this.authUser.id,\r\n            channel_user_id: this.profileUser.id\r\n        }).subscribe(dt => {\r\n            this.usersConnection = dt;\r\n            if (dt) {\r\n                this.connections = dt.connection_users.filter(cu => cu.id !== this.authUser.id);\r\n                this.usersConnectionStatus = dt.confirmed ? 'connected' : 'pending';\r\n                // console.log(this.usersConnectionStatus)\r\n                this.isBlocked = !!dt.is_blocked;\r\n            }\r\n        });\r\n    }\r\n\r\n    connectWithUser() {\r\n        this.attemptedToConnect = true;\r\n        this.usersConnectionStatus = 'pending';\r\n        this.socketService.connectWithUser({\r\n            from_user: this.authUser,\r\n            to_user: this.profileUser,\r\n            msg: `<strong>${this.authUser.first_name + ' ' + this.authUser.last_name}</strong>\r\n                has sent a connection request to you`\r\n        });\r\n    }\r\n\r\n    getConnectWithUser() {\r\n        this.socketService.getConnectWithUser().subscribe((dt: any) => {\r\n            this.usersConnection = dt.connection;\r\n        });\r\n    }\r\n\r\n    cancelUsersConnecting(connection) {\r\n        console.log(connection)\r\n        this.socketService.cancelUsersConnecting({\r\n            authUser: this.authUser,\r\n            channelUser: this.profileUser,\r\n            connection_id: connection.id\r\n        });\r\n    }\r\n\r\n    cancelledUsersConnecting() {\r\n        this.socketService.cancelledUsersConnecting().subscribe(dt => {\r\n            console.log(dt, 'cancelled');\r\n            this.usersConnectionStatus = 'idle';\r\n        });\r\n    }\r\n\r\n    disconnectUser() {\r\n        console.log(this.usersConnection)\r\n        this.socketService.disconnectUsers({\r\n            to_user: this.profileUser,\r\n            from_user: this.authUser,\r\n            connection_id: this.usersConnection.id,\r\n            msg: `<strong>${this.authUser.first_name} ${this.authUser.last_name}</strong> has broken the connection between you two`,\r\n        });\r\n        this.usersConnectionStatus = 'idle';\r\n    }\r\n\r\n    getDisconnectUsers() {\r\n        this.subscriptions.push(this.socketService.getDisconnectUsers().subscribe((dt: any) => {\r\n            const {to_user, profile_user_contacts} = dt;\r\n            console.log(to_user.users_connections)\r\n            this.connectionsCount = profile_user_contacts.length;\r\n            this.usersConnectionStatus = 'idle';\r\n        }));\r\n    }\r\n\r\n    getBlockUnblockUser() {\r\n        this.subscriptions.push(this.socketService.getBlockUnblockUser().subscribe((dt: any) => {\r\n            console.log('get block/unblock', dt)\r\n            this.isBlocked = true;\r\n        }));\r\n    }\r\n\r\n    isMessageBtnShown() {\r\n        return /connected|test/.test(this.usersConnectionStatus) && !this.isBlocked;\r\n    }\r\n\r\n    toggleBottomChatBox() {\r\n        const foundUserMessages = this.usersConnectionsStore.usersMessages.find(um => um.id === this.profileUser.id);\r\n        if (foundUserMessages) {\r\n            this.usersConnectionsStore.showBottomChatBox = true;\r\n            this.groupsMessagesStore.showBottomChatBox = false;\r\n            this.usersConnectionsStore.changeUser(foundUserMessages);\r\n        }\r\n    }\r\n\r\n\r\n    getProfileUserStocks() {\r\n        this.stocksService.getUserStocks({user_id: this.profileUser.id}).subscribe(dt => {\r\n            this.profileUserStocks = dt?.user_stocks;\r\n        });\r\n    }\r\n\r\n    onOutletLoaded(component) {\r\n        if (this.connections) {\r\n            component.connections = this.connections;\r\n            component.connectionRequests = this.connectionRequests;\r\n            component.authUser = this.authUser;\r\n            component.profileUser = this.profileUser;\r\n            if (this.profileUserStocks) {\r\n                component.profileUserStocks = this.profileUserStocks;\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n}\r\n","<div class=\"connections-container\">\r\n    <ng-container *ngFor=\"let user of connections\">\r\n        <div class=\"connection\">\r\n            <div class=\"left\">\r\n                <div class=\"img user-avatar\">\r\n                    <img class=\"avatar\" [src]=\"user.avatar|getImgPath: 'user_avatars'\">\r\n                </div>\r\n                <div class=\"text\">\r\n                    <div class=\"name\"\r\n                         [routerLink]=\"'/users/'+user.username\">{{user.first_name + ' ' + user.last_name}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"right\">\r\n                <button [matMenuTriggerFor]=\"menu\" class=\"show-actions\">\r\n                    <i class=\"fas fa-ellipsis-h\"></i>\r\n                </button>\r\n                <mat-menu #menu=\"matMenu\">\r\n\r\n                    <button mat-menu-item [disableRipple]=\"true\">\r\n                        <img class=\"iconDis\" src=\"assets/img/iconDis.png\" alt=\"\">\r\n                        Disconnection\r\n                    </button>\r\n\r\n                </mat-menu>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</div>\r\n","import {Component, Input, OnInit} from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-connections-tab',\r\n    templateUrl: './connections-tab.component.html',\r\n    styleUrls: ['./connections-tab.component.scss']\r\n})\r\nexport class ConnectionsTabComponent implements OnInit {\r\n    @Input() authUser;\r\n    @Input() connections;\r\n\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // console.log(this.connections)\r\n    }\r\n\r\n\r\n}\r\n","<div class=\"connection-requests-container\">\r\n    <ng-container *ngFor=\"let request of connectionRequests\">\r\n        <div class=\"connection\">\r\n            <div class=\"left\">\r\n                <div class=\"img user-avatar\">\r\n                    <img class=\"avatar\" [src]=\"request.avatar|getImgPath: 'user_avatars'\">\r\n                </div>\r\n                <div class=\"text\">\r\n                    <div class=\"name\">{{request.first_name + ' ' + request.last_name}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"right\">\r\n                <div class=\"connection-actions\">\r\n                    <button class=\"confirm-connection-btn\" (click)=\"confirmConnection(request)\">\r\n                        <span>Confirm</span>\r\n                    </button>\r\n                    <button class=\"decline-connection-btn\" (click)=\"declineConnection(request)\">\r\n                        <strong>Decline</strong>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</div>\r\n","import {Component, Input, OnInit} from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-connection-requests-tab',\r\n    templateUrl: './connection-requests-tab.component.html',\r\n    styleUrls: ['./connection-requests-tab.component.scss']\r\n})\r\nexport class ConnectionRequestsTabComponent implements OnInit {\r\n    @Input() authUser;\r\n    @Input() connectionRequests = [];\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // console.log(this.connectionRequests)\r\n    }\r\n\r\n    confirmConnection(connection) {\r\n\r\n    }\r\n\r\n    declineConnection(connection) {\r\n\r\n    }\r\n\r\n}\r\n","<!--<mat-spinner *ngIf=\"stocksLoading==='loading'\" [diameter]=\"20\"></mat-spinner>-->\r\n<small class=\"error\" *ngIf=\"userStocks?.length === 0\">\r\n    No stocks added to watchlist</small>\r\n<app-stock-tiles [stocks]=\"filteredStocks\" [userStocks]=\"userStocks\" *ngIf=\"userStocks?.length > 0\"\r\n                 (updatedStocksList)=\"saveUpdatedStocksList($event)\" [followingAllowed]=\"true\"\r\n                 (updatedStocksPriority)=\"updateStocksPriority($event)\"\r\n></app-stock-tiles>\r\n","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {ProfileFormComponent} from './show-profile/profile-form/profile-form.component';\r\nimport {VideoComponent} from '@app/users/openvidu-stuff/publisher-flow/video/video.component';\r\nimport {VideoLibraryComponent} from '@app/users/openvidu-stuff/openvidu-test/video-library/video-library.component';\r\nimport {PublisherFlowComponent} from '@app/users/openvidu-stuff/publisher-flow/publisher-flow.component';\r\nimport {SubscriberFlowComponent} from '@app/users/openvidu-stuff/subscriber-flow/subscriber-flow.component';\r\nimport {DoNotLeavePageGuard} from '@core/guards/do-not-leave-page.guard';\r\nimport {ShowNotificationsComponent} from '@app/users/show-notifications/show-notifications.component';\r\nimport {ShowProfileComponent} from '@app/users/show-profile/show-profile.component';\r\nimport {ConnectionsTabComponent} from '@app/users/show-profile/connections-tab/connections-tab.component';\r\nimport {ConnectionRequestsTabComponent} from '@app/users/show-profile/connection-requests-tab/connection-requests-tab.component';\r\nimport {WatchlistTabComponent} from '@app/users/show-profile/watchlist-tab/watchlist-tab.component';\r\nimport {CardsTabComponent} from '@app/users/show-profile/cards-tab/cards-tab.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: 'video',\r\n        children: [\r\n            {\r\n                path: 'check-streaming-requirements',\r\n                component: PublisherFlowComponent,\r\n                data: {\r\n                    title: 'Streaming requirements check',\r\n                }\r\n            },\r\n            {\r\n                path: 'start-live-video',\r\n                component: PublisherFlowComponent,\r\n                data: {\r\n                    title: 'Devices and requirements check',\r\n                }\r\n            },\r\n            {\r\n                path: 'publish',\r\n                component: VideoComponent,\r\n                canDeactivate: [DoNotLeavePageGuard],\r\n                data: {\r\n                    title: 'Start live streaming',\r\n                }\r\n            },\r\n            {\r\n                path: 'watch',\r\n                component: SubscriberFlowComponent,\r\n                data: {\r\n                    title: 'Watch live stream',\r\n                }\r\n            },\r\n            {\r\n                path: 'openvidu-test',\r\n                component: VideoLibraryComponent\r\n            },\r\n\r\n        ]\r\n    },\r\n    {\r\n        path: 'notifications',\r\n        component: ShowNotificationsComponent\r\n    },\r\n\r\n\r\n    {\r\n        path: ':username',\r\n        children: [\r\n            {\r\n                path: '',\r\n                component: ShowProfileComponent\r\n            },\r\n            {\r\n                path: 'edit',\r\n                component: ProfileFormComponent,\r\n                pathMatch: 'full',\r\n                data: {\r\n                    title: 'User profile-form',\r\n                }\r\n            },\r\n            {\r\n                path: 'tab',\r\n                component: ShowProfileComponent,\r\n                children: [\r\n                    {path: 'watchlist', component: WatchlistTabComponent},\r\n                    {path: 'connections', component: ConnectionsTabComponent},\r\n                    {path: 'requests', component: ConnectionRequestsTabComponent},\r\n                    {path: 'cards', component: CardsTabComponent},\r\n                ]\r\n            },\r\n        ]\r\n    },\r\n\r\n];\r\n\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class UsersRoutingModule {\r\n}\r\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\r\nimport {User} from '@shared/models/user';\r\nimport {Subscription} from 'rxjs';\r\nimport {StocksStoreService} from '@core/services/stores/stocks-store.service';\r\nimport {filter} from 'rxjs/operators';\r\nimport {StocksService} from '@core/services/stocks.service';\r\n\r\n@Component({\r\n    selector: 'app-watchlist-tab',\r\n    templateUrl: './watchlist-tab.component.html',\r\n    styleUrls: ['./watchlist-tab.component.scss']\r\n})\r\nexport class WatchlistTabComponent implements OnInit, OnDestroy {\r\n    @Input() authUser: User;\r\n    @Input() profileUser: User;\r\n    @Input() profileUserStocks;\r\n\r\n    subscriptions: Subscription[] = [];\r\n\r\n    userStocks = [];\r\n    filteredStocks = [];\r\n    stocksLoading = false;\r\n\r\n    constructor(\r\n        private stocksStore: StocksStoreService,\r\n        private stocksService: StocksService,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.authUser.id === this.profileUser.id) {\r\n            this.trackUserStocks();\r\n        } else {\r\n            this.getProfileUserStocks();\r\n        }\r\n    }\r\n\r\n    trackUserStocks() {\r\n        this.stocksLoading = true;\r\n        this.subscriptions.push(\r\n            this.stocksStore.userStocks$\r\n                .pipe(filter(d => !d.initial))\r\n                .subscribe(dt => {\r\n                    this.userStocks = dt.stocks;\r\n                    this.filteredStocks = this.userStocks;\r\n                    this.stocksLoading = false;\r\n                }));\r\n    }\r\n\r\n    getProfileUserStocks() {\r\n        console.log('OK', this.profileUserStocks)\r\n        this.userStocks = this.profileUserStocks;\r\n        this.filteredStocks = this.userStocks;\r\n        this.stocksLoading = false;\r\n    }\r\n\r\n    saveUpdatedStocksList(stocks) {\r\n        // this.stocksLoading = 'loading';\r\n        this.subscriptions.push(this.stocksService.updateFollowedStocks({\r\n            user_id: this.authUser.id,\r\n            ...{stocks}\r\n        }).subscribe(dt => {\r\n            this.userStocks = dt?.user_stocks || [];\r\n            this.stocksStore.setUserStocks({stocks: this.userStocks, empty: this.userStocks.length === 0});\r\n            // this.stocksLoading = 'finished';\r\n            // this.cdr.detectChanges();\r\n        }));\r\n    }\r\n\r\n    updateStocksPriority(e) {\r\n        const sendData = {\r\n            order_type: 'custom',\r\n            rows: JSON.stringify(e),\r\n            user_id: this.authUser.id\r\n        };\r\n\r\n        this.stocksStore.setUserStocks({stocks: e, dragdrop: true});\r\n        this.stocksService.updateUserStocksPriority(sendData).subscribe(dt => {\r\n            localStorage.setItem('token', (dt.hasOwnProperty('token') ? dt.token : ''));\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.forEach(s => s.unsubscribe());\r\n    }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-cards-tab',\r\n  templateUrl: './cards-tab.component.html',\r\n  styleUrls: ['./cards-tab.component.scss']\r\n})\r\nexport class CardsTabComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>cards-tab works!</p>\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {UsersRoutingModule} from './users-routing.module';\r\nimport {ProfileFormComponent} from './show-profile/profile-form/profile-form.component';\r\nimport {SharedModule} from '@shared/shared.module';\r\nimport {VideoComponent} from '@app/users/openvidu-stuff/publisher-flow/video/video.component';\r\nimport {PublisherComponent} from './openvidu-stuff/openvidu-test/publisher/publisher.component';\r\nimport {SubscriberComponent} from './openvidu-stuff/openvidu-test/subscriber/subscriber.component';\r\nimport {UserVideoComponent} from './openvidu-stuff/subscriber-flow/user-video/user-video.component';\r\nimport {OvVideoComponent} from './openvidu-stuff/subscriber-flow/ov-video/ov-video.component';\r\nimport {VideoLibraryComponent} from './openvidu-stuff/openvidu-test/video-library/video-library.component';\r\nimport {OpenviduSessionModule} from 'openvidu-angular';\r\nimport {JoinStreamingFormComponent} from './openvidu-stuff/openvidu-test/join-streaming-form/join-streaming-form.component';\r\nimport {HomeComponent} from '@app/users/home/home.component';\r\nimport {CheckStreamingRequirementsComponent} from './openvidu-stuff/publisher-flow/check-streaming-requirements/check-streaming-requirements.component';\r\nimport {PublisherFlowComponent} from './openvidu-stuff/publisher-flow/publisher-flow.component';\r\nimport {SubscriberFlowComponent} from './openvidu-stuff/subscriber-flow/subscriber-flow.component';\r\nimport {CollectStreamingDetailsFormComponent} from './openvidu-stuff/publisher-flow/collect-streaming-details-form/collect-streaming-details-form.component';\r\nimport {JoinVideoStreamingComponent} from './openvidu-stuff/subscriber-flow/join-video-streaming/join-video-streaming.component';\r\nimport { PaymentSuccessComponent } from './payment-success/payment-success.component';\r\nimport { PaymentCancelComponent } from './payment-cancel/payment-cancel.component';\r\nimport { ConnectionsTabComponent } from './show-profile/connections-tab/connections-tab.component';\r\nimport { ConnectionRequestsTabComponent } from './show-profile/connection-requests-tab/connection-requests-tab.component';\r\nimport {ShowNotificationsComponent} from '@app/users/show-notifications/show-notifications.component';\r\nimport { ShowProfileComponent } from './show-profile/show-profile.component';\r\nimport { WatchlistTabComponent } from './show-profile/watchlist-tab/watchlist-tab.component';\r\nimport { CardsTabComponent } from './show-profile/cards-tab/cards-tab.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ProfileFormComponent,\r\n        VideoComponent,\r\n        PublisherComponent,\r\n        SubscriberComponent,\r\n        UserVideoComponent,\r\n        OvVideoComponent,\r\n        HomeComponent,\r\n        VideoLibraryComponent,\r\n        JoinStreamingFormComponent,\r\n        CheckStreamingRequirementsComponent,\r\n        PublisherFlowComponent,\r\n        SubscriberFlowComponent,\r\n        CollectStreamingDetailsFormComponent,\r\n        JoinVideoStreamingComponent,\r\n        PaymentSuccessComponent,\r\n        PaymentCancelComponent,\r\n        ConnectionsTabComponent,\r\n        ConnectionRequestsTabComponent,\r\n        ShowNotificationsComponent,\r\n        ShowProfileComponent,\r\n        WatchlistTabComponent,\r\n        CardsTabComponent,\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        UsersRoutingModule,\r\n        OpenviduSessionModule,\r\n        SharedModule\r\n    ],\r\n    exports: []\r\n})\r\nexport class UsersModule {\r\n}\r\n"]}