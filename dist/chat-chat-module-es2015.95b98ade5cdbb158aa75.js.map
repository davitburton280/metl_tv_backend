{"version":3,"sources":["webpack:///src/app/chat/show-chatrooms/show-chatrooms.component.ts","webpack:///src/app/chat/show-chatrooms/show-chatrooms.component.html","webpack:///src/app/chat/show-messages/show-messages.component.html","webpack:///src/app/chat/chat-routing.module.ts","webpack:///src/app/chat/show-messages/show-messages.component.ts","webpack:///src/app/chat/chat.module.ts"],"names":["ShowChatroomsComponent","routes","path","component","data","title","ShowMessagesComponent","chatService","getAuthUser","socketService","subject","datePipe","groupBy","activeTab","groupsMessages","groupsLoaded","subscriptions","newMessagesCountInGroups","newMessagesCountInDirect","this","authUser","transform","tab","push","getGroupsMessages","user_id","id","blocked","subscribe","dt","newMessagesSource","filter","fm","new_messages_count","length","setNewMessagesSourceData","source","type","ChatRoutingModule","forChild","ChatModule"],"mappings":"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","file":"x","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-show-chatrooms',\r\n  templateUrl: './show-chatrooms.component.html',\r\n  styleUrls: ['./show-chatrooms.component.scss']\r\n})\r\nexport class ShowChatroomsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"chatrooms-list\">\r\n    <h1>Chat Rooms</h1>\r\n\r\n    <div class=\"create-post\">\r\n        <div class=\"img\">\r\n            <img src=\"assets/img/item-4.png\" alt=\"\">\r\n            <span>Create Post</span>\r\n        </div>\r\n        <div class=\"select\">\r\n            <select name=\"\" id=\"\">\r\n                <option value=\"\">Choose community</option>\r\n                <option value=\"\">option</option>\r\n            </select>\r\n        </div>\r\n\r\n        <div class=\"input\">\r\n            <input placeholder=\"Title\" type=\"text\">\r\n        </div>\r\n\r\n        <label class=\"add-photo\">\r\n            <input type=\"file\">\r\n            <span class=\"material-icons\">image</span>\r\n            Add Photo or Video\r\n        </label>\r\n\r\n        <div class=\"btn\">\r\n            <button class=\"post\">Post</button>\r\n        </div>\r\n    </div>\r\n\r\n    <ul class=\"categories\">\r\n        <li><a class=\"active\"><span class=\"material-icons\">whatshot</span>Hot</a></li>\r\n        <li><a><span class=\"material-icons\">new_releases</span>New</a></li>\r\n        <li><a><span class=\"material-icons\">trending_up</span>Top</a></li>\r\n        <li><a><span class=\"material-icons\">new_releases</span>Best of the week</a></li>\r\n    </ul>\r\n\r\n    <div class=\"search\">\r\n        <input placeholder=\"Search\" type=\"text\">\r\n        <span class=\"material-icons\">search</span>\r\n    </div>\r\n\r\n    <div class=\"chatrooms-items\">\r\n        <div class=\"item\">\r\n            <div class=\"posted\">\r\n                <p>Posted by<span>u/alotasalad</span></p>\r\n                <p>4 minutes ago</p>\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <div class=\"left-wrap\">\r\n                    <div class=\"voting-container\">\r\n                        <button class=\"vote-up-btn active\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                        <div class=\"vote-count\">50k</div>\r\n                        <button class=\"vote-down-btn\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-wrap\">\r\n                    <p>This is my friends loss but to make matters even worse he borrowed the money from his Nigerian\r\n                        boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the\r\n                        account right now is also his bosses money ðŸ’°</p>\r\n\r\n                    <img src=\"assets/img/jp-valeryunsplash.png\" alt=\"\">\r\n\r\n                    <div class=\"post-menu\">\r\n                        <div class=\"menu\">\r\n                            <a href=\"\"><span class=\"material-icons\">chat_bubble</span>Comments</a>\r\n                            <a href=\"\"><span class=\"material-icons\">share</span>Share</a>\r\n                        </div>\r\n                        <div class=\"dotes\"><span class=\"material-icons\">more_vert</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"item\">\r\n            <div class=\"posted\">\r\n                <p>Posted by<span>u/alotasalad</span></p>\r\n                <p>4 minutes ago</p>\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <div class=\"left-wrap\">\r\n                    <div class=\"voting-container\">\r\n                        <button class=\"vote-up-btn active\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                        <div class=\"vote-count\">50k</div>\r\n                        <button class=\"vote-down-btn\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-wrap\">\r\n                    <p>This is my friends loss but to make matters even worse he borrowed the money from his Nigerian\r\n                        boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the\r\n                        account right now is also his bosses money ðŸ’°</p>\r\n\r\n                    <img src=\"assets/img/jp-valeryunsplash.png\" alt=\"\">\r\n\r\n                    <div class=\"post-menu\">\r\n                        <div class=\"menu\">\r\n                            <a href=\"\"><span class=\"material-icons\">chat_bubble</span>Comments</a>\r\n                            <a href=\"\"><span class=\"material-icons\">share</span>Share</a>\r\n                        </div>\r\n                        <div class=\"dotes\"><span class=\"material-icons\">more_vert</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"item\">\r\n            <div class=\"posted\">\r\n                <p>Posted by<span>u/alotasalad</span></p>\r\n                <p>4 minutes ago</p>\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <div class=\"left-wrap\">\r\n                    <div class=\"voting-container\">\r\n                        <button class=\"vote-up-btn active\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                        <div class=\"vote-count\">50k</div>\r\n                        <button class=\"vote-down-btn\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-wrap\">\r\n                    <p>This is my friends loss but to make matters even worse he borrowed the money from his Nigerian\r\n                        boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the\r\n                        account right now is also his bosses money ðŸ’°</p>\r\n\r\n                    <img src=\"assets/img/jp-valeryunsplash.png\" alt=\"\">\r\n\r\n                    <div class=\"post-menu\">\r\n                        <div class=\"menu\">\r\n                            <a href=\"\"><span class=\"material-icons\">chat_bubble</span>Comments</a>\r\n                            <a href=\"\"><span class=\"material-icons\">share</span>Share</a>\r\n                        </div>\r\n                        <div class=\"dotes\"><span class=\"material-icons\">more_vert</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"item\">\r\n            <div class=\"posted\">\r\n                <p>Posted by<span>u/alotasalad</span></p>\r\n                <p>4 minutes ago</p>\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <div class=\"left-wrap\">\r\n                    <div class=\"voting-container\">\r\n                        <button class=\"vote-up-btn active\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                        <div class=\"vote-count\">50k</div>\r\n                        <button class=\"vote-down-btn\">\r\n                            <span class=\"material-icons\">forward</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-wrap\">\r\n                    <p>This is my friends loss but to make matters even worse he borrowed the money from his Nigerian\r\n                        boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the\r\n                        account right now is also his bosses money ðŸ’°</p>\r\n\r\n                    <img src=\"assets/img/jp-valeryunsplash.png\" alt=\"\">\r\n\r\n                    <div class=\"post-menu\">\r\n                        <div class=\"menu\">\r\n                            <a href=\"\"><span class=\"material-icons\">chat_bubble</span>Comments</a>\r\n                            <a href=\"\"><span class=\"material-icons\">share</span>Share</a>\r\n                        </div>\r\n                        <div class=\"dotes\"><span class=\"material-icons\">more_vert</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","<ng-container *ngIf=\"authUser\">\r\n    <app-user-tags></app-user-tags>\r\n    <div class=\"page-wrap\">\r\n        <div class=\"left-wrap\">\r\n            <div class=\"tab-wrap\">\r\n                <button class=\"tab direct-tab\" [matBadge]=\"newMessagesCountInDirect.toString()\"\r\n                        matBadgePosition=\"before\"\r\n                        [matBadgeHidden]=\"activeTab==='direct' || newMessagesCountInDirect===0 \"\r\n                        [class.active]=\"activeTab=='direct'\" (click)=\"changeTab('direct')\">Chat\r\n                </button>\r\n                <button class=\"tab group-tab\" [matBadge]=\"newMessagesCountInGroups.toString()\"\r\n                        [matBadgeHidden]=\"activeTab==='group' || newMessagesCountInGroups===0 \"\r\n                        [class.active]=\"activeTab==='group'\"\r\n                        (click)=\"changeTab('group')\">Group Chat\r\n                </button>\r\n            </div>\r\n            <div class=\"list-wrap\">\r\n                <app-users-list [authUser]=\"authUser\" *ngIf=\"activeTab==='direct'\"></app-users-list>\r\n                <app-group-chat-left-side-holder [authUser]=\"authUser\" *ngIf=\"activeTab=='group'\"></app-group-chat-left-side-holder>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"right-wrap\">\r\n            <app-direct-chat-messages [authUser]=\"authUser\" *ngIf=\"activeTab==='direct'\"></app-direct-chat-messages>\r\n            <app-group-chat-right-side-holder [authUser]=\"authUser\" *ngIf=\"activeTab=='group'\"></app-group-chat-right-side-holder>\r\n        </div>\r\n    </div>\r\n</ng-container>\r\n","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {ShowChatroomsComponent} from '@app/chat/show-chatrooms/show-chatrooms.component';\r\nimport {ShowMessagesComponent} from '@app/chat/show-messages/show-messages.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: 'rooms',\r\n        component: ShowChatroomsComponent,\r\n        data: {\r\n            title: 'Chat rooms',\r\n        }\r\n    },\r\n    {\r\n        path: 'messages',\r\n        component: ShowMessagesComponent,\r\n        data: {\r\n            title: 'Chat',\r\n        }\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class ChatRoutingModule {\r\n}\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {ChatService} from '@core/services/chat.service';\r\nimport {GetAuthUserPipe} from '@shared/pipes/get-auth-user.pipe';\r\nimport {SocketIoService} from '@core/services/socket-io.service';\r\n\r\nimport {DatePipe} from '@angular/common';\r\nimport {GroupByPipe} from '@shared/pipes/group-by.pipe';\r\nimport {Subscription} from 'rxjs';\r\nimport {SubjectService} from '@core/services/subject.service';\r\n\r\n\r\n@Component({\r\n    selector: 'app-show-messages',\r\n    templateUrl: './show-messages.component.html',\r\n    styleUrls: ['./show-messages.component.scss']\r\n})\r\nexport class ShowMessagesComponent implements OnInit {\r\n    activeTab = 'direct';\r\n    authUser;\r\n\r\n    groupsMessages = [];\r\n    groupsLoaded = false;\r\n    subscriptions: Subscription[] = [];\r\n    newMessagesCountInGroups = 0;\r\n    newMessagesCountInDirect = 0;\r\n\r\n    constructor(\r\n        private chatService: ChatService,\r\n        private getAuthUser: GetAuthUserPipe,\r\n        private socketService: SocketIoService,\r\n        private subject: SubjectService,\r\n        private datePipe: DatePipe,\r\n        private groupBy: GroupByPipe,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.authUser = this.getAuthUser.transform();\r\n        // this.getGroupsMessages();\r\n    }\r\n\r\n\r\n    changeTab(tab) {\r\n        this.activeTab = tab;\r\n    }\r\n\r\n    getGroupsMessages() {\r\n        this.subscriptions.push(this.chatService.getGroupsMessages({\r\n            user_id: this.authUser.id,\r\n            blocked: 0\r\n        }).subscribe(dt => {\r\n            this.groupsMessages = dt;\r\n            this.groupsLoaded = true;\r\n            const newMessagesSource = dt.filter(fm => fm.new_messages_count > 0);\r\n            // console.log(newMessagesSource)\r\n            this.newMessagesCountInGroups = newMessagesSource.length;\r\n            this.subject.setNewMessagesSourceData({source: newMessagesSource, type: 'group'});\r\n        }));\r\n    }\r\n\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {ChatRoutingModule} from './chat-routing.module';\r\nimport {ShowChatroomsComponent} from './show-chatrooms/show-chatrooms.component';\r\nimport {ShowMessagesComponent} from './show-messages/show-messages.component';\r\nimport {SharedModule} from '@shared/shared.module';\r\nimport {DirectMongoChatComponent} from './show-messages/mongo-chat/direct-mongo-chat/direct-mongo-chat.component';\r\nimport { GroupMongoChatComponent } from './show-messages/mongo-chat/group-mongo-chat/group-mongo-chat.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ShowChatroomsComponent,\r\n        ShowMessagesComponent,\r\n        DirectMongoChatComponent,\r\n        GroupMongoChatComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        ChatRoutingModule,\r\n        SharedModule\r\n    ]\r\n})\r\nexport class ChatModule {\r\n}\r\n"]}