function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"2yxt":function(t,n,e){"use strict";e.r(n),e.d(n,"ChatModule",(function(){return xt}));var o,c=e("ofXK"),a=e("tyNb"),i=e("fXoL"),s=e("3Pt+"),r=((o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=i.Lb({type:o,selectors:[["app-show-chatrooms"]],decls:194,vars:0,consts:[[1,"chatrooms-list"],[1,"create-post"],[1,"img"],["src","assets/img/item-4.png","alt",""],[1,"select"],["name","","id",""],["value",""],[1,"input"],["placeholder","Title","type","text"],[1,"add-photo"],["type","file"],[1,"material-icons"],[1,"btn"],[1,"post"],[1,"categories"],[1,"active"],[1,"search"],["placeholder","Search","type","text"],[1,"chatrooms-items"],[1,"item"],[1,"posted"],[1,"info"],[1,"left-wrap"],[1,"voting-container"],[1,"vote-up-btn","active"],[1,"vote-count"],[1,"vote-down-btn"],[1,"right-wrap"],["src","assets/img/jp-valeryunsplash.png","alt",""],[1,"post-menu"],[1,"menu"],["href",""],[1,"dotes"]],template:function(t,n){1&t&&(i.Xb(0,"div",0),i.Xb(1,"h1"),i.Rc(2,"Chat Rooms"),i.Wb(),i.Xb(3,"div",1),i.Xb(4,"div",2),i.Sb(5,"img",3),i.Xb(6,"span"),i.Rc(7,"Create Post"),i.Wb(),i.Wb(),i.Xb(8,"div",4),i.Xb(9,"select",5),i.Xb(10,"option",6),i.Rc(11,"Choose community"),i.Wb(),i.Xb(12,"option",6),i.Rc(13,"option"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"div",7),i.Sb(15,"input",8),i.Wb(),i.Xb(16,"label",9),i.Sb(17,"input",10),i.Xb(18,"span",11),i.Rc(19,"image"),i.Wb(),i.Rc(20," Add Photo or Video "),i.Wb(),i.Xb(21,"div",12),i.Xb(22,"button",13),i.Rc(23,"Post"),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"ul",14),i.Xb(25,"li"),i.Xb(26,"a",15),i.Xb(27,"span",11),i.Rc(28,"whatshot"),i.Wb(),i.Rc(29,"Hot"),i.Wb(),i.Wb(),i.Xb(30,"li"),i.Xb(31,"a"),i.Xb(32,"span",11),i.Rc(33,"new_releases"),i.Wb(),i.Rc(34,"New"),i.Wb(),i.Wb(),i.Xb(35,"li"),i.Xb(36,"a"),i.Xb(37,"span",11),i.Rc(38,"trending_up"),i.Wb(),i.Rc(39,"Top"),i.Wb(),i.Wb(),i.Xb(40,"li"),i.Xb(41,"a"),i.Xb(42,"span",11),i.Rc(43,"new_releases"),i.Wb(),i.Rc(44,"Best of the week"),i.Wb(),i.Wb(),i.Wb(),i.Xb(45,"div",16),i.Sb(46,"input",17),i.Xb(47,"span",11),i.Rc(48,"search"),i.Wb(),i.Wb(),i.Xb(49,"div",18),i.Xb(50,"div",19),i.Xb(51,"div",20),i.Xb(52,"p"),i.Rc(53,"Posted by"),i.Xb(54,"span"),i.Rc(55,"u/alotasalad"),i.Wb(),i.Wb(),i.Xb(56,"p"),i.Rc(57,"4 minutes ago"),i.Wb(),i.Wb(),i.Xb(58,"div",21),i.Xb(59,"div",22),i.Xb(60,"div",23),i.Xb(61,"button",24),i.Xb(62,"span",11),i.Rc(63,"forward"),i.Wb(),i.Wb(),i.Xb(64,"div",25),i.Rc(65,"50k"),i.Wb(),i.Xb(66,"button",26),i.Xb(67,"span",11),i.Rc(68,"forward"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(69,"div",27),i.Xb(70,"p"),i.Rc(71,"This is my friends loss but to make matters even worse he borrowed the money from his Nigerian boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the account right now is also his bosses money \ud83d\udcb0"),i.Wb(),i.Sb(72,"img",28),i.Xb(73,"div",29),i.Xb(74,"div",30),i.Xb(75,"a",31),i.Xb(76,"span",11),i.Rc(77,"chat_bubble"),i.Wb(),i.Rc(78,"Comments"),i.Wb(),i.Xb(79,"a",31),i.Xb(80,"span",11),i.Rc(81,"share"),i.Wb(),i.Rc(82,"Share"),i.Wb(),i.Wb(),i.Xb(83,"div",32),i.Xb(84,"span",11),i.Rc(85,"more_vert"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(86,"div",19),i.Xb(87,"div",20),i.Xb(88,"p"),i.Rc(89,"Posted by"),i.Xb(90,"span"),i.Rc(91,"u/alotasalad"),i.Wb(),i.Wb(),i.Xb(92,"p"),i.Rc(93,"4 minutes ago"),i.Wb(),i.Wb(),i.Xb(94,"div",21),i.Xb(95,"div",22),i.Xb(96,"div",23),i.Xb(97,"button",24),i.Xb(98,"span",11),i.Rc(99,"forward"),i.Wb(),i.Wb(),i.Xb(100,"div",25),i.Rc(101,"50k"),i.Wb(),i.Xb(102,"button",26),i.Xb(103,"span",11),i.Rc(104,"forward"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(105,"div",27),i.Xb(106,"p"),i.Rc(107,"This is my friends loss but to make matters even worse he borrowed the money from his Nigerian boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the account right now is also his bosses money \ud83d\udcb0"),i.Wb(),i.Sb(108,"img",28),i.Xb(109,"div",29),i.Xb(110,"div",30),i.Xb(111,"a",31),i.Xb(112,"span",11),i.Rc(113,"chat_bubble"),i.Wb(),i.Rc(114,"Comments"),i.Wb(),i.Xb(115,"a",31),i.Xb(116,"span",11),i.Rc(117,"share"),i.Wb(),i.Rc(118,"Share"),i.Wb(),i.Wb(),i.Xb(119,"div",32),i.Xb(120,"span",11),i.Rc(121,"more_vert"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(122,"div",19),i.Xb(123,"div",20),i.Xb(124,"p"),i.Rc(125,"Posted by"),i.Xb(126,"span"),i.Rc(127,"u/alotasalad"),i.Wb(),i.Wb(),i.Xb(128,"p"),i.Rc(129,"4 minutes ago"),i.Wb(),i.Wb(),i.Xb(130,"div",21),i.Xb(131,"div",22),i.Xb(132,"div",23),i.Xb(133,"button",24),i.Xb(134,"span",11),i.Rc(135,"forward"),i.Wb(),i.Wb(),i.Xb(136,"div",25),i.Rc(137,"50k"),i.Wb(),i.Xb(138,"button",26),i.Xb(139,"span",11),i.Rc(140,"forward"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(141,"div",27),i.Xb(142,"p"),i.Rc(143,"This is my friends loss but to make matters even worse he borrowed the money from his Nigerian boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the account right now is also his bosses money \ud83d\udcb0"),i.Wb(),i.Sb(144,"img",28),i.Xb(145,"div",29),i.Xb(146,"div",30),i.Xb(147,"a",31),i.Xb(148,"span",11),i.Rc(149,"chat_bubble"),i.Wb(),i.Rc(150,"Comments"),i.Wb(),i.Xb(151,"a",31),i.Xb(152,"span",11),i.Rc(153,"share"),i.Wb(),i.Rc(154,"Share"),i.Wb(),i.Wb(),i.Xb(155,"div",32),i.Xb(156,"span",11),i.Rc(157,"more_vert"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(158,"div",19),i.Xb(159,"div",20),i.Xb(160,"p"),i.Rc(161,"Posted by"),i.Xb(162,"span"),i.Rc(163,"u/alotasalad"),i.Wb(),i.Wb(),i.Xb(164,"p"),i.Rc(165,"4 minutes ago"),i.Wb(),i.Wb(),i.Xb(166,"div",21),i.Xb(167,"div",22),i.Xb(168,"div",23),i.Xb(169,"button",24),i.Xb(170,"span",11),i.Rc(171,"forward"),i.Wb(),i.Wb(),i.Xb(172,"div",25),i.Rc(173,"50k"),i.Wb(),i.Xb(174,"button",26),i.Xb(175,"span",11),i.Rc(176,"forward"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(177,"div",27),i.Xb(178,"p"),i.Rc(179,"This is my friends loss but to make matters even worse he borrowed the money from his Nigerian boss and yolod everything on fds otw up and down did I forget to mention that 4K in the the account right now is also his bosses money \ud83d\udcb0"),i.Wb(),i.Sb(180,"img",28),i.Xb(181,"div",29),i.Xb(182,"div",30),i.Xb(183,"a",31),i.Xb(184,"span",11),i.Rc(185,"chat_bubble"),i.Wb(),i.Rc(186,"Comments"),i.Wb(),i.Xb(187,"a",31),i.Xb(188,"span",11),i.Rc(189,"share"),i.Wb(),i.Rc(190,"Share"),i.Wb(),i.Wb(),i.Xb(191,"div",32),i.Xb(192,"span",11),i.Rc(193,"more_vert"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb())},directives:[s.t,s.y],styles:[".categories[_ngcontent-%COMP%]{display:flex;padding-bottom:10px;flex-wrap:wrap;border-bottom:.5px solid #e2e2e2;margin-bottom:24px}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:2px;margin-bottom:8px;width:-webkit-max-content;width:-moz-max-content;width:max-content}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f53c6f;color:#fff!important;cursor:pointer}.chatrooms-list[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#18b587;font-weight:700}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]{margin:32px 0;padding:16px 24px 24px;background:#f5f5f5}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{display:flex;align-items:center}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;-o-object-fit:cover;object-fit:cover}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:16px;font-size:16px;font-weight:700;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{margin-top:12px}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:240px;padding:8px 12px;border:0;color:#545454;outline:none}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-top:12px}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 14px;border:0;color:#545454;outline:none}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;width:100%;display:flex;align-items:center;color:#c9c9c9;font-size:16px;font-weight:700;transition:all .1s ease;cursor:pointer}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]:hover{color:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:12px;padding:0;cursor:auto}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 24px;background:#c9c9c9;color:#fff}.chatrooms-list[_ngcontent-%COMP%]   .create-post[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:relative;margin-bottom:24px}.chatrooms-list[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:0;background:hsla(0,0%,50.6%,.13)}.chatrooms-list[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:14px;top:50%;transform:translateY(-50%);color:#545454;cursor:pointer}.chatrooms-list[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{margin-bottom:16px;padding:0;border:0}.chatrooms-list[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.chatrooms-list[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;margin-right:8px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-bottom:32px;padding:12px;background:#f5f5f5}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .posted[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .posted[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .posted[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:12px;color:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;margin-top:16px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;background:transparent;color:#c9c9c9}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button.vote-up-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:rotate(-90deg)}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button.vote-down-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:rotate(90deg)}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left-wrap[_ngcontent-%COMP%]   .voting-container[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{margin:8px 0;text-align:center;font-size:12px;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]{flex:1;padding:0 36px 4px 12px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin-top:16px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:16px;color:#545454}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:40px;display:flex;text-decoration:none;color:#545454;transition:all .1s ease}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#18b587}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:12px}.chatrooms-list[_ngcontent-%COMP%]   .chatrooms-items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right-wrap[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]   .dotes[_ngcontent-%COMP%]{display:flex;cursor:pointer}"]}),o),g=e("il7l"),p=e("Rnal"),u=e("WHgu"),l=e("kktJ"),b=e("Y9zH"),h=e("GJOa"),d=e("wd/R"),m=e("tVj7"),C=e("NFeN"),_=e("STbY"),M=e("bTqV"),f=e("fZdh"),P=e("yEwS"),O=e("vsDL"),v=["directMessagesList"];function x(t,n){if(1&t){var e=i.Yb();i.Xb(0,"button",16),i.jc("click",(function(){return i.Ic(e),i.nc().toggleBlockedUsers(!1)})),i.Xb(1,"mat-icon"),i.Rc(2,"arrow_backward"),i.Wb(),i.Xb(3,"span"),i.Rc(4,"Active contacts"),i.Wb(),i.Wb()}}function w(t,n){if(1&t){var e=i.Yb();i.Xb(0,"div",17),i.Xb(1,"button",18),i.Sb(2,"i",19),i.Wb(),i.Xb(3,"mat-menu",null,20),i.Xb(5,"button",21),i.jc("click",(function(){return i.Ic(e),i.nc().toggleBlockedUsers(!1)})),i.Sb(6,"i",22),i.Rc(7," Active users "),i.Wb(),i.Xb(8,"button",21),i.jc("click",(function(){return i.Ic(e),i.nc().toggleBlockedUsers(!0)})),i.Sb(9,"i",23),i.Rc(10," Blocked users "),i.Wb(),i.Wb(),i.Wb()}if(2&t){var o=i.Ec(4),c=i.nc();i.Cb(1),i.uc("matMenuTriggerFor",o),i.Cb(4),i.Hb("active",!c.showBlockedUsers),i.uc("disableRipple",!0),i.Cb(3),i.Hb("active",c.showBlockedUsers),i.uc("disableRipple",!0)}}function k(t,n){if(1&t){var e=i.Yb();i.Xb(0,"button",38),i.jc("click",(function(){i.Ic(e);var t=i.nc(2).user;return i.nc(2).blockUser(t)})),i.Rc(1," Block "),i.Wb()}}function y(t,n){if(1&t){var e=i.Yb();i.Xb(0,"button",38),i.jc("click",(function(){i.Ic(e);var t=i.nc(2).user;return i.nc(2).blockUser(t)})),i.Rc(1," Unblock "),i.Wb()}}function W(t,n){if(1&t){var e=i.Yb();i.Vb(0),i.Xb(1,"button",36),i.Sb(2,"i",37),i.Wb(),i.Xb(3,"mat-menu",null,20),i.Xb(5,"button",38),i.jc("click",(function(){i.Ic(e);var t=i.nc(),n=t.user,o=t.lastMsg;return i.nc(2).unreadLastMsg(n,o)})),i.Rc(6," Unread "),i.Wb(),i.Pc(7,k,2,0,"button",39),i.Pc(8,y,2,0,"button",39),i.Wb(),i.Ub()}if(2&t){var o=i.Ec(4),c=i.nc(3);i.Cb(1),i.uc("matMenuTriggerFor",o)("disableRipple",!0),i.Cb(6),i.uc("ngIf",!c.showBlockedUsers),i.Cb(1),i.uc("ngIf",c.showBlockedUsers)}}function X(t,n){1&t&&(i.Vb(0),i.Xb(1,"button",40),i.Sb(2,"i",41),i.Wb(),i.Ub())}function U(t,n){if(1&t){var e=i.Yb();i.Xb(0,"div",26),i.Xb(1,"div",27),i.jc("click",(function(){i.Ic(e);var t=n.user,o=n.lastMsg;return i.nc(2).makeUserActive(t,o)})),i.Xb(2,"div",28),i.Sb(3,"img",29),i.oc(4,"getImgPath"),i.Wb(),i.Xb(5,"div",30),i.Xb(6,"div",31),i.Rc(7),i.Wb(),i.Xb(8,"div",32),i.Xb(9,"span"),i.Rc(10),i.Wb(),i.Xb(11,"span",33),i.Rc(12),i.oc(13,"dateFromNow"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"div",34),i.Pc(15,W,9,4,"ng-container",35),i.Pc(16,X,3,0,"ng-container",35),i.Wb(),i.Wb()}if(2&t){var o=n.user,c=n.lastMsg;i.Cb(3),i.uc("src",i.qc(4,6,o.avatar,"user_avatars"),i.Kc),i.Cb(4),i.Sc(o.first_name+" "+o.last_name),i.Cb(3),i.Sc(c.message),i.Cb(2),i.Sc(i.pc(13,9,c.created_at)),i.Cb(3),i.uc("ngIf",1===c.seen),i.Cb(1),i.uc("ngIf",0===c.seen)}}var R=function(t,n){return{user:t,lastMsg:n}};function S(t,n){if(1&t&&(i.Xb(0,"li"),i.Tb(1,24),i.Pc(2,U,17,11,"ng-template",null,25,i.Qc),i.Wb()),2&t){var e=n.$implicit,o=i.Ec(3),c=i.nc();i.Hb("active",(null==c.activeUser?null:c.activeUser.id)===e.user.id),i.Cb(1),i.uc("ngTemplateOutlet",o)("ngTemplateOutletContext",i.zc(4,R,e.user,null==e?null:e.messages[(null==e?null:e.messages.length)-1]))}}function G(t,n){if(1&t){var e=i.Yb();i.Xb(0,"button",46),i.jc("click",(function(){return i.Ic(e),i.nc(2).activeUser=null})),i.Xb(1,"mat-icon"),i.Rc(2,"arrow_back"),i.Wb(),i.Wb()}}function I(t,n){if(1&t&&(i.Xb(0,"div",42),i.Xb(1,"div",43),i.Pc(2,G,3,0,"button",44),i.Xb(3,"div",28),i.Sb(4,"img",29),i.oc(5,"getImgPath"),i.Wb(),i.Xb(6,"div",31),i.Rc(7),i.Wb(),i.Wb(),i.Sb(8,"div",45),i.Wb()),2&t){var e=i.nc();i.Cb(2),i.uc("ngIf",e.isChatUsersListSize()),i.Cb(2),i.uc("src",i.qc(5,3,e.activeUser.avatar,"user_avatars"),i.Kc),i.Cb(3),i.Sc(e.activeUser.first_name+" "+e.activeUser.last_name)}}function F(t,n){if(1&t&&(i.Xb(0,"div",53),i.Sb(1,"img",54),i.oc(2,"getImgPath"),i.Wb()),2&t){var e=i.nc().$implicit,o=i.nc(2);i.Cb(1),i.uc("src",i.qc(2,1,o.getSeenAvatar(e),"user_avatars"),i.Kc)}}function T(t,n){if(1&t&&(i.Vb(0),i.Xb(1,"li",48),i.Xb(2,"div",49),i.Xb(3,"div",32),i.Xb(4,"div",28),i.Sb(5,"img",29),i.oc(6,"getImgPath"),i.Wb(),i.Xb(7,"div",31),i.Rc(8),i.Wb(),i.Wb(),i.Xb(9,"div",50),i.Rc(10),i.oc(11,"date"),i.Wb(),i.Wb(),i.Xb(12,"div",51),i.Rc(13),i.Wb(),i.Pc(14,F,3,4,"div",52),i.Wb(),i.Ub()),2&t){var e=n.$implicit,o=i.nc(2);i.Cb(1),i.uc("ngClass",o.getMessageClass(e.from_user)),i.Cb(4),i.uc("src",i.qc(6,6,e.from_user.avatar,"user_avatars"),i.Kc),i.Cb(3),i.Sc(e.from_user.first_name+" "+e.from_user.last_name),i.Cb(2),i.Sc(i.qc(11,9,e.created_at,"HH:mm")),i.Cb(3),i.Tc(" ",e.message," "),i.Cb(1),i.uc("ngIf",e.seen)}}function j(t,n){if(1&t&&(i.Vb(0),i.Xb(1,"li",47),i.Xb(2,"span"),i.Rc(3),i.oc(4,"getDateText"),i.Wb(),i.Wb(),i.Pc(5,T,15,12,"ng-container",13),i.Ub()),2&t){var e=n.$implicit;i.Cb(3),i.Sc(i.pc(4,2,e.key)),i.Cb(2),i.uc("ngForOf",e.value)}}function z(t,n){if(1&t){var e=i.Yb();i.Xb(0,"div",55),i.Xb(1,"form",56),i.Xb(2,"input",57),i.jc("keyup",(function(){return i.Ic(e),i.nc().setTyping()}))("focus",(function(){return i.Ic(e),i.nc().setSeen()}))("keyup.enter",(function(t){return i.Ic(e),i.nc().sendMessage(t)})),i.Wb(),i.Wb(),i.Xb(3,"div",58),i.Xb(4,"a",59),i.Sb(5,"img",60),i.Wb(),i.Xb(6,"a",59),i.Sb(7,"img",61),i.Wb(),i.Xb(8,"a",59),i.Sb(9,"img",62),i.Wb(),i.Wb(),i.Wb()}if(2&t){var o=i.nc();i.Cb(1),i.uc("formGroup",o.chatForm)}}var L,B,A=((L=function(){function t(n,e,o,c,a,i,s,r){_classCallCheck(this,t),this.chatService=n,this.getAuthUser=e,this.socketService=o,this.usersService=c,this.datePipe=a,this.groupBy=i,this.fb=s,this.cdr=r,this.usersMessages=[],this.filteredUsersMessages=[],this.selectedUserMessages={messages:[],user:{}},this.showBlockedUsers=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.addUserToSocket(),this.getMessagesFromSocket(),this.getUsersMessages(),this.initForm(),this.getTyping(),this.getSeen()}},{key:"addUserToSocket",value:function(){this.socketService.addNewUser(Object.assign(Object.assign({},this.authUser),{group:!1}))}},{key:"initForm",value:function(){var t,n;this.chatForm=this.fb.group({from:[this.authUser.username],from_id:[this.authUser.id],to_id:[null===(t=this.activeUser)||void 0===t?void 0:t.id],avatar:[null===(n=this.authUser)||void 0===n?void 0:n.avatar],from_user:[this.authUser],to_user:[null],message:["",s.x.required],personal:[1]})}},{key:"getMessageClass",value:function(t){return t.id===this.authUser.id?"my-message":"other-message"}},{key:"getSeenAvatar",value:function(t){return t.from_user.id!==this.authUser.id?t.from_user.avatar:t.to_user.id!==this.authUser.id?t.to_user.avatar:void 0}},{key:"isChatUsersListSize",value:function(){return h.a.isChatUsersListSize()}},{key:"order",value:function(t){return t.sort((function(t,n){return+(+d(n.messages[n.messages.length-1].created_at)-+d(t.messages[t.messages.length-1].created_at))}))}},{key:"getUsersMessages",value:function(){var t=this;this.selectedUserMessages.messages=[],this.chatService.getDirectChatMessages({from_id:this.authUser.id,to_id:"",personal:1}).subscribe((function(n){var e,o;if(t.usersMessages=t.order(n),t.filteredUsersMessages=n.filter((function(n){return!!n.user.blocked===t.showBlockedUsers})),console.log("get messages!!!"),!t.isChatUsersListSize()){t.activeUser=t.activeUser||(null===(e=t.filteredUsersMessages[0])||void 0===e?void 0:e.user);var c=t.filteredUsersMessages.find((function(n){var e;return n.user.id===(null===(e=t.activeUser)||void 0===e?void 0:e.id)}));t.selectedUserMessages.user=null==c?void 0:c.user,t.selectedUserMessages.messages=t.groupBy.transform(null==c?void 0:c.messages,"created_at"),t.chatForm.patchValue({to_id:null===(o=t.activeUser)||void 0===o?void 0:o.id,to_user:t.activeUser})}}))}},{key:"getMessagesFromSocket",value:function(){var t=this;this.socketService.onNewMessage().subscribe((function(n){console.log("new message direct chat!!!"),t.typingText=null,t.getUsersMessages()}))}},{key:"makeUserActive",value:function(t,n){if(this.activeUser=t,this.selectedUserMessages={messages:[],user:{}},t){this.chatForm.patchValue({to_id:t.id,to_user:this.activeUser});var e=JSON.parse(JSON.stringify(this.filteredUsersMessages.find((function(n){return n.user.id===t.id}))));this.selectedUserMessages.messages=this.groupBy.transform(e.messages,"created_at"),this.selectedUserMessages.user=e.user,n.seen||this.setSeen()}}},{key:"toggleBlockedUsers",value:function(t){var n,e,o,c=this;this.showBlockedUsers=t,this.filteredUsersMessages=this.usersMessages.filter((function(t){return!!t.user.blocked===c.showBlockedUsers})),this.activeUser=null===(n=this.filteredUsersMessages[0])||void 0===n?void 0:n.user,this.makeUserActive(this.activeUser,null===(e=this.filteredUsersMessages[0])||void 0===e?void 0:e.messages[(null===(o=this.filteredUsersMessages[0])||void 0===o?void 0:o.messages.length)-1])}},{key:"sendMessage",value:function(t){var n=this;if(this.chatForm.valid){var e=Object.assign({},this.chatForm.value);this.chatService.saveMessage(e).subscribe((function(t){n.selectedUserMessages.messages=n.groupBy.transform(t[0].messages,"created_at"),n.selectedUserMessages.user=t[0].user,n.socketService.sendMessage(e),n.scrollMsgsToBottom(),console.log(n.selectedUserMessages)})),this.chatForm.patchValue({message:""})}}},{key:"scrollMsgsToBottom",value:function(){try{this.messagesList.nativeElement.scrollTop=this.messagesList.nativeElement.scrollHeight}catch(t){console.log(t)}}},{key:"setTyping",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.socketService.setTyping({from_user:this.chatForm.value.from_user,to_user:this.chatForm.value.to_user,message:this.chatForm.value.message})}},{key:"getTyping",value:function(){var t=this;this.socketService.getTyping().subscribe((function(n){t.typingText=n.message?n.from_user.username+" is typing...":null}))}},{key:"setSeen",value:function(){var t=this.selectedUserMessages.messages[0].value,n=t[t.length-1].from_id===this.authUser.id;console.log("set seen"),this.scrollMsgsToBottom(),n||this.socketService.setSeen({from_id:this.chatForm.value.from_id,to_id:this.chatForm.value.to_id,from_user:this.chatForm.value.from_user,to_user:this.chatForm.value.to_user,seen:1,seen_at:d().format("YYYY-MM-DD, h:mm:ss a")})}},{key:"getSeen",value:function(){var t=this;this.socketService.getSeen().subscribe((function(n){t.selectedUserMessages.messages=[],t.getUsersMessages()}))}},{key:"unreadLastMsg",value:function(t,n){if(n.to_id===this.authUser.id&&n.from_id===t.id){var e={to_id:this.authUser.id,to_user:this.authUser,from_user:Object.assign({username:t.from},t),from_id:t.id,id:n.id,seen:0};console.log(e),console.log("unread msg!!"),this.socketService.setSeen(e)}}},{key:"blockUser",value:function(t){var n=this;this.usersService.blockUser({connection_id:t.id,user_id:this.authUser.id,block:+!this.showBlockedUsers}).subscribe((function(t){n.getUsersMessages()}))}},{key:"ngAfterViewChecked",value:function(){this.scrollMsgsToBottom()}},{key:"ngOnDestroy",value:function(){this.setTyping(null)}}]),t}()).\u0275fac=function(t){return new(t||L)(i.Rb(g.a),i.Rb(p.a),i.Rb(u.a),i.Rb(m.a),i.Rb(c.f),i.Rb(l.a),i.Rb(s.e),i.Rb(i.h))},L.\u0275cmp=i.Lb({type:L,selectors:[["app-direct-chat"]],viewQuery:function(t,n){var e;1&t&&i.Wc(v,!0),2&t&&i.Dc(e=i.kc())&&(n.messagesList=e.first)},inputs:{authUser:"authUser"},decls:17,vars:11,consts:[[1,"chat-wrap"],[1,"people-groups-container",3,"hidden"],["id","people-list",1,"list-wrap"],[1,"top-actions"],["id","back-to-active-users"],[3,"click",4,"ngIf"],["class","three-dot-actions",4,"ngIf"],[1,"list","align-items-center"],[3,"active",4,"ngFor","ngForOf"],[1,"chat",3,"hidden"],["class","chat-about",4,"ngIf"],["id","direct-messages",1,"chat-history"],["directMessagesList",""],[4,"ngFor","ngForOf"],[1,"text-center","font-italic","d-block"],["class","chat-message",4,"ngIf"],[3,"click"],[1,"three-dot-actions"],[1,"show-actions",3,"matMenuTriggerFor"],[1,"fas","fa-ellipsis-h"],["menu","matMenu"],["mat-menu-item","",3,"disableRipple","click"],[1,"fas","fa-users"],[1,"fa","fa-users-slash"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["itemTemplate",""],[1,"d-flex","user-last-msg","align-items-center","justify-content-between"],[1,"left-group",3,"click"],[1,"img"],[1,"avatar",3,"src"],[1,"text"],[1,"name"],[1,"d-flex","align-items-center"],[1,"ml-4"],[1,"ml-auto","more-btn"],[4,"ngIf"],["mat-icon-button","",1,"",3,"matMenuTriggerFor","disableRipple"],[1,"fas","fa-ellipsis-v"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"seen-circle"],[1,"fas","fa-circle"],[1,"chat-about"],[1,"left"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"right"],["mat-icon-button","",3,"click"],[1,"data-list"],[1,"message-container",3,"ngClass"],[1,"message-data","mb-0","pl-0","d-flex","justify-content-between","align-items-center"],[1,"date"],[1,"message"],["class","seen",4,"ngIf"],[1,"seen"],[1,"seen-avatar",3,"src"],[1,"chat-message"],[1,"chat-form",3,"formGroup"],["formControlName","message","placeholder","Type your message",1,"flex-1","mx-3",3,"keyup","focus","keyup.enter"],[1,"icons"],["href",""],["src","assets/img/gif-24px.svg","alt",""],["src","assets/img/mood-24px.svg","alt",""],["src","assets/img/send-24px.svg","alt",""]],template:function(t,n){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Xb(3,"div",3),i.Xb(4,"div",4),i.Pc(5,x,5,0,"button",5),i.Wb(),i.Pc(6,w,11,7,"div",6),i.Wb(),i.Xb(7,"ul",7),i.Pc(8,S,4,7,"li",8),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",9),i.Pc(10,I,9,6,"div",10),i.Xb(11,"ul",11,12),i.Pc(13,j,6,4,"ng-container",13),i.Wb(),i.Xb(14,"small",14),i.Rc(15),i.Wb(),i.Pc(16,z,10,1,"div",15),i.Wb(),i.Wb()),2&t&&(i.Cb(1),i.Hb("responsive-list",n.isChatUsersListSize()),i.uc("hidden",n.isChatUsersListSize()&&n.activeUser),i.Cb(4),i.uc("ngIf",n.showBlockedUsers),i.Cb(1),i.uc("ngIf",n.filteredUsersMessages.length>0),i.Cb(2),i.uc("ngForOf",n.usersMessages),i.Cb(1),i.uc("hidden",n.isChatUsersListSize()&&!n.activeUser),i.Cb(1),i.uc("ngIf",n.activeUser),i.Cb(3),i.uc("ngForOf",null==n.selectedUserMessages?null:n.selectedUserMessages.messages),i.Cb(2),i.Sc(n.typingText),i.Cb(1),i.uc("ngIf",n.activeUser))},directives:[c.n,c.m,C.a,_.c,_.d,_.a,c.s,M.a,c.l,s.z,s.q,s.i,s.c,s.p,s.h],pipes:[f.a,P.a,O.a,c.f],styles:[".chat-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:100vh}.chat-wrap[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-size:cover;background-position:50%;background-repeat:no-repeat}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]{flex:0 0 316px;background:#f5f5f5}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dcdcdc;border-radius:4px}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#aeaeae}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .create-group-chat[_ngcontent-%COMP%]{padding:0 15px;margin:4px 0 16px;background:transparent;color:#18b587;font-size:16px;font-family:Muli-Bold}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .create-group-chat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:2px}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{max-height:600px;overflow-x:auto}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;display:flex;border-left:5px solid transparent;cursor:pointer;transition:all .3s ease}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{border-left:5px solid #18b587;background:#fff}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#18b587}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{border-left:5px solid #f53c6f;background:#fff}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f53c6f}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-right:22px}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-transform:capitalize;font-size:16px;font-weight:500;color:#545454}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:4px;display:block;font-size:14px;font-weight:300;color:#acacac}@media screen and (max-width:1029px){.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]{flex:1}}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{margin-left:32px;flex:1;min-width:350px;margin-top:-50px}@media (max-width:1111px){.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{margin-top:0;margin-left:0}}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dcdcdc;border-radius:4px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#aeaeae}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]{justify-content:space-between;background:#f5f5f5;padding:12px 16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%], .chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;align-items:center}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-right:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#18b587;font-size:16px;font-weight:500;text-transform:capitalize}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;align-items:center}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f53c6f}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]{overflow-x:auto;height:600px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:32px;padding-right:48px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.data-list[_ngcontent-%COMP%]{height:1px;margin:16px 0 32px;background:#c9c9c9;display:flex;align-items:center;justify-content:center}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.data-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;color:#c9c9c9;padding:0 32px;font-size:12px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.my-message[_ngcontent-%COMP%]{padding-right:8px;margin-left:48px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.my-message[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background:#18b587;color:#fff}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.my-message[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]{justify-content:flex-end}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px;padding-left:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-right:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#545454;font-size:16px;font-weight:500;margin-right:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:13px;font-weight:300;color:#545454}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background:#f5f5f5;color:#545454;font-weight:500;font-size:14px;line-height:21px;padding:16px;font-family:Muli-Light}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .seen[_ngcontent-%COMP%]{text-align:right}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .seen[_ngcontent-%COMP%]   .seen-avatar[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:20px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:space-between}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{background:#f5f5f5}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .chat-form[_ngcontent-%COMP%]{width:90%}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .chat-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:transparent}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:12px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin:0}@media screen and (max-width:1029px){.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{margin-left:0;margin-top:24px;min-width:100%}}.responsive-list[_ngcontent-%COMP%]{flex:0 0 100%!important}.responsive-list[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]{display:block}.my-message[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%], .my-message[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:none}.user-last-msg[_ngcontent-%COMP%]{width:98%}.right[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.left-group[_ngcontent-%COMP%]{display:flex}.seen-circle[_ngcontent-%COMP%]{background-color:transparent}.seen-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#18b587}.more-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent}.top-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-right:20px}.top-actions[_ngcontent-%COMP%]   .show-actions[_ngcontent-%COMP%]{background-color:#c9c9c9;padding:5px;border-radius:35px;width:30px;height:30px;color:#fff;margin-bottom:10px}.top-actions[_ngcontent-%COMP%]   .show-actions[_ngcontent-%COMP%]:hover{background-color:#18b587}.top-actions[_ngcontent-%COMP%]   #back-to-active-users[_ngcontent-%COMP%]{padding-left:10px}.top-actions[_ngcontent-%COMP%]   #back-to-active-users[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:unset;border:none}.top-actions[_ngcontent-%COMP%]   #back-to-active-users[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}"]}),L),N=e("FtGj"),Y=e("dJ++"),J=((B=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||B)},B.\u0275cmp=i.Lb({type:B,selectors:[["app-show-chat-group-members"]],decls:2,vars:0,template:function(t,n){1&t&&(i.Xb(0,"p"),i.Rc(1,"show-chat-group-members works!"),i.Wb())},styles:[""]}),B),V=e("5eHb"),D=e("0IaG"),H=e("kmnG"),q=e("A5z7"),K=e("qFsG"),E=e("/1cH"),$=e("FKr1"),Q=e("Qu3c"),Z=["chipsInput"],tt=["groupMessagesList"];function nt(t,n){if(1&t){var e=i.Yb();i.Xb(0,"li",11),i.jc("click",(function(){i.Ic(e);var t=n.$implicit;return i.nc().makeGroupActive(t)})),i.Sb(1,"img",12),i.oc(2,"getImgPath"),i.Xb(3,"div",13),i.Xb(4,"div",14),i.Rc(5),i.Wb(),i.Xb(6,"span"),i.Rc(7,"Lorem ipsum dolor sit amet"),i.Wb(),i.Wb(),i.Wb()}if(2&t){var o=n.$implicit,c=i.nc();i.Hb("active",o===c.selectedGroup)("unconfirmed",!c.ifConfirmedToJoinTheGroup(o)),i.Cb(1),i.uc("src",i.qc(2,6,o.avatar,"group_avatars"),i.Kc),i.Cb(4),i.Sc(o.name)}}function et(t,n){if(1&t){var e=i.Yb();i.Xb(0,"mat-chip",61),i.jc("removed",(function(){i.Ic(e);var t=n.$implicit;return i.nc(2).removeInputMember(t)})),i.Rc(1),i.Xb(2,"mat-icon",62),i.Rc(3,"cancel"),i.Wb(),i.Wb()}if(2&t){var o=n.$implicit;i.Cb(1),i.Tc(" ",o.first_name+" "+o.last_name," ")}}function ot(t,n){if(1&t&&(i.Xb(0,"mat-option",63),i.Rc(1),i.Wb()),2&t){var e=n.$implicit;i.uc("value",e),i.Cb(1),i.Tc(" ",e.first_name+" "+e.last_name," ")}}function ct(t,n){if(1&t){var e=i.Yb();i.Xb(0,"mat-icon",34),i.jc("click",(function(){i.Ic(e);var t=i.nc().$implicit;return i.nc(3).removeSavedMember(t.member_id)})),i.Rc(1,"cancel "),i.Wb()}}function at(t,n){if(1&t&&(i.Xb(0,"li",65),i.Sb(1,"img",66),i.oc(2,"getImgPath"),i.Pc(3,ct,2,0,"mat-icon",67),i.Sb(4,"div",68),i.Wb()),2&t){var e=n.$implicit,o=i.nc(3);i.Hb("pending",!e.confirmed),i.Cb(1),i.uc("matTooltip",e.member.name)("src",i.qc(2,6,e.member.avatar,"user_avatars"),i.Kc),i.Cb(2),i.uc("ngIf",e.member.id!==(null==o.selectedGroup?null:o.selectedGroup.creator_id)),i.Cb(1),i.uc("ngClass",o.getUserCurrentStatus(e)?"online":"offline")}}function it(t,n){if(1&t&&(i.Xb(0,"ul"),i.Pc(1,at,5,9,"li",64),i.Wb()),2&t){var e=i.nc(2);i.Cb(1),i.uc("ngForOf",e.groupMembers)}}function st(t,n){if(1&t){var e=i.Yb();i.Xb(0,"div",69),i.jc("click",(function(){return i.Ic(e),i.nc(2).removeGroup()})),i.Xb(1,"a"),i.Sb(2,"i",70),i.Wb(),i.Wb()}}function rt(t,n){if(1&t){var e=i.Yb();i.Xb(0,"button",71),i.jc("click",(function(){return i.Ic(e),i.nc(2).leaveGroup()})),i.Rc(1," Leave group "),i.Wb()}}function gt(t,n){if(1&t&&(i.Xb(0,"div",81),i.Sb(1,"img",82),i.oc(2,"getImgPath"),i.Wb()),2&t){var e=i.nc().$implicit,o=i.nc(3);i.Cb(1),i.uc("src",i.qc(2,1,o.getSeenAvatar(e),"user_avatars"),i.Kc)}}function pt(t,n){if(1&t&&(i.Vb(0),i.Xb(1,"li",73),i.Xb(2,"div",74),i.Xb(3,"div",75),i.Xb(4,"div",76),i.Sb(5,"img",77),i.oc(6,"getImgPath"),i.Wb(),i.Xb(7,"div",14),i.Rc(8),i.Wb(),i.Wb(),i.Xb(9,"div",78),i.Rc(10),i.oc(11,"date"),i.Wb(),i.Wb(),i.Xb(12,"div",79),i.Rc(13),i.Wb(),i.Pc(14,gt,3,4,"div",80),i.Wb(),i.Ub()),2&t){var e=n.$implicit,o=i.nc(3);i.Cb(1),i.uc("ngClass",o.getMessageClass(e.from_user)),i.Cb(4),i.uc("src",i.qc(6,6,e.from_user.avatar,"user_avatars"),i.Kc),i.Cb(3),i.Sc(e.from_user.first_name+" "+e.from_user.last_name),i.Cb(2),i.Sc(i.qc(11,9,e.created_at,"HH:mm")),i.Cb(3),i.Tc(" ",e.message," "),i.Cb(1),i.uc("ngIf",e.seen)}}function ut(t,n){if(1&t&&(i.Vb(0),i.Xb(1,"li",72),i.Xb(2,"span"),i.Rc(3),i.oc(4,"getDateText"),i.Wb(),i.Wb(),i.Pc(5,pt,15,12,"ng-container",52),i.Ub()),2&t){var e=n.$implicit;i.Cb(3),i.Sc(i.pc(4,2,e.key)),i.Cb(2),i.uc("ngForOf",e.value)}}function lt(t,n){if(1&t){var e=i.Yb();i.Xb(0,"div",15),i.Xb(1,"div",16),i.Xb(2,"form",17),i.Xb(3,"div",18),i.Xb(4,"div",19),i.Xb(5,"label",20),i.Sb(6,"img",12),i.oc(7,"getImgPath"),i.Wb(),i.Xb(8,"input",21),i.jc("change",(function(t){return i.Ic(e),i.nc().changeAvatar(t)})),i.Wb(),i.Xb(9,"div",22),i.Rc(10),i.Wb(),i.Wb(),i.Xb(11,"div",23),i.Xb(12,"div",24),i.Xb(13,"mat-form-field"),i.Xb(14,"mat-chip-list",25,26),i.Pc(16,et,4,1,"mat-chip",27),i.Sb(17,"input",28,29),i.Wb(),i.Xb(19,"mat-autocomplete",30,31),i.jc("optionSelected",(function(t){return i.Ic(e),i.nc().autoCompleteMemberSelected(t)})),i.Pc(21,ot,2,2,"mat-option",32),i.Wb(),i.Xb(22,"mat-hint",33),i.Rc(23,"Please press 'Enter' after the name"),i.Wb(),i.Wb(),i.Xb(24,"button",34),i.jc("click",(function(t){return i.Ic(e),i.nc().addMember(t)})),i.Rc(25,"Add"),i.Wb(),i.Wb(),i.Xb(26,"div",35),i.Pc(27,it,2,1,"ul",36),i.Xb(28,"a",37),i.jc("click",(function(){return i.Ic(e),i.nc().openAllMembersModal()})),i.Rc(29," Show more "),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",38),i.Xb(31,"button",39),i.jc("click",(function(){i.Ic(e);var t=i.nc();return t.showMembersInput=!t.showMembersInput})),i.Xb(32,"mat-icon"),i.Rc(33,"people"),i.Wb(),i.Wb(),i.Pc(34,st,3,0,"div",40),i.Xb(35,"button",41),i.Sb(36,"i",42),i.Wb(),i.Xb(37,"mat-menu",null,43),i.Xb(39,"button",44),i.Rc(40," Add members "),i.Wb(),i.Pc(41,rt,2,0,"button",45),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(42,"div",46),i.Xb(43,"p"),i.Rc(44,"Please accept or decline joining to the "),i.Xb(45,"strong"),i.Rc(46),i.Wb(),i.Rc(47," group"),i.Wb(),i.Xb(48,"div",47),i.Xb(49,"button",48),i.jc("click",(function(){return i.Ic(e),i.nc().acceptGroupJoin()})),i.Rc(50,"Accept"),i.Wb(),i.Xb(51,"button",49),i.jc("click",(function(){return i.Ic(e),i.nc().declineGroupJoin()})),i.Rc(52,"Decline"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(53,"ul",50,51),i.Pc(55,ut,6,4,"ng-container",52),i.Wb(),i.Xb(56,"div",53),i.Xb(57,"form",54),i.Xb(58,"input",55),i.jc("keyup",(function(){return i.Ic(e),i.nc().setTyping()}))("focus",(function(){return i.Ic(e),i.nc().setSeen()}))("keyup.enter",(function(t){return i.Ic(e),i.nc().sendMessage(t)})),i.Wb(),i.Wb(),i.Xb(59,"div",56),i.Xb(60,"a",57),i.Sb(61,"img",58),i.Wb(),i.Xb(62,"a",57),i.Sb(63,"img",59),i.Wb(),i.Xb(64,"a",57),i.Sb(65,"img",60),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){var o=i.Ec(15),c=i.Ec(20),a=i.Ec(38),s=i.nc();i.Cb(2),i.uc("formGroup",s.groupChatDetailsForm)("hidden",!s.selectedGroup||!s.ifConfirmedToJoinTheGroup(s.selectedGroup)),i.Cb(4),i.uc("src",i.qc(7,24,null==s.selectedGroup?null:s.selectedGroup.avatar,"group_avatars"),i.Kc),i.Cb(2),i.uc("hidden",!0),i.Cb(2),i.Sc(null==s.selectedGroup?null:s.selectedGroup.name),i.Cb(2),i.uc("hidden",!s.showMembersInput),i.Cb(4),i.uc("ngForOf",s.inputGroupMembers),i.Cb(1),i.uc("formControl",s.memberCtrl)("matChipInputFor",o)("matChipInputSeparatorKeyCodes",s.separatorKeysCodes)("matAutocomplete",c),i.Cb(4),i.uc("ngForOf",s.filteredContacts),i.Cb(5),i.uc("hidden",s.showMembersInput),i.Cb(1),i.uc("ngIf",s.groupMembers.length>0),i.Cb(4),i.uc("disableRipple",!0),i.Cb(3),i.uc("ngIf",s.authUser.id===(null==s.selectedGroup?null:s.selectedGroup.creator_id)),i.Cb(1),i.uc("matMenuTriggerFor",a)("disableRipple",!0),i.Cb(6),i.uc("ngIf",s.authUser.id!==(null==s.selectedGroup?null:s.selectedGroup.creator_id)),i.Cb(1),i.uc("hidden",!s.selectedGroup||s.ifConfirmedToJoinTheGroup(s.selectedGroup)),i.Cb(4),i.Sc(s.selectedGroup.name),i.Cb(9),i.uc("ngForOf",null==s.selectedGroupMessages?null:s.selectedGroupMessages.messages),i.Cb(1),i.uc("hidden",!s.selectedGroup),i.Cb(1),i.uc("formGroup",s.chatForm)}}var bt,ht=((bt=function(){function t(n,e,o,c,a,i){var r=this;_classCallCheck(this,t),this.fb=n,this.chatService=e,this.usersService=o,this.socketService=c,this.toastr=a,this.dialog=i,this.showGroupChatForm=!1,this.showMembersInput=!1,this.userContacts=[],this.groupMembers=[],this.socketGroupUsers=[],this.inputGroupMembers=[],this.filteredContacts=[],this.memberCtrl=new s.f,this.subscriptions=[],this.separatorKeysCodes=[N.g,N.c],this.groups=[],this.selectedGroupMessages={messages:[],group:{}},this.subscriptions.push(this.memberCtrl.valueChanges.subscribe((function(t){t&&(r.filteredContacts=r.userContacts.filter((function(n){var e=(n.first_name+" "+n.last_name).toLowerCase();return!!e.includes(t)&&!r.groupMembers.find((function(t){return t.member.name.toLowerCase()===e}))})))})))}return _createClass(t,[{key:"ngOnInit",value:function(){this.groupChatForm=this.fb.group({creator_id:[this.authUser.id],name:["",s.x.required]}),this.selectedGroup=this.groups[0],this.groupChatDetailsForm=this.fb.group({group_id:[""],member_ids:["",s.x.required]}),this.selectedGroup&&(this.groupChatDetailsForm.patchValue({group_id:this.selectedGroup.id}),this.getGroupMembers()),this.addUserToSocket(),this.getUserContacts(),this.getGroupJoinInvitation(),this.getChatNotifications(),this.initForm()}},{key:"addUserToSocket",value:function(){this.socketService.addNewUser(Object.assign(Object.assign({},this.authUser),{group:!0}))}},{key:"initForm",value:function(){var t,n;this.chatForm=this.fb.group({from:[this.authUser.username],from_id:[this.authUser.id],to_id:[null===(t=this.selectedGroup)||void 0===t?void 0:t.id],avatar:[null===(n=this.authUser)||void 0===n?void 0:n.avatar],from_user:[this.authUser],to_user:[null],to_group:[this.selectedGroup],message:["",s.x.required],personal:[1]})}},{key:"getUserContacts",value:function(){var t=this;this.subscriptions.push(this.usersService.getUserContacts({user_id:this.authUser.id,blocked:0}).subscribe((function(n){t.userContacts=n})))}},{key:"getGroupMembers",value:function(){var t=this;this.subscriptions.push(this.chatService.getGroupMembers({group_id:this.selectedGroup.id}).subscribe((function(n){t.groupMembers=n})))}},{key:"isChatUsersListSize",value:function(){return h.a.isChatUsersListSize()}},{key:"makeGroupActive",value:function(t){this.selectedGroup=t,this.groupChatDetailsForm.patchValue({group_id:this.selectedGroup.id}),this.getGroupMembers(),console.log(this.socketGroupUsers)}},{key:"addGroup",value:function(){var t=this;this.groupChatForm.valid&&this.subscriptions.push(this.chatService.addGroup(this.groupChatForm.value).subscribe((function(n){t.groups=n,t.socketService.setNewGroup(t.groupChatForm.value),t.groupChatForm.patchValue({name:""})})))}},{key:"changeAvatar",value:function(t){var n=this,e=t.target.files[0],o=new FormData;o.append("avatar",e.name),o.append("group_id",this.selectedGroup.id),o.append("member_id",this.authUser.id),o.append("group_avatar_file",e),this.subscriptions.push(this.chatService.changeGroupAvatar(o).subscribe((function(t){n.groups=t,n.selectedGroup=n.groups.find((function(t){return n.selectedGroup.id===t.id}))})))}},{key:"removeInputMember",value:function(t){var n=this.inputGroupMembers.indexOf(t);n>=0&&(this.inputGroupMembers.splice(n,1),this.groupChatDetailsForm.patchValue({member_ids:this.inputGroupMembers}))}},{key:"removeSavedMember",value:function(t){var n=this;this.subscriptions.push(this.dialog.open(Y.a).afterClosed().subscribe((function(e){e&&n.chatService.removeGroupMember({group_id:n.selectedGroup.id,member_id:t}).subscribe((function(t){n.groupMembers=t}))})))}},{key:"removeGroup",value:function(){var t=this;this.subscriptions.push(this.dialog.open(Y.a).afterClosed().subscribe((function(n){n&&t.chatService.removeGroup({group_id:t.selectedGroup.id}).subscribe((function(n){t.groups=n}))})))}},{key:"autoCompleteMemberSelected",value:function(t){var n=t.option.value;this.inputGroupMembers.find((function(t){return t.id===n}))||(this.inputGroupMembers.push(t.option.value),console.log(this.inputGroupMembers),this.groupChatDetailsForm.patchValue({member_ids:this.inputGroupMembers})),this.chipsInput.nativeElement.value="",this.memberCtrl.setValue("")}},{key:"addMember",value:function(t){var n=this;this.chipsInput.nativeElement.value="",this.memberCtrl.setValue(""),this.subscriptions.push(this.chatService.addGroupMembers(this.groupChatDetailsForm.value).subscribe((function(t){n.groupMembers=t,n.socketService.inviteToNewGroup({members:n.inputGroupMembers,group_id:n.selectedGroup.id}),n.inputGroupMembers=[]})))}},{key:"leaveGroup",value:function(){var t=this;this.subscriptions.push(this.dialog.open(Y.a).afterClosed().subscribe((function(n){n&&t.chatService.leaveGroup({member_id:t.authUser.id,group_id:t.selectedGroup.id}).subscribe((function(n){t.groups=n,t.selectedGroup=null}))})))}},{key:"openAllMembersModal",value:function(){this.subscriptions.push(this.dialog.open(J,{width:"300px",height:"400px"}).afterClosed().subscribe((function(t){})))}},{key:"ifConfirmedToJoinTheGroup",value:function(t){var n=this;return null==t?void 0:t.chat_group_members.find((function(t){return t.id===n.authUser.id&&t.chat_groups_members.confirmed}))}},{key:"getGroupJoinInvitation",value:function(){var t=this;this.socketService.inviteToGroupSent().subscribe((function(n){t.chatService.getChatGroups({user_id:t.authUser.id}).subscribe((function(e){t.groups=e,t.selectedGroup=t.groups.find((function(t){return n.group_id===t.id}))}))}))}},{key:"getChatNotifications",value:function(){var t=this;this.socketService.getChatNotifications().subscribe((function(n){t.socketGroupUsers=n.groupUsers,n.group===t.selectedGroup.name&&n.username!==t.authUser.username&&(t.toastr.info(n.msg),t.getGroupMembers())}))}},{key:"getUserCurrentStatus",value:function(t){var n=t.group.name;return!(!this.socketGroupUsers||n!==this.selectedGroup.name||!this.socketGroupUsers.find((function(e){return e.group===n&&t.member.username===e.username})))}},{key:"acceptGroupJoin",value:function(){var t=this;this.subscriptions.push(this.chatService.acceptGroupJoin({group_id:this.selectedGroup.id,member_id:this.authUser.id}).subscribe((function(n){t.groups=n,t.selectedGroup=t.groups.find((function(n){return t.selectedGroup.id===n.id})),t.socketService.acceptJoinToGroup({group:t.selectedGroup.name,username:t.authUser.username})})))}},{key:"declineGroupJoin",value:function(){var t=this;this.subscriptions.push(this.chatService.declineGroupJoin({group_id:this.selectedGroup.id,member_id:this.authUser.id}).subscribe((function(n){t.groups=n,t.selectedGroup=t.groups.find((function(n){return t.selectedGroup.id===n.id}))})))}},{key:"getSocketRoomUsers",value:function(){this.socketService.acceptJoinToGroup({group:this.selectedGroup.name,username:this.authUser.username})}},{key:"sendMessage",value:function(t){var n=this;if(this.chatForm.valid){var e=Object.assign({},this.chatForm.value);this.chatService.saveMessage(e).subscribe((function(t){n.socketService.sendMessage(e),n.scrollMsgsToBottom()})),this.chatForm.patchValue({message:""})}}},{key:"scrollMsgsToBottom",value:function(){try{this.messagesList.nativeElement.scrollTop=this.messagesList.nativeElement.scrollHeight}catch(t){console.log(t)}}},{key:"getMessageClass",value:function(t){return t.id===this.authUser.id?"my-message":"other-message"}},{key:"getSeenAvatar",value:function(t){return t.from_user.id!==this.authUser.id?t.from_user.avatar:t.to_user.id!==this.authUser.id?t.to_user.avatar:void 0}},{key:"setSeen",value:function(){}},{key:"setTyping",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||bt)(i.Rb(s.e),i.Rb(g.a),i.Rb(m.a),i.Rb(u.a),i.Rb(V.b),i.Rb(D.b))},bt.\u0275cmp=i.Lb({type:bt,selectors:[["app-group-chat"]],viewQuery:function(t,n){var e;1&t&&(i.Wc(Z,!0),i.Wc(tt,!0)),2&t&&(i.Dc(e=i.kc())&&(n.chipsInput=e.first),i.Dc(e=i.kc())&&(n.messagesList=e.first))},inputs:{groups:"groups",authUser:"authUser"},decls:17,vars:8,consts:[[1,"chat-wrap"],[1,"people-groups-container",3,"hidden"],["id","groups-list",1,"list-wrap"],[1,"create-group-chat",3,"hidden","click"],["src","assets/img/noun_create.png","alt",""],["id","group-chat-form",3,"formGroup","hidden"],["formControlName","name","placeholder","Group name"],["mat-icon-button","",3,"click"],[1,"list"],["class","list-chat-group",3,"active","unconfirmed","click",4,"ngFor","ngForOf"],["class","chat",4,"ngIf"],[1,"list-chat-group",3,"click"],[1,"img",3,"src"],[1,"text"],[1,"name"],[1,"chat"],[1,"chat-top"],[3,"formGroup","hidden"],[1,"chat-about"],[1,"left"],["for","group-avatar-input"],["id","group-avatar-input","type","file",3,"hidden","change"],[1,"group-name"],[1,"center"],[1,"member-add",3,"hidden"],["aria-label","Fruit selection","formControlName","member_ids"],["tagList",""],[3,"removed",4,"ngFor","ngForOf"],["type","text","placeholder","Member name from your contacts","matInput","","maxlength","10",3,"formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matAutocomplete"],["chipsInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[3,"click"],[1,"members-list",3,"hidden"],[4,"ngIf"],["id","show-more-members",3,"click"],[1,"right"],["mat-icon-button","",3,"disableRipple","click"],["class","remove",3,"click",4,"ngIf"],["mat-icon-button","",1,"dotes",3,"matMenuTriggerFor","disableRipple"],[1,"fas","fa-ellipsis-v"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click",4,"ngIf"],[1,"confirm-joining-group",3,"hidden"],[1,"actions"],[1,"accept-btn",3,"click"],[1,"decline-btn",3,"click"],["id","direct-messages",1,"chat-history"],["directMessagesList",""],[4,"ngFor","ngForOf"],[1,"chat-message",3,"hidden"],[1,"chat-form",3,"formGroup"],["formControlName","message","placeholder","Type your message",1,"flex-1","mx-3",3,"keyup","focus","keyup.enter"],[1,"icons"],["href",""],["src","assets/img/gif-24px.svg","alt",""],["src","assets/img/mood-24px.svg","alt",""],["src","assets/img/send-24px.svg","alt",""],[3,"removed"],["matChipRemove",""],[3,"value"],["class","group-member",3,"pending",4,"ngFor","ngForOf"],[1,"group-member"],[1,"avatar",3,"matTooltip","src"],[3,"click",4,"ngIf"],[1,"status",3,"ngClass"],[1,"remove",3,"click"],[1,"fas","fa-trash"],["mat-menu-item","",3,"click"],[1,"data-list"],[1,"message-container",3,"ngClass"],[1,"message-data","mb-0","pl-0","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"img"],[1,"avatar",3,"src"],[1,"date"],[1,"message"],["class","seen",4,"ngIf"],[1,"seen"],[1,"seen-avatar",3,"src"]],template:function(t,n){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Xb(3,"button",3),i.jc("click",(function(){return n.showGroupChatForm=!0})),i.Sb(4,"img",4),i.Rc(5," Create new group chat "),i.Wb(),i.Xb(6,"form",5),i.Sb(7,"input",6),i.Xb(8,"button",7),i.jc("click",(function(){return n.addGroup()})),i.Xb(9,"mat-icon"),i.Rc(10,"done"),i.Wb(),i.Wb(),i.Xb(11,"button",7),i.jc("click",(function(){return n.showGroupChatForm=!1})),i.Xb(12,"mat-icon"),i.Rc(13,"close"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"ul",8),i.Pc(15,nt,8,9,"li",9),i.Wb(),i.Wb(),i.Wb(),i.Pc(16,lt,66,27,"div",10),i.Wb()),2&t&&(i.Cb(1),i.Hb("responsive-list",n.isChatUsersListSize()),i.uc("hidden",n.isChatUsersListSize()),i.Cb(2),i.uc("hidden",n.showGroupChatForm),i.Cb(3),i.uc("formGroup",n.groupChatForm)("hidden",!n.showGroupChatForm),i.Cb(9),i.uc("ngForOf",n.groups),i.Cb(1),i.uc("ngIf",n.selectedGroup))},directives:[s.z,s.q,s.i,s.c,s.p,s.h,M.a,C.a,c.m,c.n,H.c,q.c,K.b,q.b,E.c,s.l,s.g,E.a,H.f,_.c,_.d,_.a,q.a,q.d,$.n,Q.a,c.l],pipes:[f.a,O.a,c.f],styles:[".chat-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:100vh}.chat-wrap[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-size:cover;background-position:50%;background-repeat:no-repeat}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]{flex:0 0 316px;background:#f5f5f5}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dcdcdc;border-radius:4px}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#aeaeae}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .create-group-chat[_ngcontent-%COMP%]{padding:0 15px;margin:4px 0 16px;background:transparent;color:#18b587;font-size:16px;font-family:Muli-Bold}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .create-group-chat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:2px}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{max-height:600px;overflow-x:auto}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;display:flex;border-left:5px solid transparent;cursor:pointer;transition:all .3s ease}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{border-left:5px solid #18b587;background:#fff}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#18b587}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{border-left:5px solid #f53c6f;background:#fff}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f53c6f}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-right:22px}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-transform:capitalize;font-size:16px;font-weight:500;color:#545454}.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:4px;display:block;font-size:14px;font-weight:300;color:#acacac}@media screen and (max-width:1029px){.chat-wrap[_ngcontent-%COMP%]   .people-groups-container[_ngcontent-%COMP%]{flex:1}}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{margin-left:32px;flex:1;min-width:350px;margin-top:-50px}@media (max-width:1111px){.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{margin-top:0;margin-left:0}}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dcdcdc;border-radius:4px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#aeaeae}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]{justify-content:space-between;background:#f5f5f5;padding:12px 16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%], .chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;align-items:center}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-right:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#18b587;font-size:16px;font-weight:500;text-transform:capitalize}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;align-items:center}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f53c6f}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-about[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]{overflow-x:auto;height:600px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:32px;padding-right:48px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.data-list[_ngcontent-%COMP%]{height:1px;margin:16px 0 32px;background:#c9c9c9;display:flex;align-items:center;justify-content:center}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.data-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;color:#c9c9c9;padding:0 32px;font-size:12px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.my-message[_ngcontent-%COMP%]{padding-right:8px;margin-left:48px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.my-message[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background:#18b587;color:#fff}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li.my-message[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]{justify-content:flex-end}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px;padding-left:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-right:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#545454;font-size:16px;font-weight:500;margin-right:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-data[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:13px;font-weight:300;color:#545454}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background:#f5f5f5;color:#545454;font-weight:500;font-size:14px;line-height:21px;padding:16px;font-family:Muli-Light}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .seen[_ngcontent-%COMP%]{text-align:right}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .seen[_ngcontent-%COMP%]   .seen-avatar[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:20px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:space-between}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{background:#f5f5f5}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .chat-form[_ngcontent-%COMP%]{width:90%}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .chat-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:transparent}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:16px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:12px}.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin:0}@media screen and (max-width:1029px){.chat-wrap[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{margin-left:0;margin-top:24px;min-width:100%}}.responsive-list[_ngcontent-%COMP%]{flex:0 0 100%!important}.responsive-list[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]{display:block}.my-message[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%], .my-message[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:none}.list-chat-group.unconfirmed[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3)!important}.chat-top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#f5f5f5;padding:12px 16px}.chat-top[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.chat-top[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-top:20px}.chat-top[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#18b587;background-color:#18b587}.chat-top[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%], .chat-top[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out}.chat-top[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#18b587;background-color:#f53c6f}.center[_ngcontent-%COMP%]{width:50%;display:flex}.center[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:70%;padding:5px}.center[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{display:flex;align-items:center}.center[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:horizontal;overflow:hidden}.center[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   #show-more-members[_ngcontent-%COMP%]{width:110px;color:#18b587;margin-left:10px}.center[_ngcontent-%COMP%]   .member-add[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.center[_ngcontent-%COMP%]   .member-add[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:119px;height:36px;padding:15px 32px;color:#fff!important;font-size:16px;font-family:Muli-Light;display:flex;justify-content:center;align-items:center;transition:.3s ease-in-out;background:#18b587;width:50px}#group-chat-form[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}#group-chat-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px;margin-left:25px}#group-chat-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{font-size:14px;color:#c9c9c9;font-family:Muli-Light}#group-chat-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:14px;color:#c9c9c9;font-family:Muli-Light}.group-member[_ngcontent-%COMP%]{position:relative;width:42px;border-radius:42px;margin-left:5px}.group-member[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{position:absolute;width:14px;height:14px;border-radius:14px;top:28px;right:0;padding:0;line-height:0}.group-member[_ngcontent-%COMP%]   .status.offline[_ngcontent-%COMP%]{background-color:grey}.group-member[_ngcontent-%COMP%]   .status.online[_ngcontent-%COMP%]{background-color:#18b587}.group-member.pending[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5)}.group-member.pending[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}.group-member[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);margin-left:auto;margin-right:auto;display:none;cursor:pointer}.group-member[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.5)}.group-member[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}.group-member[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.5}"]}),bt);function dt(t,n){if(1&t&&i.Sb(0,"app-direct-chat",5),2&t){var e=i.nc(2);i.uc("authUser",e.authUser)}}function mt(t,n){if(1&t&&i.Sb(0,"app-group-chat",6),2&t){var e=i.nc(2);i.uc("groups",e.chatGroups)("authUser",e.authUser)}}function Ct(t,n){if(1&t){var e=i.Yb();i.Xb(0,"div"),i.Xb(1,"div",1),i.Xb(2,"button",2),i.jc("click",(function(){return i.Ic(e),i.nc().changeTab("direct")})),i.Rc(3,"Chat"),i.Wb(),i.Xb(4,"button",2),i.jc("click",(function(){return i.Ic(e),i.nc().changeTab("group")})),i.Rc(5,"Group Chat"),i.Wb(),i.Wb(),i.Pc(6,dt,1,1,"app-direct-chat",3),i.Pc(7,mt,1,2,"app-group-chat",4),i.Wb()}if(2&t){var o=i.nc();i.Cb(2),i.Hb("active","direct"==o.activeTab),i.Cb(2),i.Hb("active","group"==o.activeTab),i.Cb(2),i.uc("ngIf","direct"===o.activeTab&&o.authUser),i.Cb(1),i.uc("ngIf","group"==o.activeTab&&o.groupsLoaded&&o.authUser)}}var _t,Mt,ft,Pt=[{path:"rooms",component:r,data:{title:"Chat rooms"}},{path:"messages",component:(_t=function(){function t(n,e,o,c,a,i){_classCallCheck(this,t),this.chatService=n,this.getAuthUser=e,this.socketService=o,this.datePipe=c,this.groupBy=a,this.fb=i,this.activeTab="direct",this.chatGroups=[],this.groupsLoaded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.authUser=this.getAuthUser.transform(),this.authUser&&this.getGroups()}},{key:"changeTab",value:function(t){this.activeTab=t}},{key:"getGroups",value:function(){var t=this;this.chatService.getChatGroups({user_id:this.authUser.id}).subscribe((function(n){t.groupsLoaded=!0,t.chatGroups=n}))}}]),t}(),_t.\u0275fac=function(t){return new(t||_t)(i.Rb(g.a),i.Rb(p.a),i.Rb(u.a),i.Rb(c.f),i.Rb(l.a),i.Rb(s.e))},_t.\u0275cmp=i.Lb({type:_t,selectors:[["app-show-messages"]],decls:2,vars:1,consts:[[4,"ngIf"],[1,"tab-wrap"],[1,"tab",3,"click"],[3,"authUser",4,"ngIf"],[3,"groups","authUser",4,"ngIf"],[3,"authUser"],[3,"groups","authUser"]],template:function(t,n){1&t&&(i.Sb(0,"app-user-tags"),i.Pc(1,Ct,8,6,"div",0)),2&t&&(i.Cb(1),i.uc("ngIf",n.authUser))},directives:[b.a,c.n,A,ht],styles:[".categories[_ngcontent-%COMP%]{display:flex;padding-bottom:10px;flex-wrap:wrap;border-bottom:.5px solid #e2e2e2;margin-bottom:24px}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:2px;margin-bottom:8px;width:-webkit-max-content;width:-moz-max-content;width:max-content}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:22px;border-radius:11px;padding:2px 11px;display:flex;justify-content:center;align-items:center;background:#eee;transition:.3s ease-in-out;color:#545454!important;font-size:14px;font-family:Muli-Regular;cursor:pointer}.categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f53c6f;color:#fff!important;cursor:pointer}.categories.border-none[_ngcontent-%COMP%]{border:0;margin:0}.tab-wrap[_ngcontent-%COMP%]{display:flex;padding-bottom:16px;width:100%;max-width:317px;background-color:#f5f5f5}.tab-wrap[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex:1;padding:6px 16px;font-size:16px;font-weight:500;background:#c9c9c9;color:#fff;text-align:left;transition:all .3s ease}.tab-wrap[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#f53c6f}.tab-wrap[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{background:#18b587;color:#fff}@media (max-width:1111px){.tab-wrap[_ngcontent-%COMP%]{max-width:100%;padding-bottom:0}}"]}),_t),data:{title:"Chat"}}],Ot=((Mt=function t(){_classCallCheck(this,t)}).\u0275mod=i.Pb({type:Mt}),Mt.\u0275inj=i.Ob({factory:function(t){return new(t||Mt)},imports:[[a.f.forChild(Pt)],a.f]}),Mt),vt=e("PCNd"),xt=((ft=function t(){_classCallCheck(this,t)}).\u0275mod=i.Pb({type:ft}),ft.\u0275inj=i.Ob({factory:function(t){return new(t||ft)},imports:[[c.c,Ot,vt.a]]}),ft)}}]);